var iO=Object.defineProperty;var rO=(t,e,i)=>e in t?iO(t,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[e]=i;var it=(t,e,i)=>(rO(t,typeof e!="symbol"?e+"":e,i),i);import{d as xi,o as It,c as xe,e as z,t as ta,i as Ef,p as XM,j as UM,h as vc,k as Me,s as HM,l as Lm,m as nO,w as al,n as qM,q as Tg,v as sO,x as KM,y as pr,z as Ht,A as Et,B as aO,g as Ft,C as me,D as on,E as ea,F as lo,a as st,T as $m,G as Om,H as Im,I as uo,J as JM,K as jM,L as oO,M as zl,N as Nl,O as lx,P as hO,Q as lO,R as uO}from"./index.245558d3.js";const ZM=t=>(XM("data-v-1022f82d"),t=t(),UM(),t),fO={class:"window"},cO={class:"window__top-bar"},dO=ZM(()=>z("button",{class:"window-ball-btn"},null,-1)),vO=["textContent"],pO=ZM(()=>z("button",{class:"window-ball-btn ml-auto"},null,-1)),gO={class:"window__content relative overflow-hidden"},mO={class:"relative"},yO={class:"window__footer relative"},xO={class:"relative"},_O={class:"window__status-wrap p-1"},TO=xi({__name:"WindowLayout",props:{title:String},setup(t){return(e,i)=>(It(),xe("div",fO,[z("div",cO,[dO,z("span",{class:"relative flex pl-2 text-xs leading-5 text-black",textContent:ta(t.title)},null,8,vO),pO]),z("div",gO,[z("div",mO,[Ef(e.$slots,"content",{},void 0,!0)]),z("div",yO,[z("div",xO,[Ef(e.$slots,"footer",{},void 0,!0)])])]),z("div",_O,[Ef(e.$slots,"status",{},void 0,!0)])]))}});const pc=vc(TO,[["__scopeId","data-v-1022f82d"]]);/*!
 * @kurkle/color v0.3.1
 * https://github.com/kurkle/color#readme
 * (c) 2022 Jukka Kurkela
 * Released under the MIT License
 */function ol(t){return t+.5|0}const as=(t,e,i)=>Math.max(Math.min(t,i),e);function Lh(t){return as(ol(t*2.55),0,255)}function us(t){return as(ol(t*255),0,255)}function hn(t){return as(ol(t/2.55)/100,0,1)}function ux(t){return as(ol(t*100),0,100)}const bi={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},wg=[..."0123456789ABCDEF"],wO=t=>wg[t&15],SO=t=>wg[(t&240)>>4]+wg[t&15],Yl=t=>(t&240)>>4===(t&15),CO=t=>Yl(t.r)&&Yl(t.g)&&Yl(t.b)&&Yl(t.a);function bO(t){var e=t.length,i;return t[0]==="#"&&(e===4||e===5?i={r:255&bi[t[1]]*17,g:255&bi[t[2]]*17,b:255&bi[t[3]]*17,a:e===5?bi[t[4]]*17:255}:(e===7||e===9)&&(i={r:bi[t[1]]<<4|bi[t[2]],g:bi[t[3]]<<4|bi[t[4]],b:bi[t[5]]<<4|bi[t[6]],a:e===9?bi[t[7]]<<4|bi[t[8]]:255})),i}const MO=(t,e)=>t<255?e(t):"";function PO(t){var e=CO(t)?wO:SO;return t?"#"+e(t.r)+e(t.g)+e(t.b)+MO(t.a,e):void 0}const AO=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function QM(t,e,i){const r=e*Math.min(i,1-i),n=(s,a=(s+t/30)%12)=>i-r*Math.max(Math.min(a-3,9-a,1),-1);return[n(0),n(8),n(4)]}function RO(t,e,i){const r=(n,s=(n+t/60)%6)=>i-i*e*Math.max(Math.min(s,4-s,1),0);return[r(5),r(3),r(1)]}function FO(t,e,i){const r=QM(t,1,.5);let n;for(e+i>1&&(n=1/(e+i),e*=n,i*=n),n=0;n<3;n++)r[n]*=1-e-i,r[n]+=e;return r}function EO(t,e,i,r,n){return t===n?(e-i)/r+(e<i?6:0):e===n?(i-t)/r+2:(t-e)/r+4}function Dm(t){const i=t.r/255,r=t.g/255,n=t.b/255,s=Math.max(i,r,n),a=Math.min(i,r,n),o=(s+a)/2;let h,l,u;return s!==a&&(u=s-a,l=o>.5?u/(2-s-a):u/(s+a),h=EO(i,r,n,u,s),h=h*60+.5),[h|0,l||0,o]}function Bm(t,e,i,r){return(Array.isArray(e)?t(e[0],e[1],e[2]):t(e,i,r)).map(us)}function km(t,e,i){return Bm(QM,t,e,i)}function LO(t,e,i){return Bm(FO,t,e,i)}function $O(t,e,i){return Bm(RO,t,e,i)}function tP(t){return(t%360+360)%360}function OO(t){const e=AO.exec(t);let i=255,r;if(!e)return;e[5]!==r&&(i=e[6]?Lh(+e[5]):us(+e[5]));const n=tP(+e[2]),s=+e[3]/100,a=+e[4]/100;return e[1]==="hwb"?r=LO(n,s,a):e[1]==="hsv"?r=$O(n,s,a):r=km(n,s,a),{r:r[0],g:r[1],b:r[2],a:i}}function IO(t,e){var i=Dm(t);i[0]=tP(i[0]+e),i=km(i),t.r=i[0],t.g=i[1],t.b=i[2]}function DO(t){if(!t)return;const e=Dm(t),i=e[0],r=ux(e[1]),n=ux(e[2]);return t.a<255?`hsla(${i}, ${r}%, ${n}%, ${hn(t.a)})`:`hsl(${i}, ${r}%, ${n}%)`}const fx={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},cx={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function BO(){const t={},e=Object.keys(cx),i=Object.keys(fx);let r,n,s,a,o;for(r=0;r<e.length;r++){for(a=o=e[r],n=0;n<i.length;n++)s=i[n],o=o.replace(s,fx[s]);s=parseInt(cx[a],16),t[o]=[s>>16&255,s>>8&255,s&255]}return t}let Vl;function kO(t){Vl||(Vl=BO(),Vl.transparent=[0,0,0,0]);const e=Vl[t.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const GO=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function zO(t){const e=GO.exec(t);let i=255,r,n,s;if(!!e){if(e[7]!==r){const a=+e[7];i=e[8]?Lh(a):as(a*255,0,255)}return r=+e[1],n=+e[3],s=+e[5],r=255&(e[2]?Lh(r):as(r,0,255)),n=255&(e[4]?Lh(n):as(n,0,255)),s=255&(e[6]?Lh(s):as(s,0,255)),{r,g:n,b:s,a:i}}}function NO(t){return t&&(t.a<255?`rgba(${t.r}, ${t.g}, ${t.b}, ${hn(t.a)})`:`rgb(${t.r}, ${t.g}, ${t.b})`)}const ud=t=>t<=.0031308?t*12.92:Math.pow(t,1/2.4)*1.055-.055,Pa=t=>t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4);function YO(t,e,i){const r=Pa(hn(t.r)),n=Pa(hn(t.g)),s=Pa(hn(t.b));return{r:us(ud(r+i*(Pa(hn(e.r))-r))),g:us(ud(n+i*(Pa(hn(e.g))-n))),b:us(ud(s+i*(Pa(hn(e.b))-s))),a:t.a+i*(e.a-t.a)}}function Wl(t,e,i){if(t){let r=Dm(t);r[e]=Math.max(0,Math.min(r[e]+r[e]*i,e===0?360:1)),r=km(r),t.r=r[0],t.g=r[1],t.b=r[2]}}function eP(t,e){return t&&Object.assign(e||{},t)}function dx(t){var e={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(e={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(e.a=us(t[3]))):(e=eP(t,{r:0,g:0,b:0,a:1}),e.a=us(e.a)),e}function VO(t){return t.charAt(0)==="r"?zO(t):OO(t)}class qh{constructor(e){if(e instanceof qh)return e;const i=typeof e;let r;i==="object"?r=dx(e):i==="string"&&(r=bO(e)||kO(e)||VO(e)),this._rgb=r,this._valid=!!r}get valid(){return this._valid}get rgb(){var e=eP(this._rgb);return e&&(e.a=hn(e.a)),e}set rgb(e){this._rgb=dx(e)}rgbString(){return this._valid?NO(this._rgb):void 0}hexString(){return this._valid?PO(this._rgb):void 0}hslString(){return this._valid?DO(this._rgb):void 0}mix(e,i){if(e){const r=this.rgb,n=e.rgb;let s;const a=i===s?.5:i,o=2*a-1,h=r.a-n.a,l=((o*h===-1?o:(o+h)/(1+o*h))+1)/2;s=1-l,r.r=255&l*r.r+s*n.r+.5,r.g=255&l*r.g+s*n.g+.5,r.b=255&l*r.b+s*n.b+.5,r.a=a*r.a+(1-a)*n.a,this.rgb=r}return this}interpolate(e,i){return e&&(this._rgb=YO(this._rgb,e._rgb,i)),this}clone(){return new qh(this.rgb)}alpha(e){return this._rgb.a=us(e),this}clearer(e){const i=this._rgb;return i.a*=1-e,this}greyscale(){const e=this._rgb,i=ol(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=i,this}opaquer(e){const i=this._rgb;return i.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return Wl(this._rgb,2,e),this}darken(e){return Wl(this._rgb,2,-e),this}saturate(e){return Wl(this._rgb,1,e),this}desaturate(e){return Wl(this._rgb,1,-e),this}rotate(e){return IO(this._rgb,e),this}}/*!
 * Chart.js v4.1.1
 * https://www.chartjs.org
 * (c) 2022 Chart.js Contributors
 * Released under the MIT License
 */function Ur(){}const WO=(()=>{let t=0;return()=>t++})();function St(t){return t===null||typeof t>"u"}function Yt(t){if(Array.isArray&&Array.isArray(t))return!0;const e=Object.prototype.toString.call(t);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function pt(t){return t!==null&&Object.prototype.toString.call(t)==="[object Object]"}function ye(t){return(typeof t=="number"||t instanceof Number)&&isFinite(+t)}function mi(t,e){return ye(t)?t:e}function mt(t,e){return typeof t>"u"?e:t}const XO=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100*e:+t;function Rt(t,e,i){if(t&&typeof t.call=="function")return t.apply(i,e)}function _t(t,e,i,r){let n,s,a;if(Yt(t))if(s=t.length,r)for(n=s-1;n>=0;n--)e.call(i,t[n],n);else for(n=0;n<s;n++)e.call(i,t[n],n);else if(pt(t))for(a=Object.keys(t),s=a.length,n=0;n<s;n++)e.call(i,t[a[n]],a[n])}function Hf(t,e){let i,r,n,s;if(!t||!e||t.length!==e.length)return!1;for(i=0,r=t.length;i<r;++i)if(n=t[i],s=e[i],n.datasetIndex!==s.datasetIndex||n.index!==s.index)return!1;return!0}function qf(t){if(Yt(t))return t.map(qf);if(pt(t)){const e=Object.create(null),i=Object.keys(t),r=i.length;let n=0;for(;n<r;++n)e[i[n]]=qf(t[i[n]]);return e}return t}function iP(t){return["__proto__","prototype","constructor"].indexOf(t)===-1}function UO(t,e,i,r){if(!iP(t))return;const n=e[t],s=i[t];pt(n)&&pt(s)?Kh(n,s,r):e[t]=qf(s)}function Kh(t,e,i){const r=Yt(e)?e:[e],n=r.length;if(!pt(t))return t;i=i||{};const s=i.merger||UO;let a;for(let o=0;o<n;++o){if(a=r[o],!pt(a))continue;const h=Object.keys(a);for(let l=0,u=h.length;l<u;++l)s(h[l],t,a,i)}return t}function Gh(t,e){return Kh(t,e,{merger:HO})}function HO(t,e,i){if(!iP(t))return;const r=e[t],n=i[t];pt(r)&&pt(n)?Gh(r,n):Object.prototype.hasOwnProperty.call(e,t)||(e[t]=qf(n))}const vx={"":t=>t,x:t=>t.x,y:t=>t.y};function qO(t){const e=t.split("."),i=[];let r="";for(const n of e)r+=n,r.endsWith("\\")?r=r.slice(0,-1)+".":(i.push(r),r="");return i}function KO(t){const e=qO(t);return i=>{for(const r of e){if(r==="")break;i=i&&i[r]}return i}}function vo(t,e){return(vx[e]||(vx[e]=KO(e)))(t)}function Gm(t){return t.charAt(0).toUpperCase()+t.slice(1)}const Ki=t=>typeof t<"u",gs=t=>typeof t=="function",px=(t,e)=>{if(t.size!==e.size)return!1;for(const i of t)if(!e.has(i))return!1;return!0};function JO(t){return t.type==="mouseup"||t.type==="click"||t.type==="contextmenu"}const Pe=Math.PI,Ir=2*Pe,Kf=Number.POSITIVE_INFINITY,jO=Pe/180,fi=Pe/2,Rs=Pe/4,gx=Pe*2/3,os=Math.log10,fs=Math.sign;function Lf(t,e,i){return Math.abs(t-e)<i}function mx(t){const e=Math.round(t);t=Lf(t,e,t/1e3)?e:t;const i=Math.pow(10,Math.floor(os(t))),r=t/i;return(r<=1?1:r<=2?2:r<=5?5:10)*i}function ZO(t){const e=[],i=Math.sqrt(t);let r;for(r=1;r<i;r++)t%r===0&&(e.push(r),e.push(t/r));return i===(i|0)&&e.push(i),e.sort((n,s)=>n-s).pop(),e}function Jf(t){return!isNaN(parseFloat(t))&&isFinite(t)}function QO(t,e){const i=Math.round(t);return i-e<=t&&i+e>=t}function rP(t,e,i){let r,n,s;for(r=0,n=t.length;r<n;r++)s=t[r][i],isNaN(s)||(e.min=Math.min(e.min,s),e.max=Math.max(e.max,s))}function hs(t){return t*(Pe/180)}function zm(t){return t*(180/Pe)}function yx(t){if(!ye(t))return;let e=1,i=0;for(;Math.round(t*e)/e!==t;)e*=10,i++;return i}function tI(t,e){const i=e.x-t.x,r=e.y-t.y,n=Math.sqrt(i*i+r*r);let s=Math.atan2(r,i);return s<-.5*Pe&&(s+=Ir),{angle:s,distance:n}}function eI(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function Er(t){return(t%Ir+Ir)%Ir}function iI(t,e,i,r){const n=Er(t),s=Er(e),a=Er(i),o=Er(s-n),h=Er(a-n),l=Er(n-s),u=Er(n-a);return n===s||n===a||r&&s===a||o>h&&l<u}function dr(t,e,i){return Math.max(e,Math.min(i,t))}function rI(t){return dr(t,-32768,32767)}function ho(t,e,i,r=1e-6){return t>=Math.min(e,i)-r&&t<=Math.max(e,i)+r}function Nm(t,e,i){i=i||(a=>t[a]<e);let r=t.length-1,n=0,s;for(;r-n>1;)s=n+r>>1,i(s)?n=s:r=s;return{lo:n,hi:r}}const Sg=(t,e,i,r)=>Nm(t,i,r?n=>{const s=t[n][e];return s<i||s===i&&t[n+1][e]===i}:n=>t[n][e]<i),nI=(t,e,i)=>Nm(t,i,r=>t[r][e]>=i);function sI(t,e,i){let r=0,n=t.length;for(;r<n&&t[r]<e;)r++;for(;n>r&&t[n-1]>i;)n--;return r>0||n<t.length?t.slice(r,n):t}const nP=["push","pop","shift","splice","unshift"];function aI(t,e){if(t._chartjs){t._chartjs.listeners.push(e);return}Object.defineProperty(t,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),nP.forEach(i=>{const r="_onData"+Gm(i),n=t[i];Object.defineProperty(t,i,{configurable:!0,enumerable:!1,value(...s){const a=n.apply(this,s);return t._chartjs.listeners.forEach(o=>{typeof o[r]=="function"&&o[r](...s)}),a}})})}function xx(t,e){const i=t._chartjs;if(!i)return;const r=i.listeners,n=r.indexOf(e);n!==-1&&r.splice(n,1),!(r.length>0)&&(nP.forEach(s=>{delete t[s]}),delete t._chartjs)}function sP(t){const e=new Set;let i,r;for(i=0,r=t.length;i<r;++i)e.add(t[i]);return e.size===r?t:Array.from(e)}const aP=function(){return typeof window>"u"?function(t){return t()}:window.requestAnimationFrame}();function oP(t,e){let i=[],r=!1;return function(...n){i=n,r||(r=!0,aP.call(window,()=>{r=!1,t.apply(e,i)}))}}function oI(t,e){let i;return function(...r){return e?(clearTimeout(i),i=setTimeout(t,e,r)):t.apply(this,r),e}}const Ym=t=>t==="start"?"left":t==="end"?"right":"center",Ne=(t,e,i)=>t==="start"?e:t==="end"?i:(e+i)/2,hI=(t,e,i,r)=>t===(r?"left":"right")?i:t==="center"?(e+i)/2:e,Xl=t=>t===0||t===1,_x=(t,e,i)=>-(Math.pow(2,10*(t-=1))*Math.sin((t-e)*Ir/i)),Tx=(t,e,i)=>Math.pow(2,-10*t)*Math.sin((t-e)*Ir/i)+1,zh={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>-Math.cos(t*fi)+1,easeOutSine:t=>Math.sin(t*fi),easeInOutSine:t=>-.5*(Math.cos(Pe*t)-1),easeInExpo:t=>t===0?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>t===1?1:-Math.pow(2,-10*t)+1,easeInOutExpo:t=>Xl(t)?t:t<.5?.5*Math.pow(2,10*(t*2-1)):.5*(-Math.pow(2,-10*(t*2-1))+2),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>Xl(t)?t:_x(t,.075,.3),easeOutElastic:t=>Xl(t)?t:Tx(t,.075,.3),easeInOutElastic(t){return Xl(t)?t:t<.5?.5*_x(t*2,.1125,.45):.5+.5*Tx(t*2-1,.1125,.45)},easeInBack(t){return t*t*((1.70158+1)*t-1.70158)},easeOutBack(t){return(t-=1)*t*((1.70158+1)*t+1.70158)+1},easeInOutBack(t){let e=1.70158;return(t/=.5)<1?.5*(t*t*(((e*=1.525)+1)*t-e)):.5*((t-=2)*t*(((e*=1.525)+1)*t+e)+2)},easeInBounce:t=>1-zh.easeOutBounce(1-t),easeOutBounce(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},easeInOutBounce:t=>t<.5?zh.easeInBounce(t*2)*.5:zh.easeOutBounce(t*2-1)*.5+.5};function hP(t){if(t&&typeof t=="object"){const e=t.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function wx(t){return hP(t)?t:new qh(t)}function fd(t){return hP(t)?t:new qh(t).saturate(.5).darken(.1).hexString()}const lI=["x","y","borderWidth","radius","tension"],uI=["color","borderColor","backgroundColor"];function fI(t){t.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),t.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),t.set("animations",{colors:{type:"color",properties:uI},numbers:{type:"number",properties:lI}}),t.describe("animations",{_fallback:"animation"}),t.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function cI(t){t.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const Sx=new Map;function dI(t,e){e=e||{};const i=t+JSON.stringify(e);let r=Sx.get(i);return r||(r=new Intl.NumberFormat(t,e),Sx.set(i,r)),r}function Vm(t,e,i){return dI(e,i).format(t)}const lP={values(t){return Yt(t)?t:""+t},numeric(t,e,i){if(t===0)return"0";const r=this.chart.options.locale;let n,s=t;if(i.length>1){const l=Math.max(Math.abs(i[0].value),Math.abs(i[i.length-1].value));(l<1e-4||l>1e15)&&(n="scientific"),s=vI(t,i)}const a=os(Math.abs(s)),o=Math.max(Math.min(-1*Math.floor(a),20),0),h={notation:n,minimumFractionDigits:o,maximumFractionDigits:o};return Object.assign(h,this.options.ticks.format),Vm(t,r,h)},logarithmic(t,e,i){if(t===0)return"0";const r=i[e].significand||t/Math.pow(10,Math.floor(os(t)));return[1,2,3,5,10,15].includes(r)||e>.8*i.length?lP.numeric.call(this,t,e,i):""}};function vI(t,e){let i=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(i)>=1&&t!==Math.floor(t)&&(i=t-Math.floor(t)),i}var gc={formatters:lP};function pI(t){t.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,i)=>i.lineWidth,tickColor:(e,i)=>i.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:gc.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),t.route("scale.ticks","color","","color"),t.route("scale.grid","color","","borderColor"),t.route("scale.border","color","","borderColor"),t.route("scale.title","color","","color"),t.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),t.describe("scales",{_fallback:"scale"}),t.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const aa=Object.create(null),Cg=Object.create(null);function Nh(t,e){if(!e)return t;const i=e.split(".");for(let r=0,n=i.length;r<n;++r){const s=i[r];t=t[s]||(t[s]=Object.create(null))}return t}function cd(t,e,i){return typeof e=="string"?Kh(Nh(t,e),i):Kh(Nh(t,""),e)}class gI{constructor(e,i){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=r=>r.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(r,n)=>fd(n.backgroundColor),this.hoverBorderColor=(r,n)=>fd(n.borderColor),this.hoverColor=(r,n)=>fd(n.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(i)}set(e,i){return cd(this,e,i)}get(e){return Nh(this,e)}describe(e,i){return cd(Cg,e,i)}override(e,i){return cd(aa,e,i)}route(e,i,r,n){const s=Nh(this,e),a=Nh(this,r),o="_"+i;Object.defineProperties(s,{[o]:{value:s[i],writable:!0},[i]:{enumerable:!0,get(){const h=this[o],l=a[n];return pt(h)?Object.assign({},l,h):mt(h,l)},set(h){this[o]=h}}})}apply(e){e.forEach(i=>i(this))}}var Zt=new gI({_scriptable:t=>!t.startsWith("on"),_indexable:t=>t!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[fI,cI,pI]);function mI(t){return!t||St(t.size)||St(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}function jf(t,e,i,r,n){let s=e[n];return s||(s=e[n]=t.measureText(n).width,i.push(n)),s>r&&(r=s),r}function yI(t,e,i,r){r=r||{};let n=r.data=r.data||{},s=r.garbageCollect=r.garbageCollect||[];r.font!==e&&(n=r.data={},s=r.garbageCollect=[],r.font=e),t.save(),t.font=e;let a=0;const o=i.length;let h,l,u,f,c;for(h=0;h<o;h++)if(f=i[h],f!=null&&Yt(f)!==!0)a=jf(t,n,s,a,f);else if(Yt(f))for(l=0,u=f.length;l<u;l++)c=f[l],c!=null&&!Yt(c)&&(a=jf(t,n,s,a,c));t.restore();const d=s.length/2;if(d>i.length){for(h=0;h<d;h++)delete n[s[h]];s.splice(0,d)}return a}function Fs(t,e,i){const r=t.currentDevicePixelRatio,n=i!==0?Math.max(i/2,.5):0;return Math.round((e-n)*r)/r+n}function Cx(t,e){e=e||t.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,t.width,t.height),e.restore()}function bx(t,e,i,r){uP(t,e,i,r,null)}function uP(t,e,i,r,n){let s,a,o,h,l,u,f,c;const d=e.pointStyle,g=e.rotation,v=e.radius;let p=(g||0)*jO;if(d&&typeof d=="object"&&(s=d.toString(),s==="[object HTMLImageElement]"||s==="[object HTMLCanvasElement]")){t.save(),t.translate(i,r),t.rotate(p),t.drawImage(d,-d.width/2,-d.height/2,d.width,d.height),t.restore();return}if(!(isNaN(v)||v<=0)){switch(t.beginPath(),d){default:n?t.ellipse(i,r,n/2,v,0,0,Ir):t.arc(i,r,v,0,Ir),t.closePath();break;case"triangle":u=n?n/2:v,t.moveTo(i+Math.sin(p)*u,r-Math.cos(p)*v),p+=gx,t.lineTo(i+Math.sin(p)*u,r-Math.cos(p)*v),p+=gx,t.lineTo(i+Math.sin(p)*u,r-Math.cos(p)*v),t.closePath();break;case"rectRounded":l=v*.516,h=v-l,a=Math.cos(p+Rs)*h,f=Math.cos(p+Rs)*(n?n/2-l:h),o=Math.sin(p+Rs)*h,c=Math.sin(p+Rs)*(n?n/2-l:h),t.arc(i-f,r-o,l,p-Pe,p-fi),t.arc(i+c,r-a,l,p-fi,p),t.arc(i+f,r+o,l,p,p+fi),t.arc(i-c,r+a,l,p+fi,p+Pe),t.closePath();break;case"rect":if(!g){h=Math.SQRT1_2*v,u=n?n/2:h,t.rect(i-u,r-h,2*u,2*h);break}p+=Rs;case"rectRot":f=Math.cos(p)*(n?n/2:v),a=Math.cos(p)*v,o=Math.sin(p)*v,c=Math.sin(p)*(n?n/2:v),t.moveTo(i-f,r-o),t.lineTo(i+c,r-a),t.lineTo(i+f,r+o),t.lineTo(i-c,r+a),t.closePath();break;case"crossRot":p+=Rs;case"cross":f=Math.cos(p)*(n?n/2:v),a=Math.cos(p)*v,o=Math.sin(p)*v,c=Math.sin(p)*(n?n/2:v),t.moveTo(i-f,r-o),t.lineTo(i+f,r+o),t.moveTo(i+c,r-a),t.lineTo(i-c,r+a);break;case"star":f=Math.cos(p)*(n?n/2:v),a=Math.cos(p)*v,o=Math.sin(p)*v,c=Math.sin(p)*(n?n/2:v),t.moveTo(i-f,r-o),t.lineTo(i+f,r+o),t.moveTo(i+c,r-a),t.lineTo(i-c,r+a),p+=Rs,f=Math.cos(p)*(n?n/2:v),a=Math.cos(p)*v,o=Math.sin(p)*v,c=Math.sin(p)*(n?n/2:v),t.moveTo(i-f,r-o),t.lineTo(i+f,r+o),t.moveTo(i+c,r-a),t.lineTo(i-c,r+a);break;case"line":a=n?n/2:Math.cos(p)*v,o=Math.sin(p)*v,t.moveTo(i-a,r-o),t.lineTo(i+a,r+o);break;case"dash":t.moveTo(i,r),t.lineTo(i+Math.cos(p)*(n?n/2:v),r+Math.sin(p)*v);break;case!1:t.closePath();break}t.fill(),e.borderWidth>0&&t.stroke()}}function fP(t,e,i){return i=i||.5,!e||t&&t.x>e.left-i&&t.x<e.right+i&&t.y>e.top-i&&t.y<e.bottom+i}function Wm(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()}function Xm(t){t.restore()}function oa(t,e,i,r,n,s={}){const a=Yt(e)?e:[e],o=s.strokeWidth>0&&s.strokeColor!=="";let h,l;for(t.save(),t.font=n.string,xI(t,s),h=0;h<a.length;++h)l=a[h],s.backdrop&&TI(t,s.backdrop),o&&(s.strokeColor&&(t.strokeStyle=s.strokeColor),St(s.strokeWidth)||(t.lineWidth=s.strokeWidth),t.strokeText(l,i,r,s.maxWidth)),t.fillText(l,i,r,s.maxWidth),_I(t,i,r,l,s),r+=n.lineHeight;t.restore()}function xI(t,e){e.translation&&t.translate(e.translation[0],e.translation[1]),St(e.rotation)||t.rotate(e.rotation),e.color&&(t.fillStyle=e.color),e.textAlign&&(t.textAlign=e.textAlign),e.textBaseline&&(t.textBaseline=e.textBaseline)}function _I(t,e,i,r,n){if(n.strikethrough||n.underline){const s=t.measureText(r),a=e-s.actualBoundingBoxLeft,o=e+s.actualBoundingBoxRight,h=i-s.actualBoundingBoxAscent,l=i+s.actualBoundingBoxDescent,u=n.strikethrough?(h+l)/2:l;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=n.decorationWidth||2,t.moveTo(a,u),t.lineTo(o,u),t.stroke()}}function TI(t,e){const i=t.fillStyle;t.fillStyle=e.color,t.fillRect(e.left,e.top,e.width,e.height),t.fillStyle=i}function Jh(t,e){const{x:i,y:r,w:n,h:s,radius:a}=e;t.arc(i+a.topLeft,r+a.topLeft,a.topLeft,-fi,Pe,!0),t.lineTo(i,r+s-a.bottomLeft),t.arc(i+a.bottomLeft,r+s-a.bottomLeft,a.bottomLeft,Pe,fi,!0),t.lineTo(i+n-a.bottomRight,r+s),t.arc(i+n-a.bottomRight,r+s-a.bottomRight,a.bottomRight,fi,0,!0),t.lineTo(i+n,r+a.topRight),t.arc(i+n-a.topRight,r+a.topRight,a.topRight,0,-fi,!0),t.lineTo(i+a.topLeft,r)}const wI=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,SI=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function CI(t,e){const i=(""+t).match(wI);if(!i||i[1]==="normal")return e*1.2;switch(t=+i[2],i[3]){case"px":return t;case"%":t/=100;break}return e*t}const bI=t=>+t||0;function cP(t,e){const i={},r=pt(e),n=r?Object.keys(e):e,s=pt(t)?r?a=>mt(t[a],t[e[a]]):a=>t[a]:()=>t;for(const a of n)i[a]=bI(s(a));return i}function dP(t){return cP(t,{top:"y",right:"x",bottom:"y",left:"x"})}function ia(t){return cP(t,["topLeft","topRight","bottomLeft","bottomRight"])}function Ye(t){const e=dP(t);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function ue(t,e){t=t||{},e=e||Zt.font;let i=mt(t.size,e.size);typeof i=="string"&&(i=parseInt(i,10));let r=mt(t.style,e.style);r&&!(""+r).match(SI)&&(console.warn('Invalid font style specified: "'+r+'"'),r=void 0);const n={family:mt(t.family,e.family),lineHeight:CI(mt(t.lineHeight,e.lineHeight),i),size:i,style:r,weight:mt(t.weight,e.weight),string:""};return n.string=mI(n),n}function Ul(t,e,i,r){let n=!0,s,a,o;for(s=0,a=t.length;s<a;++s)if(o=t[s],o!==void 0&&(e!==void 0&&typeof o=="function"&&(o=o(e),n=!1),i!==void 0&&Yt(o)&&(o=o[i%o.length],n=!1),o!==void 0))return r&&!n&&(r.cacheable=!1),o}function MI(t,e,i){const{min:r,max:n}=t,s=XO(e,(n-r)/2),a=(o,h)=>i&&o===0?0:o+h;return{min:a(r,-Math.abs(s)),max:a(n,s)}}function ua(t,e){return Object.assign(Object.create(t),e)}function Um(t,e=[""],i=t,r,n=()=>t[0]){Ki(r)||(r=mP("_fallback",t));const s={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:t,_rootScopes:i,_fallback:r,_getTarget:n,override:a=>Um([a,...t],e,i,r)};return new Proxy(s,{deleteProperty(a,o){return delete a[o],delete a._keys,delete t[0][o],!0},get(a,o){return pP(a,o,()=>OI(o,e,t,a))},getOwnPropertyDescriptor(a,o){return Reflect.getOwnPropertyDescriptor(a._scopes[0],o)},getPrototypeOf(){return Reflect.getPrototypeOf(t[0])},has(a,o){return Px(a).includes(o)},ownKeys(a){return Px(a)},set(a,o,h){const l=a._storage||(a._storage=n());return a[o]=l[o]=h,delete a._keys,!0}})}function po(t,e,i,r){const n={_cacheable:!1,_proxy:t,_context:e,_subProxy:i,_stack:new Set,_descriptors:vP(t,r),setContext:s=>po(t,s,i,r),override:s=>po(t.override(s),e,i,r)};return new Proxy(n,{deleteProperty(s,a){return delete s[a],delete t[a],!0},get(s,a,o){return pP(s,a,()=>AI(s,a,o))},getOwnPropertyDescriptor(s,a){return s._descriptors.allKeys?Reflect.has(t,a)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,a)},getPrototypeOf(){return Reflect.getPrototypeOf(t)},has(s,a){return Reflect.has(t,a)},ownKeys(){return Reflect.ownKeys(t)},set(s,a,o){return t[a]=o,delete s[a],!0}})}function vP(t,e={scriptable:!0,indexable:!0}){const{_scriptable:i=e.scriptable,_indexable:r=e.indexable,_allKeys:n=e.allKeys}=t;return{allKeys:n,scriptable:i,indexable:r,isScriptable:gs(i)?i:()=>i,isIndexable:gs(r)?r:()=>r}}const PI=(t,e)=>t?t+Gm(e):e,Hm=(t,e)=>pt(e)&&t!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function pP(t,e,i){if(Object.prototype.hasOwnProperty.call(t,e))return t[e];const r=i();return t[e]=r,r}function AI(t,e,i){const{_proxy:r,_context:n,_subProxy:s,_descriptors:a}=t;let o=r[e];return gs(o)&&a.isScriptable(e)&&(o=RI(e,o,t,i)),Yt(o)&&o.length&&(o=FI(e,o,t,a.isIndexable)),Hm(e,o)&&(o=po(o,n,s&&s[e],a)),o}function RI(t,e,i,r){const{_proxy:n,_context:s,_subProxy:a,_stack:o}=i;if(o.has(t))throw new Error("Recursion detected: "+Array.from(o).join("->")+"->"+t);return o.add(t),e=e(s,a||r),o.delete(t),Hm(t,e)&&(e=qm(n._scopes,n,t,e)),e}function FI(t,e,i,r){const{_proxy:n,_context:s,_subProxy:a,_descriptors:o}=i;if(Ki(s.index)&&r(t))e=e[s.index%e.length];else if(pt(e[0])){const h=e,l=n._scopes.filter(u=>u!==h);e=[];for(const u of h){const f=qm(l,n,t,u);e.push(po(f,s,a&&a[t],o))}}return e}function gP(t,e,i){return gs(t)?t(e,i):t}const EI=(t,e)=>t===!0?e:typeof t=="string"?vo(e,t):void 0;function LI(t,e,i,r,n){for(const s of e){const a=EI(i,s);if(a){t.add(a);const o=gP(a._fallback,i,n);if(Ki(o)&&o!==i&&o!==r)return o}else if(a===!1&&Ki(r)&&i!==r)return null}return!1}function qm(t,e,i,r){const n=e._rootScopes,s=gP(e._fallback,i,r),a=[...t,...n],o=new Set;o.add(r);let h=Mx(o,a,i,s||i,r);return h===null||Ki(s)&&s!==i&&(h=Mx(o,a,s,h,r),h===null)?!1:Um(Array.from(o),[""],n,s,()=>$I(e,i,r))}function Mx(t,e,i,r,n){for(;i;)i=LI(t,e,i,r,n);return i}function $I(t,e,i){const r=t._getTarget();e in r||(r[e]={});const n=r[e];return Yt(n)&&pt(i)?i:n||{}}function OI(t,e,i,r){let n;for(const s of e)if(n=mP(PI(s,t),i),Ki(n))return Hm(t,n)?qm(i,r,t,n):n}function mP(t,e){for(const i of e){if(!i)continue;const r=i[t];if(Ki(r))return r}}function Px(t){let e=t._keys;return e||(e=t._keys=II(t._scopes)),e}function II(t){const e=new Set;for(const i of t)for(const r of Object.keys(i).filter(n=>!n.startsWith("_")))e.add(r);return Array.from(e)}function yP(){return typeof window<"u"&&typeof document<"u"}function Km(t){let e=t.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function Zf(t,e,i){let r;return typeof t=="string"?(r=parseInt(t,10),t.indexOf("%")!==-1&&(r=r/100*e.parentNode[i])):r=t,r}const mc=t=>t.ownerDocument.defaultView.getComputedStyle(t,null);function DI(t,e){return mc(t).getPropertyValue(e)}const BI=["top","right","bottom","left"];function ra(t,e,i){const r={};i=i?"-"+i:"";for(let n=0;n<4;n++){const s=BI[n];r[s]=parseFloat(t[e+"-"+s+i])||0}return r.width=r.left+r.right,r.height=r.top+r.bottom,r}const kI=(t,e,i)=>(t>0||e>0)&&(!i||!i.shadowRoot);function GI(t,e){const i=t.touches,r=i&&i.length?i[0]:t,{offsetX:n,offsetY:s}=r;let a=!1,o,h;if(kI(n,s,t.target))o=n,h=s;else{const l=e.getBoundingClientRect();o=r.clientX-l.left,h=r.clientY-l.top,a=!0}return{x:o,y:h,box:a}}function Hs(t,e){if("native"in t)return t;const{canvas:i,currentDevicePixelRatio:r}=e,n=mc(i),s=n.boxSizing==="border-box",a=ra(n,"padding"),o=ra(n,"border","width"),{x:h,y:l,box:u}=GI(t,i),f=a.left+(u&&o.left),c=a.top+(u&&o.top);let{width:d,height:g}=e;return s&&(d-=a.width+o.width,g-=a.height+o.height),{x:Math.round((h-f)/d*i.width/r),y:Math.round((l-c)/g*i.height/r)}}function zI(t,e,i){let r,n;if(e===void 0||i===void 0){const s=Km(t);if(!s)e=t.clientWidth,i=t.clientHeight;else{const a=s.getBoundingClientRect(),o=mc(s),h=ra(o,"border","width"),l=ra(o,"padding");e=a.width-l.width-h.width,i=a.height-l.height-h.height,r=Zf(o.maxWidth,s,"clientWidth"),n=Zf(o.maxHeight,s,"clientHeight")}}return{width:e,height:i,maxWidth:r||Kf,maxHeight:n||Kf}}const Hl=t=>Math.round(t*10)/10;function NI(t,e,i,r){const n=mc(t),s=ra(n,"margin"),a=Zf(n.maxWidth,t,"clientWidth")||Kf,o=Zf(n.maxHeight,t,"clientHeight")||Kf,h=zI(t,e,i);let{width:l,height:u}=h;if(n.boxSizing==="content-box"){const c=ra(n,"border","width"),d=ra(n,"padding");l-=d.width+c.width,u-=d.height+c.height}return l=Math.max(0,l-s.width),u=Math.max(0,r?l/r:u-s.height),l=Hl(Math.min(l,a,h.maxWidth)),u=Hl(Math.min(u,o,h.maxHeight)),l&&!u&&(u=Hl(l/2)),(e!==void 0||i!==void 0)&&r&&h.height&&u>h.height&&(u=h.height,l=Hl(Math.floor(u*r))),{width:l,height:u}}function Ax(t,e,i){const r=e||1,n=Math.floor(t.height*r),s=Math.floor(t.width*r);t.height=Math.floor(t.height),t.width=Math.floor(t.width);const a=t.canvas;return a.style&&(i||!a.style.height&&!a.style.width)&&(a.style.height=`${t.height}px`,a.style.width=`${t.width}px`),t.currentDevicePixelRatio!==r||a.height!==n||a.width!==s?(t.currentDevicePixelRatio=r,a.height=n,a.width=s,t.ctx.setTransform(r,0,0,r,0,0),!0):!1}const YI=function(){let t=!1;try{const e={get passive(){return t=!0,!1}};window.addEventListener("test",null,e),window.removeEventListener("test",null,e)}catch{}return t}();function Rx(t,e){const i=DI(t,e),r=i&&i.match(/^(\d+)(\.\d+)?px$/);return r?+r[1]:void 0}const VI=function(t,e){return{x(i){return t+t+e-i},setWidth(i){e=i},textAlign(i){return i==="center"?i:i==="right"?"left":"right"},xPlus(i,r){return i-r},leftForLtr(i,r){return i-r}}},WI=function(){return{x(t){return t},setWidth(t){},textAlign(t){return t},xPlus(t,e){return t+e},leftForLtr(t,e){return t}}};function fo(t,e,i){return t?VI(e,i):WI()}function xP(t,e){let i,r;(e==="ltr"||e==="rtl")&&(i=t.canvas.style,r=[i.getPropertyValue("direction"),i.getPropertyPriority("direction")],i.setProperty("direction",e,"important"),t.prevTextDirection=r)}function _P(t,e){e!==void 0&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",e[0],e[1]))}/*!
 * Chart.js v4.1.1
 * https://www.chartjs.org
 * (c) 2022 Chart.js Contributors
 * Released under the MIT License
 */class XI{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,i,r,n){const s=i.listeners[n],a=i.duration;s.forEach(o=>o({chart:e,initial:i.initial,numSteps:a,currentStep:Math.min(r-i.start,a)}))}_refresh(){this._request||(this._running=!0,this._request=aP.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let i=0;this._charts.forEach((r,n)=>{if(!r.running||!r.items.length)return;const s=r.items;let a=s.length-1,o=!1,h;for(;a>=0;--a)h=s[a],h._active?(h._total>r.duration&&(r.duration=h._total),h.tick(e),o=!0):(s[a]=s[s.length-1],s.pop());o&&(n.draw(),this._notify(n,r,e,"progress")),s.length||(r.running=!1,this._notify(n,r,e,"complete"),r.initial=!1),i+=s.length}),this._lastDate=e,i===0&&(this._running=!1)}_getAnims(e){const i=this._charts;let r=i.get(e);return r||(r={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},i.set(e,r)),r}listen(e,i,r){this._getAnims(e).listeners[i].push(r)}add(e,i){!i||!i.length||this._getAnims(e).items.push(...i)}has(e){return this._getAnims(e).items.length>0}start(e){const i=this._charts.get(e);!i||(i.running=!0,i.start=Date.now(),i.duration=i.items.reduce((r,n)=>Math.max(r,n._duration),0),this._refresh())}running(e){if(!this._running)return!1;const i=this._charts.get(e);return!(!i||!i.running||!i.items.length)}stop(e){const i=this._charts.get(e);if(!i||!i.items.length)return;const r=i.items;let n=r.length-1;for(;n>=0;--n)r[n].cancel();i.items=[],this._notify(e,i,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var nn=new XI;const Fx="transparent",UI={boolean(t,e,i){return i>.5?e:t},color(t,e,i){const r=wx(t||Fx),n=r.valid&&wx(e||Fx);return n&&n.valid?n.mix(r,i).hexString():e},number(t,e,i){return t+(e-t)*i}};class HI{constructor(e,i,r,n){const s=i[r];n=Ul([e.to,n,s,e.from]);const a=Ul([e.from,s,n]);this._active=!0,this._fn=e.fn||UI[e.type||typeof a],this._easing=zh[e.easing]||zh.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=i,this._prop=r,this._from=a,this._to=n,this._promises=void 0}active(){return this._active}update(e,i,r){if(this._active){this._notify(!1);const n=this._target[this._prop],s=r-this._start,a=this._duration-s;this._start=r,this._duration=Math.floor(Math.max(a,e.duration)),this._total+=s,this._loop=!!e.loop,this._to=Ul([e.to,i,n,e.from]),this._from=Ul([e.from,n,i])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const i=e-this._start,r=this._duration,n=this._prop,s=this._from,a=this._loop,o=this._to;let h;if(this._active=s!==o&&(a||i<r),!this._active){this._target[n]=o,this._notify(!0);return}if(i<0){this._target[n]=s;return}h=i/r%2,h=a&&h>1?2-h:h,h=this._easing(Math.min(1,Math.max(0,h))),this._target[n]=this._fn(s,o,h)}wait(){const e=this._promises||(this._promises=[]);return new Promise((i,r)=>{e.push({res:i,rej:r})})}_notify(e){const i=e?"res":"rej",r=this._promises||[];for(let n=0;n<r.length;n++)r[n][i]()}}class TP{constructor(e,i){this._chart=e,this._properties=new Map,this.configure(i)}configure(e){if(!pt(e))return;const i=Object.keys(Zt.animation),r=this._properties;Object.getOwnPropertyNames(e).forEach(n=>{const s=e[n];if(!pt(s))return;const a={};for(const o of i)a[o]=s[o];(Yt(s.properties)&&s.properties||[n]).forEach(o=>{(o===n||!r.has(o))&&r.set(o,a)})})}_animateOptions(e,i){const r=i.options,n=KI(e,r);if(!n)return[];const s=this._createAnimations(n,r);return r.$shared&&qI(e.options.$animations,r).then(()=>{e.options=r},()=>{}),s}_createAnimations(e,i){const r=this._properties,n=[],s=e.$animations||(e.$animations={}),a=Object.keys(i),o=Date.now();let h;for(h=a.length-1;h>=0;--h){const l=a[h];if(l.charAt(0)==="$")continue;if(l==="options"){n.push(...this._animateOptions(e,i));continue}const u=i[l];let f=s[l];const c=r.get(l);if(f)if(c&&f.active()){f.update(c,u,o);continue}else f.cancel();if(!c||!c.duration){e[l]=u;continue}s[l]=f=new HI(c,e,l,u),n.push(f)}return n}update(e,i){if(this._properties.size===0){Object.assign(e,i);return}const r=this._createAnimations(e,i);if(r.length)return nn.add(this._chart,r),!0}}function qI(t,e){const i=[],r=Object.keys(e);for(let n=0;n<r.length;n++){const s=t[r[n]];s&&s.active()&&i.push(s.wait())}return Promise.all(i)}function KI(t,e){if(!e)return;let i=t.options;if(!i){t.options=e;return}return i.$shared&&(t.options=i=Object.assign({},i,{$shared:!1,$animations:{}})),i}function Ex(t,e){const i=t&&t.options||{},r=i.reverse,n=i.min===void 0?e:0,s=i.max===void 0?e:0;return{start:r?s:n,end:r?n:s}}function JI(t,e,i){if(i===!1)return!1;const r=Ex(t,i),n=Ex(e,i);return{top:n.end,right:r.end,bottom:n.start,left:r.start}}function jI(t){let e,i,r,n;return pt(t)?(e=t.top,i=t.right,r=t.bottom,n=t.left):e=i=r=n=t,{top:e,right:i,bottom:r,left:n,disabled:t===!1}}function wP(t,e){const i=[],r=t._getSortedDatasetMetas(e);let n,s;for(n=0,s=r.length;n<s;++n)i.push(r[n].index);return i}function Lx(t,e,i,r={}){const n=t.keys,s=r.mode==="single";let a,o,h,l;if(e!==null){for(a=0,o=n.length;a<o;++a){if(h=+n[a],h===i){if(r.all)continue;break}l=t.values[h],ye(l)&&(s||e===0||fs(e)===fs(l))&&(e+=l)}return e}}function ZI(t){const e=Object.keys(t),i=new Array(e.length);let r,n,s;for(r=0,n=e.length;r<n;++r)s=e[r],i[r]={x:s,y:t[s]};return i}function $x(t,e){const i=t&&t.options.stacked;return i||i===void 0&&e.stack!==void 0}function QI(t,e,i){return`${t.id}.${e.id}.${i.stack||i.type}`}function tD(t){const{min:e,max:i,minDefined:r,maxDefined:n}=t.getUserBounds();return{min:r?e:Number.NEGATIVE_INFINITY,max:n?i:Number.POSITIVE_INFINITY}}function eD(t,e,i){const r=t[e]||(t[e]={});return r[i]||(r[i]={})}function Ox(t,e,i,r){for(const n of e.getMatchingVisibleMetas(r).reverse()){const s=t[n.index];if(i&&s>0||!i&&s<0)return n.index}return null}function Ix(t,e){const{chart:i,_cachedMeta:r}=t,n=i._stacks||(i._stacks={}),{iScale:s,vScale:a,index:o}=r,h=s.axis,l=a.axis,u=QI(s,a,r),f=e.length;let c;for(let d=0;d<f;++d){const g=e[d],{[h]:v,[l]:p}=g,m=g._stacks||(g._stacks={});c=m[l]=eD(n,u,v),c[o]=p,c._top=Ox(c,a,!0,r.type),c._bottom=Ox(c,a,!1,r.type);const y=c._visualValues||(c._visualValues={});y[o]=p}}function dd(t,e){const i=t.scales;return Object.keys(i).filter(r=>i[r].axis===e).shift()}function iD(t,e){return ua(t,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function rD(t,e,i){return ua(t,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:i,index:e,mode:"default",type:"data"})}function Do(t,e){const i=t.controller.index,r=t.vScale&&t.vScale.axis;if(!!r){e=e||t._parsed;for(const n of e){const s=n._stacks;if(!s||s[r]===void 0||s[r][i]===void 0)return;delete s[r][i],s[r]._visualValues!==void 0&&s[r]._visualValues[i]!==void 0&&delete s[r]._visualValues[i]}}}const vd=t=>t==="reset"||t==="none",Dx=(t,e)=>e?t:Object.assign({},t),nD=(t,e,i)=>t&&!e.hidden&&e._stacked&&{keys:wP(i,!0),values:null};class Yh{constructor(e,i){this.chart=e,this._ctx=e.ctx,this.index=i,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=$x(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&Do(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,i=this._cachedMeta,r=this.getDataset(),n=(f,c,d,g)=>f==="x"?c:f==="r"?g:d,s=i.xAxisID=mt(r.xAxisID,dd(e,"x")),a=i.yAxisID=mt(r.yAxisID,dd(e,"y")),o=i.rAxisID=mt(r.rAxisID,dd(e,"r")),h=i.indexAxis,l=i.iAxisID=n(h,s,a,o),u=i.vAxisID=n(h,a,s,o);i.xScale=this.getScaleForId(s),i.yScale=this.getScaleForId(a),i.rScale=this.getScaleForId(o),i.iScale=this.getScaleForId(l),i.vScale=this.getScaleForId(u)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const i=this._cachedMeta;return e===i.iScale?i.vScale:i.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&xx(this._data,this),e._stacked&&Do(e)}_dataCheck(){const e=this.getDataset(),i=e.data||(e.data=[]),r=this._data;if(pt(i))this._data=ZI(i);else if(r!==i){if(r){xx(r,this);const n=this._cachedMeta;Do(n),n._parsed=[]}i&&Object.isExtensible(i)&&aI(i,this),this._syncList=[],this._data=i}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const i=this._cachedMeta,r=this.getDataset();let n=!1;this._dataCheck();const s=i._stacked;i._stacked=$x(i.vScale,i),i.stack!==r.stack&&(n=!0,Do(i),i.stack=r.stack),this._resyncElements(e),(n||s!==i._stacked)&&Ix(this,i._parsed)}configure(){const e=this.chart.config,i=e.datasetScopeKeys(this._type),r=e.getOptionScopes(this.getDataset(),i,!0);this.options=e.createResolver(r,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,i){const{_cachedMeta:r,_data:n}=this,{iScale:s,_stacked:a}=r,o=s.axis;let h=e===0&&i===n.length?!0:r._sorted,l=e>0&&r._parsed[e-1],u,f,c;if(this._parsing===!1)r._parsed=n,r._sorted=!0,c=n;else{Yt(n[e])?c=this.parseArrayData(r,n,e,i):pt(n[e])?c=this.parseObjectData(r,n,e,i):c=this.parsePrimitiveData(r,n,e,i);const d=()=>f[o]===null||l&&f[o]<l[o];for(u=0;u<i;++u)r._parsed[u+e]=f=c[u],h&&(d()&&(h=!1),l=f);r._sorted=h}a&&Ix(this,c)}parsePrimitiveData(e,i,r,n){const{iScale:s,vScale:a}=e,o=s.axis,h=a.axis,l=s.getLabels(),u=s===a,f=new Array(n);let c,d,g;for(c=0,d=n;c<d;++c)g=c+r,f[c]={[o]:u||s.parse(l[g],g),[h]:a.parse(i[g],g)};return f}parseArrayData(e,i,r,n){const{xScale:s,yScale:a}=e,o=new Array(n);let h,l,u,f;for(h=0,l=n;h<l;++h)u=h+r,f=i[u],o[h]={x:s.parse(f[0],u),y:a.parse(f[1],u)};return o}parseObjectData(e,i,r,n){const{xScale:s,yScale:a}=e,{xAxisKey:o="x",yAxisKey:h="y"}=this._parsing,l=new Array(n);let u,f,c,d;for(u=0,f=n;u<f;++u)c=u+r,d=i[c],l[u]={x:s.parse(vo(d,o),c),y:a.parse(vo(d,h),c)};return l}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,i,r){const n=this.chart,s=this._cachedMeta,a=i[e.axis],o={keys:wP(n,!0),values:i._stacks[e.axis]._visualValues};return Lx(o,a,s.index,{mode:r})}updateRangeFromParsed(e,i,r,n){const s=r[i.axis];let a=s===null?NaN:s;const o=n&&r._stacks[i.axis];n&&o&&(n.values=o,a=Lx(n,s,this._cachedMeta.index)),e.min=Math.min(e.min,a),e.max=Math.max(e.max,a)}getMinMax(e,i){const r=this._cachedMeta,n=r._parsed,s=r._sorted&&e===r.iScale,a=n.length,o=this._getOtherScale(e),h=nD(i,r,this.chart),l={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:u,max:f}=tD(o);let c,d;function g(){d=n[c];const v=d[o.axis];return!ye(d[e.axis])||u>v||f<v}for(c=0;c<a&&!(!g()&&(this.updateRangeFromParsed(l,e,d,h),s));++c);if(s){for(c=a-1;c>=0;--c)if(!g()){this.updateRangeFromParsed(l,e,d,h);break}}return l}getAllParsedValues(e){const i=this._cachedMeta._parsed,r=[];let n,s,a;for(n=0,s=i.length;n<s;++n)a=i[n][e.axis],ye(a)&&r.push(a);return r}getMaxOverflow(){return!1}getLabelAndValue(e){const i=this._cachedMeta,r=i.iScale,n=i.vScale,s=this.getParsed(e);return{label:r?""+r.getLabelForValue(s[r.axis]):"",value:n?""+n.getLabelForValue(s[n.axis]):""}}_update(e){const i=this._cachedMeta;this.update(e||"default"),i._clip=jI(mt(this.options.clip,JI(i.xScale,i.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,i=this.chart,r=this._cachedMeta,n=r.data||[],s=i.chartArea,a=[],o=this._drawStart||0,h=this._drawCount||n.length-o,l=this.options.drawActiveElementsOnTop;let u;for(r.dataset&&r.dataset.draw(e,s,o,h),u=o;u<o+h;++u){const f=n[u];f.hidden||(f.active&&l?a.push(f):f.draw(e,s))}for(u=0;u<a.length;++u)a[u].draw(e,s)}getStyle(e,i){const r=i?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(r):this.resolveDataElementOptions(e||0,r)}getContext(e,i,r){const n=this.getDataset();let s;if(e>=0&&e<this._cachedMeta.data.length){const a=this._cachedMeta.data[e];s=a.$context||(a.$context=rD(this.getContext(),e,a)),s.parsed=this.getParsed(e),s.raw=n.data[e],s.index=s.dataIndex=e}else s=this.$context||(this.$context=iD(this.chart.getContext(),this.index)),s.dataset=n,s.index=s.datasetIndex=this.index;return s.active=!!i,s.mode=r,s}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,i){return this._resolveElementOptions(this.dataElementType.id,i,e)}_resolveElementOptions(e,i="default",r){const n=i==="active",s=this._cachedDataOpts,a=e+"-"+i,o=s[a],h=this.enableOptionSharing&&Ki(r);if(o)return Dx(o,h);const l=this.chart.config,u=l.datasetElementScopeKeys(this._type,e),f=n?[`${e}Hover`,"hover",e,""]:[e,""],c=l.getOptionScopes(this.getDataset(),u),d=Object.keys(Zt.elements[e]),g=()=>this.getContext(r,n,i),v=l.resolveNamedOptions(c,d,g,f);return v.$shared&&(v.$shared=h,s[a]=Object.freeze(Dx(v,h))),v}_resolveAnimations(e,i,r){const n=this.chart,s=this._cachedDataOpts,a=`animation-${i}`,o=s[a];if(o)return o;let h;if(n.options.animation!==!1){const u=this.chart.config,f=u.datasetAnimationScopeKeys(this._type,i),c=u.getOptionScopes(this.getDataset(),f);h=u.createResolver(c,this.getContext(e,r,i))}const l=new TP(n,h&&h.animations);return h&&h._cacheable&&(s[a]=Object.freeze(l)),l}getSharedOptions(e){if(!!e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,i){return!i||vd(e)||this.chart._animationsDisabled}_getSharedOptions(e,i){const r=this.resolveDataElementOptions(e,i),n=this._sharedOptions,s=this.getSharedOptions(r),a=this.includeOptions(i,s)||s!==n;return this.updateSharedOptions(s,i,r),{sharedOptions:s,includeOptions:a}}updateElement(e,i,r,n){vd(n)?Object.assign(e,r):this._resolveAnimations(i,n).update(e,r)}updateSharedOptions(e,i,r){e&&!vd(i)&&this._resolveAnimations(void 0,i).update(e,r)}_setStyle(e,i,r,n){e.active=n;const s=this.getStyle(i,n);this._resolveAnimations(i,r,n).update(e,{options:!n&&this.getSharedOptions(s)||s})}removeHoverStyle(e,i,r){this._setStyle(e,r,"active",!1)}setHoverStyle(e,i,r){this._setStyle(e,r,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const i=this._data,r=this._cachedMeta.data;for(const[o,h,l]of this._syncList)this[o](h,l);this._syncList=[];const n=r.length,s=i.length,a=Math.min(s,n);a&&this.parse(0,a),s>n?this._insertElements(n,s-n,e):s<n&&this._removeElements(s,n-s)}_insertElements(e,i,r=!0){const n=this._cachedMeta,s=n.data,a=e+i;let o;const h=l=>{for(l.length+=i,o=l.length-1;o>=a;o--)l[o]=l[o-i]};for(h(s),o=e;o<a;++o)s[o]=new this.dataElementType;this._parsing&&h(n._parsed),this.parse(e,i),r&&this.updateElements(s,e,i,"reset")}updateElements(e,i,r,n){}_removeElements(e,i){const r=this._cachedMeta;if(this._parsing){const n=r._parsed.splice(e,i);r._stacked&&Do(r,n)}r.data.splice(e,i)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[i,r,n]=e;this[i](r,n)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,i){i&&this._sync(["_removeElements",e,i]);const r=arguments.length-2;r&&this._sync(["_insertElements",e,r])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}it(Yh,"defaults",{}),it(Yh,"datasetElementType",null),it(Yh,"dataElementType",null);function sD(t,e){if(!t._cache.$bar){const i=t.getMatchingVisibleMetas(e);let r=[];for(let n=0,s=i.length;n<s;n++)r=r.concat(i[n].controller.getAllParsedValues(t));t._cache.$bar=sP(r.sort((n,s)=>n-s))}return t._cache.$bar}function aD(t){const e=t.iScale,i=sD(e,t.type);let r=e._length,n,s,a,o;const h=()=>{a===32767||a===-32768||(Ki(o)&&(r=Math.min(r,Math.abs(a-o)||r)),o=a)};for(n=0,s=i.length;n<s;++n)a=e.getPixelForValue(i[n]),h();for(o=void 0,n=0,s=e.ticks.length;n<s;++n)a=e.getPixelForTick(n),h();return r}function oD(t,e,i,r){const n=i.barThickness;let s,a;return St(n)?(s=e.min*i.categoryPercentage,a=i.barPercentage):(s=n*r,a=1),{chunk:s/r,ratio:a,start:e.pixels[t]-s/2}}function hD(t,e,i,r){const n=e.pixels,s=n[t];let a=t>0?n[t-1]:null,o=t<n.length-1?n[t+1]:null;const h=i.categoryPercentage;a===null&&(a=s-(o===null?e.end-e.start:o-s)),o===null&&(o=s+s-a);const l=s-(s-Math.min(a,o))/2*h;return{chunk:Math.abs(o-a)/2*h/r,ratio:i.barPercentage,start:l}}function lD(t,e,i,r){const n=i.parse(t[0],r),s=i.parse(t[1],r),a=Math.min(n,s),o=Math.max(n,s);let h=a,l=o;Math.abs(a)>Math.abs(o)&&(h=o,l=a),e[i.axis]=l,e._custom={barStart:h,barEnd:l,start:n,end:s,min:a,max:o}}function SP(t,e,i,r){return Yt(t)?lD(t,e,i,r):e[i.axis]=i.parse(t,r),e}function Bx(t,e,i,r){const n=t.iScale,s=t.vScale,a=n.getLabels(),o=n===s,h=[];let l,u,f,c;for(l=i,u=i+r;l<u;++l)c=e[l],f={},f[n.axis]=o||n.parse(a[l],l),h.push(SP(c,f,s,l));return h}function pd(t){return t&&t.barStart!==void 0&&t.barEnd!==void 0}function uD(t,e,i){return t!==0?fs(t):(e.isHorizontal()?1:-1)*(e.min>=i?1:-1)}function fD(t){let e,i,r,n,s;return t.horizontal?(e=t.base>t.x,i="left",r="right"):(e=t.base<t.y,i="bottom",r="top"),e?(n="end",s="start"):(n="start",s="end"),{start:i,end:r,reverse:e,top:n,bottom:s}}function cD(t,e,i,r){let n=e.borderSkipped;const s={};if(!n){t.borderSkipped=s;return}if(n===!0){t.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:a,end:o,reverse:h,top:l,bottom:u}=fD(t);n==="middle"&&i&&(t.enableBorderRadius=!0,(i._top||0)===r?n=l:(i._bottom||0)===r?n=u:(s[kx(u,a,o,h)]=!0,n=l)),s[kx(n,a,o,h)]=!0,t.borderSkipped=s}function kx(t,e,i,r){return r?(t=dD(t,e,i),t=Gx(t,i,e)):t=Gx(t,e,i),t}function dD(t,e,i){return t===e?i:t===i?e:t}function Gx(t,e,i){return t==="start"?e:t==="end"?i:t}function vD(t,{inflateAmount:e},i){t.inflateAmount=e==="auto"?i===1?.33:0:e}class $f extends Yh{parsePrimitiveData(e,i,r,n){return Bx(e,i,r,n)}parseArrayData(e,i,r,n){return Bx(e,i,r,n)}parseObjectData(e,i,r,n){const{iScale:s,vScale:a}=e,{xAxisKey:o="x",yAxisKey:h="y"}=this._parsing,l=s.axis==="x"?o:h,u=a.axis==="x"?o:h,f=[];let c,d,g,v;for(c=r,d=r+n;c<d;++c)v=i[c],g={},g[s.axis]=s.parse(vo(v,l),c),f.push(SP(vo(v,u),g,a,c));return f}updateRangeFromParsed(e,i,r,n){super.updateRangeFromParsed(e,i,r,n);const s=r._custom;s&&i===this._cachedMeta.vScale&&(e.min=Math.min(e.min,s.min),e.max=Math.max(e.max,s.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const i=this._cachedMeta,{iScale:r,vScale:n}=i,s=this.getParsed(e),a=s._custom,o=pd(a)?"["+a.start+", "+a.end+"]":""+n.getLabelForValue(s[n.axis]);return{label:""+r.getLabelForValue(s[r.axis]),value:o}}initialize(){this.enableOptionSharing=!0,super.initialize();const e=this._cachedMeta;e.stack=this.getDataset().stack}update(e){const i=this._cachedMeta;this.updateElements(i.data,0,i.data.length,e)}updateElements(e,i,r,n){const s=n==="reset",{index:a,_cachedMeta:{vScale:o}}=this,h=o.getBasePixel(),l=o.isHorizontal(),u=this._getRuler(),{sharedOptions:f,includeOptions:c}=this._getSharedOptions(i,n);for(let d=i;d<i+r;d++){const g=this.getParsed(d),v=s||St(g[o.axis])?{base:h,head:h}:this._calculateBarValuePixels(d),p=this._calculateBarIndexPixels(d,u),m=(g._stacks||{})[o.axis],y={horizontal:l,base:v.base,enableBorderRadius:!m||pd(g._custom)||a===m._top||a===m._bottom,x:l?v.head:p.center,y:l?p.center:v.head,height:l?p.size:Math.abs(v.size),width:l?Math.abs(v.size):p.size};c&&(y.options=f||this.resolveDataElementOptions(d,e[d].active?"active":n));const x=y.options||e[d].options;cD(y,x,m,a),vD(y,x,u.ratio),this.updateElement(e[d],d,y,n)}}_getStacks(e,i){const{iScale:r}=this._cachedMeta,n=r.getMatchingVisibleMetas(this._type).filter(h=>h.controller.options.grouped),s=r.options.stacked,a=[],o=h=>{const l=h.controller.getParsed(i),u=l&&l[h.vScale.axis];if(St(u)||isNaN(u))return!0};for(const h of n)if(!(i!==void 0&&o(h))&&((s===!1||a.indexOf(h.stack)===-1||s===void 0&&h.stack===void 0)&&a.push(h.stack),h.index===e))break;return a.length||a.push(void 0),a}_getStackCount(e){return this._getStacks(void 0,e).length}_getStackIndex(e,i,r){const n=this._getStacks(e,r),s=i!==void 0?n.indexOf(i):-1;return s===-1?n.length-1:s}_getRuler(){const e=this.options,i=this._cachedMeta,r=i.iScale,n=[];let s,a;for(s=0,a=i.data.length;s<a;++s)n.push(r.getPixelForValue(this.getParsed(s)[r.axis],s));const o=e.barThickness;return{min:o||aD(i),pixels:n,start:r._startPixel,end:r._endPixel,stackCount:this._getStackCount(),scale:r,grouped:e.grouped,ratio:o?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:i,_stacked:r,index:n},options:{base:s,minBarLength:a}}=this,o=s||0,h=this.getParsed(e),l=h._custom,u=pd(l);let f=h[i.axis],c=0,d=r?this.applyStack(i,h,r):f,g,v;d!==f&&(c=d-f,d=f),u&&(f=l.barStart,d=l.barEnd-l.barStart,f!==0&&fs(f)!==fs(l.barEnd)&&(c=0),c+=f);const p=!St(s)&&!u?s:c;let m=i.getPixelForValue(p);if(this.chart.getDataVisibility(e)?g=i.getPixelForValue(c+d):g=m,v=g-m,Math.abs(v)<a){v=uD(v,i,o)*a,f===o&&(m-=v/2);const y=i.getPixelForDecimal(0),x=i.getPixelForDecimal(1),T=Math.min(y,x),_=Math.max(y,x);m=Math.max(Math.min(m,_),T),g=m+v,r&&!u&&(h._stacks[i.axis]._visualValues[n]=i.getValueForPixel(g)-i.getValueForPixel(m))}if(m===i.getPixelForValue(o)){const y=fs(v)*i.getLineWidthForValue(o)/2;m+=y,v-=y}return{size:v,base:m,head:g,center:g+v/2}}_calculateBarIndexPixels(e,i){const r=i.scale,n=this.options,s=n.skipNull,a=mt(n.maxBarThickness,1/0);let o,h;if(i.grouped){const l=s?this._getStackCount(e):i.stackCount,u=n.barThickness==="flex"?hD(e,i,n,l):oD(e,i,n,l),f=this._getStackIndex(this.index,this._cachedMeta.stack,s?e:void 0);o=u.start+u.chunk*f+u.chunk/2,h=Math.min(a,u.chunk*u.ratio)}else o=r.getPixelForValue(this.getParsed(e)[r.axis],e),h=Math.min(a,i.min*i.ratio);return{base:o-h/2,head:o+h/2,center:o,size:h}}draw(){const e=this._cachedMeta,i=e.vScale,r=e.data,n=r.length;let s=0;for(;s<n;++s)this.getParsed(s)[i.axis]!==null&&r[s].draw(this._ctx)}}it($f,"id","bar"),it($f,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),it($f,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});function Es(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class Jm{static override(e){Object.assign(Jm.prototype,e)}constructor(e){this.options=e||{}}init(){}formats(){return Es()}parse(){return Es()}format(){return Es()}add(){return Es()}diff(){return Es()}startOf(){return Es()}endOf(){return Es()}}var pD={_date:Jm};function gD(t,e,i,r){const{controller:n,data:s,_sorted:a}=t,o=n._cachedMeta.iScale;if(o&&e===o.axis&&e!=="r"&&a&&s.length){const h=o._reversePixels?nI:Sg;if(r){if(n._sharedOptions){const l=s[0],u=typeof l.getRange=="function"&&l.getRange(e);if(u){const f=h(s,e,i-u),c=h(s,e,i+u);return{lo:f.lo,hi:c.hi}}}}else return h(s,e,i)}return{lo:0,hi:s.length-1}}function hl(t,e,i,r,n){const s=t.getSortedVisibleDatasetMetas(),a=i[e];for(let o=0,h=s.length;o<h;++o){const{index:l,data:u}=s[o],{lo:f,hi:c}=gD(s[o],e,a,n);for(let d=f;d<=c;++d){const g=u[d];g.skip||r(g,l,d)}}}function mD(t){const e=t.indexOf("x")!==-1,i=t.indexOf("y")!==-1;return function(r,n){const s=e?Math.abs(r.x-n.x):0,a=i?Math.abs(r.y-n.y):0;return Math.sqrt(Math.pow(s,2)+Math.pow(a,2))}}function gd(t,e,i,r,n){const s=[];return!n&&!t.isPointInArea(e)||hl(t,i,e,function(o,h,l){!n&&!fP(o,t.chartArea,0)||o.inRange(e.x,e.y,r)&&s.push({element:o,datasetIndex:h,index:l})},!0),s}function yD(t,e,i,r){let n=[];function s(a,o,h){const{startAngle:l,endAngle:u}=a.getProps(["startAngle","endAngle"],r),{angle:f}=tI(a,{x:e.x,y:e.y});iI(f,l,u)&&n.push({element:a,datasetIndex:o,index:h})}return hl(t,i,e,s),n}function xD(t,e,i,r,n,s){let a=[];const o=mD(i);let h=Number.POSITIVE_INFINITY;function l(u,f,c){const d=u.inRange(e.x,e.y,n);if(r&&!d)return;const g=u.getCenterPoint(n);if(!(!!s||t.isPointInArea(g))&&!d)return;const p=o(e,g);p<h?(a=[{element:u,datasetIndex:f,index:c}],h=p):p===h&&a.push({element:u,datasetIndex:f,index:c})}return hl(t,i,e,l),a}function md(t,e,i,r,n,s){return!s&&!t.isPointInArea(e)?[]:i==="r"&&!r?yD(t,e,i,n):xD(t,e,i,r,n,s)}function zx(t,e,i,r,n){const s=[],a=i==="x"?"inXRange":"inYRange";let o=!1;return hl(t,i,e,(h,l,u)=>{h[a](e[i],n)&&(s.push({element:h,datasetIndex:l,index:u}),o=o||h.inRange(e.x,e.y,n))}),r&&!o?[]:s}var _D={evaluateInteractionItems:hl,modes:{index(t,e,i,r){const n=Hs(e,t),s=i.axis||"x",a=i.includeInvisible||!1,o=i.intersect?gd(t,n,s,r,a):md(t,n,s,!1,r,a),h=[];return o.length?(t.getSortedVisibleDatasetMetas().forEach(l=>{const u=o[0].index,f=l.data[u];f&&!f.skip&&h.push({element:f,datasetIndex:l.index,index:u})}),h):[]},dataset(t,e,i,r){const n=Hs(e,t),s=i.axis||"xy",a=i.includeInvisible||!1;let o=i.intersect?gd(t,n,s,r,a):md(t,n,s,!1,r,a);if(o.length>0){const h=o[0].datasetIndex,l=t.getDatasetMeta(h).data;o=[];for(let u=0;u<l.length;++u)o.push({element:l[u],datasetIndex:h,index:u})}return o},point(t,e,i,r){const n=Hs(e,t),s=i.axis||"xy",a=i.includeInvisible||!1;return gd(t,n,s,r,a)},nearest(t,e,i,r){const n=Hs(e,t),s=i.axis||"xy",a=i.includeInvisible||!1;return md(t,n,s,i.intersect,r,a)},x(t,e,i,r){const n=Hs(e,t);return zx(t,n,"x",i.intersect,r)},y(t,e,i,r){const n=Hs(e,t);return zx(t,n,"y",i.intersect,r)}}};const CP=["left","top","right","bottom"];function Bo(t,e){return t.filter(i=>i.pos===e)}function Nx(t,e){return t.filter(i=>CP.indexOf(i.pos)===-1&&i.box.axis===e)}function ko(t,e){return t.sort((i,r)=>{const n=e?r:i,s=e?i:r;return n.weight===s.weight?n.index-s.index:n.weight-s.weight})}function TD(t){const e=[];let i,r,n,s,a,o;for(i=0,r=(t||[]).length;i<r;++i)n=t[i],{position:s,options:{stack:a,stackWeight:o=1}}=n,e.push({index:i,box:n,pos:s,horizontal:n.isHorizontal(),weight:n.weight,stack:a&&s+a,stackWeight:o});return e}function wD(t){const e={};for(const i of t){const{stack:r,pos:n,stackWeight:s}=i;if(!r||!CP.includes(n))continue;const a=e[r]||(e[r]={count:0,placed:0,weight:0,size:0});a.count++,a.weight+=s}return e}function SD(t,e){const i=wD(t),{vBoxMaxWidth:r,hBoxMaxHeight:n}=e;let s,a,o;for(s=0,a=t.length;s<a;++s){o=t[s];const{fullSize:h}=o.box,l=i[o.stack],u=l&&o.stackWeight/l.weight;o.horizontal?(o.width=u?u*r:h&&e.availableWidth,o.height=n):(o.width=r,o.height=u?u*n:h&&e.availableHeight)}return i}function CD(t){const e=TD(t),i=ko(e.filter(l=>l.box.fullSize),!0),r=ko(Bo(e,"left"),!0),n=ko(Bo(e,"right")),s=ko(Bo(e,"top"),!0),a=ko(Bo(e,"bottom")),o=Nx(e,"x"),h=Nx(e,"y");return{fullSize:i,leftAndTop:r.concat(s),rightAndBottom:n.concat(h).concat(a).concat(o),chartArea:Bo(e,"chartArea"),vertical:r.concat(n).concat(h),horizontal:s.concat(a).concat(o)}}function Yx(t,e,i,r){return Math.max(t[i],e[i])+Math.max(t[r],e[r])}function bP(t,e){t.top=Math.max(t.top,e.top),t.left=Math.max(t.left,e.left),t.bottom=Math.max(t.bottom,e.bottom),t.right=Math.max(t.right,e.right)}function bD(t,e,i,r){const{pos:n,box:s}=i,a=t.maxPadding;if(!pt(n)){i.size&&(t[n]-=i.size);const f=r[i.stack]||{size:0,count:1};f.size=Math.max(f.size,i.horizontal?s.height:s.width),i.size=f.size/f.count,t[n]+=i.size}s.getPadding&&bP(a,s.getPadding());const o=Math.max(0,e.outerWidth-Yx(a,t,"left","right")),h=Math.max(0,e.outerHeight-Yx(a,t,"top","bottom")),l=o!==t.w,u=h!==t.h;return t.w=o,t.h=h,i.horizontal?{same:l,other:u}:{same:u,other:l}}function MD(t){const e=t.maxPadding;function i(r){const n=Math.max(e[r]-t[r],0);return t[r]+=n,n}t.y+=i("top"),t.x+=i("left"),i("right"),i("bottom")}function PD(t,e){const i=e.maxPadding;function r(n){const s={left:0,top:0,right:0,bottom:0};return n.forEach(a=>{s[a]=Math.max(e[a],i[a])}),s}return r(t?["left","right"]:["top","bottom"])}function $h(t,e,i,r){const n=[];let s,a,o,h,l,u;for(s=0,a=t.length,l=0;s<a;++s){o=t[s],h=o.box,h.update(o.width||e.w,o.height||e.h,PD(o.horizontal,e));const{same:f,other:c}=bD(e,i,o,r);l|=f&&n.length,u=u||c,h.fullSize||n.push(o)}return l&&$h(n,e,i,r)||u}function ql(t,e,i,r,n){t.top=i,t.left=e,t.right=e+r,t.bottom=i+n,t.width=r,t.height=n}function Vx(t,e,i,r){const n=i.padding;let{x:s,y:a}=e;for(const o of t){const h=o.box,l=r[o.stack]||{count:1,placed:0,weight:1},u=o.stackWeight/l.weight||1;if(o.horizontal){const f=e.w*u,c=l.size||h.height;Ki(l.start)&&(a=l.start),h.fullSize?ql(h,n.left,a,i.outerWidth-n.right-n.left,c):ql(h,e.left+l.placed,a,f,c),l.start=a,l.placed+=f,a=h.bottom}else{const f=e.h*u,c=l.size||h.width;Ki(l.start)&&(s=l.start),h.fullSize?ql(h,s,n.top,c,i.outerHeight-n.bottom-n.top):ql(h,s,e.top+l.placed,c,f),l.start=s,l.placed+=f,s=h.right}}e.x=s,e.y=a}var qi={addBox(t,e){t.boxes||(t.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(i){e.draw(i)}}]},t.boxes.push(e)},removeBox(t,e){const i=t.boxes?t.boxes.indexOf(e):-1;i!==-1&&t.boxes.splice(i,1)},configure(t,e,i){e.fullSize=i.fullSize,e.position=i.position,e.weight=i.weight},update(t,e,i,r){if(!t)return;const n=Ye(t.options.layout.padding),s=Math.max(e-n.width,0),a=Math.max(i-n.height,0),o=CD(t.boxes),h=o.vertical,l=o.horizontal;_t(t.boxes,v=>{typeof v.beforeLayout=="function"&&v.beforeLayout()});const u=h.reduce((v,p)=>p.box.options&&p.box.options.display===!1?v:v+1,0)||1,f=Object.freeze({outerWidth:e,outerHeight:i,padding:n,availableWidth:s,availableHeight:a,vBoxMaxWidth:s/2/u,hBoxMaxHeight:a/2}),c=Object.assign({},n);bP(c,Ye(r));const d=Object.assign({maxPadding:c,w:s,h:a,x:n.left,y:n.top},n),g=SD(h.concat(l),f);$h(o.fullSize,d,f,g),$h(h,d,f,g),$h(l,d,f,g)&&$h(h,d,f,g),MD(d),Vx(o.leftAndTop,d,f,g),d.x+=d.w,d.y+=d.h,Vx(o.rightAndBottom,d,f,g),t.chartArea={left:d.left,top:d.top,right:d.left+d.w,bottom:d.top+d.h,height:d.h,width:d.w},_t(o.chartArea,v=>{const p=v.box;Object.assign(p,t.chartArea),p.update(d.w,d.h,{left:0,top:0,right:0,bottom:0})})}};class MP{acquireContext(e,i){}releaseContext(e){return!1}addEventListener(e,i,r){}removeEventListener(e,i,r){}getDevicePixelRatio(){return 1}getMaximumSize(e,i,r,n){return i=Math.max(0,i||e.width),r=r||e.height,{width:i,height:Math.max(0,n?Math.floor(i/n):r)}}isAttached(e){return!0}updateConfig(e){}}class AD extends MP{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const Of="$chartjs",RD={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},Wx=t=>t===null||t==="";function FD(t,e){const i=t.style,r=t.getAttribute("height"),n=t.getAttribute("width");if(t[Of]={initial:{height:r,width:n,style:{display:i.display,height:i.height,width:i.width}}},i.display=i.display||"block",i.boxSizing=i.boxSizing||"border-box",Wx(n)){const s=Rx(t,"width");s!==void 0&&(t.width=s)}if(Wx(r))if(t.style.height==="")t.height=t.width/(e||2);else{const s=Rx(t,"height");s!==void 0&&(t.height=s)}return t}const PP=YI?{passive:!0}:!1;function ED(t,e,i){t.addEventListener(e,i,PP)}function LD(t,e,i){t.canvas.removeEventListener(e,i,PP)}function $D(t,e){const i=RD[t.type]||t.type,{x:r,y:n}=Hs(t,e);return{type:i,chart:e,native:t,x:r!==void 0?r:null,y:n!==void 0?n:null}}function Qf(t,e){for(const i of t)if(i===e||i.contains(e))return!0}function OD(t,e,i){const r=t.canvas,n=new MutationObserver(s=>{let a=!1;for(const o of s)a=a||Qf(o.addedNodes,r),a=a&&!Qf(o.removedNodes,r);a&&i()});return n.observe(document,{childList:!0,subtree:!0}),n}function ID(t,e,i){const r=t.canvas,n=new MutationObserver(s=>{let a=!1;for(const o of s)a=a||Qf(o.removedNodes,r),a=a&&!Qf(o.addedNodes,r);a&&i()});return n.observe(document,{childList:!0,subtree:!0}),n}const jh=new Map;let Xx=0;function AP(){const t=window.devicePixelRatio;t!==Xx&&(Xx=t,jh.forEach((e,i)=>{i.currentDevicePixelRatio!==t&&e()}))}function DD(t,e){jh.size||window.addEventListener("resize",AP),jh.set(t,e)}function BD(t){jh.delete(t),jh.size||window.removeEventListener("resize",AP)}function kD(t,e,i){const r=t.canvas,n=r&&Km(r);if(!n)return;const s=oP((o,h)=>{const l=n.clientWidth;i(o,h),l<n.clientWidth&&i()},window),a=new ResizeObserver(o=>{const h=o[0],l=h.contentRect.width,u=h.contentRect.height;l===0&&u===0||s(l,u)});return a.observe(n),DD(t,s),a}function yd(t,e,i){i&&i.disconnect(),e==="resize"&&BD(t)}function GD(t,e,i){const r=t.canvas,n=oP(s=>{t.ctx!==null&&i($D(s,t))},t);return ED(r,e,n),n}class zD extends MP{acquireContext(e,i){const r=e&&e.getContext&&e.getContext("2d");return r&&r.canvas===e?(FD(e,i),r):null}releaseContext(e){const i=e.canvas;if(!i[Of])return!1;const r=i[Of].initial;["height","width"].forEach(s=>{const a=r[s];St(a)?i.removeAttribute(s):i.setAttribute(s,a)});const n=r.style||{};return Object.keys(n).forEach(s=>{i.style[s]=n[s]}),i.width=i.width,delete i[Of],!0}addEventListener(e,i,r){this.removeEventListener(e,i);const n=e.$proxies||(e.$proxies={}),a={attach:OD,detach:ID,resize:kD}[i]||GD;n[i]=a(e,i,r)}removeEventListener(e,i){const r=e.$proxies||(e.$proxies={}),n=r[i];if(!n)return;({attach:yd,detach:yd,resize:yd}[i]||LD)(e,i,n),r[i]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,i,r,n){return NI(e,i,r,n)}isAttached(e){const i=Km(e);return!!(i&&i.isConnected)}}function ND(t){return!yP()||typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas?AD:zD}class ms{constructor(){it(this,"active",!1)}tooltipPosition(e){const{x:i,y:r}=this.getProps(["x","y"],e);return{x:i,y:r}}hasValue(){return Jf(this.x)&&Jf(this.y)}getProps(e,i){const r=this.$animations;if(!i||!r)return this;const n={};return e.forEach(s=>{n[s]=r[s]&&r[s].active()?r[s]._to:this[s]}),n}}it(ms,"defaults",{}),it(ms,"defaultRoutes");function YD(t,e){const i=t.options.ticks,r=VD(t),n=Math.min(i.maxTicksLimit||r,r),s=i.major.enabled?XD(e):[],a=s.length,o=s[0],h=s[a-1],l=[];if(a>n)return UD(e,l,s,a/n),l;const u=WD(s,e,n);if(a>0){let f,c;const d=a>1?Math.round((h-o)/(a-1)):null;for(Kl(e,l,u,St(d)?0:o-d,o),f=0,c=a-1;f<c;f++)Kl(e,l,u,s[f],s[f+1]);return Kl(e,l,u,h,St(d)?e.length:h+d),l}return Kl(e,l,u),l}function VD(t){const e=t.options.offset,i=t._tickSize(),r=t._length/i+(e?0:1),n=t._maxLength/i;return Math.floor(Math.min(r,n))}function WD(t,e,i){const r=HD(t),n=e.length/i;if(!r)return Math.max(n,1);const s=ZO(r);for(let a=0,o=s.length-1;a<o;a++){const h=s[a];if(h>n)return h}return Math.max(n,1)}function XD(t){const e=[];let i,r;for(i=0,r=t.length;i<r;i++)t[i].major&&e.push(i);return e}function UD(t,e,i,r){let n=0,s=i[0],a;for(r=Math.ceil(r),a=0;a<t.length;a++)a===s&&(e.push(t[a]),n++,s=i[n*r])}function Kl(t,e,i,r,n){const s=mt(r,0),a=Math.min(mt(n,t.length),t.length);let o=0,h,l,u;for(i=Math.ceil(i),n&&(h=n-r,i=h/Math.floor(h/i)),u=s;u<0;)o++,u=Math.round(s+o*i);for(l=Math.max(s,0);l<a;l++)l===u&&(e.push(t[l]),o++,u=Math.round(s+o*i))}function HD(t){const e=t.length;let i,r;if(e<2)return!1;for(r=t[0],i=1;i<e;++i)if(t[i]-t[i-1]!==r)return!1;return r}const qD=t=>t==="left"?"right":t==="right"?"left":t,Ux=(t,e,i)=>e==="top"||e==="left"?t[e]+i:t[e]-i;function Hx(t,e){const i=[],r=t.length/e,n=t.length;let s=0;for(;s<n;s+=r)i.push(t[Math.floor(s)]);return i}function KD(t,e,i){const r=t.ticks.length,n=Math.min(e,r-1),s=t._startPixel,a=t._endPixel,o=1e-6;let h=t.getPixelForTick(n),l;if(!(i&&(r===1?l=Math.max(h-s,a-h):e===0?l=(t.getPixelForTick(1)-h)/2:l=(h-t.getPixelForTick(n-1))/2,h+=n<e?l:-l,h<s-o||h>a+o)))return h}function JD(t,e){_t(t,i=>{const r=i.gc,n=r.length/2;let s;if(n>e){for(s=0;s<n;++s)delete i.data[r[s]];r.splice(0,n)}})}function Go(t){return t.drawTicks?t.tickLength:0}function qx(t,e){if(!t.display)return 0;const i=ue(t.font,e),r=Ye(t.padding);return(Yt(t.text)?t.text.length:1)*i.lineHeight+r.height}function jD(t,e){return ua(t,{scale:e,type:"scale"})}function ZD(t,e,i){return ua(t,{tick:i,index:e,type:"tick"})}function QD(t,e,i){let r=Ym(t);return(i&&e!=="right"||!i&&e==="right")&&(r=qD(r)),r}function tB(t,e,i,r){const{top:n,left:s,bottom:a,right:o,chart:h}=t,{chartArea:l,scales:u}=h;let f=0,c,d,g;const v=a-n,p=o-s;if(t.isHorizontal()){if(d=Ne(r,s,o),pt(i)){const m=Object.keys(i)[0],y=i[m];g=u[m].getPixelForValue(y)+v-e}else i==="center"?g=(l.bottom+l.top)/2+v-e:g=Ux(t,i,e);c=o-s}else{if(pt(i)){const m=Object.keys(i)[0],y=i[m];d=u[m].getPixelForValue(y)-p+e}else i==="center"?d=(l.left+l.right)/2-p+e:d=Ux(t,i,e);g=Ne(r,a,n),f=i==="left"?-fi:fi}return{titleX:d,titleY:g,maxWidth:c,rotation:f}}class fa extends ms{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,i){return e}getUserBounds(){let{_userMin:e,_userMax:i,_suggestedMin:r,_suggestedMax:n}=this;return e=mi(e,Number.POSITIVE_INFINITY),i=mi(i,Number.NEGATIVE_INFINITY),r=mi(r,Number.POSITIVE_INFINITY),n=mi(n,Number.NEGATIVE_INFINITY),{min:mi(e,r),max:mi(i,n),minDefined:ye(e),maxDefined:ye(i)}}getMinMax(e){let{min:i,max:r,minDefined:n,maxDefined:s}=this.getUserBounds(),a;if(n&&s)return{min:i,max:r};const o=this.getMatchingVisibleMetas();for(let h=0,l=o.length;h<l;++h)a=o[h].controller.getMinMax(this,e),n||(i=Math.min(i,a.min)),s||(r=Math.max(r,a.max));return i=s&&i>r?r:i,r=n&&i>r?i:r,{min:mi(i,mi(r,i)),max:mi(r,mi(i,r))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Rt(this.options.beforeUpdate,[this])}update(e,i,r){const{beginAtZero:n,grace:s,ticks:a}=this.options,o=a.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=i,this._margins=r=Object.assign({left:0,right:0,top:0,bottom:0},r),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+r.left+r.right:this.height+r.top+r.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=MI(this,s,n),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const h=o<this.ticks.length;this._convertTicksToLabels(h?Hx(this.ticks,o):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),a.display&&(a.autoSkip||a.source==="auto")&&(this.ticks=YD(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),h&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,i,r;this.isHorizontal()?(i=this.left,r=this.right):(i=this.top,r=this.bottom,e=!e),this._startPixel=i,this._endPixel=r,this._reversePixels=e,this._length=r-i,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Rt(this.options.afterUpdate,[this])}beforeSetDimensions(){Rt(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Rt(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),Rt(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Rt(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const i=this.options.ticks;let r,n,s;for(r=0,n=e.length;r<n;r++)s=e[r],s.label=Rt(i.callback,[s.value,r,e],this)}afterTickToLabelConversion(){Rt(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Rt(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,i=e.ticks,r=this.ticks.length,n=i.minRotation||0,s=i.maxRotation;let a=n,o,h,l;if(!this._isVisible()||!i.display||n>=s||r<=1||!this.isHorizontal()){this.labelRotation=n;return}const u=this._getLabelSizes(),f=u.widest.width,c=u.highest.height,d=dr(this.chart.width-f,0,this.maxWidth);o=e.offset?this.maxWidth/r:d/(r-1),f+6>o&&(o=d/(r-(e.offset?.5:1)),h=this.maxHeight-Go(e.grid)-i.padding-qx(e.title,this.chart.options.font),l=Math.sqrt(f*f+c*c),a=zm(Math.min(Math.asin(dr((u.highest.height+6)/o,-1,1)),Math.asin(dr(h/l,-1,1))-Math.asin(dr(c/l,-1,1)))),a=Math.max(n,Math.min(s,a))),this.labelRotation=a}afterCalculateLabelRotation(){Rt(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Rt(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:i,options:{ticks:r,title:n,grid:s}}=this,a=this._isVisible(),o=this.isHorizontal();if(a){const h=qx(n,i.options.font);if(o?(e.width=this.maxWidth,e.height=Go(s)+h):(e.height=this.maxHeight,e.width=Go(s)+h),r.display&&this.ticks.length){const{first:l,last:u,widest:f,highest:c}=this._getLabelSizes(),d=r.padding*2,g=hs(this.labelRotation),v=Math.cos(g),p=Math.sin(g);if(o){const m=r.mirror?0:p*f.width+v*c.height;e.height=Math.min(this.maxHeight,e.height+m+d)}else{const m=r.mirror?0:v*f.width+p*c.height;e.width=Math.min(this.maxWidth,e.width+m+d)}this._calculatePadding(l,u,p,v)}}this._handleMargins(),o?(this.width=this._length=i.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=i.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,i,r,n){const{ticks:{align:s,padding:a},position:o}=this.options,h=this.labelRotation!==0,l=o!=="top"&&this.axis==="x";if(this.isHorizontal()){const u=this.getPixelForTick(0)-this.left,f=this.right-this.getPixelForTick(this.ticks.length-1);let c=0,d=0;h?l?(c=n*e.width,d=r*i.height):(c=r*e.height,d=n*i.width):s==="start"?d=i.width:s==="end"?c=e.width:s!=="inner"&&(c=e.width/2,d=i.width/2),this.paddingLeft=Math.max((c-u+a)*this.width/(this.width-u),0),this.paddingRight=Math.max((d-f+a)*this.width/(this.width-f),0)}else{let u=i.height/2,f=e.height/2;s==="start"?(u=0,f=e.height):s==="end"&&(u=i.height,f=0),this.paddingTop=u+a,this.paddingBottom=f+a}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Rt(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:i}=this.options;return i==="top"||i==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let i,r;for(i=0,r=e.length;i<r;i++)St(e[i].label)&&(e.splice(i,1),r--,i--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const i=this.options.ticks.sampleSize;let r=this.ticks;i<r.length&&(r=Hx(r,i)),this._labelSizes=e=this._computeLabelSizes(r,r.length)}return e}_computeLabelSizes(e,i){const{ctx:r,_longestTextCache:n}=this,s=[],a=[];let o=0,h=0,l,u,f,c,d,g,v,p,m,y,x;for(l=0;l<i;++l){if(c=e[l].label,d=this._resolveTickFontOptions(l),r.font=g=d.string,v=n[g]=n[g]||{data:{},gc:[]},p=d.lineHeight,m=y=0,!St(c)&&!Yt(c))m=jf(r,v.data,v.gc,m,c),y=p;else if(Yt(c))for(u=0,f=c.length;u<f;++u)x=c[u],!St(x)&&!Yt(x)&&(m=jf(r,v.data,v.gc,m,x),y+=p);s.push(m),a.push(y),o=Math.max(m,o),h=Math.max(y,h)}JD(n,i);const T=s.indexOf(o),_=a.indexOf(h),w=S=>({width:s[S]||0,height:a[S]||0});return{first:w(0),last:w(i-1),widest:w(T),highest:w(_),widths:s,heights:a}}getLabelForValue(e){return e}getPixelForValue(e,i){return NaN}getValueForPixel(e){}getPixelForTick(e){const i=this.ticks;return e<0||e>i.length-1?null:this.getPixelForValue(i[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const i=this._startPixel+e*this._length;return rI(this._alignToPixels?Fs(this.chart,i,0):i)}getDecimalForPixel(e){const i=(e-this._startPixel)/this._length;return this._reversePixels?1-i:i}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:i}=this;return e<0&&i<0?i:e>0&&i>0?e:0}getContext(e){const i=this.ticks||[];if(e>=0&&e<i.length){const r=i[e];return r.$context||(r.$context=ZD(this.getContext(),e,r))}return this.$context||(this.$context=jD(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,i=hs(this.labelRotation),r=Math.abs(Math.cos(i)),n=Math.abs(Math.sin(i)),s=this._getLabelSizes(),a=e.autoSkipPadding||0,o=s?s.widest.width+a:0,h=s?s.highest.height+a:0;return this.isHorizontal()?h*r>o*n?o/r:h/n:h*n<o*r?h/r:o/n}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const i=this.axis,r=this.chart,n=this.options,{grid:s,position:a,border:o}=n,h=s.offset,l=this.isHorizontal(),f=this.ticks.length+(h?1:0),c=Go(s),d=[],g=o.setContext(this.getContext()),v=g.display?g.width:0,p=v/2,m=function(P){return Fs(r,P,v)};let y,x,T,_,w,S,C,R,L,E,O,A;if(a==="top")y=m(this.bottom),S=this.bottom-c,R=y-p,E=m(e.top)+p,A=e.bottom;else if(a==="bottom")y=m(this.top),E=e.top,A=m(e.bottom)-p,S=y+p,R=this.top+c;else if(a==="left")y=m(this.right),w=this.right-c,C=y-p,L=m(e.left)+p,O=e.right;else if(a==="right")y=m(this.left),L=e.left,O=m(e.right)-p,w=y+p,C=this.left+c;else if(i==="x"){if(a==="center")y=m((e.top+e.bottom)/2+.5);else if(pt(a)){const P=Object.keys(a)[0],$=a[P];y=m(this.chart.scales[P].getPixelForValue($))}E=e.top,A=e.bottom,S=y+p,R=S+c}else if(i==="y"){if(a==="center")y=m((e.left+e.right)/2);else if(pt(a)){const P=Object.keys(a)[0],$=a[P];y=m(this.chart.scales[P].getPixelForValue($))}w=y-p,C=w-c,L=e.left,O=e.right}const F=mt(n.ticks.maxTicksLimit,f),M=Math.max(1,Math.ceil(f/F));for(x=0;x<f;x+=M){const P=this.getContext(x),$=s.setContext(P),I=o.setContext(P),D=$.lineWidth,G=$.color,et=I.dash||[],q=I.dashOffset,j=$.tickWidth,Z=$.tickColor,Q=$.tickBorderDash||[],N=$.tickBorderDashOffset;T=KD(this,x,h),T!==void 0&&(_=Fs(r,T,D),l?w=C=L=O=_:S=R=E=A=_,d.push({tx1:w,ty1:S,tx2:C,ty2:R,x1:L,y1:E,x2:O,y2:A,width:D,color:G,borderDash:et,borderDashOffset:q,tickWidth:j,tickColor:Z,tickBorderDash:Q,tickBorderDashOffset:N}))}return this._ticksLength=f,this._borderValue=y,d}_computeLabelItems(e){const i=this.axis,r=this.options,{position:n,ticks:s}=r,a=this.isHorizontal(),o=this.ticks,{align:h,crossAlign:l,padding:u,mirror:f}=s,c=Go(r.grid),d=c+u,g=f?-u:d,v=-hs(this.labelRotation),p=[];let m,y,x,T,_,w,S,C,R,L,E,O,A="middle";if(n==="top")w=this.bottom-g,S=this._getXAxisLabelAlignment();else if(n==="bottom")w=this.top+g,S=this._getXAxisLabelAlignment();else if(n==="left"){const M=this._getYAxisLabelAlignment(c);S=M.textAlign,_=M.x}else if(n==="right"){const M=this._getYAxisLabelAlignment(c);S=M.textAlign,_=M.x}else if(i==="x"){if(n==="center")w=(e.top+e.bottom)/2+d;else if(pt(n)){const M=Object.keys(n)[0],P=n[M];w=this.chart.scales[M].getPixelForValue(P)+d}S=this._getXAxisLabelAlignment()}else if(i==="y"){if(n==="center")_=(e.left+e.right)/2-d;else if(pt(n)){const M=Object.keys(n)[0],P=n[M];_=this.chart.scales[M].getPixelForValue(P)}S=this._getYAxisLabelAlignment(c).textAlign}i==="y"&&(h==="start"?A="top":h==="end"&&(A="bottom"));const F=this._getLabelSizes();for(m=0,y=o.length;m<y;++m){x=o[m],T=x.label;const M=s.setContext(this.getContext(m));C=this.getPixelForTick(m)+s.labelOffset,R=this._resolveTickFontOptions(m),L=R.lineHeight,E=Yt(T)?T.length:1;const P=E/2,$=M.color,I=M.textStrokeColor,D=M.textStrokeWidth;let G=S;a?(_=C,S==="inner"&&(m===y-1?G=this.options.reverse?"left":"right":m===0?G=this.options.reverse?"right":"left":G="center"),n==="top"?l==="near"||v!==0?O=-E*L+L/2:l==="center"?O=-F.highest.height/2-P*L+L:O=-F.highest.height+L/2:l==="near"||v!==0?O=L/2:l==="center"?O=F.highest.height/2-P*L:O=F.highest.height-E*L,f&&(O*=-1),v!==0&&!M.showLabelBackdrop&&(_+=L/2*Math.sin(v))):(w=C,O=(1-E)*L/2);let et;if(M.showLabelBackdrop){const q=Ye(M.backdropPadding),j=F.heights[m],Z=F.widths[m];let Q=O-q.top,N=0-q.left;switch(A){case"middle":Q-=j/2;break;case"bottom":Q-=j;break}switch(S){case"center":N-=Z/2;break;case"right":N-=Z;break}et={left:N,top:Q,width:Z+q.width,height:j+q.height,color:M.backdropColor}}p.push({label:T,font:R,textOffset:O,options:{rotation:v,color:$,strokeColor:I,strokeWidth:D,textAlign:G,textBaseline:A,translation:[_,w],backdrop:et}})}return p}_getXAxisLabelAlignment(){const{position:e,ticks:i}=this.options;if(-hs(this.labelRotation))return e==="top"?"left":"right";let n="center";return i.align==="start"?n="left":i.align==="end"?n="right":i.align==="inner"&&(n="inner"),n}_getYAxisLabelAlignment(e){const{position:i,ticks:{crossAlign:r,mirror:n,padding:s}}=this.options,a=this._getLabelSizes(),o=e+s,h=a.widest.width;let l,u;return i==="left"?n?(u=this.right+s,r==="near"?l="left":r==="center"?(l="center",u+=h/2):(l="right",u+=h)):(u=this.right-o,r==="near"?l="right":r==="center"?(l="center",u-=h/2):(l="left",u=this.left)):i==="right"?n?(u=this.left+s,r==="near"?l="right":r==="center"?(l="center",u-=h/2):(l="left",u-=h)):(u=this.left+o,r==="near"?l="left":r==="center"?(l="center",u+=h/2):(l="right",u=this.right)):l="right",{textAlign:l,x:u}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,i=this.options.position;if(i==="left"||i==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(i==="top"||i==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:i},left:r,top:n,width:s,height:a}=this;i&&(e.save(),e.fillStyle=i,e.fillRect(r,n,s,a),e.restore())}getLineWidthForValue(e){const i=this.options.grid;if(!this._isVisible()||!i.display)return 0;const n=this.ticks.findIndex(s=>s.value===e);return n>=0?i.setContext(this.getContext(n)).lineWidth:0}drawGrid(e){const i=this.options.grid,r=this.ctx,n=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let s,a;const o=(h,l,u)=>{!u.width||!u.color||(r.save(),r.lineWidth=u.width,r.strokeStyle=u.color,r.setLineDash(u.borderDash||[]),r.lineDashOffset=u.borderDashOffset,r.beginPath(),r.moveTo(h.x,h.y),r.lineTo(l.x,l.y),r.stroke(),r.restore())};if(i.display)for(s=0,a=n.length;s<a;++s){const h=n[s];i.drawOnChartArea&&o({x:h.x1,y:h.y1},{x:h.x2,y:h.y2},h),i.drawTicks&&o({x:h.tx1,y:h.ty1},{x:h.tx2,y:h.ty2},{color:h.tickColor,width:h.tickWidth,borderDash:h.tickBorderDash,borderDashOffset:h.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:i,options:{border:r,grid:n}}=this,s=r.setContext(this.getContext()),a=r.display?s.width:0;if(!a)return;const o=n.setContext(this.getContext(0)).lineWidth,h=this._borderValue;let l,u,f,c;this.isHorizontal()?(l=Fs(e,this.left,a)-a/2,u=Fs(e,this.right,o)+o/2,f=c=h):(f=Fs(e,this.top,a)-a/2,c=Fs(e,this.bottom,o)+o/2,l=u=h),i.save(),i.lineWidth=s.width,i.strokeStyle=s.color,i.beginPath(),i.moveTo(l,f),i.lineTo(u,c),i.stroke(),i.restore()}drawLabels(e){if(!this.options.ticks.display)return;const r=this.ctx,n=this._computeLabelArea();n&&Wm(r,n);const s=this.getLabelItems(e);for(const a of s){const o=a.options,h=a.font,l=a.label,u=a.textOffset;oa(r,l,0,u,h,o)}n&&Xm(r)}drawTitle(){const{ctx:e,options:{position:i,title:r,reverse:n}}=this;if(!r.display)return;const s=ue(r.font),a=Ye(r.padding),o=r.align;let h=s.lineHeight/2;i==="bottom"||i==="center"||pt(i)?(h+=a.bottom,Yt(r.text)&&(h+=s.lineHeight*(r.text.length-1))):h+=a.top;const{titleX:l,titleY:u,maxWidth:f,rotation:c}=tB(this,h,i,o);oa(e,r.text,0,0,s,{color:r.color,maxWidth:f,rotation:c,textAlign:QD(o,i,n),textBaseline:"middle",translation:[l,u]})}draw(e){!this._isVisible()||(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,i=e.ticks&&e.ticks.z||0,r=mt(e.grid&&e.grid.z,-1),n=mt(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==fa.prototype.draw?[{z:i,draw:s=>{this.draw(s)}}]:[{z:r,draw:s=>{this.drawBackground(),this.drawGrid(s),this.drawTitle()}},{z:n,draw:()=>{this.drawBorder()}},{z:i,draw:s=>{this.drawLabels(s)}}]}getMatchingVisibleMetas(e){const i=this.chart.getSortedVisibleDatasetMetas(),r=this.axis+"AxisID",n=[];let s,a;for(s=0,a=i.length;s<a;++s){const o=i[s];o[r]===this.id&&(!e||o.type===e)&&n.push(o)}return n}_resolveTickFontOptions(e){const i=this.options.ticks.setContext(this.getContext(e));return ue(i.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class Jl{constructor(e,i,r){this.type=e,this.scope=i,this.override=r,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const i=Object.getPrototypeOf(e);let r;rB(i)&&(r=this.register(i));const n=this.items,s=e.id,a=this.scope+"."+s;if(!s)throw new Error("class does not have id: "+e);return s in n||(n[s]=e,eB(e,a,r),this.override&&Zt.override(e.id,e.overrides)),a}get(e){return this.items[e]}unregister(e){const i=this.items,r=e.id,n=this.scope;r in i&&delete i[r],n&&r in Zt[n]&&(delete Zt[n][r],this.override&&delete aa[r])}}function eB(t,e,i){const r=Kh(Object.create(null),[i?Zt.get(i):{},Zt.get(e),t.defaults]);Zt.set(e,r),t.defaultRoutes&&iB(e,t.defaultRoutes),t.descriptors&&Zt.describe(e,t.descriptors)}function iB(t,e){Object.keys(e).forEach(i=>{const r=i.split("."),n=r.pop(),s=[t].concat(r).join("."),a=e[i].split("."),o=a.pop(),h=a.join(".");Zt.route(s,n,h,o)})}function rB(t){return"id"in t&&"defaults"in t}class nB{constructor(){this.controllers=new Jl(Yh,"datasets",!0),this.elements=new Jl(ms,"elements"),this.plugins=new Jl(Object,"plugins"),this.scales=new Jl(fa,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,i,r){[...i].forEach(n=>{const s=r||this._getRegistryForType(n);r||s.isForType(n)||s===this.plugins&&n.id?this._exec(e,s,n):_t(n,a=>{const o=r||this._getRegistryForType(a);this._exec(e,o,a)})})}_exec(e,i,r){const n=Gm(e);Rt(r["before"+n],[],r),i[e](r),Rt(r["after"+n],[],r)}_getRegistryForType(e){for(let i=0;i<this._typedRegistries.length;i++){const r=this._typedRegistries[i];if(r.isForType(e))return r}return this.plugins}_get(e,i,r){const n=i.get(e);if(n===void 0)throw new Error('"'+e+'" is not a registered '+r+".");return n}}var Fr=new nB;class sB{constructor(){this._init=[]}notify(e,i,r,n){i==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const s=n?this._descriptors(e).filter(n):this._descriptors(e),a=this._notify(s,e,i,r);return i==="afterDestroy"&&(this._notify(s,e,"stop"),this._notify(this._init,e,"uninstall")),a}_notify(e,i,r,n){n=n||{};for(const s of e){const a=s.plugin,o=a[r],h=[i,n,s.options];if(Rt(o,h,a)===!1&&n.cancelable)return!1}return!0}invalidate(){St(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const i=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),i}_createDescriptors(e,i){const r=e&&e.config,n=mt(r.options&&r.options.plugins,{}),s=aB(r);return n===!1&&!i?[]:hB(e,s,n,i)}_notifyStateChanges(e){const i=this._oldCache||[],r=this._cache,n=(s,a)=>s.filter(o=>!a.some(h=>o.plugin.id===h.plugin.id));this._notify(n(i,r),e,"stop"),this._notify(n(r,i),e,"start")}}function aB(t){const e={},i=[],r=Object.keys(Fr.plugins.items);for(let s=0;s<r.length;s++)i.push(Fr.getPlugin(r[s]));const n=t.plugins||[];for(let s=0;s<n.length;s++){const a=n[s];i.indexOf(a)===-1&&(i.push(a),e[a.id]=!0)}return{plugins:i,localIds:e}}function oB(t,e){return!e&&t===!1?null:t===!0?{}:t}function hB(t,{plugins:e,localIds:i},r,n){const s=[],a=t.getContext();for(const o of e){const h=o.id,l=oB(r[h],n);l!==null&&s.push({plugin:o,options:lB(t.config,{plugin:o,local:i[h]},l,a)})}return s}function lB(t,{plugin:e,local:i},r,n){const s=t.pluginScopeKeys(e),a=t.getOptionScopes(r,s);return i&&e.defaults&&a.push(e.defaults),t.createResolver(a,n,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function bg(t,e){const i=Zt.datasets[t]||{};return((e.datasets||{})[t]||{}).indexAxis||e.indexAxis||i.indexAxis||"x"}function uB(t,e){let i=t;return t==="_index_"?i=e:t==="_value_"&&(i=e==="x"?"y":"x"),i}function fB(t,e){return t===e?"_index_":"_value_"}function cB(t){if(t==="top"||t==="bottom")return"x";if(t==="left"||t==="right")return"y"}function tc(t,e){if(t==="x"||t==="y"||t==="r"||(t=e.axis||cB(e.position)||t.length>1&&tc(t[0].toLowerCase(),e),t))return t;throw new Error(`Cannot determine type of '${name}' axis. Please provide 'axis' or 'position' option.`)}function dB(t,e){const i=aa[t.type]||{scales:{}},r=e.scales||{},n=bg(t.type,e),s=Object.create(null);return Object.keys(r).forEach(a=>{const o=r[a];if(!pt(o))return console.error(`Invalid scale configuration for scale: ${a}`);if(o._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${a}`);const h=tc(a,o),l=fB(h,n),u=i.scales||{};s[a]=Gh(Object.create(null),[{axis:h},o,u[h],u[l]])}),t.data.datasets.forEach(a=>{const o=a.type||t.type,h=a.indexAxis||bg(o,e),u=(aa[o]||{}).scales||{};Object.keys(u).forEach(f=>{const c=uB(f,h),d=a[c+"AxisID"]||c;s[d]=s[d]||Object.create(null),Gh(s[d],[{axis:c},r[d],u[f]])})}),Object.keys(s).forEach(a=>{const o=s[a];Gh(o,[Zt.scales[o.type],Zt.scale])}),s}function RP(t){const e=t.options||(t.options={});e.plugins=mt(e.plugins,{}),e.scales=dB(t,e)}function FP(t){return t=t||{},t.datasets=t.datasets||[],t.labels=t.labels||[],t}function vB(t){return t=t||{},t.data=FP(t.data),RP(t),t}const Kx=new Map,EP=new Set;function jl(t,e){let i=Kx.get(t);return i||(i=e(),Kx.set(t,i),EP.add(i)),i}const zo=(t,e,i)=>{const r=vo(e,i);r!==void 0&&t.add(r)};class pB{constructor(e){this._config=vB(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=FP(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),RP(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return jl(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,i){return jl(`${e}.transition.${i}`,()=>[[`datasets.${e}.transitions.${i}`,`transitions.${i}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,i){return jl(`${e}-${i}`,()=>[[`datasets.${e}.elements.${i}`,`datasets.${e}`,`elements.${i}`,""]])}pluginScopeKeys(e){const i=e.id,r=this.type;return jl(`${r}-plugin-${i}`,()=>[[`plugins.${i}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,i){const r=this._scopeCache;let n=r.get(e);return(!n||i)&&(n=new Map,r.set(e,n)),n}getOptionScopes(e,i,r){const{options:n,type:s}=this,a=this._cachedScopes(e,r),o=a.get(i);if(o)return o;const h=new Set;i.forEach(u=>{e&&(h.add(e),u.forEach(f=>zo(h,e,f))),u.forEach(f=>zo(h,n,f)),u.forEach(f=>zo(h,aa[s]||{},f)),u.forEach(f=>zo(h,Zt,f)),u.forEach(f=>zo(h,Cg,f))});const l=Array.from(h);return l.length===0&&l.push(Object.create(null)),EP.has(i)&&a.set(i,l),l}chartOptionScopes(){const{options:e,type:i}=this;return[e,aa[i]||{},Zt.datasets[i]||{},{type:i},Zt,Cg]}resolveNamedOptions(e,i,r,n=[""]){const s={$shared:!0},{resolver:a,subPrefixes:o}=Jx(this._resolverCache,e,n);let h=a;if(mB(a,i)){s.$shared=!1,r=gs(r)?r():r;const l=this.createResolver(e,r,o);h=po(a,r,l)}for(const l of i)s[l]=h[l];return s}createResolver(e,i,r=[""],n){const{resolver:s}=Jx(this._resolverCache,e,r);return pt(i)?po(s,i,void 0,n):s}}function Jx(t,e,i){let r=t.get(e);r||(r=new Map,t.set(e,r));const n=i.join();let s=r.get(n);return s||(s={resolver:Um(e,i),subPrefixes:i.filter(o=>!o.toLowerCase().includes("hover"))},r.set(n,s)),s}const gB=t=>pt(t)&&Object.getOwnPropertyNames(t).reduce((e,i)=>e||gs(t[i]),!1);function mB(t,e){const{isScriptable:i,isIndexable:r}=vP(t);for(const n of e){const s=i(n),a=r(n),o=(a||s)&&t[n];if(s&&(gs(o)||gB(o))||a&&Yt(o))return!0}return!1}var yB="4.1.1";const xB=["top","bottom","left","right","chartArea"];function jx(t,e){return t==="top"||t==="bottom"||xB.indexOf(t)===-1&&e==="x"}function Zx(t,e){return function(i,r){return i[t]===r[t]?i[e]-r[e]:i[t]-r[t]}}function Qx(t){const e=t.chart,i=e.options.animation;e.notifyPlugins("afterRender"),Rt(i&&i.onComplete,[t],e)}function _B(t){const e=t.chart,i=e.options.animation;Rt(i&&i.onProgress,[t],e)}function LP(t){return yP()&&typeof t=="string"?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}const If={},t1=t=>{const e=LP(t);return Object.values(If).filter(i=>i.canvas===e).pop()};function TB(t,e,i){const r=Object.keys(t);for(const n of r){const s=+n;if(s>=e){const a=t[n];delete t[n],(i>0||s>e)&&(t[s+i]=a)}}}function wB(t,e,i,r){return!i||t.type==="mouseout"?null:r?e:t}function SB(t){const{xScale:e,yScale:i}=t;if(e&&i)return{left:e.left,right:e.right,top:i.top,bottom:i.bottom}}class $r{static register(...e){Fr.add(...e),e1()}static unregister(...e){Fr.remove(...e),e1()}constructor(e,i){const r=this.config=new pB(i),n=LP(e),s=t1(n);if(s)throw new Error("Canvas is already in use. Chart with ID '"+s.id+"' must be destroyed before the canvas with ID '"+s.canvas.id+"' can be reused.");const a=r.createResolver(r.chartOptionScopes(),this.getContext());this.platform=new(r.platform||ND(n)),this.platform.updateConfig(r);const o=this.platform.acquireContext(n,a.aspectRatio),h=o&&o.canvas,l=h&&h.height,u=h&&h.width;if(this.id=WO(),this.ctx=o,this.canvas=h,this.width=u,this.height=l,this._options=a,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new sB,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=oI(f=>this.update(f),a.resizeDelay||0),this._dataChanges=[],If[this.id]=this,!o||!h){console.error("Failed to create chart: can't acquire context from the given item");return}nn.listen(this,"complete",Qx),nn.listen(this,"progress",_B),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:i},width:r,height:n,_aspectRatio:s}=this;return St(e)?i&&s?s:n?r/n:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return Fr}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():Ax(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return Cx(this.canvas,this.ctx),this}stop(){return nn.stop(this),this}resize(e,i){nn.running(this)?this._resizeBeforeDraw={width:e,height:i}:this._resize(e,i)}_resize(e,i){const r=this.options,n=this.canvas,s=r.maintainAspectRatio&&this.aspectRatio,a=this.platform.getMaximumSize(n,e,i,s),o=r.devicePixelRatio||this.platform.getDevicePixelRatio(),h=this.width?"resize":"attach";this.width=a.width,this.height=a.height,this._aspectRatio=this.aspectRatio,Ax(this,o,!0)&&(this.notifyPlugins("resize",{size:a}),Rt(r.onResize,[this,a],this),this.attached&&this._doResize(h)&&this.render())}ensureScalesHaveIDs(){const i=this.options.scales||{};_t(i,(r,n)=>{r.id=n})}buildOrUpdateScales(){const e=this.options,i=e.scales,r=this.scales,n=Object.keys(r).reduce((a,o)=>(a[o]=!1,a),{});let s=[];i&&(s=s.concat(Object.keys(i).map(a=>{const o=i[a],h=tc(a,o),l=h==="r",u=h==="x";return{options:o,dposition:l?"chartArea":u?"bottom":"left",dtype:l?"radialLinear":u?"category":"linear"}}))),_t(s,a=>{const o=a.options,h=o.id,l=tc(h,o),u=mt(o.type,a.dtype);(o.position===void 0||jx(o.position,l)!==jx(a.dposition))&&(o.position=a.dposition),n[h]=!0;let f=null;if(h in r&&r[h].type===u)f=r[h];else{const c=Fr.getScale(u);f=new c({id:h,type:u,ctx:this.ctx,chart:this}),r[f.id]=f}f.init(o,e)}),_t(n,(a,o)=>{a||delete r[o]}),_t(r,a=>{qi.configure(this,a,a.options),qi.addBox(this,a)})}_updateMetasets(){const e=this._metasets,i=this.data.datasets.length,r=e.length;if(e.sort((n,s)=>n.index-s.index),r>i){for(let n=i;n<r;++n)this._destroyDatasetMeta(n);e.splice(i,r-i)}this._sortedMetasets=e.slice(0).sort(Zx("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:i}}=this;e.length>i.length&&delete this._stacks,e.forEach((r,n)=>{i.filter(s=>s===r._dataset).length===0&&this._destroyDatasetMeta(n)})}buildOrUpdateControllers(){const e=[],i=this.data.datasets;let r,n;for(this._removeUnreferencedMetasets(),r=0,n=i.length;r<n;r++){const s=i[r];let a=this.getDatasetMeta(r);const o=s.type||this.config.type;if(a.type&&a.type!==o&&(this._destroyDatasetMeta(r),a=this.getDatasetMeta(r)),a.type=o,a.indexAxis=s.indexAxis||bg(o,this.options),a.order=s.order||0,a.index=r,a.label=""+s.label,a.visible=this.isDatasetVisible(r),a.controller)a.controller.updateIndex(r),a.controller.linkScales();else{const h=Fr.getController(o),{datasetElementType:l,dataElementType:u}=Zt.datasets[o];Object.assign(h,{dataElementType:Fr.getElement(u),datasetElementType:l&&Fr.getElement(l)}),a.controller=new h(this,r),e.push(a.controller)}}return this._updateMetasets(),e}_resetElements(){_t(this.data.datasets,(e,i)=>{this.getDatasetMeta(i).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const i=this.config;i.update();const r=this._options=i.createResolver(i.chartOptionScopes(),this.getContext()),n=this._animationsDisabled=!r.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const s=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let a=0;for(let l=0,u=this.data.datasets.length;l<u;l++){const{controller:f}=this.getDatasetMeta(l),c=!n&&s.indexOf(f)===-1;f.buildOrUpdateElements(c),a=Math.max(+f.getMaxOverflow(),a)}a=this._minPadding=r.layout.autoPadding?a:0,this._updateLayout(a),n||_t(s,l=>{l.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(Zx("z","_idx"));const{_active:o,_lastEvent:h}=this;h?this._eventHandler(h,!0):o.length&&this._updateHoverStyles(o,o,!0),this.render()}_updateScales(){_t(this.scales,e=>{qi.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,i=new Set(Object.keys(this._listeners)),r=new Set(e.events);(!px(i,r)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,i=this._getUniformDataChanges()||[];for(const{method:r,start:n,count:s}of i){const a=r==="_removeElements"?-s:s;TB(e,n,a)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const i=this.data.datasets.length,r=s=>new Set(e.filter(a=>a[0]===s).map((a,o)=>o+","+a.splice(1).join(","))),n=r(0);for(let s=1;s<i;s++)if(!px(n,r(s)))return;return Array.from(n).map(s=>s.split(",")).map(s=>({method:s[1],start:+s[2],count:+s[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;qi.update(this,this.width,this.height,e);const i=this.chartArea,r=i.width<=0||i.height<=0;this._layers=[],_t(this.boxes,n=>{r&&n.position==="chartArea"||(n.configure&&n.configure(),this._layers.push(...n._layers()))},this),this._layers.forEach((n,s)=>{n._idx=s}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let i=0,r=this.data.datasets.length;i<r;++i)this.getDatasetMeta(i).controller.configure();for(let i=0,r=this.data.datasets.length;i<r;++i)this._updateDataset(i,gs(e)?e({datasetIndex:i}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,i){const r=this.getDatasetMeta(e),n={meta:r,index:e,mode:i,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",n)!==!1&&(r.controller._update(i),n.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",n))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(nn.has(this)?this.attached&&!nn.running(this)&&nn.start(this):(this.draw(),Qx({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:r,height:n}=this._resizeBeforeDraw;this._resize(r,n),this._resizeBeforeDraw=null}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const i=this._layers;for(e=0;e<i.length&&i[e].z<=0;++e)i[e].draw(this.chartArea);for(this._drawDatasets();e<i.length;++e)i[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const i=this._sortedMetasets,r=[];let n,s;for(n=0,s=i.length;n<s;++n){const a=i[n];(!e||a.visible)&&r.push(a)}return r}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let i=e.length-1;i>=0;--i)this._drawDataset(e[i]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const i=this.ctx,r=e._clip,n=!r.disabled,s=SB(e)||this.chartArea,a={meta:e,index:e.index,cancelable:!0};this.notifyPlugins("beforeDatasetDraw",a)!==!1&&(n&&Wm(i,{left:r.left===!1?0:s.left-r.left,right:r.right===!1?this.width:s.right+r.right,top:r.top===!1?0:s.top-r.top,bottom:r.bottom===!1?this.height:s.bottom+r.bottom}),e.controller.draw(),n&&Xm(i),a.cancelable=!1,this.notifyPlugins("afterDatasetDraw",a))}isPointInArea(e){return fP(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,i,r,n){const s=_D.modes[i];return typeof s=="function"?s(this,e,r,n):[]}getDatasetMeta(e){const i=this.data.datasets[e],r=this._metasets;let n=r.filter(s=>s&&s._dataset===i).pop();return n||(n={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:i&&i.order||0,index:e,_dataset:i,_parsed:[],_sorted:!1},r.push(n)),n}getContext(){return this.$context||(this.$context=ua(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const i=this.data.datasets[e];if(!i)return!1;const r=this.getDatasetMeta(e);return typeof r.hidden=="boolean"?!r.hidden:!i.hidden}setDatasetVisibility(e,i){const r=this.getDatasetMeta(e);r.hidden=!i}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,i,r){const n=r?"show":"hide",s=this.getDatasetMeta(e),a=s.controller._resolveAnimations(void 0,n);Ki(i)?(s.data[i].hidden=!r,this.update()):(this.setDatasetVisibility(e,r),a.update(s,{visible:r}),this.update(o=>o.datasetIndex===e?n:void 0))}hide(e,i){this._updateVisibility(e,i,!1)}show(e,i){this._updateVisibility(e,i,!0)}_destroyDatasetMeta(e){const i=this._metasets[e];i&&i.controller&&i.controller._destroy(),delete this._metasets[e]}_stop(){let e,i;for(this.stop(),nn.remove(this),e=0,i=this.data.datasets.length;e<i;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:i}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),Cx(e,i),this.platform.releaseContext(i),this.canvas=null,this.ctx=null),delete If[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,i=this.platform,r=(s,a)=>{i.addEventListener(this,s,a),e[s]=a},n=(s,a,o)=>{s.offsetX=a,s.offsetY=o,this._eventHandler(s)};_t(this.options.events,s=>r(s,n))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,i=this.platform,r=(h,l)=>{i.addEventListener(this,h,l),e[h]=l},n=(h,l)=>{e[h]&&(i.removeEventListener(this,h,l),delete e[h])},s=(h,l)=>{this.canvas&&this.resize(h,l)};let a;const o=()=>{n("attach",o),this.attached=!0,this.resize(),r("resize",s),r("detach",a)};a=()=>{this.attached=!1,n("resize",s),this._stop(),this._resize(0,0),r("attach",o)},i.isAttached(this.canvas)?o():a()}unbindEvents(){_t(this._listeners,(e,i)=>{this.platform.removeEventListener(this,i,e)}),this._listeners={},_t(this._responsiveListeners,(e,i)=>{this.platform.removeEventListener(this,i,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,i,r){const n=r?"set":"remove";let s,a,o,h;for(i==="dataset"&&(s=this.getDatasetMeta(e[0].datasetIndex),s.controller["_"+n+"DatasetHoverStyle"]()),o=0,h=e.length;o<h;++o){a=e[o];const l=a&&this.getDatasetMeta(a.datasetIndex).controller;l&&l[n+"HoverStyle"](a.element,a.datasetIndex,a.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const i=this._active||[],r=e.map(({datasetIndex:s,index:a})=>{const o=this.getDatasetMeta(s);if(!o)throw new Error("No dataset found at index "+s);return{datasetIndex:s,element:o.data[a],index:a}});!Hf(r,i)&&(this._active=r,this._lastEvent=null,this._updateHoverStyles(r,i))}notifyPlugins(e,i,r){return this._plugins.notify(this,e,i,r)}isPluginEnabled(e){return this._plugins._cache.filter(i=>i.plugin.id===e).length===1}_updateHoverStyles(e,i,r){const n=this.options.hover,s=(h,l)=>h.filter(u=>!l.some(f=>u.datasetIndex===f.datasetIndex&&u.index===f.index)),a=s(i,e),o=r?e:s(e,i);a.length&&this.updateHoverStyle(a,n.mode,!1),o.length&&n.mode&&this.updateHoverStyle(o,n.mode,!0)}_eventHandler(e,i){const r={event:e,replay:i,cancelable:!0,inChartArea:this.isPointInArea(e)},n=a=>(a.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",r,n)===!1)return;const s=this._handleEvent(e,i,r.inChartArea);return r.cancelable=!1,this.notifyPlugins("afterEvent",r,n),(s||r.changed)&&this.render(),this}_handleEvent(e,i,r){const{_active:n=[],options:s}=this,a=i,o=this._getActiveElements(e,n,r,a),h=JO(e),l=wB(e,this._lastEvent,r,h);r&&(this._lastEvent=null,Rt(s.onHover,[e,o,this],this),h&&Rt(s.onClick,[e,o,this],this));const u=!Hf(o,n);return(u||i)&&(this._active=o,this._updateHoverStyles(o,n,i)),this._lastEvent=l,u}_getActiveElements(e,i,r,n){if(e.type==="mouseout")return[];if(!r)return i;const s=this.options.hover;return this.getElementsAtEventForMode(e,s.mode,s,n)}}it($r,"defaults",Zt),it($r,"instances",If),it($r,"overrides",aa),it($r,"registry",Fr),it($r,"version",yB),it($r,"getChart",t1);function e1(){return _t($r.instances,t=>t._plugins.invalidate())}function $P(t,e){const{x:i,y:r,base:n,width:s,height:a}=t.getProps(["x","y","base","width","height"],e);let o,h,l,u,f;return t.horizontal?(f=a/2,o=Math.min(i,n),h=Math.max(i,n),l=r-f,u=r+f):(f=s/2,o=i-f,h=i+f,l=Math.min(r,n),u=Math.max(r,n)),{left:o,top:l,right:h,bottom:u}}function ls(t,e,i,r){return t?0:dr(e,i,r)}function CB(t,e,i){const r=t.options.borderWidth,n=t.borderSkipped,s=dP(r);return{t:ls(n.top,s.top,0,i),r:ls(n.right,s.right,0,e),b:ls(n.bottom,s.bottom,0,i),l:ls(n.left,s.left,0,e)}}function bB(t,e,i){const{enableBorderRadius:r}=t.getProps(["enableBorderRadius"]),n=t.options.borderRadius,s=ia(n),a=Math.min(e,i),o=t.borderSkipped,h=r||pt(n);return{topLeft:ls(!h||o.top||o.left,s.topLeft,0,a),topRight:ls(!h||o.top||o.right,s.topRight,0,a),bottomLeft:ls(!h||o.bottom||o.left,s.bottomLeft,0,a),bottomRight:ls(!h||o.bottom||o.right,s.bottomRight,0,a)}}function MB(t){const e=$P(t),i=e.right-e.left,r=e.bottom-e.top,n=CB(t,i/2,r/2),s=bB(t,i/2,r/2);return{outer:{x:e.left,y:e.top,w:i,h:r,radius:s},inner:{x:e.left+n.l,y:e.top+n.t,w:i-n.l-n.r,h:r-n.t-n.b,radius:{topLeft:Math.max(0,s.topLeft-Math.max(n.t,n.l)),topRight:Math.max(0,s.topRight-Math.max(n.t,n.r)),bottomLeft:Math.max(0,s.bottomLeft-Math.max(n.b,n.l)),bottomRight:Math.max(0,s.bottomRight-Math.max(n.b,n.r))}}}}function xd(t,e,i,r){const n=e===null,s=i===null,o=t&&!(n&&s)&&$P(t,r);return o&&(n||ho(e,o.left,o.right))&&(s||ho(i,o.top,o.bottom))}function PB(t){return t.topLeft||t.topRight||t.bottomLeft||t.bottomRight}function AB(t,e){t.rect(e.x,e.y,e.w,e.h)}function _d(t,e,i={}){const r=t.x!==i.x?-e:0,n=t.y!==i.y?-e:0,s=(t.x+t.w!==i.x+i.w?e:0)-r,a=(t.y+t.h!==i.y+i.h?e:0)-n;return{x:t.x+r,y:t.y+n,w:t.w+s,h:t.h+a,radius:t.radius}}class Df extends ms{constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:i,options:{borderColor:r,backgroundColor:n}}=this,{inner:s,outer:a}=MB(this),o=PB(a.radius)?Jh:AB;e.save(),(a.w!==s.w||a.h!==s.h)&&(e.beginPath(),o(e,_d(a,i,s)),e.clip(),o(e,_d(s,-i,a)),e.fillStyle=r,e.fill("evenodd")),e.beginPath(),o(e,_d(s,i)),e.fillStyle=n,e.fill(),e.restore()}inRange(e,i,r){return xd(this,e,i,r)}inXRange(e,i){return xd(this,e,null,i)}inYRange(e,i){return xd(this,null,e,i)}getCenterPoint(e){const{x:i,y:r,base:n,horizontal:s}=this.getProps(["x","y","base","horizontal"],e);return{x:s?(i+n)/2:i,y:s?r:(r+n)/2}}getRange(e){return e==="x"?this.width/2:this.height/2}}it(Df,"id","bar"),it(Df,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),it(Df,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});const i1=(t,e)=>{let{boxHeight:i=e,boxWidth:r=e}=t;return t.usePointStyle&&(i=Math.min(i,e),r=t.pointStyleWidth||Math.min(r,e)),{boxWidth:r,boxHeight:i,itemHeight:Math.max(e,i)}},RB=(t,e)=>t!==null&&e!==null&&t.datasetIndex===e.datasetIndex&&t.index===e.index;class r1 extends ms{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,i,r){this.maxWidth=e,this.maxHeight=i,this._margins=r,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let i=Rt(e.generateLabels,[this.chart],this)||[];e.filter&&(i=i.filter(r=>e.filter(r,this.chart.data))),e.sort&&(i=i.sort((r,n)=>e.sort(r,n,this.chart.data))),this.options.reverse&&i.reverse(),this.legendItems=i}fit(){const{options:e,ctx:i}=this;if(!e.display){this.width=this.height=0;return}const r=e.labels,n=ue(r.font),s=n.size,a=this._computeTitleHeight(),{boxWidth:o,itemHeight:h}=i1(r,s);let l,u;i.font=n.string,this.isHorizontal()?(l=this.maxWidth,u=this._fitRows(a,s,o,h)+10):(u=this.maxHeight,l=this._fitCols(a,n,o,h)+10),this.width=Math.min(l,e.maxWidth||this.maxWidth),this.height=Math.min(u,e.maxHeight||this.maxHeight)}_fitRows(e,i,r,n){const{ctx:s,maxWidth:a,options:{labels:{padding:o}}}=this,h=this.legendHitBoxes=[],l=this.lineWidths=[0],u=n+o;let f=e;s.textAlign="left",s.textBaseline="middle";let c=-1,d=-u;return this.legendItems.forEach((g,v)=>{const p=r+i/2+s.measureText(g.text).width;(v===0||l[l.length-1]+p+2*o>a)&&(f+=u,l[l.length-(v>0?0:1)]=0,d+=u,c++),h[v]={left:0,top:d,row:c,width:p,height:n},l[l.length-1]+=p+o}),f}_fitCols(e,i,r,n){const{ctx:s,maxHeight:a,options:{labels:{padding:o}}}=this,h=this.legendHitBoxes=[],l=this.columnSizes=[],u=a-e;let f=o,c=0,d=0,g=0,v=0;return this.legendItems.forEach((p,m)=>{const{itemWidth:y,itemHeight:x}=FB(r,i,s,p,n);m>0&&d+x+2*o>u&&(f+=c+o,l.push({width:c,height:d}),g+=c+o,v++,c=d=0),h[m]={left:g,top:d,col:v,width:y,height:x},c=Math.max(c,y),d+=x+o}),f+=c,l.push({width:c,height:d}),f}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:i,options:{align:r,labels:{padding:n},rtl:s}}=this,a=fo(s,this.left,this.width);if(this.isHorizontal()){let o=0,h=Ne(r,this.left+n,this.right-this.lineWidths[o]);for(const l of i)o!==l.row&&(o=l.row,h=Ne(r,this.left+n,this.right-this.lineWidths[o])),l.top+=this.top+e+n,l.left=a.leftForLtr(a.x(h),l.width),h+=l.width+n}else{let o=0,h=Ne(r,this.top+e+n,this.bottom-this.columnSizes[o].height);for(const l of i)l.col!==o&&(o=l.col,h=Ne(r,this.top+e+n,this.bottom-this.columnSizes[o].height)),l.top=h,l.left+=this.left+n,l.left=a.leftForLtr(a.x(l.left),l.width),h+=l.height+n}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;Wm(e,this),this._draw(),Xm(e)}}_draw(){const{options:e,columnSizes:i,lineWidths:r,ctx:n}=this,{align:s,labels:a}=e,o=Zt.color,h=fo(e.rtl,this.left,this.width),l=ue(a.font),{padding:u}=a,f=l.size,c=f/2;let d;this.drawTitle(),n.textAlign=h.textAlign("left"),n.textBaseline="middle",n.lineWidth=.5,n.font=l.string;const{boxWidth:g,boxHeight:v,itemHeight:p}=i1(a,f),m=function(w,S,C){if(isNaN(g)||g<=0||isNaN(v)||v<0)return;n.save();const R=mt(C.lineWidth,1);if(n.fillStyle=mt(C.fillStyle,o),n.lineCap=mt(C.lineCap,"butt"),n.lineDashOffset=mt(C.lineDashOffset,0),n.lineJoin=mt(C.lineJoin,"miter"),n.lineWidth=R,n.strokeStyle=mt(C.strokeStyle,o),n.setLineDash(mt(C.lineDash,[])),a.usePointStyle){const L={radius:v*Math.SQRT2/2,pointStyle:C.pointStyle,rotation:C.rotation,borderWidth:R},E=h.xPlus(w,g/2),O=S+c;uP(n,L,E,O,a.pointStyleWidth&&g)}else{const L=S+Math.max((f-v)/2,0),E=h.leftForLtr(w,g),O=ia(C.borderRadius);n.beginPath(),Object.values(O).some(A=>A!==0)?Jh(n,{x:E,y:L,w:g,h:v,radius:O}):n.rect(E,L,g,v),n.fill(),R!==0&&n.stroke()}n.restore()},y=function(w,S,C){oa(n,C.text,w,S+p/2,l,{strikethrough:C.hidden,textAlign:h.textAlign(C.textAlign)})},x=this.isHorizontal(),T=this._computeTitleHeight();x?d={x:Ne(s,this.left+u,this.right-r[0]),y:this.top+u+T,line:0}:d={x:this.left+u,y:Ne(s,this.top+T+u,this.bottom-i[0].height),line:0},xP(this.ctx,e.textDirection);const _=p+u;this.legendItems.forEach((w,S)=>{n.strokeStyle=w.fontColor,n.fillStyle=w.fontColor;const C=n.measureText(w.text).width,R=h.textAlign(w.textAlign||(w.textAlign=a.textAlign)),L=g+c+C;let E=d.x,O=d.y;h.setWidth(this.width),x?S>0&&E+L+u>this.right&&(O=d.y+=_,d.line++,E=d.x=Ne(s,this.left+u,this.right-r[d.line])):S>0&&O+_>this.bottom&&(E=d.x=E+i[d.line].width+u,d.line++,O=d.y=Ne(s,this.top+T+u,this.bottom-i[d.line].height));const A=h.x(E);if(m(A,O,w),E=hI(R,E+g+c,x?E+L:this.right,e.rtl),y(h.x(E),O,w),x)d.x+=L+u;else if(typeof w.text!="string"){const F=l.lineHeight;d.y+=OP(w,F)}else d.y+=_}),_P(this.ctx,e.textDirection)}drawTitle(){const e=this.options,i=e.title,r=ue(i.font),n=Ye(i.padding);if(!i.display)return;const s=fo(e.rtl,this.left,this.width),a=this.ctx,o=i.position,h=r.size/2,l=n.top+h;let u,f=this.left,c=this.width;if(this.isHorizontal())c=Math.max(...this.lineWidths),u=this.top+l,f=Ne(e.align,f,this.right-c);else{const g=this.columnSizes.reduce((v,p)=>Math.max(v,p.height),0);u=l+Ne(e.align,this.top,this.bottom-g-e.labels.padding-this._computeTitleHeight())}const d=Ne(o,f,f+c);a.textAlign=s.textAlign(Ym(o)),a.textBaseline="middle",a.strokeStyle=i.color,a.fillStyle=i.color,a.font=r.string,oa(a,i.text,d,u,r)}_computeTitleHeight(){const e=this.options.title,i=ue(e.font),r=Ye(e.padding);return e.display?i.lineHeight+r.height:0}_getLegendItemAt(e,i){let r,n,s;if(ho(e,this.left,this.right)&&ho(i,this.top,this.bottom)){for(s=this.legendHitBoxes,r=0;r<s.length;++r)if(n=s[r],ho(e,n.left,n.left+n.width)&&ho(i,n.top,n.top+n.height))return this.legendItems[r]}return null}handleEvent(e){const i=this.options;if(!$B(e.type,i))return;const r=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const n=this._hoveredItem,s=RB(n,r);n&&!s&&Rt(i.onLeave,[e,n,this],this),this._hoveredItem=r,r&&!s&&Rt(i.onHover,[e,r,this],this)}else r&&Rt(i.onClick,[e,r,this],this)}}function FB(t,e,i,r,n){const s=EB(r,t,e,i),a=LB(n,r,e.lineHeight);return{itemWidth:s,itemHeight:a}}function EB(t,e,i,r){let n=t.text;return n&&typeof n!="string"&&(n=n.reduce((s,a)=>s.length>a.length?s:a)),e+i.size/2+r.measureText(n).width}function LB(t,e,i){let r=t;return typeof e.text!="string"&&(r=OP(e,i)),r}function OP(t,e){const i=t.text?t.text.length+.5:0;return e*i}function $B(t,e){return!!((t==="mousemove"||t==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(t==="click"||t==="mouseup"))}var OB={id:"legend",_element:r1,start(t,e,i){const r=t.legend=new r1({ctx:t.ctx,options:i,chart:t});qi.configure(t,r,i),qi.addBox(t,r)},stop(t){qi.removeBox(t,t.legend),delete t.legend},beforeUpdate(t,e,i){const r=t.legend;qi.configure(t,r,i),r.options=i},afterUpdate(t){const e=t.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(t,e){e.replay||t.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(t,e,i){const r=e.datasetIndex,n=i.chart;n.isDatasetVisible(r)?(n.hide(r),e.hidden=!0):(n.show(r),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:t=>t.chart.options.color,boxWidth:40,padding:10,generateLabels(t){const e=t.data.datasets,{labels:{usePointStyle:i,pointStyle:r,textAlign:n,color:s,useBorderRadius:a,borderRadius:o}}=t.legend.options;return t._getSortedDatasetMetas().map(h=>{const l=h.controller.getStyle(i?0:void 0),u=Ye(l.borderWidth);return{text:e[h.index].label,fillStyle:l.backgroundColor,fontColor:s,hidden:!h.visible,lineCap:l.borderCapStyle,lineDash:l.borderDash,lineDashOffset:l.borderDashOffset,lineJoin:l.borderJoinStyle,lineWidth:(u.width+u.height)/4,strokeStyle:l.borderColor,pointStyle:r||l.pointStyle,rotation:l.rotation,textAlign:n||l.textAlign,borderRadius:a&&(o||l.borderRadius),datasetIndex:h.index}},this)}},title:{color:t=>t.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:t=>!t.startsWith("on"),labels:{_scriptable:t=>!["generateLabels","filter","sort"].includes(t)}}};class IP extends ms{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,i){const r=this.options;if(this.left=0,this.top=0,!r.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=i;const n=Yt(r.text)?r.text.length:1;this._padding=Ye(r.padding);const s=n*ue(r.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=s:this.width=s}isHorizontal(){const e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){const{top:i,left:r,bottom:n,right:s,options:a}=this,o=a.align;let h=0,l,u,f;return this.isHorizontal()?(u=Ne(o,r,s),f=i+e,l=s-r):(a.position==="left"?(u=r+e,f=Ne(o,n,i),h=Pe*-.5):(u=s-e,f=Ne(o,i,n),h=Pe*.5),l=n-i),{titleX:u,titleY:f,maxWidth:l,rotation:h}}draw(){const e=this.ctx,i=this.options;if(!i.display)return;const r=ue(i.font),s=r.lineHeight/2+this._padding.top,{titleX:a,titleY:o,maxWidth:h,rotation:l}=this._drawArgs(s);oa(e,i.text,0,0,r,{color:i.color,maxWidth:h,rotation:l,textAlign:Ym(i.align),textBaseline:"middle",translation:[a,o]})}}function IB(t,e){const i=new IP({ctx:t.ctx,options:e,chart:t});qi.configure(t,i,e),qi.addBox(t,i),t.titleBlock=i}var DB={id:"title",_element:IP,start(t,e,i){IB(t,i)},stop(t){const e=t.titleBlock;qi.removeBox(t,e),delete t.titleBlock},beforeUpdate(t,e,i){const r=t.titleBlock;qi.configure(t,r,i),r.options=i},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Oh={average(t){if(!t.length)return!1;let e,i,r=0,n=0,s=0;for(e=0,i=t.length;e<i;++e){const a=t[e].element;if(a&&a.hasValue()){const o=a.tooltipPosition();r+=o.x,n+=o.y,++s}}return{x:r/s,y:n/s}},nearest(t,e){if(!t.length)return!1;let i=e.x,r=e.y,n=Number.POSITIVE_INFINITY,s,a,o;for(s=0,a=t.length;s<a;++s){const h=t[s].element;if(h&&h.hasValue()){const l=h.getCenterPoint(),u=eI(e,l);u<n&&(n=u,o=h)}}if(o){const h=o.tooltipPosition();i=h.x,r=h.y}return{x:i,y:r}}};function Ar(t,e){return e&&(Yt(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function sn(t){return(typeof t=="string"||t instanceof String)&&t.indexOf(`
`)>-1?t.split(`
`):t}function BB(t,e){const{element:i,datasetIndex:r,index:n}=e,s=t.getDatasetMeta(r).controller,{label:a,value:o}=s.getLabelAndValue(n);return{chart:t,label:a,parsed:s.getParsed(n),raw:t.data.datasets[r].data[n],formattedValue:o,dataset:s.getDataset(),dataIndex:n,datasetIndex:r,element:i}}function n1(t,e){const i=t.chart.ctx,{body:r,footer:n,title:s}=t,{boxWidth:a,boxHeight:o}=e,h=ue(e.bodyFont),l=ue(e.titleFont),u=ue(e.footerFont),f=s.length,c=n.length,d=r.length,g=Ye(e.padding);let v=g.height,p=0,m=r.reduce((T,_)=>T+_.before.length+_.lines.length+_.after.length,0);if(m+=t.beforeBody.length+t.afterBody.length,f&&(v+=f*l.lineHeight+(f-1)*e.titleSpacing+e.titleMarginBottom),m){const T=e.displayColors?Math.max(o,h.lineHeight):h.lineHeight;v+=d*T+(m-d)*h.lineHeight+(m-1)*e.bodySpacing}c&&(v+=e.footerMarginTop+c*u.lineHeight+(c-1)*e.footerSpacing);let y=0;const x=function(T){p=Math.max(p,i.measureText(T).width+y)};return i.save(),i.font=l.string,_t(t.title,x),i.font=h.string,_t(t.beforeBody.concat(t.afterBody),x),y=e.displayColors?a+2+e.boxPadding:0,_t(r,T=>{_t(T.before,x),_t(T.lines,x),_t(T.after,x)}),y=0,i.font=u.string,_t(t.footer,x),i.restore(),p+=g.width,{width:p,height:v}}function kB(t,e){const{y:i,height:r}=e;return i<r/2?"top":i>t.height-r/2?"bottom":"center"}function GB(t,e,i,r){const{x:n,width:s}=r,a=i.caretSize+i.caretPadding;if(t==="left"&&n+s+a>e.width||t==="right"&&n-s-a<0)return!0}function zB(t,e,i,r){const{x:n,width:s}=i,{width:a,chartArea:{left:o,right:h}}=t;let l="center";return r==="center"?l=n<=(o+h)/2?"left":"right":n<=s/2?l="left":n>=a-s/2&&(l="right"),GB(l,t,e,i)&&(l="center"),l}function s1(t,e,i){const r=i.yAlign||e.yAlign||kB(t,i);return{xAlign:i.xAlign||e.xAlign||zB(t,e,i,r),yAlign:r}}function NB(t,e){let{x:i,width:r}=t;return e==="right"?i-=r:e==="center"&&(i-=r/2),i}function YB(t,e,i){let{y:r,height:n}=t;return e==="top"?r+=i:e==="bottom"?r-=n+i:r-=n/2,r}function a1(t,e,i,r){const{caretSize:n,caretPadding:s,cornerRadius:a}=t,{xAlign:o,yAlign:h}=i,l=n+s,{topLeft:u,topRight:f,bottomLeft:c,bottomRight:d}=ia(a);let g=NB(e,o);const v=YB(e,h,l);return h==="center"?o==="left"?g+=l:o==="right"&&(g-=l):o==="left"?g-=Math.max(u,c)+n:o==="right"&&(g+=Math.max(f,d)+n),{x:dr(g,0,r.width-e.width),y:dr(v,0,r.height-e.height)}}function Zl(t,e,i){const r=Ye(i.padding);return e==="center"?t.x+t.width/2:e==="right"?t.x+t.width-r.right:t.x+r.left}function o1(t){return Ar([],sn(t))}function VB(t,e,i){return ua(t,{tooltip:e,tooltipItems:i,type:"tooltip"})}function h1(t,e){const i=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return i?t.override(i):t}const DP={beforeTitle:Ur,title(t){if(t.length>0){const e=t[0],i=e.chart.data.labels,r=i?i.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(r>0&&e.dataIndex<r)return i[e.dataIndex]}return""},afterTitle:Ur,beforeBody:Ur,beforeLabel:Ur,label(t){if(this&&this.options&&this.options.mode==="dataset")return t.label+": "+t.formattedValue||t.formattedValue;let e=t.dataset.label||"";e&&(e+=": ");const i=t.formattedValue;return St(i)||(e+=i),e},labelColor(t){const i=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{borderColor:i.borderColor,backgroundColor:i.backgroundColor,borderWidth:i.borderWidth,borderDash:i.borderDash,borderDashOffset:i.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(t){const i=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{pointStyle:i.pointStyle,rotation:i.rotation}},afterLabel:Ur,afterBody:Ur,beforeFooter:Ur,footer:Ur,afterFooter:Ur};function ni(t,e,i,r){const n=t[e].call(i,r);return typeof n>"u"?DP[e].call(i,r):n}class Mg extends ms{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const i=this.chart,r=this.options.setContext(this.getContext()),n=r.enabled&&i.options.animation&&r.animations,s=new TP(this.chart,n);return n._cacheable&&(this._cachedAnimations=Object.freeze(s)),s}getContext(){return this.$context||(this.$context=VB(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,i){const{callbacks:r}=i,n=ni(r,"beforeTitle",this,e),s=ni(r,"title",this,e),a=ni(r,"afterTitle",this,e);let o=[];return o=Ar(o,sn(n)),o=Ar(o,sn(s)),o=Ar(o,sn(a)),o}getBeforeBody(e,i){return o1(ni(i.callbacks,"beforeBody",this,e))}getBody(e,i){const{callbacks:r}=i,n=[];return _t(e,s=>{const a={before:[],lines:[],after:[]},o=h1(r,s);Ar(a.before,sn(ni(o,"beforeLabel",this,s))),Ar(a.lines,ni(o,"label",this,s)),Ar(a.after,sn(ni(o,"afterLabel",this,s))),n.push(a)}),n}getAfterBody(e,i){return o1(ni(i.callbacks,"afterBody",this,e))}getFooter(e,i){const{callbacks:r}=i,n=ni(r,"beforeFooter",this,e),s=ni(r,"footer",this,e),a=ni(r,"afterFooter",this,e);let o=[];return o=Ar(o,sn(n)),o=Ar(o,sn(s)),o=Ar(o,sn(a)),o}_createItems(e){const i=this._active,r=this.chart.data,n=[],s=[],a=[];let o=[],h,l;for(h=0,l=i.length;h<l;++h)o.push(BB(this.chart,i[h]));return e.filter&&(o=o.filter((u,f,c)=>e.filter(u,f,c,r))),e.itemSort&&(o=o.sort((u,f)=>e.itemSort(u,f,r))),_t(o,u=>{const f=h1(e.callbacks,u);n.push(ni(f,"labelColor",this,u)),s.push(ni(f,"labelPointStyle",this,u)),a.push(ni(f,"labelTextColor",this,u))}),this.labelColors=n,this.labelPointStyles=s,this.labelTextColors=a,this.dataPoints=o,o}update(e,i){const r=this.options.setContext(this.getContext()),n=this._active;let s,a=[];if(!n.length)this.opacity!==0&&(s={opacity:0});else{const o=Oh[r.position].call(this,n,this._eventPosition);a=this._createItems(r),this.title=this.getTitle(a,r),this.beforeBody=this.getBeforeBody(a,r),this.body=this.getBody(a,r),this.afterBody=this.getAfterBody(a,r),this.footer=this.getFooter(a,r);const h=this._size=n1(this,r),l=Object.assign({},o,h),u=s1(this.chart,r,l),f=a1(r,l,u,this.chart);this.xAlign=u.xAlign,this.yAlign=u.yAlign,s={opacity:1,x:f.x,y:f.y,width:h.width,height:h.height,caretX:o.x,caretY:o.y}}this._tooltipItems=a,this.$context=void 0,s&&this._resolveAnimations().update(this,s),e&&r.external&&r.external.call(this,{chart:this.chart,tooltip:this,replay:i})}drawCaret(e,i,r,n){const s=this.getCaretPosition(e,r,n);i.lineTo(s.x1,s.y1),i.lineTo(s.x2,s.y2),i.lineTo(s.x3,s.y3)}getCaretPosition(e,i,r){const{xAlign:n,yAlign:s}=this,{caretSize:a,cornerRadius:o}=r,{topLeft:h,topRight:l,bottomLeft:u,bottomRight:f}=ia(o),{x:c,y:d}=e,{width:g,height:v}=i;let p,m,y,x,T,_;return s==="center"?(T=d+v/2,n==="left"?(p=c,m=p-a,x=T+a,_=T-a):(p=c+g,m=p+a,x=T-a,_=T+a),y=p):(n==="left"?m=c+Math.max(h,u)+a:n==="right"?m=c+g-Math.max(l,f)-a:m=this.caretX,s==="top"?(x=d,T=x-a,p=m-a,y=m+a):(x=d+v,T=x+a,p=m+a,y=m-a),_=x),{x1:p,x2:m,x3:y,y1:x,y2:T,y3:_}}drawTitle(e,i,r){const n=this.title,s=n.length;let a,o,h;if(s){const l=fo(r.rtl,this.x,this.width);for(e.x=Zl(this,r.titleAlign,r),i.textAlign=l.textAlign(r.titleAlign),i.textBaseline="middle",a=ue(r.titleFont),o=r.titleSpacing,i.fillStyle=r.titleColor,i.font=a.string,h=0;h<s;++h)i.fillText(n[h],l.x(e.x),e.y+a.lineHeight/2),e.y+=a.lineHeight+o,h+1===s&&(e.y+=r.titleMarginBottom-o)}}_drawColorBox(e,i,r,n,s){const a=this.labelColors[r],o=this.labelPointStyles[r],{boxHeight:h,boxWidth:l,boxPadding:u}=s,f=ue(s.bodyFont),c=Zl(this,"left",s),d=n.x(c),g=h<f.lineHeight?(f.lineHeight-h)/2:0,v=i.y+g;if(s.usePointStyle){const p={radius:Math.min(l,h)/2,pointStyle:o.pointStyle,rotation:o.rotation,borderWidth:1},m=n.leftForLtr(d,l)+l/2,y=v+h/2;e.strokeStyle=s.multiKeyBackground,e.fillStyle=s.multiKeyBackground,bx(e,p,m,y),e.strokeStyle=a.borderColor,e.fillStyle=a.backgroundColor,bx(e,p,m,y)}else{e.lineWidth=pt(a.borderWidth)?Math.max(...Object.values(a.borderWidth)):a.borderWidth||1,e.strokeStyle=a.borderColor,e.setLineDash(a.borderDash||[]),e.lineDashOffset=a.borderDashOffset||0;const p=n.leftForLtr(d,l-u),m=n.leftForLtr(n.xPlus(d,1),l-u-2),y=ia(a.borderRadius);Object.values(y).some(x=>x!==0)?(e.beginPath(),e.fillStyle=s.multiKeyBackground,Jh(e,{x:p,y:v,w:l,h,radius:y}),e.fill(),e.stroke(),e.fillStyle=a.backgroundColor,e.beginPath(),Jh(e,{x:m,y:v+1,w:l-2,h:h-2,radius:y}),e.fill()):(e.fillStyle=s.multiKeyBackground,e.fillRect(p,v,l,h),e.strokeRect(p,v,l,h),e.fillStyle=a.backgroundColor,e.fillRect(m,v+1,l-2,h-2))}e.fillStyle=this.labelTextColors[r]}drawBody(e,i,r){const{body:n}=this,{bodySpacing:s,bodyAlign:a,displayColors:o,boxHeight:h,boxWidth:l,boxPadding:u}=r,f=ue(r.bodyFont);let c=f.lineHeight,d=0;const g=fo(r.rtl,this.x,this.width),v=function(C){i.fillText(C,g.x(e.x+d),e.y+c/2),e.y+=c+s},p=g.textAlign(a);let m,y,x,T,_,w,S;for(i.textAlign=a,i.textBaseline="middle",i.font=f.string,e.x=Zl(this,p,r),i.fillStyle=r.bodyColor,_t(this.beforeBody,v),d=o&&p!=="right"?a==="center"?l/2+u:l+2+u:0,T=0,w=n.length;T<w;++T){for(m=n[T],y=this.labelTextColors[T],i.fillStyle=y,_t(m.before,v),x=m.lines,o&&x.length&&(this._drawColorBox(i,e,T,g,r),c=Math.max(f.lineHeight,h)),_=0,S=x.length;_<S;++_)v(x[_]),c=f.lineHeight;_t(m.after,v)}d=0,c=f.lineHeight,_t(this.afterBody,v),e.y-=s}drawFooter(e,i,r){const n=this.footer,s=n.length;let a,o;if(s){const h=fo(r.rtl,this.x,this.width);for(e.x=Zl(this,r.footerAlign,r),e.y+=r.footerMarginTop,i.textAlign=h.textAlign(r.footerAlign),i.textBaseline="middle",a=ue(r.footerFont),i.fillStyle=r.footerColor,i.font=a.string,o=0;o<s;++o)i.fillText(n[o],h.x(e.x),e.y+a.lineHeight/2),e.y+=a.lineHeight+r.footerSpacing}}drawBackground(e,i,r,n){const{xAlign:s,yAlign:a}=this,{x:o,y:h}=e,{width:l,height:u}=r,{topLeft:f,topRight:c,bottomLeft:d,bottomRight:g}=ia(n.cornerRadius);i.fillStyle=n.backgroundColor,i.strokeStyle=n.borderColor,i.lineWidth=n.borderWidth,i.beginPath(),i.moveTo(o+f,h),a==="top"&&this.drawCaret(e,i,r,n),i.lineTo(o+l-c,h),i.quadraticCurveTo(o+l,h,o+l,h+c),a==="center"&&s==="right"&&this.drawCaret(e,i,r,n),i.lineTo(o+l,h+u-g),i.quadraticCurveTo(o+l,h+u,o+l-g,h+u),a==="bottom"&&this.drawCaret(e,i,r,n),i.lineTo(o+d,h+u),i.quadraticCurveTo(o,h+u,o,h+u-d),a==="center"&&s==="left"&&this.drawCaret(e,i,r,n),i.lineTo(o,h+f),i.quadraticCurveTo(o,h,o+f,h),i.closePath(),i.fill(),n.borderWidth>0&&i.stroke()}_updateAnimationTarget(e){const i=this.chart,r=this.$animations,n=r&&r.x,s=r&&r.y;if(n||s){const a=Oh[e.position].call(this,this._active,this._eventPosition);if(!a)return;const o=this._size=n1(this,e),h=Object.assign({},a,this._size),l=s1(i,e,h),u=a1(e,h,l,i);(n._to!==u.x||s._to!==u.y)&&(this.xAlign=l.xAlign,this.yAlign=l.yAlign,this.width=o.width,this.height=o.height,this.caretX=a.x,this.caretY=a.y,this._resolveAnimations().update(this,u))}}_willRender(){return!!this.opacity}draw(e){const i=this.options.setContext(this.getContext());let r=this.opacity;if(!r)return;this._updateAnimationTarget(i);const n={width:this.width,height:this.height},s={x:this.x,y:this.y};r=Math.abs(r)<.001?0:r;const a=Ye(i.padding),o=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;i.enabled&&o&&(e.save(),e.globalAlpha=r,this.drawBackground(s,e,n,i),xP(e,i.textDirection),s.y+=a.top,this.drawTitle(s,e,i),this.drawBody(s,e,i),this.drawFooter(s,e,i),_P(e,i.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,i){const r=this._active,n=e.map(({datasetIndex:o,index:h})=>{const l=this.chart.getDatasetMeta(o);if(!l)throw new Error("Cannot find a dataset at index "+o);return{datasetIndex:o,element:l.data[h],index:h}}),s=!Hf(r,n),a=this._positionChanged(n,i);(s||a)&&(this._active=n,this._eventPosition=i,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,i,r=!0){if(i&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const n=this.options,s=this._active||[],a=this._getActiveElements(e,s,i,r),o=this._positionChanged(a,e),h=i||!Hf(a,s)||o;return h&&(this._active=a,(n.enabled||n.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,i))),h}_getActiveElements(e,i,r,n){const s=this.options;if(e.type==="mouseout")return[];if(!n)return i;const a=this.chart.getElementsAtEventForMode(e,s.mode,s,r);return s.reverse&&a.reverse(),a}_positionChanged(e,i){const{caretX:r,caretY:n,options:s}=this,a=Oh[s.position].call(this,e,i);return a!==!1&&(r!==a.x||n!==a.y)}}it(Mg,"positioners",Oh);var WB={id:"tooltip",_element:Mg,positioners:Oh,afterInit(t,e,i){i&&(t.tooltip=new Mg({chart:t,options:i}))},beforeUpdate(t,e,i){t.tooltip&&t.tooltip.initialize(i)},reset(t,e,i){t.tooltip&&t.tooltip.initialize(i)},afterDraw(t){const e=t.tooltip;if(e&&e._willRender()){const i={tooltip:e};if(t.notifyPlugins("beforeTooltipDraw",{...i,cancelable:!0})===!1)return;e.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",i)}},afterEvent(t,e){if(t.tooltip){const i=e.replay;t.tooltip.handleEvent(e.event,i,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(t,e)=>e.bodyFont.size,boxWidth:(t,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:DP},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:t=>t!=="filter"&&t!=="itemSort"&&t!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const XB=(t,e,i,r)=>(typeof e=="string"?(i=t.push(e)-1,r.unshift({index:i,label:e})):isNaN(e)&&(i=null),i);function UB(t,e,i,r){const n=t.indexOf(e);if(n===-1)return XB(t,e,i,r);const s=t.lastIndexOf(e);return n!==s?i:n}const HB=(t,e)=>t===null?null:dr(Math.round(t),0,e);function l1(t){const e=this.getLabels();return t>=0&&t<e.length?e[t]:t}class Pg extends fa{constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const i=this._addedLabels;if(i.length){const r=this.getLabels();for(const{index:n,label:s}of i)r[n]===s&&r.splice(n,1);this._addedLabels=[]}super.init(e)}parse(e,i){if(St(e))return null;const r=this.getLabels();return i=isFinite(i)&&r[i]===e?i:UB(r,e,mt(i,e),this._addedLabels),HB(i,r.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:i}=this.getUserBounds();let{min:r,max:n}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(r=0),i||(n=this.getLabels().length-1)),this.min=r,this.max=n}buildTicks(){const e=this.min,i=this.max,r=this.options.offset,n=[];let s=this.getLabels();s=e===0&&i===s.length-1?s:s.slice(e,i+1),this._valueRange=Math.max(s.length-(r?0:1),1),this._startValue=this.min-(r?.5:0);for(let a=e;a<=i;a++)n.push({value:a});return n}getLabelForValue(e){return l1.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const i=this.ticks;return e<0||e>i.length-1?null:this.getPixelForValue(i[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}it(Pg,"id","category"),it(Pg,"defaults",{ticks:{callback:l1}});function qB(t,e){const i=[],{bounds:n,step:s,min:a,max:o,precision:h,count:l,maxTicks:u,maxDigits:f,includeBounds:c}=t,d=s||1,g=u-1,{min:v,max:p}=e,m=!St(a),y=!St(o),x=!St(l),T=(p-v)/(f+1);let _=mx((p-v)/g/d)*d,w,S,C,R;if(_<1e-14&&!m&&!y)return[{value:v},{value:p}];R=Math.ceil(p/_)-Math.floor(v/_),R>g&&(_=mx(R*_/g/d)*d),St(h)||(w=Math.pow(10,h),_=Math.ceil(_*w)/w),n==="ticks"?(S=Math.floor(v/_)*_,C=Math.ceil(p/_)*_):(S=v,C=p),m&&y&&s&&QO((o-a)/s,_/1e3)?(R=Math.round(Math.min((o-a)/_,u)),_=(o-a)/R,S=a,C=o):x?(S=m?a:S,C=y?o:C,R=l-1,_=(C-S)/R):(R=(C-S)/_,Lf(R,Math.round(R),_/1e3)?R=Math.round(R):R=Math.ceil(R));const L=Math.max(yx(_),yx(S));w=Math.pow(10,St(h)?L:h),S=Math.round(S*w)/w,C=Math.round(C*w)/w;let E=0;for(m&&(c&&S!==a?(i.push({value:a}),S<a&&E++,Lf(Math.round((S+E*_)*w)/w,a,u1(a,T,t))&&E++):S<a&&E++);E<R;++E)i.push({value:Math.round((S+E*_)*w)/w});return y&&c&&C!==o?i.length&&Lf(i[i.length-1].value,o,u1(o,T,t))?i[i.length-1].value=o:i.push({value:o}):(!y||C===o)&&i.push({value:C}),i}function u1(t,e,{horizontal:i,minRotation:r}){const n=hs(r),s=(i?Math.sin(n):Math.cos(n))||.001,a=.75*e*(""+t).length;return Math.min(e/s,a)}class ec extends fa{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,i){return St(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:i,maxDefined:r}=this.getUserBounds();let{min:n,max:s}=this;const a=h=>n=i?n:h,o=h=>s=r?s:h;if(e){const h=fs(n),l=fs(s);h<0&&l<0?o(0):h>0&&l>0&&a(0)}if(n===s){let h=s===0?1:Math.abs(s*.05);o(s+h),e||a(n-h)}this.min=n,this.max=s}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:i,stepSize:r}=e,n;return r?(n=Math.ceil(this.max/r)-Math.floor(this.min/r)+1,n>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${r} would result generating up to ${n} ticks. Limiting to 1000.`),n=1e3)):(n=this.computeTickLimit(),i=i||11),i&&(n=Math.min(i,n)),n}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,i=e.ticks;let r=this.getTickLimit();r=Math.max(2,r);const n={maxTicks:r,bounds:e.bounds,min:e.min,max:e.max,precision:i.precision,step:i.stepSize,count:i.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:i.minRotation||0,includeBounds:i.includeBounds!==!1},s=this._range||this,a=qB(n,s);return e.bounds==="ticks"&&rP(a,this,"value"),e.reverse?(a.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),a}configure(){const e=this.ticks;let i=this.min,r=this.max;if(super.configure(),this.options.offset&&e.length){const n=(r-i)/Math.max(e.length-1,1)/2;i-=n,r+=n}this._startValue=i,this._endValue=r,this._valueRange=r-i}getLabelForValue(e){return Vm(e,this.chart.options.locale,this.options.ticks.format)}}class Ag extends ec{determineDataLimits(){const{min:e,max:i}=this.getMinMax(!0);this.min=ye(e)?e:0,this.max=ye(i)?i:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),i=e?this.width:this.height,r=hs(this.options.ticks.minRotation),n=(e?Math.sin(r):Math.cos(r))||.001,s=this._resolveTickFontOptions(0);return Math.ceil(i/Math.min(40,s.lineHeight/n))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}it(Ag,"id","linear"),it(Ag,"defaults",{ticks:{callback:gc.formatters.numeric}});const Zh=t=>Math.floor(os(t)),Ls=(t,e)=>Math.pow(10,Zh(t)+e);function f1(t){return t/Math.pow(10,Zh(t))===1}function c1(t,e,i){const r=Math.pow(10,i),n=Math.floor(t/r);return Math.ceil(e/r)-n}function KB(t,e){const i=e-t;let r=Zh(i);for(;c1(t,e,r)>10;)r++;for(;c1(t,e,r)<10;)r--;return Math.min(r,Zh(t))}function JB(t,{min:e,max:i}){e=mi(t.min,e);const r=[],n=Zh(e);let s=KB(e,i),a=s<0?Math.pow(10,Math.abs(s)):1;const o=Math.pow(10,s),h=n>s?Math.pow(10,n):0,l=Math.round((e-h)*a)/a,u=Math.floor((e-h)/o/10)*o*10;let f=Math.floor((l-u)/Math.pow(10,s)),c=mi(t.min,Math.round((h+u+f*Math.pow(10,s))*a)/a);for(;c<i;)r.push({value:c,major:f1(c),significand:f}),f>=10?f=f<15?15:20:f++,f>=20&&(s++,f=2,a=s>=0?1:a),c=Math.round((h+u+f*Math.pow(10,s))*a)/a;const d=mi(t.max,c);return r.push({value:d,major:f1(d),significand:f}),r}class d1 extends fa{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(e,i){const r=ec.prototype.parse.apply(this,[e,i]);if(r===0){this._zero=!0;return}return ye(r)&&r>0?r:null}determineDataLimits(){const{min:e,max:i}=this.getMinMax(!0);this.min=ye(e)?Math.max(0,e):null,this.max=ye(i)?Math.max(0,i):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!ye(this._userMin)&&(this.min=e===Ls(this.min,0)?Ls(this.min,-1):Ls(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:e,maxDefined:i}=this.getUserBounds();let r=this.min,n=this.max;const s=o=>r=e?r:o,a=o=>n=i?n:o;r===n&&(r<=0?(s(1),a(10)):(s(Ls(r,-1)),a(Ls(n,1)))),r<=0&&s(Ls(n,-1)),n<=0&&a(Ls(r,1)),this.min=r,this.max=n}buildTicks(){const e=this.options,i={min:this._userMin,max:this._userMax},r=JB(i,this);return e.bounds==="ticks"&&rP(r,this,"value"),e.reverse?(r.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),r}getLabelForValue(e){return e===void 0?"0":Vm(e,this.chart.options.locale,this.options.ticks.format)}configure(){const e=this.min;super.configure(),this._startValue=os(e),this._valueRange=os(this.max)-os(e)}getPixelForValue(e){return(e===void 0||e===0)&&(e=this.min),e===null||isNaN(e)?NaN:this.getPixelForDecimal(e===this.min?0:(os(e)-this._startValue)/this._valueRange)}getValueForPixel(e){const i=this.getDecimalForPixel(e);return Math.pow(10,this._startValue+i*this._valueRange)}}it(d1,"id","logarithmic"),it(d1,"defaults",{ticks:{callback:gc.formatters.logarithmic,major:{enabled:!0}}});function Rg(t){const e=t.ticks;if(e.display&&t.display){const i=Ye(e.backdropPadding);return mt(e.font&&e.font.size,Zt.font.size)+i.height}return 0}function jB(t,e,i){return i=Yt(i)?i:[i],{w:yI(t,e.string,i),h:i.length*e.lineHeight}}function v1(t,e,i,r,n){return t===r||t===n?{start:e-i/2,end:e+i/2}:t<r||t>n?{start:e-i,end:e}:{start:e,end:e+i}}function ZB(t){const e={l:t.left+t._padding.left,r:t.right-t._padding.right,t:t.top+t._padding.top,b:t.bottom-t._padding.bottom},i=Object.assign({},e),r=[],n=[],s=t._pointLabels.length,a=t.options.pointLabels,o=a.centerPointLabels?Pe/s:0;for(let h=0;h<s;h++){const l=a.setContext(t.getPointLabelContext(h));n[h]=l.padding;const u=t.getPointPosition(h,t.drawingArea+n[h],o),f=ue(l.font),c=jB(t.ctx,f,t._pointLabels[h]);r[h]=c;const d=Er(t.getIndexAngle(h)+o),g=Math.round(zm(d)),v=v1(g,u.x,c.w,0,180),p=v1(g,u.y,c.h,90,270);QB(i,e,d,v,p)}t.setCenterPoint(e.l-i.l,i.r-e.r,e.t-i.t,i.b-e.b),t._pointLabelItems=tk(t,r,n)}function QB(t,e,i,r,n){const s=Math.abs(Math.sin(i)),a=Math.abs(Math.cos(i));let o=0,h=0;r.start<e.l?(o=(e.l-r.start)/s,t.l=Math.min(t.l,e.l-o)):r.end>e.r&&(o=(r.end-e.r)/s,t.r=Math.max(t.r,e.r+o)),n.start<e.t?(h=(e.t-n.start)/a,t.t=Math.min(t.t,e.t-h)):n.end>e.b&&(h=(n.end-e.b)/a,t.b=Math.max(t.b,e.b+h))}function tk(t,e,i){const r=[],n=t._pointLabels.length,s=t.options,a=Rg(s)/2,o=t.drawingArea,h=s.pointLabels.centerPointLabels?Pe/n:0;for(let l=0;l<n;l++){const u=t.getPointPosition(l,o+a+i[l],h),f=Math.round(zm(Er(u.angle+fi))),c=e[l],d=rk(u.y,c.h,f),g=ek(f),v=ik(u.x,c.w,g);r.push({x:u.x,y:d,textAlign:g,left:v,top:d,right:v+c.w,bottom:d+c.h})}return r}function ek(t){return t===0||t===180?"center":t<180?"left":"right"}function ik(t,e,i){return i==="right"?t-=e:i==="center"&&(t-=e/2),t}function rk(t,e,i){return i===90||i===270?t-=e/2:(i>270||i<90)&&(t-=e),t}function nk(t,e){const{ctx:i,options:{pointLabels:r}}=t;for(let n=e-1;n>=0;n--){const s=r.setContext(t.getPointLabelContext(n)),a=ue(s.font),{x:o,y:h,textAlign:l,left:u,top:f,right:c,bottom:d}=t._pointLabelItems[n],{backdropColor:g}=s;if(!St(g)){const v=ia(s.borderRadius),p=Ye(s.backdropPadding);i.fillStyle=g;const m=u-p.left,y=f-p.top,x=c-u+p.width,T=d-f+p.height;Object.values(v).some(_=>_!==0)?(i.beginPath(),Jh(i,{x:m,y,w:x,h:T,radius:v}),i.fill()):i.fillRect(m,y,x,T)}oa(i,t._pointLabels[n],o,h+a.lineHeight/2,a,{color:s.color,textAlign:l,textBaseline:"middle"})}}function BP(t,e,i,r){const{ctx:n}=t;if(i)n.arc(t.xCenter,t.yCenter,e,0,Ir);else{let s=t.getPointPosition(0,e);n.moveTo(s.x,s.y);for(let a=1;a<r;a++)s=t.getPointPosition(a,e),n.lineTo(s.x,s.y)}}function sk(t,e,i,r,n){const s=t.ctx,a=e.circular,{color:o,lineWidth:h}=e;!a&&!r||!o||!h||i<0||(s.save(),s.strokeStyle=o,s.lineWidth=h,s.setLineDash(n.dash),s.lineDashOffset=n.dashOffset,s.beginPath(),BP(t,i,a,r),s.closePath(),s.stroke(),s.restore())}function ak(t,e,i){return ua(t,{label:i,index:e,type:"pointLabel"})}class Ql extends ec{constructor(e){super(e),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const e=this._padding=Ye(Rg(this.options)/2),i=this.width=this.maxWidth-e.width,r=this.height=this.maxHeight-e.height;this.xCenter=Math.floor(this.left+i/2+e.left),this.yCenter=Math.floor(this.top+r/2+e.top),this.drawingArea=Math.floor(Math.min(i,r)/2)}determineDataLimits(){const{min:e,max:i}=this.getMinMax(!1);this.min=ye(e)&&!isNaN(e)?e:0,this.max=ye(i)&&!isNaN(i)?i:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/Rg(this.options))}generateTickLabels(e){ec.prototype.generateTickLabels.call(this,e),this._pointLabels=this.getLabels().map((i,r)=>{const n=Rt(this.options.pointLabels.callback,[i,r],this);return n||n===0?n:""}).filter((i,r)=>this.chart.getDataVisibility(r))}fit(){const e=this.options;e.display&&e.pointLabels.display?ZB(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(e,i,r,n){this.xCenter+=Math.floor((e-i)/2),this.yCenter+=Math.floor((r-n)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(e,i,r,n))}getIndexAngle(e){const i=Ir/(this._pointLabels.length||1),r=this.options.startAngle||0;return Er(e*i+hs(r))}getDistanceFromCenterForValue(e){if(St(e))return NaN;const i=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-e)*i:(e-this.min)*i}getValueForDistanceFromCenter(e){if(St(e))return NaN;const i=e/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-i:this.min+i}getPointLabelContext(e){const i=this._pointLabels||[];if(e>=0&&e<i.length){const r=i[e];return ak(this.getContext(),e,r)}}getPointPosition(e,i,r=0){const n=this.getIndexAngle(e)-fi+r;return{x:Math.cos(n)*i+this.xCenter,y:Math.sin(n)*i+this.yCenter,angle:n}}getPointPositionForValue(e,i){return this.getPointPosition(e,this.getDistanceFromCenterForValue(i))}getBasePosition(e){return this.getPointPositionForValue(e||0,this.getBaseValue())}getPointLabelPosition(e){const{left:i,top:r,right:n,bottom:s}=this._pointLabelItems[e];return{left:i,top:r,right:n,bottom:s}}drawBackground(){const{backgroundColor:e,grid:{circular:i}}=this.options;if(e){const r=this.ctx;r.save(),r.beginPath(),BP(this,this.getDistanceFromCenterForValue(this._endValue),i,this._pointLabels.length),r.closePath(),r.fillStyle=e,r.fill(),r.restore()}}drawGrid(){const e=this.ctx,i=this.options,{angleLines:r,grid:n,border:s}=i,a=this._pointLabels.length;let o,h,l;if(i.pointLabels.display&&nk(this,a),n.display&&this.ticks.forEach((u,f)=>{if(f!==0){h=this.getDistanceFromCenterForValue(u.value);const c=this.getContext(f),d=n.setContext(c),g=s.setContext(c);sk(this,d,h,a,g)}}),r.display){for(e.save(),o=a-1;o>=0;o--){const u=r.setContext(this.getPointLabelContext(o)),{color:f,lineWidth:c}=u;!c||!f||(e.lineWidth=c,e.strokeStyle=f,e.setLineDash(u.borderDash),e.lineDashOffset=u.borderDashOffset,h=this.getDistanceFromCenterForValue(i.ticks.reverse?this.min:this.max),l=this.getPointPosition(o,h),e.beginPath(),e.moveTo(this.xCenter,this.yCenter),e.lineTo(l.x,l.y),e.stroke())}e.restore()}}drawBorder(){}drawLabels(){const e=this.ctx,i=this.options,r=i.ticks;if(!r.display)return;const n=this.getIndexAngle(0);let s,a;e.save(),e.translate(this.xCenter,this.yCenter),e.rotate(n),e.textAlign="center",e.textBaseline="middle",this.ticks.forEach((o,h)=>{if(h===0&&!i.reverse)return;const l=r.setContext(this.getContext(h)),u=ue(l.font);if(s=this.getDistanceFromCenterForValue(this.ticks[h].value),l.showLabelBackdrop){e.font=u.string,a=e.measureText(o.label).width,e.fillStyle=l.backdropColor;const f=Ye(l.backdropPadding);e.fillRect(-a/2-f.left,-s-u.size/2-f.top,a+f.width,u.size+f.height)}oa(e,o.label,0,-s,u,{color:l.color})}),e.restore()}drawTitle(){}}it(Ql,"id","radialLinear"),it(Ql,"defaults",{display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:gc.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(e){return e},padding:5,centerPointLabels:!1}}),it(Ql,"defaultRoutes",{"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"}),it(Ql,"descriptors",{angleLines:{_fallback:"grid"}});const yc={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},ui=Object.keys(yc);function ok(t,e){return t-e}function p1(t,e){if(St(e))return null;const i=t._adapter,{parser:r,round:n,isoWeekday:s}=t._parseOpts;let a=e;return typeof r=="function"&&(a=r(a)),ye(a)||(a=typeof r=="string"?i.parse(a,r):i.parse(a)),a===null?null:(n&&(a=n==="week"&&(Jf(s)||s===!0)?i.startOf(a,"isoWeek",s):i.startOf(a,n)),+a)}function g1(t,e,i,r){const n=ui.length;for(let s=ui.indexOf(t);s<n-1;++s){const a=yc[ui[s]],o=a.steps?a.steps:Number.MAX_SAFE_INTEGER;if(a.common&&Math.ceil((i-e)/(o*a.size))<=r)return ui[s]}return ui[n-1]}function hk(t,e,i,r,n){for(let s=ui.length-1;s>=ui.indexOf(i);s--){const a=ui[s];if(yc[a].common&&t._adapter.diff(n,r,a)>=e-1)return a}return ui[i?ui.indexOf(i):0]}function lk(t){for(let e=ui.indexOf(t)+1,i=ui.length;e<i;++e)if(yc[ui[e]].common)return ui[e]}function m1(t,e,i){if(!i)t[e]=!0;else if(i.length){const{lo:r,hi:n}=Nm(i,e),s=i[r]>=e?i[r]:i[n];t[s]=!0}}function uk(t,e,i,r){const n=t._adapter,s=+n.startOf(e[0].value,r),a=e[e.length-1].value;let o,h;for(o=s;o<=a;o=+n.add(o,1,r))h=i[o],h>=0&&(e[h].major=!0);return e}function y1(t,e,i){const r=[],n={},s=e.length;let a,o;for(a=0;a<s;++a)o=e[a],n[o]=a,r.push({value:o,major:!1});return s===0||!i?r:uk(t,r,n,i)}class ic extends fa{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,i={}){const r=e.time||(e.time={}),n=this._adapter=new pD._date(e.adapters.date);n.init(i),Gh(r.displayFormats,n.formats()),this._parseOpts={parser:r.parser,round:r.round,isoWeekday:r.isoWeekday},super.init(e),this._normalized=i.normalized}parse(e,i){return e===void 0?null:p1(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,i=this._adapter,r=e.time.unit||"day";let{min:n,max:s,minDefined:a,maxDefined:o}=this.getUserBounds();function h(l){!a&&!isNaN(l.min)&&(n=Math.min(n,l.min)),!o&&!isNaN(l.max)&&(s=Math.max(s,l.max))}(!a||!o)&&(h(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&h(this.getMinMax(!1))),n=ye(n)&&!isNaN(n)?n:+i.startOf(Date.now(),r),s=ye(s)&&!isNaN(s)?s:+i.endOf(Date.now(),r)+1,this.min=Math.min(n,s-1),this.max=Math.max(n+1,s)}_getLabelBounds(){const e=this.getLabelTimestamps();let i=Number.POSITIVE_INFINITY,r=Number.NEGATIVE_INFINITY;return e.length&&(i=e[0],r=e[e.length-1]),{min:i,max:r}}buildTicks(){const e=this.options,i=e.time,r=e.ticks,n=r.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&n.length&&(this.min=this._userMin||n[0],this.max=this._userMax||n[n.length-1]);const s=this.min,a=this.max,o=sI(n,s,a);return this._unit=i.unit||(r.autoSkip?g1(i.minUnit,this.min,this.max,this._getLabelCapacity(s)):hk(this,o.length,i.minUnit,this.min,this.max)),this._majorUnit=!r.major.enabled||this._unit==="year"?void 0:lk(this._unit),this.initOffsets(n),e.reverse&&o.reverse(),y1(this,o,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let i=0,r=0,n,s;this.options.offset&&e.length&&(n=this.getDecimalForValue(e[0]),e.length===1?i=1-n:i=(this.getDecimalForValue(e[1])-n)/2,s=this.getDecimalForValue(e[e.length-1]),e.length===1?r=s:r=(s-this.getDecimalForValue(e[e.length-2]))/2);const a=e.length<3?.5:.25;i=dr(i,0,a),r=dr(r,0,a),this._offsets={start:i,end:r,factor:1/(i+1+r)}}_generate(){const e=this._adapter,i=this.min,r=this.max,n=this.options,s=n.time,a=s.unit||g1(s.minUnit,i,r,this._getLabelCapacity(i)),o=mt(n.ticks.stepSize,1),h=a==="week"?s.isoWeekday:!1,l=Jf(h)||h===!0,u={};let f=i,c,d;if(l&&(f=+e.startOf(f,"isoWeek",h)),f=+e.startOf(f,l?"day":a),e.diff(r,i,a)>1e5*o)throw new Error(i+" and "+r+" are too far apart with stepSize of "+o+" "+a);const g=n.ticks.source==="data"&&this.getDataTimestamps();for(c=f,d=0;c<r;c=+e.add(c,o,a),d++)m1(u,c,g);return(c===r||n.bounds==="ticks"||d===1)&&m1(u,c,g),Object.keys(u).sort((v,p)=>v-p).map(v=>+v)}getLabelForValue(e){const i=this._adapter,r=this.options.time;return r.tooltipFormat?i.format(e,r.tooltipFormat):i.format(e,r.displayFormats.datetime)}_tickFormatFunction(e,i,r,n){const s=this.options,a=s.ticks.callback;if(a)return Rt(a,[e,i,r],this);const o=s.time.displayFormats,h=this._unit,l=this._majorUnit,u=h&&o[h],f=l&&o[l],c=r[i],d=l&&f&&c&&c.major;return this._adapter.format(e,n||(d?f:u))}generateTickLabels(e){let i,r,n;for(i=0,r=e.length;i<r;++i)n=e[i],n.label=this._tickFormatFunction(n.value,i,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const i=this._offsets,r=this.getDecimalForValue(e);return this.getPixelForDecimal((i.start+r)*i.factor)}getValueForPixel(e){const i=this._offsets,r=this.getDecimalForPixel(e)/i.factor-i.end;return this.min+r*(this.max-this.min)}_getLabelSize(e){const i=this.options.ticks,r=this.ctx.measureText(e).width,n=hs(this.isHorizontal()?i.maxRotation:i.minRotation),s=Math.cos(n),a=Math.sin(n),o=this._resolveTickFontOptions(0).size;return{w:r*s+o*a,h:r*a+o*s}}_getLabelCapacity(e){const i=this.options.time,r=i.displayFormats,n=r[i.unit]||r.millisecond,s=this._tickFormatFunction(e,0,y1(this,[e],this._majorUnit),n),a=this._getLabelSize(s),o=Math.floor(this.isHorizontal()?this.width/a.w:this.height/a.h)-1;return o>0?o:1}getDataTimestamps(){let e=this._cache.data||[],i,r;if(e.length)return e;const n=this.getMatchingVisibleMetas();if(this._normalized&&n.length)return this._cache.data=n[0].controller.getAllParsedValues(this);for(i=0,r=n.length;i<r;++i)e=e.concat(n[i].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let i,r;if(e.length)return e;const n=this.getLabels();for(i=0,r=n.length;i<r;++i)e.push(p1(this,n[i]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return sP(e.sort(ok))}}it(ic,"id","time"),it(ic,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function tu(t,e,i){let r=0,n=t.length-1,s,a,o,h;i?(e>=t[r].pos&&e<=t[n].pos&&({lo:r,hi:n}=Sg(t,"pos",e)),{pos:s,time:o}=t[r],{pos:a,time:h}=t[n]):(e>=t[r].time&&e<=t[n].time&&({lo:r,hi:n}=Sg(t,"time",e)),{time:s,pos:o}=t[r],{time:a,pos:h}=t[n]);const l=a-s;return l?o+(h-o)*(e-s)/l:o}class x1 extends ic{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),i=this._table=this.buildLookupTable(e);this._minPos=tu(i,this.min),this._tableRange=tu(i,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:i,max:r}=this,n=[],s=[];let a,o,h,l,u;for(a=0,o=e.length;a<o;++a)l=e[a],l>=i&&l<=r&&n.push(l);if(n.length<2)return[{time:i,pos:0},{time:r,pos:1}];for(a=0,o=n.length;a<o;++a)u=n[a+1],h=n[a-1],l=n[a],Math.round((u+h)/2)!==l&&s.push({time:l,pos:a/(o-1)});return s}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const i=this.getDataTimestamps(),r=this.getLabelTimestamps();return i.length&&r.length?e=this.normalize(i.concat(r)):e=i.length?i:r,e=this._cache.all=e,e}getDecimalForValue(e){return(tu(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const i=this._offsets,r=this.getDecimalForPixel(e)/i.factor-i.end;return tu(this._table,r*this._tableRange+this._minPos,!0)}}it(x1,"id","timeseries"),it(x1,"defaults",ic.defaults);const kP={data:{type:Object,required:!0},options:{type:Object,default:()=>({})},plugins:{type:Array,default:()=>[]},datasetIdKey:{type:String,default:"label"},updateMode:{type:String,default:void 0}},fk={type:{type:String,required:!0},...kP},ck=sO[0]==="2"?(t,e)=>Object.assign(t,{attrs:e}):(t,e)=>Object.assign(t,e);function Aa(t){return KM(t)?Tg(t):t}function dk(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:t;return KM(e)?new Proxy(t,{}):t}function vk(t,e){const i=t.options;i&&e&&Object.assign(i,e)}function GP(t,e){t.labels=e}function zP(t,e,i){const r=[];t.datasets=e.map(n=>{const s=t.datasets.find(a=>a[i]===n[i]);return!s||!n.data||r.includes(s)?{...n}:(r.push(s),Object.assign(s,n),s)})}function pk(t,e){const i={labels:[],datasets:[]};return GP(i,t.labels),zP(i,t.datasets,e),i}const gk=xi({props:fk,setup(t,e){let{expose:i}=e;const r=Me(null),n=HM(null);i({chart:n});const s=()=>{if(!r.value)return;const{type:h,data:l,options:u,plugins:f,datasetIdKey:c}=t,d=pk(l,c),g=dk(d,l);n.value=new $r(r.value,{type:h,data:g,options:{...u},plugins:f})},a=()=>{const h=Tg(n.value);h&&(h.destroy(),n.value=null)},o=h=>{h.update(t.updateMode)};return Lm(s),nO(a),al([()=>t.options,()=>t.data],(h,l)=>{let[u,f]=h,[c,d]=l;const g=Tg(n.value);if(!g)return;let v=!1;if(u){const p=Aa(u),m=Aa(c);p&&p!==m&&(vk(g,p),v=!0)}if(f){const p=Aa(f.labels),m=Aa(d.labels),y=Aa(f.datasets),x=Aa(d.datasets);p!==m&&(GP(g.config.data,p),v=!0),y&&y!==x&&(zP(g.config.data,y,t.datasetIdKey),v=!0)}v&&o(g)},{deep:!0}),()=>qM("canvas",{ref:r})}});function mk(t,e){return $r.register(e),xi({props:kP,setup(i,r){let{expose:n}=r;const s=HM(null),a=o=>{s.value=o==null?void 0:o.chart};return n({chart:s}),()=>qM(gk,ck({ref:a},{type:t,...i}))}})}const _1=mk("bar",$f),yk={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",width:"1.2em",height:"1.2em",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 24 24"},xk=z("path",{d:"M16.62 2.99a1.25 1.25 0 0 0-1.77 0L6.54 11.3a.996.996 0 0 0 0 1.41l8.31 8.31c.49.49 1.28.49 1.77 0s.49-1.28 0-1.77L9.38 12l7.25-7.25c.48-.48.48-1.28-.01-1.76z",fill:"currentColor"},null,-1),_k=[xk];function Tk(t,e){return It(),xe("svg",yk,_k)}const T1={name:"ic-round-arrow-back-ios",render:Tk},wk={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",width:"1.2em",height:"1.2em",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 24 24"},Sk=z("path",{d:"M7.38 21.01c.49.49 1.28.49 1.77 0l8.31-8.31a.996.996 0 0 0 0-1.41L9.15 2.98c-.49-.49-1.28-.49-1.77 0s-.49 1.28 0 1.77L14.62 12l-7.25 7.25c-.48.48-.48 1.28.01 1.76z",fill:"currentColor"},null,-1),Ck=[Sk];function bk(t,e){return It(),xe("svg",wk,Ck)}const w1={name:"ic-round-arrow-forward-ios",render:bk},Mk={class:"relative pointer-events-none flex justify-center"},Pk=xi({__name:"Button",props:{onClick:Function},setup(t){const e=t,i=r=>{const{onClick:n}=e;n&&n(r)};return(r,n)=>(It(),xe("button",{class:"r-button relative",onClick:i},[z("div",Mk,[Ef(r.$slots,"default",{},void 0,!0)])]))}});const un=vc(Pk,[["__scopeId","data-v-d1d97e64"]]);var Ak=typeof global=="object"&&global&&global.Object===Object&&global;const NP=Ak;var Rk=typeof self=="object"&&self&&self.Object===Object&&self,Fk=NP||Rk||Function("return this")();const Gr=Fk;var Ek=Gr.Symbol;const kr=Ek;var YP=Object.prototype,Lk=YP.hasOwnProperty,$k=YP.toString,No=kr?kr.toStringTag:void 0;function Ok(t){var e=Lk.call(t,No),i=t[No];try{t[No]=void 0;var r=!0}catch{}var n=$k.call(t);return r&&(e?t[No]=i:delete t[No]),n}var Ik=Object.prototype,Dk=Ik.toString;function Bk(t){return Dk.call(t)}var kk="[object Null]",Gk="[object Undefined]",S1=kr?kr.toStringTag:void 0;function mo(t){return t==null?t===void 0?Gk:kk:S1&&S1 in Object(t)?Ok(t):Bk(t)}function ys(t){return t!=null&&typeof t=="object"}var zk="[object Symbol]";function xc(t){return typeof t=="symbol"||ys(t)&&mo(t)==zk}function Nk(t,e){for(var i=-1,r=t==null?0:t.length,n=Array(r);++i<r;)n[i]=e(t[i],i,t);return n}var Yk=Array.isArray;const vr=Yk;var Vk=1/0,C1=kr?kr.prototype:void 0,b1=C1?C1.toString:void 0;function jm(t){if(typeof t=="string")return t;if(vr(t))return Nk(t,jm)+"";if(xc(t))return b1?b1.call(t):"";var e=t+"";return e=="0"&&1/t==-Vk?"-0":e}var Wk=/\s/;function Xk(t){for(var e=t.length;e--&&Wk.test(t.charAt(e)););return e}var Uk=/^\s+/;function Hk(t){return t&&t.slice(0,Xk(t)+1).replace(Uk,"")}function cn(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var M1=0/0,qk=/^[-+]0x[0-9a-f]+$/i,Kk=/^0b[01]+$/i,Jk=/^0o[0-7]+$/i,jk=parseInt;function VP(t){if(typeof t=="number")return t;if(xc(t))return M1;if(cn(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=cn(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=Hk(t);var i=Kk.test(t);return i||Jk.test(t)?jk(t.slice(2),i?2:8):qk.test(t)?M1:+t}var P1=1/0,Zk=17976931348623157e292;function Fg(t){if(!t)return t===0?t:0;if(t=VP(t),t===P1||t===-P1){var e=t<0?-1:1;return e*Zk}return t===t?t:0}function Qk(t){var e=Fg(t),i=e%1;return e===e?i?e-i:e:0}function Zm(t){return t}var tG="[object AsyncFunction]",eG="[object Function]",iG="[object GeneratorFunction]",rG="[object Proxy]";function WP(t){if(!cn(t))return!1;var e=mo(t);return e==eG||e==iG||e==tG||e==rG}var nG=Gr["__core-js_shared__"];const Td=nG;var A1=function(){var t=/[^.]+$/.exec(Td&&Td.keys&&Td.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function sG(t){return!!A1&&A1 in t}var aG=Function.prototype,oG=aG.toString;function ca(t){if(t!=null){try{return oG.call(t)}catch{}try{return t+""}catch{}}return""}var hG=/[\\^$.*+?()[\]{}|]/g,lG=/^\[object .+?Constructor\]$/,uG=Function.prototype,fG=Object.prototype,cG=uG.toString,dG=fG.hasOwnProperty,vG=RegExp("^"+cG.call(dG).replace(hG,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function pG(t){if(!cn(t)||sG(t))return!1;var e=WP(t)?vG:lG;return e.test(ca(t))}function gG(t,e){return t==null?void 0:t[e]}function da(t,e){var i=gG(t,e);return pG(i)?i:void 0}var mG=da(Gr,"WeakMap");const Eg=mG;var R1=Object.create,yG=function(){function t(){}return function(e){if(!cn(e))return{};if(R1)return R1(e);t.prototype=e;var i=new t;return t.prototype=void 0,i}}();const xG=yG;function _G(t,e,i){switch(i.length){case 0:return t.call(e);case 1:return t.call(e,i[0]);case 2:return t.call(e,i[0],i[1]);case 3:return t.call(e,i[0],i[1],i[2])}return t.apply(e,i)}function TG(t,e){var i=-1,r=t.length;for(e||(e=Array(r));++i<r;)e[i]=t[i];return e}var wG=800,SG=16,CG=Date.now;function bG(t){var e=0,i=0;return function(){var r=CG(),n=SG-(r-i);if(i=r,n>0){if(++e>=wG)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}function MG(t){return function(){return t}}var PG=function(){try{var t=da(Object,"defineProperty");return t({},"",{}),t}catch{}}();const rc=PG;var AG=rc?function(t,e){return rc(t,"toString",{configurable:!0,enumerable:!1,value:MG(e),writable:!0})}:Zm;const RG=AG;var FG=bG(RG);const EG=FG;function LG(t,e){for(var i=-1,r=t==null?0:t.length;++i<r&&e(t[i],i,t)!==!1;);return t}var $G=9007199254740991,OG=/^(?:0|[1-9]\d*)$/;function Qm(t,e){var i=typeof t;return e=e==null?$G:e,!!e&&(i=="number"||i!="symbol"&&OG.test(t))&&t>-1&&t%1==0&&t<e}function t0(t,e,i){e=="__proto__"&&rc?rc(t,e,{configurable:!0,enumerable:!0,value:i,writable:!0}):t[e]=i}function _c(t,e){return t===e||t!==t&&e!==e}var IG=Object.prototype,DG=IG.hasOwnProperty;function XP(t,e,i){var r=t[e];(!(DG.call(t,e)&&_c(r,i))||i===void 0&&!(e in t))&&t0(t,e,i)}function Tc(t,e,i,r){var n=!i;i||(i={});for(var s=-1,a=e.length;++s<a;){var o=e[s],h=r?r(i[o],t[o],o,i,t):void 0;h===void 0&&(h=t[o]),n?t0(i,o,h):XP(i,o,h)}return i}var F1=Math.max;function BG(t,e,i){return e=F1(e===void 0?t.length-1:e,0),function(){for(var r=arguments,n=-1,s=F1(r.length-e,0),a=Array(s);++n<s;)a[n]=r[e+n];n=-1;for(var o=Array(e+1);++n<e;)o[n]=r[n];return o[e]=i(a),_G(t,this,o)}}function kG(t,e){return EG(BG(t,e,Zm),t+"")}var GG=9007199254740991;function e0(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=GG}function wc(t){return t!=null&&e0(t.length)&&!WP(t)}function zG(t,e,i){if(!cn(i))return!1;var r=typeof e;return(r=="number"?wc(i)&&Qm(e,i.length):r=="string"&&e in i)?_c(i[e],t):!1}var NG=Object.prototype;function i0(t){var e=t&&t.constructor,i=typeof e=="function"&&e.prototype||NG;return t===i}function YG(t,e){for(var i=-1,r=Array(t);++i<t;)r[i]=e(i);return r}var VG="[object Arguments]";function E1(t){return ys(t)&&mo(t)==VG}var UP=Object.prototype,WG=UP.hasOwnProperty,XG=UP.propertyIsEnumerable,UG=E1(function(){return arguments}())?E1:function(t){return ys(t)&&WG.call(t,"callee")&&!XG.call(t,"callee")};const HP=UG;function HG(){return!1}var qP=typeof exports=="object"&&exports&&!exports.nodeType&&exports,L1=qP&&typeof module=="object"&&module&&!module.nodeType&&module,qG=L1&&L1.exports===qP,$1=qG?Gr.Buffer:void 0,KG=$1?$1.isBuffer:void 0,JG=KG||HG;const nc=JG;var jG="[object Arguments]",ZG="[object Array]",QG="[object Boolean]",t3="[object Date]",e3="[object Error]",i3="[object Function]",r3="[object Map]",n3="[object Number]",s3="[object Object]",a3="[object RegExp]",o3="[object Set]",h3="[object String]",l3="[object WeakMap]",u3="[object ArrayBuffer]",f3="[object DataView]",c3="[object Float32Array]",d3="[object Float64Array]",v3="[object Int8Array]",p3="[object Int16Array]",g3="[object Int32Array]",m3="[object Uint8Array]",y3="[object Uint8ClampedArray]",x3="[object Uint16Array]",_3="[object Uint32Array]",Ot={};Ot[c3]=Ot[d3]=Ot[v3]=Ot[p3]=Ot[g3]=Ot[m3]=Ot[y3]=Ot[x3]=Ot[_3]=!0;Ot[jG]=Ot[ZG]=Ot[u3]=Ot[QG]=Ot[f3]=Ot[t3]=Ot[e3]=Ot[i3]=Ot[r3]=Ot[n3]=Ot[s3]=Ot[a3]=Ot[o3]=Ot[h3]=Ot[l3]=!1;function T3(t){return ys(t)&&e0(t.length)&&!!Ot[mo(t)]}function r0(t){return function(e){return t(e)}}var KP=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Vh=KP&&typeof module=="object"&&module&&!module.nodeType&&module,w3=Vh&&Vh.exports===KP,wd=w3&&NP.process,S3=function(){try{var t=Vh&&Vh.require&&Vh.require("util").types;return t||wd&&wd.binding&&wd.binding("util")}catch{}}();const go=S3;var O1=go&&go.isTypedArray,C3=O1?r0(O1):T3;const JP=C3;var b3=Object.prototype,M3=b3.hasOwnProperty;function jP(t,e){var i=vr(t),r=!i&&HP(t),n=!i&&!r&&nc(t),s=!i&&!r&&!n&&JP(t),a=i||r||n||s,o=a?YG(t.length,String):[],h=o.length;for(var l in t)(e||M3.call(t,l))&&!(a&&(l=="length"||n&&(l=="offset"||l=="parent")||s&&(l=="buffer"||l=="byteLength"||l=="byteOffset")||Qm(l,h)))&&o.push(l);return o}function ZP(t,e){return function(i){return t(e(i))}}var P3=ZP(Object.keys,Object);const A3=P3;var R3=Object.prototype,F3=R3.hasOwnProperty;function E3(t){if(!i0(t))return A3(t);var e=[];for(var i in Object(t))F3.call(t,i)&&i!="constructor"&&e.push(i);return e}function ll(t){return wc(t)?jP(t):E3(t)}function L3(t){var e=[];if(t!=null)for(var i in Object(t))e.push(i);return e}var $3=Object.prototype,O3=$3.hasOwnProperty;function I3(t){if(!cn(t))return L3(t);var e=i0(t),i=[];for(var r in t)r=="constructor"&&(e||!O3.call(t,r))||i.push(r);return i}function n0(t){return wc(t)?jP(t,!0):I3(t)}var D3=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,B3=/^\w*$/;function s0(t,e){if(vr(t))return!1;var i=typeof t;return i=="number"||i=="symbol"||i=="boolean"||t==null||xc(t)?!0:B3.test(t)||!D3.test(t)||e!=null&&t in Object(e)}var k3=da(Object,"create");const Qh=k3;function G3(){this.__data__=Qh?Qh(null):{},this.size=0}function z3(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var N3="__lodash_hash_undefined__",Y3=Object.prototype,V3=Y3.hasOwnProperty;function W3(t){var e=this.__data__;if(Qh){var i=e[t];return i===N3?void 0:i}return V3.call(e,t)?e[t]:void 0}var X3=Object.prototype,U3=X3.hasOwnProperty;function H3(t){var e=this.__data__;return Qh?e[t]!==void 0:U3.call(e,t)}var q3="__lodash_hash_undefined__";function K3(t,e){var i=this.__data__;return this.size+=this.has(t)?0:1,i[t]=Qh&&e===void 0?q3:e,this}function ha(t){var e=-1,i=t==null?0:t.length;for(this.clear();++e<i;){var r=t[e];this.set(r[0],r[1])}}ha.prototype.clear=G3;ha.prototype.delete=z3;ha.prototype.get=W3;ha.prototype.has=H3;ha.prototype.set=K3;function J3(){this.__data__=[],this.size=0}function Sc(t,e){for(var i=t.length;i--;)if(_c(t[i][0],e))return i;return-1}var j3=Array.prototype,Z3=j3.splice;function Q3(t){var e=this.__data__,i=Sc(e,t);if(i<0)return!1;var r=e.length-1;return i==r?e.pop():Z3.call(e,i,1),--this.size,!0}function tz(t){var e=this.__data__,i=Sc(e,t);return i<0?void 0:e[i][1]}function ez(t){return Sc(this.__data__,t)>-1}function iz(t,e){var i=this.__data__,r=Sc(i,t);return r<0?(++this.size,i.push([t,e])):i[r][1]=e,this}function dn(t){var e=-1,i=t==null?0:t.length;for(this.clear();++e<i;){var r=t[e];this.set(r[0],r[1])}}dn.prototype.clear=J3;dn.prototype.delete=Q3;dn.prototype.get=tz;dn.prototype.has=ez;dn.prototype.set=iz;var rz=da(Gr,"Map");const tl=rz;function nz(){this.size=0,this.__data__={hash:new ha,map:new(tl||dn),string:new ha}}function sz(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}function Cc(t,e){var i=t.__data__;return sz(e)?i[typeof e=="string"?"string":"hash"]:i.map}function az(t){var e=Cc(this,t).delete(t);return this.size-=e?1:0,e}function oz(t){return Cc(this,t).get(t)}function hz(t){return Cc(this,t).has(t)}function lz(t,e){var i=Cc(this,t),r=i.size;return i.set(t,e),this.size+=i.size==r?0:1,this}function vn(t){var e=-1,i=t==null?0:t.length;for(this.clear();++e<i;){var r=t[e];this.set(r[0],r[1])}}vn.prototype.clear=nz;vn.prototype.delete=az;vn.prototype.get=oz;vn.prototype.has=hz;vn.prototype.set=lz;var uz="Expected a function";function a0(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(uz);var i=function(){var r=arguments,n=e?e.apply(this,r):r[0],s=i.cache;if(s.has(n))return s.get(n);var a=t.apply(this,r);return i.cache=s.set(n,a)||s,a};return i.cache=new(a0.Cache||vn),i}a0.Cache=vn;var fz=500;function cz(t){var e=a0(t,function(r){return i.size===fz&&i.clear(),r}),i=e.cache;return e}var dz=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,vz=/\\(\\)?/g,pz=cz(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(dz,function(i,r,n,s){e.push(n?s.replace(vz,"$1"):r||i)}),e});const gz=pz;function QP(t){return t==null?"":jm(t)}function tA(t,e){return vr(t)?t:s0(t,e)?[t]:gz(QP(t))}var mz=1/0;function bc(t){if(typeof t=="string"||xc(t))return t;var e=t+"";return e=="0"&&1/t==-mz?"-0":e}function eA(t,e){e=tA(e,t);for(var i=0,r=e.length;t!=null&&i<r;)t=t[bc(e[i++])];return i&&i==r?t:void 0}function yz(t,e,i){var r=t==null?void 0:eA(t,e);return r===void 0?i:r}function iA(t,e){for(var i=-1,r=e.length,n=t.length;++i<r;)t[n+i]=e[i];return t}var xz=ZP(Object.getPrototypeOf,Object);const rA=xz;function _z(t,e,i){var r=-1,n=t.length;e<0&&(e=-e>n?0:n+e),i=i>n?n:i,i<0&&(i+=n),n=e>i?0:i-e>>>0,e>>>=0;for(var s=Array(n);++r<n;)s[r]=t[r+e];return s}function Tz(t,e,i){var r=t.length;return i=i===void 0?r:i,!e&&i>=r?t:_z(t,e,i)}var wz="\\ud800-\\udfff",Sz="\\u0300-\\u036f",Cz="\\ufe20-\\ufe2f",bz="\\u20d0-\\u20ff",Mz=Sz+Cz+bz,Pz="\\ufe0e\\ufe0f",Az="\\u200d",Rz=RegExp("["+Az+wz+Mz+Pz+"]");function o0(t){return Rz.test(t)}function Fz(t){return t.split("")}var nA="\\ud800-\\udfff",Ez="\\u0300-\\u036f",Lz="\\ufe20-\\ufe2f",$z="\\u20d0-\\u20ff",Oz=Ez+Lz+$z,Iz="\\ufe0e\\ufe0f",Dz="["+nA+"]",Lg="["+Oz+"]",$g="\\ud83c[\\udffb-\\udfff]",Bz="(?:"+Lg+"|"+$g+")",sA="[^"+nA+"]",aA="(?:\\ud83c[\\udde6-\\uddff]){2}",oA="[\\ud800-\\udbff][\\udc00-\\udfff]",kz="\\u200d",hA=Bz+"?",lA="["+Iz+"]?",Gz="(?:"+kz+"(?:"+[sA,aA,oA].join("|")+")"+lA+hA+")*",zz=lA+hA+Gz,Nz="(?:"+[sA+Lg+"?",Lg,aA,oA,Dz].join("|")+")",Yz=RegExp($g+"(?="+$g+")|"+Nz+zz,"g");function Vz(t){return t.match(Yz)||[]}function Wz(t){return o0(t)?Vz(t):Fz(t)}function Xz(){this.__data__=new dn,this.size=0}function Uz(t){var e=this.__data__,i=e.delete(t);return this.size=e.size,i}function Hz(t){return this.__data__.get(t)}function qz(t){return this.__data__.has(t)}var Kz=200;function Jz(t,e){var i=this.__data__;if(i instanceof dn){var r=i.__data__;if(!tl||r.length<Kz-1)return r.push([t,e]),this.size=++i.size,this;i=this.__data__=new vn(r)}return i.set(t,e),this.size=i.size,this}function Dr(t){var e=this.__data__=new dn(t);this.size=e.size}Dr.prototype.clear=Xz;Dr.prototype.delete=Uz;Dr.prototype.get=Hz;Dr.prototype.has=qz;Dr.prototype.set=Jz;function jz(t,e){return t&&Tc(e,ll(e),t)}function Zz(t,e){return t&&Tc(e,n0(e),t)}var uA=typeof exports=="object"&&exports&&!exports.nodeType&&exports,I1=uA&&typeof module=="object"&&module&&!module.nodeType&&module,Qz=I1&&I1.exports===uA,D1=Qz?Gr.Buffer:void 0,B1=D1?D1.allocUnsafe:void 0;function tN(t,e){if(e)return t.slice();var i=t.length,r=B1?B1(i):new t.constructor(i);return t.copy(r),r}function eN(t,e){for(var i=-1,r=t==null?0:t.length,n=0,s=[];++i<r;){var a=t[i];e(a,i,t)&&(s[n++]=a)}return s}function fA(){return[]}var iN=Object.prototype,rN=iN.propertyIsEnumerable,k1=Object.getOwnPropertySymbols,nN=k1?function(t){return t==null?[]:(t=Object(t),eN(k1(t),function(e){return rN.call(t,e)}))}:fA;const h0=nN;function sN(t,e){return Tc(t,h0(t),e)}var aN=Object.getOwnPropertySymbols,oN=aN?function(t){for(var e=[];t;)iA(e,h0(t)),t=rA(t);return e}:fA;const cA=oN;function hN(t,e){return Tc(t,cA(t),e)}function dA(t,e,i){var r=e(t);return vr(t)?r:iA(r,i(t))}function Og(t){return dA(t,ll,h0)}function lN(t){return dA(t,n0,cA)}var uN=da(Gr,"DataView");const Ig=uN;var fN=da(Gr,"Promise");const Dg=fN;var cN=da(Gr,"Set");const Bg=cN;var G1="[object Map]",dN="[object Object]",z1="[object Promise]",N1="[object Set]",Y1="[object WeakMap]",V1="[object DataView]",vN=ca(Ig),pN=ca(tl),gN=ca(Dg),mN=ca(Bg),yN=ca(Eg),qs=mo;(Ig&&qs(new Ig(new ArrayBuffer(1)))!=V1||tl&&qs(new tl)!=G1||Dg&&qs(Dg.resolve())!=z1||Bg&&qs(new Bg)!=N1||Eg&&qs(new Eg)!=Y1)&&(qs=function(t){var e=mo(t),i=e==dN?t.constructor:void 0,r=i?ca(i):"";if(r)switch(r){case vN:return V1;case pN:return G1;case gN:return z1;case mN:return N1;case yN:return Y1}return e});const el=qs;var xN=Object.prototype,_N=xN.hasOwnProperty;function TN(t){var e=t.length,i=new t.constructor(e);return e&&typeof t[0]=="string"&&_N.call(t,"index")&&(i.index=t.index,i.input=t.input),i}var wN=Gr.Uint8Array;const sc=wN;function l0(t){var e=new t.constructor(t.byteLength);return new sc(e).set(new sc(t)),e}function SN(t,e){var i=e?l0(t.buffer):t.buffer;return new t.constructor(i,t.byteOffset,t.byteLength)}var CN=/\w*$/;function bN(t){var e=new t.constructor(t.source,CN.exec(t));return e.lastIndex=t.lastIndex,e}var W1=kr?kr.prototype:void 0,X1=W1?W1.valueOf:void 0;function MN(t){return X1?Object(X1.call(t)):{}}function PN(t,e){var i=e?l0(t.buffer):t.buffer;return new t.constructor(i,t.byteOffset,t.length)}var AN="[object Boolean]",RN="[object Date]",FN="[object Map]",EN="[object Number]",LN="[object RegExp]",$N="[object Set]",ON="[object String]",IN="[object Symbol]",DN="[object ArrayBuffer]",BN="[object DataView]",kN="[object Float32Array]",GN="[object Float64Array]",zN="[object Int8Array]",NN="[object Int16Array]",YN="[object Int32Array]",VN="[object Uint8Array]",WN="[object Uint8ClampedArray]",XN="[object Uint16Array]",UN="[object Uint32Array]";function HN(t,e,i){var r=t.constructor;switch(e){case DN:return l0(t);case AN:case RN:return new r(+t);case BN:return SN(t,i);case kN:case GN:case zN:case NN:case YN:case VN:case WN:case XN:case UN:return PN(t,i);case FN:return new r;case EN:case ON:return new r(t);case LN:return bN(t);case $N:return new r;case IN:return MN(t)}}function qN(t){return typeof t.constructor=="function"&&!i0(t)?xG(rA(t)):{}}var KN="[object Map]";function JN(t){return ys(t)&&el(t)==KN}var U1=go&&go.isMap,jN=U1?r0(U1):JN;const ZN=jN;var QN="[object Set]";function tY(t){return ys(t)&&el(t)==QN}var H1=go&&go.isSet,eY=H1?r0(H1):tY;const iY=eY;var rY=1,nY=2,sY=4,vA="[object Arguments]",aY="[object Array]",oY="[object Boolean]",hY="[object Date]",lY="[object Error]",pA="[object Function]",uY="[object GeneratorFunction]",fY="[object Map]",cY="[object Number]",gA="[object Object]",dY="[object RegExp]",vY="[object Set]",pY="[object String]",gY="[object Symbol]",mY="[object WeakMap]",yY="[object ArrayBuffer]",xY="[object DataView]",_Y="[object Float32Array]",TY="[object Float64Array]",wY="[object Int8Array]",SY="[object Int16Array]",CY="[object Int32Array]",bY="[object Uint8Array]",MY="[object Uint8ClampedArray]",PY="[object Uint16Array]",AY="[object Uint32Array]",At={};At[vA]=At[aY]=At[yY]=At[xY]=At[oY]=At[hY]=At[_Y]=At[TY]=At[wY]=At[SY]=At[CY]=At[fY]=At[cY]=At[gA]=At[dY]=At[vY]=At[pY]=At[gY]=At[bY]=At[MY]=At[PY]=At[AY]=!0;At[lY]=At[pA]=At[mY]=!1;function Bf(t,e,i,r,n,s){var a,o=e&rY,h=e&nY,l=e&sY;if(i&&(a=n?i(t,r,n,s):i(t)),a!==void 0)return a;if(!cn(t))return t;var u=vr(t);if(u){if(a=TN(t),!o)return TG(t,a)}else{var f=el(t),c=f==pA||f==uY;if(nc(t))return tN(t,o);if(f==gA||f==vA||c&&!n){if(a=h||c?{}:qN(t),!o)return h?hN(t,Zz(a,t)):sN(t,jz(a,t))}else{if(!At[f])return n?t:{};a=HN(t,f,o)}}s||(s=new Dr);var d=s.get(t);if(d)return d;s.set(t,a),iY(t)?t.forEach(function(p){a.add(Bf(p,e,i,p,t,s))}):ZN(t)&&t.forEach(function(p,m){a.set(m,Bf(p,e,i,m,t,s))});var g=l?h?lN:Og:h?n0:ll,v=u?void 0:g(t);return LG(v||t,function(p,m){v&&(m=p,p=t[m]),XP(a,m,Bf(p,e,i,m,t,s))}),a}var RY=1,FY=4;function mA(t){return Bf(t,RY|FY)}var EY="__lodash_hash_undefined__";function LY(t){return this.__data__.set(t,EY),this}function $Y(t){return this.__data__.has(t)}function ac(t){var e=-1,i=t==null?0:t.length;for(this.__data__=new vn;++e<i;)this.add(t[e])}ac.prototype.add=ac.prototype.push=LY;ac.prototype.has=$Y;function OY(t,e){for(var i=-1,r=t==null?0:t.length;++i<r;)if(e(t[i],i,t))return!0;return!1}function IY(t,e){return t.has(e)}var DY=1,BY=2;function yA(t,e,i,r,n,s){var a=i&DY,o=t.length,h=e.length;if(o!=h&&!(a&&h>o))return!1;var l=s.get(t),u=s.get(e);if(l&&u)return l==e&&u==t;var f=-1,c=!0,d=i&BY?new ac:void 0;for(s.set(t,e),s.set(e,t);++f<o;){var g=t[f],v=e[f];if(r)var p=a?r(v,g,f,e,t,s):r(g,v,f,t,e,s);if(p!==void 0){if(p)continue;c=!1;break}if(d){if(!OY(e,function(m,y){if(!IY(d,y)&&(g===m||n(g,m,i,r,s)))return d.push(y)})){c=!1;break}}else if(!(g===v||n(g,v,i,r,s))){c=!1;break}}return s.delete(t),s.delete(e),c}function kY(t){var e=-1,i=Array(t.size);return t.forEach(function(r,n){i[++e]=[n,r]}),i}function GY(t){var e=-1,i=Array(t.size);return t.forEach(function(r){i[++e]=r}),i}var zY=1,NY=2,YY="[object Boolean]",VY="[object Date]",WY="[object Error]",XY="[object Map]",UY="[object Number]",HY="[object RegExp]",qY="[object Set]",KY="[object String]",JY="[object Symbol]",jY="[object ArrayBuffer]",ZY="[object DataView]",q1=kr?kr.prototype:void 0,Sd=q1?q1.valueOf:void 0;function QY(t,e,i,r,n,s,a){switch(i){case ZY:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case jY:return!(t.byteLength!=e.byteLength||!s(new sc(t),new sc(e)));case YY:case VY:case UY:return _c(+t,+e);case WY:return t.name==e.name&&t.message==e.message;case HY:case KY:return t==e+"";case XY:var o=kY;case qY:var h=r&zY;if(o||(o=GY),t.size!=e.size&&!h)return!1;var l=a.get(t);if(l)return l==e;r|=NY,a.set(t,e);var u=yA(o(t),o(e),r,n,s,a);return a.delete(t),u;case JY:if(Sd)return Sd.call(t)==Sd.call(e)}return!1}var tV=1,eV=Object.prototype,iV=eV.hasOwnProperty;function rV(t,e,i,r,n,s){var a=i&tV,o=Og(t),h=o.length,l=Og(e),u=l.length;if(h!=u&&!a)return!1;for(var f=h;f--;){var c=o[f];if(!(a?c in e:iV.call(e,c)))return!1}var d=s.get(t),g=s.get(e);if(d&&g)return d==e&&g==t;var v=!0;s.set(t,e),s.set(e,t);for(var p=a;++f<h;){c=o[f];var m=t[c],y=e[c];if(r)var x=a?r(y,m,c,e,t,s):r(m,y,c,t,e,s);if(!(x===void 0?m===y||n(m,y,i,r,s):x)){v=!1;break}p||(p=c=="constructor")}if(v&&!p){var T=t.constructor,_=e.constructor;T!=_&&"constructor"in t&&"constructor"in e&&!(typeof T=="function"&&T instanceof T&&typeof _=="function"&&_ instanceof _)&&(v=!1)}return s.delete(t),s.delete(e),v}var nV=1,K1="[object Arguments]",J1="[object Array]",eu="[object Object]",sV=Object.prototype,j1=sV.hasOwnProperty;function aV(t,e,i,r,n,s){var a=vr(t),o=vr(e),h=a?J1:el(t),l=o?J1:el(e);h=h==K1?eu:h,l=l==K1?eu:l;var u=h==eu,f=l==eu,c=h==l;if(c&&nc(t)){if(!nc(e))return!1;a=!0,u=!1}if(c&&!u)return s||(s=new Dr),a||JP(t)?yA(t,e,i,r,n,s):QY(t,e,h,i,r,n,s);if(!(i&nV)){var d=u&&j1.call(t,"__wrapped__"),g=f&&j1.call(e,"__wrapped__");if(d||g){var v=d?t.value():t,p=g?e.value():e;return s||(s=new Dr),n(v,p,i,r,s)}}return c?(s||(s=new Dr),rV(t,e,i,r,n,s)):!1}function u0(t,e,i,r,n){return t===e?!0:t==null||e==null||!ys(t)&&!ys(e)?t!==t&&e!==e:aV(t,e,i,r,u0,n)}var oV=1,hV=2;function lV(t,e,i,r){var n=i.length,s=n,a=!r;if(t==null)return!s;for(t=Object(t);n--;){var o=i[n];if(a&&o[2]?o[1]!==t[o[0]]:!(o[0]in t))return!1}for(;++n<s;){o=i[n];var h=o[0],l=t[h],u=o[1];if(a&&o[2]){if(l===void 0&&!(h in t))return!1}else{var f=new Dr;if(r)var c=r(l,u,h,t,e,f);if(!(c===void 0?u0(u,l,oV|hV,r,f):c))return!1}}return!0}function xA(t){return t===t&&!cn(t)}function uV(t){for(var e=ll(t),i=e.length;i--;){var r=e[i],n=t[r];e[i]=[r,n,xA(n)]}return e}function _A(t,e){return function(i){return i==null?!1:i[t]===e&&(e!==void 0||t in Object(i))}}function fV(t){var e=uV(t);return e.length==1&&e[0][2]?_A(e[0][0],e[0][1]):function(i){return i===t||lV(i,t,e)}}function cV(t,e){return t!=null&&e in Object(t)}function dV(t,e,i){e=tA(e,t);for(var r=-1,n=e.length,s=!1;++r<n;){var a=bc(e[r]);if(!(s=t!=null&&i(t,a)))break;t=t[a]}return s||++r!=n?s:(n=t==null?0:t.length,!!n&&e0(n)&&Qm(a,n)&&(vr(t)||HP(t)))}function vV(t,e){return t!=null&&dV(t,e,cV)}var pV=1,gV=2;function mV(t,e){return s0(t)&&xA(e)?_A(bc(t),e):function(i){var r=yz(i,t);return r===void 0&&r===e?vV(i,t):u0(e,r,pV|gV)}}function TA(t){return function(e){return e==null?void 0:e[t]}}function yV(t){return function(e){return eA(e,t)}}function xV(t){return s0(t)?TA(bc(t)):yV(t)}function _V(t){return typeof t=="function"?t:t==null?Zm:typeof t=="object"?vr(t)?mV(t[0],t[1]):fV(t):xV(t)}function TV(t,e,i,r){for(var n=-1,s=t==null?0:t.length;++n<s;){var a=t[n];e(r,a,i(a),t)}return r}function wV(t){return function(e,i,r){for(var n=-1,s=Object(e),a=r(e),o=a.length;o--;){var h=a[t?o:++n];if(i(s[h],h,s)===!1)break}return e}}var SV=wV();const CV=SV;function bV(t,e){return t&&CV(t,e,ll)}function MV(t,e){return function(i,r){if(i==null)return i;if(!wc(i))return t(i,r);for(var n=i.length,s=e?n:-1,a=Object(i);(e?s--:++s<n)&&r(a[s],s,a)!==!1;);return i}}var PV=MV(bV);const AV=PV;function RV(t,e,i,r){return AV(t,function(n,s,a){e(r,n,i(n),a)}),r}function FV(t,e){return function(i,r){var n=vr(i)?TV:RV,s=e?e():{};return n(i,t,_V(r),s)}}var EV="Expected a function";function LV(t,e,i){if(typeof t!="function")throw new TypeError(EV);return setTimeout(function(){t.apply(void 0,i)},e)}var $V=kG(function(t,e,i){return LV(t,VP(e)||0,i)});const co=$V;var OV=Object.prototype,IV=OV.hasOwnProperty,DV=FV(function(t,e,i){IV.call(t,i)?t[i].push(e):t0(t,i,[e])});const wA=DV;var BV=9007199254740991,kV=Math.floor;function Z1(t,e){var i="";if(!t||e<1||e>BV)return i;do e%2&&(i+=t),e=kV(e/2),e&&(t+=t);while(e);return i}var GV=TA("length");const zV=GV;var SA="\\ud800-\\udfff",NV="\\u0300-\\u036f",YV="\\ufe20-\\ufe2f",VV="\\u20d0-\\u20ff",WV=NV+YV+VV,XV="\\ufe0e\\ufe0f",UV="["+SA+"]",kg="["+WV+"]",Gg="\\ud83c[\\udffb-\\udfff]",HV="(?:"+kg+"|"+Gg+")",CA="[^"+SA+"]",bA="(?:\\ud83c[\\udde6-\\uddff]){2}",MA="[\\ud800-\\udbff][\\udc00-\\udfff]",qV="\\u200d",PA=HV+"?",AA="["+XV+"]?",KV="(?:"+qV+"(?:"+[CA,bA,MA].join("|")+")"+AA+PA+")*",JV=AA+PA+KV,jV="(?:"+[CA+kg+"?",kg,bA,MA,UV].join("|")+")",Q1=RegExp(Gg+"(?="+Gg+")|"+jV+JV,"g");function ZV(t){for(var e=Q1.lastIndex=0;Q1.test(t);)++e;return e}function RA(t){return o0(t)?ZV(t):zV(t)}var QV=Math.ceil;function tW(t,e){e=e===void 0?" ":jm(e);var i=e.length;if(i<2)return i?Z1(e,t):e;var r=Z1(e,QV(t/RA(e)));return o0(e)?Tz(Wz(r),0,t).join(""):r.slice(0,t)}function oc(t,e,i){t=QP(t),e=Qk(e);var r=e?RA(t):0;return e&&r<e?tW(e-r,i)+t:t}var eW=Math.floor,iW=Math.random;function rW(t,e){return t+eW(iW()*(e-t+1))}var nW=parseFloat,sW=Math.min,aW=Math.random;function oW(t,e,i){if(i&&typeof i!="boolean"&&zG(t,e,i)&&(e=i=void 0),i===void 0&&(typeof e=="boolean"?(i=e,e=void 0):typeof t=="boolean"&&(i=t,t=void 0)),t===void 0&&e===void 0?(t=0,e=1):(t=Fg(t),e===void 0?(e=t,t=0):e=Fg(e)),t>e){var r=t;t=e,e=r}if(i||t%1||e%1){var n=aW();return sW(t+n*(e-t+nW("1e-"+((n+"").length-1))),e)}return rW(t,e)}function FA(t){return{all:t=t||new Map,on:function(e,i){var r=t.get(e);r?r.push(i):t.set(e,[i])},off:function(e,i){var r=t.get(e);r&&(i?r.splice(r.indexOf(i)>>>0,1):t.set(e,[]))},emit:function(e,i){var r=t.get(e);r&&r.slice().map(function(n){n(i)}),(r=t.get("*"))&&r.slice().map(function(n){n(e,i)})}}}const hW=t=>t*1e3,yo=t=>hW(t*60),xs=t=>Math.floor(t/1e3),Ra=t=>Math.floor(xs(t)/60),EA=pr("user-name","Guest"),LA=pr("focus-duration",yo(30)),$A=pr("rest-duration",yo(5)),OA=pr("notification-interval",yo(1)),IA=pr("is-muted",!1),lW=pr("is-init",!1),uW=(t=!1)=>({focusDurationMS:t?Me(5e3):LA,restDurationMS:t?Me(5e3):$A}),fW=t=>{EA.value=t},cW=t=>{LA.value=yo(t)},dW=t=>{$A.value=yo(t)},vW=t=>{OA.value=yo(t)},pW=t=>{IA.value=t},xo=()=>{const{focusDurationMS:t,restDurationMS:e}=uW(!1);return{userName:EA,focusDurationMS:t,restDurationMS:e,notificationIntervalMS:OA,isMuted:IA,isInit:lW,setUserName:fW,setFocusDuration:cW,setRestDuration:dW,setNotificationInterval:vW,setIsMuted:pW}};var DA={exports:{}};(function(t,e){(function(i,r){t.exports=r()})(Ht,function(){var i=1e3,r=6e4,n=36e5,s="millisecond",a="second",o="minute",h="hour",l="day",u="week",f="month",c="quarter",d="year",g="date",v="Invalid Date",p=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,m=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,y={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(A){var F=["th","st","nd","rd"],M=A%100;return"["+A+(F[(M-20)%10]||F[M]||F[0])+"]"}},x=function(A,F,M){var P=String(A);return!P||P.length>=F?A:""+Array(F+1-P.length).join(M)+A},T={s:x,z:function(A){var F=-A.utcOffset(),M=Math.abs(F),P=Math.floor(M/60),$=M%60;return(F<=0?"+":"-")+x(P,2,"0")+":"+x($,2,"0")},m:function A(F,M){if(F.date()<M.date())return-A(M,F);var P=12*(M.year()-F.year())+(M.month()-F.month()),$=F.clone().add(P,f),I=M-$<0,D=F.clone().add(P+(I?-1:1),f);return+(-(P+(M-$)/(I?$-D:D-$))||0)},a:function(A){return A<0?Math.ceil(A)||0:Math.floor(A)},p:function(A){return{M:f,y:d,w:u,d:l,D:g,h,m:o,s:a,ms:s,Q:c}[A]||String(A||"").toLowerCase().replace(/s$/,"")},u:function(A){return A===void 0}},_="en",w={};w[_]=y;var S=function(A){return A instanceof E},C=function A(F,M,P){var $;if(!F)return _;if(typeof F=="string"){var I=F.toLowerCase();w[I]&&($=I),M&&(w[I]=M,$=I);var D=F.split("-");if(!$&&D.length>1)return A(D[0])}else{var G=F.name;w[G]=F,$=G}return!P&&$&&(_=$),$||!P&&_},R=function(A,F){if(S(A))return A.clone();var M=typeof F=="object"?F:{};return M.date=A,M.args=arguments,new E(M)},L=T;L.l=C,L.i=S,L.w=function(A,F){return R(A,{locale:F.$L,utc:F.$u,x:F.$x,$offset:F.$offset})};var E=function(){function A(M){this.$L=C(M.locale,null,!0),this.parse(M)}var F=A.prototype;return F.parse=function(M){this.$d=function(P){var $=P.date,I=P.utc;if($===null)return new Date(NaN);if(L.u($))return new Date;if($ instanceof Date)return new Date($);if(typeof $=="string"&&!/Z$/i.test($)){var D=$.match(p);if(D){var G=D[2]-1||0,et=(D[7]||"0").substring(0,3);return I?new Date(Date.UTC(D[1],G,D[3]||1,D[4]||0,D[5]||0,D[6]||0,et)):new Date(D[1],G,D[3]||1,D[4]||0,D[5]||0,D[6]||0,et)}}return new Date($)}(M),this.$x=M.x||{},this.init()},F.init=function(){var M=this.$d;this.$y=M.getFullYear(),this.$M=M.getMonth(),this.$D=M.getDate(),this.$W=M.getDay(),this.$H=M.getHours(),this.$m=M.getMinutes(),this.$s=M.getSeconds(),this.$ms=M.getMilliseconds()},F.$utils=function(){return L},F.isValid=function(){return this.$d.toString()!==v},F.isSame=function(M,P){var $=R(M);return this.startOf(P)<=$&&$<=this.endOf(P)},F.isAfter=function(M,P){return R(M)<this.startOf(P)},F.isBefore=function(M,P){return this.endOf(P)<R(M)},F.$g=function(M,P,$){return L.u(M)?this[P]:this.set($,M)},F.unix=function(){return Math.floor(this.valueOf()/1e3)},F.valueOf=function(){return this.$d.getTime()},F.startOf=function(M,P){var $=this,I=!!L.u(P)||P,D=L.p(M),G=function(ft,tt){var K=L.w($.$u?Date.UTC($.$y,tt,ft):new Date($.$y,tt,ft),$);return I?K:K.endOf(l)},et=function(ft,tt){return L.w($.toDate()[ft].apply($.toDate("s"),(I?[0,0,0,0]:[23,59,59,999]).slice(tt)),$)},q=this.$W,j=this.$M,Z=this.$D,Q="set"+(this.$u?"UTC":"");switch(D){case d:return I?G(1,0):G(31,11);case f:return I?G(1,j):G(0,j+1);case u:var N=this.$locale().weekStart||0,vt=(q<N?q+7:q)-N;return G(I?Z-vt:Z+(6-vt),j);case l:case g:return et(Q+"Hours",0);case h:return et(Q+"Minutes",1);case o:return et(Q+"Seconds",2);case a:return et(Q+"Milliseconds",3);default:return this.clone()}},F.endOf=function(M){return this.startOf(M,!1)},F.$set=function(M,P){var $,I=L.p(M),D="set"+(this.$u?"UTC":""),G=($={},$[l]=D+"Date",$[g]=D+"Date",$[f]=D+"Month",$[d]=D+"FullYear",$[h]=D+"Hours",$[o]=D+"Minutes",$[a]=D+"Seconds",$[s]=D+"Milliseconds",$)[I],et=I===l?this.$D+(P-this.$W):P;if(I===f||I===d){var q=this.clone().set(g,1);q.$d[G](et),q.init(),this.$d=q.set(g,Math.min(this.$D,q.daysInMonth())).$d}else G&&this.$d[G](et);return this.init(),this},F.set=function(M,P){return this.clone().$set(M,P)},F.get=function(M){return this[L.p(M)]()},F.add=function(M,P){var $,I=this;M=Number(M);var D=L.p(P),G=function(j){var Z=R(I);return L.w(Z.date(Z.date()+Math.round(j*M)),I)};if(D===f)return this.set(f,this.$M+M);if(D===d)return this.set(d,this.$y+M);if(D===l)return G(1);if(D===u)return G(7);var et=($={},$[o]=r,$[h]=n,$[a]=i,$)[D]||1,q=this.$d.getTime()+M*et;return L.w(q,this)},F.subtract=function(M,P){return this.add(-1*M,P)},F.format=function(M){var P=this,$=this.$locale();if(!this.isValid())return $.invalidDate||v;var I=M||"YYYY-MM-DDTHH:mm:ssZ",D=L.z(this),G=this.$H,et=this.$m,q=this.$M,j=$.weekdays,Z=$.months,Q=function(tt,K,ct,Ee){return tt&&(tt[K]||tt(P,I))||ct[K].slice(0,Ee)},N=function(tt){return L.s(G%12||12,tt,"0")},vt=$.meridiem||function(tt,K,ct){var Ee=tt<12?"AM":"PM";return ct?Ee.toLowerCase():Ee},ft={YY:String(this.$y).slice(-2),YYYY:this.$y,M:q+1,MM:L.s(q+1,2,"0"),MMM:Q($.monthsShort,q,Z,3),MMMM:Q(Z,q),D:this.$D,DD:L.s(this.$D,2,"0"),d:String(this.$W),dd:Q($.weekdaysMin,this.$W,j,2),ddd:Q($.weekdaysShort,this.$W,j,3),dddd:j[this.$W],H:String(G),HH:L.s(G,2,"0"),h:N(1),hh:N(2),a:vt(G,et,!0),A:vt(G,et,!1),m:String(et),mm:L.s(et,2,"0"),s:String(this.$s),ss:L.s(this.$s,2,"0"),SSS:L.s(this.$ms,3,"0"),Z:D};return I.replace(m,function(tt,K){return K||ft[tt]||D.replace(":","")})},F.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},F.diff=function(M,P,$){var I,D=L.p(P),G=R(M),et=(G.utcOffset()-this.utcOffset())*r,q=this-G,j=L.m(this,G);return j=(I={},I[d]=j/12,I[f]=j,I[c]=j/3,I[u]=(q-et)/6048e5,I[l]=(q-et)/864e5,I[h]=q/n,I[o]=q/r,I[a]=q/i,I)[D]||q,$?j:L.a(j)},F.daysInMonth=function(){return this.endOf(f).$D},F.$locale=function(){return w[this.$L]},F.locale=function(M,P){if(!M)return this.$L;var $=this.clone(),I=C(M,P,!0);return I&&($.$L=I),$},F.clone=function(){return L.w(this.$d,this)},F.toDate=function(){return new Date(this.valueOf())},F.toJSON=function(){return this.isValid()?this.toISOString():null},F.toISOString=function(){return this.$d.toISOString()},F.toString=function(){return this.$d.toUTCString()},A}(),O=E.prototype;return R.prototype=O,[["$ms",s],["$s",a],["$m",o],["$H",h],["$W",l],["$M",f],["$y",d],["$D",g]].forEach(function(A){O[A[1]]=function(F){return this.$g(F,A[0],A[1])}}),R.extend=function(A,F){return A.$i||(A(F,E,R),A.$i=!0),R},R.locale=C,R.isDayjs=S,R.unix=function(A){return R(1e3*A)},R.en=w[_],R.Ls=w,R.p={},R})})(DA);const Ji=DA.exports;var BA={exports:{}};(function(t,e){(function(i,r){t.exports=r()})(Ht,function(){return function(i,r){r.prototype.weekday=function(n){var s=this.$locale().weekStart||0,a=this.$W,o=(a<s?a+7:a)-s;return this.$utils().u(n)?o:this.subtract(o,"day").add(n,"day")}}})})(BA);const gW=BA.exports;var kA={exports:{}};(function(t,e){(function(i,r){t.exports=r()})(Ht,function(){return function(i,r,n){r.prototype.dayOfYear=function(s){var a=Math.round((n(this).startOf("day")-n(this).startOf("year"))/864e5)+1;return s==null?a:this.add(s-a,"day")}}})})(kA);const mW=kA.exports;var GA={exports:{}};(function(t,e){(function(i,r){t.exports=r()})(Ht,function(){return{name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(i){var r=["th","st","nd","rd"],n=i%100;return"["+i+(r[(n-20)%10]||r[n]||r[0])+"]"}}})})(GA);const yW=GA.exports;Ji.locale({...yW,weekStart:1});Ji.extend(gW);Ji.extend(mW);var Rr=(t=>(t.StartFocus="start-focus",t.StopFocus="stop-focus",t.FinishFocus="finish-focus",t.StartRest="start-rest",t.FinishRest="finish-rest",t.FinishCycle="finish-cycle",t))(Rr||{});const{focusDurationMS:Mc,restDurationMS:Pc}=xo(),ul=FA(),xW={name:"Focus State",isFocusState:!0},f0={name:"Ready State",isReadyState:!0},_W={name:"Rest State",isRestState:!0},TW={name:"Finish State",isFinishState:!0},zA={focus:{startTime:"",endTime:""},rest:{startTime:"",endTime:""}},cs=pr("app-state",f0),Ac=pr("start-time",new Date),Rc=pr("current-time-gap",0),va=pr("current-record",mA(zA)),pn=pr("records",[]),wW=Et(()=>pn.value.length),c0=Me(Ji()),la=Me(Ji().weekday(0)),ds=Me(Ji().dayOfYear(1)),SW=()=>{la.value=la.value.weekday(-7)},CW=()=>{la.value=la.value.weekday(7)},bW=()=>{ds.value=ds.value.year(ds.value.year()-1)},MW=()=>{ds.value=ds.value.year(ds.value.year()+1)},zg=t=>Ji(t).format("YYYY/MM/DD"),NA=t=>wA(t,e=>zg(e.focus.startTime)),PW=t=>wA(t,e=>Ji(e.focus.startTime).format("YYYY/MM")),AW=Et(()=>NA(pn.value)),RW=Et(()=>pn.value.filter(t=>Ji(t.focus.startTime).isSame(la.value,"week"))),FW=Et(()=>pn.value.filter(t=>Ji(t.focus.startTime).isSame(ds.value,"year"))),EW=Et(()=>pn.value.filter(t=>zg(t.focus.startTime)===zg())),LW=Et(()=>pn.value.filter(t=>Ji(t.focus.startTime).isSame(c0.value,"week"))),$W=Et(()=>pn.value.filter(t=>Ji(t.focus.startTime).isSame(c0.value,"month"))),YA=Et(()=>{const t=cs.value.isFocusState?xs(Mc.value):xs(Pc.value);return Rc.value>=t}),VA=Et(()=>{const{isReadyState:t,isFocusState:e}=cs.value,i=xs(e?Mc.value:Pc.value);return t?0:Math.abs(i-Rc.value)}),OW=Et(()=>{const{isReadyState:t}=cs.value,e=VA.value,i=t?!1:YA.value,r=oc(String(e%60),2,"0"),n=oc(String(Math.floor(e/60)),2,"0");return i?`+${n}:${r}`:` ${n}:${r}`}),IW=Et(()=>{const{isRestState:t}=cs.value,e=t?Pc.value:Mc.value,i=xs(e),r=oc(String(i%60),2,"0");return`${oc(String(Math.floor(i/60)),2,"0")}:${r}`}),WA=()=>{const t=new Date,e=Math.floor((t.getTime()-new Date(Ac.value).getTime())/1e3);Rc.value=e},fl=t=>{t&&(cs.value=t)},{resume:d0,pause:v0}=aO(()=>{WA()},500,{immediate:!1}),XA=t=>Ac.value=t,cl=t=>va.value=t,DW=t=>{pn.value.push(t)};al(Ac,()=>{WA()});const BW=()=>{const t=new Date,e=va.value;e.focus.startTime=t.toUTCString(),XA(t),cl(e),fl(xW),d0(),ul.emit("start-focus")},kW=()=>{v0(),fl(f0),ul.emit("stop-focus")},UA=()=>{const t=new Date,e=va.value;e.rest.startTime=t.toUTCString(),XA(t),cl(e),fl(_W),d0(),ul.emit("start-rest")},GW=()=>{DW(va.value),cl(mA(zA)),fl(f0)},HA=()=>{v0();const t=va.value;t.rest.endTime=new Date().toUTCString(),cl(t),fl(TW),ul.emit("finish-rest")},zW=()=>{HA()},NW=()=>{const t=va.value;t.focus.endTime=new Date().toUTCString(),v0(),cl(t),UA()},_o=()=>((cs.value.isFocusState||cs.value.isRestState)&&d0(),la.value=c0.value.weekday(0),{focusDurationMS:Mc,restDurationMS:Pc,appState:cs,startTime:Ac,weekFirstDay:la,yearFirstDay:ds,currentTimeGap:Rc,currentRecord:va,records:pn,recordsCount:wW,recordsGroupByDay:AW,recordsInWeek:RW,recordsInYear:FW,currentRecordsByToday:EW,currentRecordsByWeek:LW,currentRecordsByMonth:$W,isOverTime:YA,countDownTimeSec:VA,countDownTimeStr:OW,durationTimeStr:IW,startFocus:BW,stopFocus:kW,finishFocus:NW,startRest:UA,stopRest:zW,finishRest:HA,finishCycle:GW,groupRecordsByDay:NA,groupRecordsByMonth:PW,changeToLastWeek:SW,changeToNextWeek:CW,changeToLastYear:bW,changeToNextYear:MW,emitter:ul}),To=t=>(XM("data-v-d2949ef5"),t=t(),UM(),t),YW={class:"report-window overflow-hidden text-black"},VW={class:"report-content p-2 max-h-[520px] overflow-scroll"},WW={class:"counters-section flex justify-between p-2"},XW={class:"today-counter text-center"},UW=To(()=>z("h3",{class:"border-b-1 border-gray-500"}," Today ",-1)),HW={class:"week-counter text-center"},qW=To(()=>z("h3",{class:"border-b-1 border-gray-500"}," Week ",-1)),KW={class:"month-counter text-center"},JW=To(()=>z("h3",{class:"border-b-1 border-gray-500"}," Month ",-1)),jW=To(()=>z("hr",null,null,-1)),ZW={class:"week-chart-section p-2 text-center"},QW=To(()=>z("h3",null,"Week Chart",-1)),tX={class:"week-chart-context flex items-center"},eX={class:"chart-wrap w-[80%] h-[180px]"},iX={class:"months-chart-section p-2 text-center"},rX=To(()=>z("h3",null,"Months Chart",-1)),nX={class:"months-chart-context flex items-center"},sX={class:"chart-wrap w-[80%] h-[360px]"},aX=xi({__name:"ReportWindow",props:{isShow:{type:Boolean,default:!0}},emits:["update:isShow"],setup(t,{emit:e}){const i=Im();$r.register(Pg,Ag,Df,DB,WB,OB);const{weekFirstDay:r,yearFirstDay:n,recordsInWeek:s,recordsInYear:a,currentRecordsByToday:o,currentRecordsByWeek:h,currentRecordsByMonth:l,groupRecordsByDay:u,groupRecordsByMonth:f,changeToLastWeek:c,changeToNextWeek:d,changeToLastYear:g,changeToNextYear:v}=_o(),p={week:!1,months:!1},m=Et(()=>{const S=`${r.value.format("YYYY/MM/DD")}-${r.value.day(7).format("MM/DD")}`;return{responsive:!0,maintainAspectRatio:!1,animation:{onComplete:()=>{p.week=!0},delay:C=>{let R=0;return C.type==="data"&&C.mode==="default"&&!p.week&&(R=C.dataIndex*300+C.datasetIndex*100),R},duration:1500},plugins:{title:{display:!0,text:`${S} Total: ${s.value.length}`}}}}),y=Et(()=>({indexAxis:"y",responsive:!0,maintainAspectRatio:!1,animation:{onComplete:()=>{p.months=!0},delay:S=>{let C=0;return S.type==="data"&&S.mode==="default"&&!p.months&&(C=S.dataIndex*300+S.datasetIndex*100),C},duration:1500},plugins:{title:{display:!0,text:`${n.value.format("YYYY")} Total: ${a.value.length}`}}})),x=(S,C)=>({labels:S,datasets:[{label:"count",backgroundColor:"#fa988f",data:C}]}),T=Et(()=>{const S=u(s.value);let C=["MO","TU","WE","TH","FR","SA","SU"];C=C.map((L,E)=>r.value.day(E+1).format("MM/DD"));const R=C.map((L,E)=>{var A;const O=r.value.day(E+1).format("YYYY/MM/DD");return((A=S[O])==null?void 0:A.length)||0});return x(C,R)}),_=Et(()=>{const S=f(a.value),C=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],R=C.map((L,E)=>{var M;const O=n.value.year(),A=n.value.month(E).format("MM"),F=`${O}/${A}`;return((M=S[F])==null?void 0:M.length)||0});return x(C,R)}),w=()=>e("update:isShow",!1);return(S,C)=>{const R=pc,L=Om("motion");return It(),xe("div",YW,[z("div",{class:"absolute top-0 left-0 barrier w-full h-full bg-gray-400 opacity-60",onClick:w}),Ft($m,{css:!1,onLeave:C[0]||(C[0]=(E,O)=>st(i)["report-window"].leave(O))},{default:me(()=>[on((It(),ea(R,{ref:"windowRef",initial:{opacity:0,scale:0},enter:{opacity:1,scale:1,transition:{duration:200,ease:"easeInOut"}},leave:{opacity:0,scale:0},class:"w-4/5 absolute top-[15%] left-[10%]",title:"Report"},{content:me(()=>[z("div",VW,[z("div",WW,[z("div",XW,[UW,lo(" "+ta(st(o).length),1)]),z("div",HW,[qW,lo(" "+ta(st(h).length),1)]),z("div",KW,[JW,lo(" "+ta(st(l).length),1)])]),jW,z("div",ZW,[QW,z("div",tX,[Ft(un,{class:"w-[25px] h-[30px] m-1",onClick:st(c)},{default:me(()=>[Ft(st(T1),{class:"transform",style:{"font-size":"1rem"}})]),_:1},8,["onClick"]),z("div",eX,[Ft(st(_1),{data:st(T),options:st(m)},null,8,["data","options"])]),Ft(un,{class:"w-[25px] h-[30px] m-1",onClick:st(d)},{default:me(()=>[Ft(st(w1),{class:"transform",style:{"font-size":"1rem"}})]),_:1},8,["onClick"])])]),z("div",iX,[rX,z("div",nX,[Ft(un,{class:"w-[25px] h-[30px] m-1",onClick:st(g)},{default:me(()=>[Ft(st(T1),{style:{"font-size":"1rem"}})]),_:1},8,["onClick"]),z("div",sX,[Ft(st(_1),{data:st(_),options:st(y)},null,8,["data","options"])]),Ft(un,{class:"w-[25px] h-[30px] m-1",onClick:st(v)},{default:me(()=>[Ft(st(w1),{style:{"font-size":"1rem"}})]),_:1},8,["onClick"])])])])]),_:1})),[[L,"settings-window"]])]),_:1})])}}});const oX=vc(aX,[["__scopeId","data-v-d2949ef5"]]),hX={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",width:"1.2em",height:"1.2em",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 24 24"},lX=z("path",{d:"M19.14 12.94c.04-.3.06-.61.06-.94c0-.32-.02-.64-.07-.94l2.03-1.58a.49.49 0 0 0 .12-.61l-1.92-3.32a.488.488 0 0 0-.59-.22l-2.39.96c-.5-.38-1.03-.7-1.62-.94l-.36-2.54a.484.484 0 0 0-.48-.41h-3.84c-.24 0-.43.17-.47.41l-.36 2.54c-.59.24-1.13.57-1.62.94l-2.39-.96c-.22-.08-.47 0-.59.22L2.74 8.87c-.12.21-.08.47.12.61l2.03 1.58c-.05.3-.09.63-.09.94s.02.64.07.94l-2.03 1.58a.49.49 0 0 0-.12.61l1.92 3.32c.12.22.37.29.59.22l2.39-.96c.5.38 1.03.7 1.62.94l.36 2.54c.05.24.24.41.48.41h3.84c.24 0 .44-.17.47-.41l.36-2.54c.59-.24 1.13-.56 1.62-.94l2.39.96c.22.08.47 0 .59-.22l1.92-3.32c.12-.22.07-.47-.12-.61l-2.01-1.58zM12 15.6c-1.98 0-3.6-1.62-3.6-3.6s1.62-3.6 3.6-3.6s3.6 1.62 3.6 3.6s-1.62 3.6-3.6 3.6z",fill:"currentColor"},null,-1),uX=[lX];function fX(t,e){return It(),xe("svg",hX,uX)}const cX={name:"ic-baseline-settings",render:fX},dX={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",width:"1.2em",height:"1.2em",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 24 24"},vX=z("path",{d:"M6.4 9.2h.2c.77 0 1.4.63 1.4 1.4v7c0 .77-.63 1.4-1.4 1.4h-.2c-.77 0-1.4-.63-1.4-1.4v-7c0-.77.63-1.4 1.4-1.4zM12 5c.77 0 1.4.63 1.4 1.4v11.2c0 .77-.63 1.4-1.4 1.4c-.77 0-1.4-.63-1.4-1.4V6.4c0-.77.63-1.4 1.4-1.4zm5.6 8c.77 0 1.4.63 1.4 1.4v3.2c0 .77-.63 1.4-1.4 1.4c-.77 0-1.4-.63-1.4-1.4v-3.2c0-.77.63-1.4 1.4-1.4z",fill:"currentColor"},null,-1),pX=[vX];function gX(t,e){return It(),xe("svg",dX,pX)}const mX={name:"ic-round-bar-chart",render:gX},yX={class:"text-center p-4"},p0=xi({__name:"ActionMenuWindow",setup(t){const{isOverTime:e,appState:i,startFocus:r,startRest:n,finishRest:s}=_o(),a=Et(()=>e.value||i.value.isReadyState),o=()=>{const{isReadyState:l,isFocusState:u,isRestState:f}=i.value;if(l)return r();if(u)return n();if(f)return s()},h=Et(()=>{const{isReadyState:l,isFocusState:u,isRestState:f}=i.value;if(l)return"Start Focus";if(u)return"Start Rest";if(f)return"Finish"});return(l,u)=>{const f=pc;return st(a)?(It(),ea(f,{key:0,title:"Actions",class:"text-black text-sm"},{content:me(()=>[z("div",yX,[Ft(un,{class:"w-4/5",onClick:o},{default:me(()=>[lo(ta(st(h)),1)]),_:1})])]),_:1})):uo("",!0)}}}),xX={id:"ready-stage"},_X=xi({__name:"ReadyStage",setup(t){return(e,i)=>(It(),xe("div",xX,[Ft(p0,{class:"w-4/5 absolute top-[30%] left-[10%]"})]))}}),TX=()=>{const{isSupported:t,show:e}=JM({title:"Time Out!",icon:jM,body:"You need to take a break. \u{1F62A}\u{1F62A}",dir:"auto",lang:"en",renotify:!1,tag:`notify-timeout-${Date.now()}`});t&&e()},wX=()=>{const{isSupported:t,show:e}=JM({title:"Time Out!",icon:jM,body:"Keep going to focus \u{1F680}\u{1F680}",dir:"auto",lang:"en",renotify:!1,tag:`notify-timeout-${Date.now()}`});t&&e()},qA=()=>({showFocusTimeoutInfo:TX,showRestTimeoutInfo:wX}),SX={id:"focus-stage"},CX=xi({__name:"FocusStage",setup(t){const{notificationIntervalMS:e}=xo(),{isOverTime:i,countDownTimeSec:r}=_o(),{showFocusTimeoutInfo:n}=qA();return al([i,r],([s,a])=>{const o=xs(e.value);s&&a%o<5&&n()}),(s,a)=>(It(),xe("div",SX,[Ft(p0,{class:"w-4/5 absolute top-[30%] left-[10%]"})]))}}),bX={id:"rest-stage"},MX=xi({__name:"RestStage",setup(t){const{notificationIntervalMS:e}=xo(),{isOverTime:i,countDownTimeSec:r}=_o(),{showRestTimeoutInfo:n}=qA();return al([i,r],([s,a])=>{const o=xs(e.value);s&&a%o<5&&n()}),(s,a)=>(It(),xe("div",bX,[Ft(p0,{class:"w-4/5 absolute top-[30%] left-[10%]"})]))}}),PX="/ro-pomodoro-app/game/items/mvp-icon.png",AX={class:"mvp-widget flex items-center"},RX=["src"],FX=z("span",{class:"mx-1 text-white"},"x",-1),EX=["textContent"],LX=xi({__name:"MvpWidget",props:{count:{type:Number,default:0}},setup(t){const e=t,i=PX;return(r,n)=>(It(),xe("div",AX,[z("img",{class:"h-[60px] aspect-auto",src:st(i),alt:""},null,8,RX),FX,z("span",{class:"text-white",textContent:ta(e.count)},null,8,EX)]))}}),$X={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",width:"1.2em",height:"1.2em",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 32 32"},OX=z("path",{d:"M12 6h-2a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h2a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2z",fill:"currentColor"},null,-1),IX=z("path",{d:"M22 6h-2a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h2a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2z",fill:"currentColor"},null,-1),DX=[OX,IX];function BX(t,e){return It(),xe("svg",$X,DX)}const kX={name:"carbon-pause-filled",render:BX},GX={class:"flex items-center text-size-xs min-h-[42px] p-2"},zX={key:0},NX={key:1},YX=["textContent"],VX=xi({__name:"StatusWindow",setup(t){const{appState:e,recordsCount:i,countDownTimeStr:r,durationTimeStr:n,isOverTime:s,stopFocus:a,stopRest:o}=_o(),{userName:h}=xo(),l=Et(()=>!s.value&&(e.value.isFocusState||e.value.isRestState)),u=Et(()=>`${r.value}/${n.value}`),f=Et(()=>{const{isFocusState:c,isRestState:d}=e.value;if(c)return()=>a();if(d)return()=>o()});return(c,d)=>{const g=LX;return It(),ea(pc,{title:st(h)},{content:me(()=>[z("div",GX,[st(e).isRestState?(It(),xe("span",NX,"Rest Time.")):(It(),xe("span",zX,"Focus Time.")),z("span",{class:"ml-1",textContent:ta(st(u))},null,8,YX),st(l)?(It(),xe("button",{key:2,class:"stop-btn",onClick:d[0]||(d[0]=(...v)=>st(f)&&st(f)(...v))},[Ft(st(kX),{style:{"font-size":"1.8em","pointer-events":"none"}})])):uo("",!0)])]),status:me(()=>[Ft(g,{count:st(i)},null,8,["count"])]),_:1},8,["title"])}}});const WX=vc(VX,[["__scopeId","data-v-63a46876"]]);Array.prototype.forEach||(Array.prototype.forEach=function(t){if(this===void 0||this===null)throw new TypeError;var e=Object(this),i=e.length>>>0;if(typeof t!="function")throw new TypeError;for(var r=arguments.length>=2?arguments[1]:void 0,n=0;n<i;n++)n in e&&t.call(r,e[n],n,e)});Array.isArray||(Array.isArray=function(t){return Object.prototype.toString.call(t)==="[object Array]"});(function(){function t(e){!e||e.setTargetAtTime||(e.setTargetAtTime=e.setTargetValueAtTime)}window.hasOwnProperty("webkitAudioContext")&&!window.hasOwnProperty("AudioContext")&&(window.AudioContext=webkitAudioContext,AudioContext.prototype.hasOwnProperty("createGain")||(AudioContext.prototype.createGain=AudioContext.prototype.createGainNode),AudioContext.prototype.hasOwnProperty("createDelay")||(AudioContext.prototype.createDelay=AudioContext.prototype.createDelayNode),AudioContext.prototype.hasOwnProperty("createScriptProcessor")||(AudioContext.prototype.createScriptProcessor=AudioContext.prototype.createJavaScriptNode),AudioContext.prototype.hasOwnProperty("createPeriodicWave")||(AudioContext.prototype.createPeriodicWave=AudioContext.prototype.createWaveTable),AudioContext.prototype.internal_createGain=AudioContext.prototype.createGain,AudioContext.prototype.createGain=function(){var e=this.internal_createGain();return t(e.gain),e},AudioContext.prototype.internal_createDelay=AudioContext.prototype.createDelay,AudioContext.prototype.createDelay=function(e){var i=e?this.internal_createDelay(e):this.internal_createDelay();return t(i.delayTime),i},AudioContext.prototype.internal_createBufferSource=AudioContext.prototype.createBufferSource,AudioContext.prototype.createBufferSource=function(){var e=this.internal_createBufferSource();return e.start?(e.internal_start=e.start,e.start=function(i,r,n){typeof n<"u"?e.internal_start(i||0,r,n):e.internal_start(i||0,r||0)}):e.start=function(i,r,n){r||n?this.noteGrainOn(i||0,r,n):this.noteOn(i||0)},e.stop?(e.internal_stop=e.stop,e.stop=function(i){e.internal_stop(i||0)}):e.stop=function(i){this.noteOff(i||0)},t(e.playbackRate),e},AudioContext.prototype.internal_createDynamicsCompressor=AudioContext.prototype.createDynamicsCompressor,AudioContext.prototype.createDynamicsCompressor=function(){var e=this.internal_createDynamicsCompressor();return t(e.threshold),t(e.knee),t(e.ratio),t(e.reduction),t(e.attack),t(e.release),e},AudioContext.prototype.internal_createBiquadFilter=AudioContext.prototype.createBiquadFilter,AudioContext.prototype.createBiquadFilter=function(){var e=this.internal_createBiquadFilter();return t(e.frequency),t(e.detune),t(e.Q),t(e.gain),e},AudioContext.prototype.hasOwnProperty("createOscillator")&&(AudioContext.prototype.internal_createOscillator=AudioContext.prototype.createOscillator,AudioContext.prototype.createOscillator=function(){var e=this.internal_createOscillator();return e.start?(e.internal_start=e.start,e.start=function(i){e.internal_start(i||0)}):e.start=function(i){this.noteOn(i||0)},e.stop?(e.internal_stop=e.stop,e.stop=function(i){e.internal_stop(i||0)}):e.stop=function(i){this.noteOff(i||0)},e.setPeriodicWave||(e.setPeriodicWave=e.setWaveTable),t(e.frequency),t(e.detune),e})),window.hasOwnProperty("webkitOfflineAudioContext")&&!window.hasOwnProperty("OfflineAudioContext")&&(window.OfflineAudioContext=webkitOfflineAudioContext)})();window.console||(window.console={},window.console.log=window.console.assert=function(){},window.console.warn=window.console.assert=function(){});Math.trunc||(Math.trunc=function(e){return e<0?Math.ceil(e):Math.floor(e)});(function(){if("performance"in window||(window.performance={}),Date.now=Date.now||function(){return new Date().getTime()},!("now"in window.performance)){var t=Date.now();performance.timing&&performance.timing.navigationStart&&(t=performance.timing.navigationStart),window.performance.now=function(){return Date.now()-t}}})();Date.now&&Date.prototype.getTime||(Date.now=function(){return new Date().getTime()});if(!(Ht.performance&&Ht.performance.now)){var XX=Date.now();Ht.performance||(Ht.performance={}),Ht.performance.now=function(){return Date.now()-XX}}var Cd=Date.now(),iu=["ms","moz","webkit","o"];for(var Yo=0;Yo<iu.length&&!Ht.requestAnimationFrame;++Yo)Ht.requestAnimationFrame=Ht[iu[Yo]+"RequestAnimationFrame"],Ht.cancelAnimationFrame=Ht[iu[Yo]+"CancelAnimationFrame"]||Ht[iu[Yo]+"CancelRequestAnimationFrame"];Ht.requestAnimationFrame||(Ht.requestAnimationFrame=function(t){if(typeof t!="function")throw new TypeError(t+"is not a function");var e=Date.now(),i=16+Cd-e;return i<0&&(i=0),Cd=e,setTimeout(function(){Cd=Date.now(),t(performance.now())},i)});Ht.cancelAnimationFrame||(Ht.cancelAnimationFrame=function(t){clearTimeout(t)});if(typeof window.Uint32Array!="function"&&typeof window.Uint32Array!="object"){var Vo=function(t){var e=new Array;window[t]=function(i){if(typeof i=="number"){Array.call(this,i),this.length=i;for(var r=0;r<this.length;r++)this[r]=0}else{Array.call(this,i.length),this.length=i.length;for(var r=0;r<this.length;r++)this[r]=i[r]}},window[t].prototype=e,window[t].constructor=window[t]};Vo("Float32Array"),Vo("Uint32Array"),Vo("Uint16Array"),Vo("Int16Array"),Vo("ArrayBuffer")}/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var pa={SKIP_CHECK:-1,NORMAL:0,ADD:1,MULTIPLY:2,SCREEN:3,OVERLAY:4,DARKEN:5,LIGHTEN:6,COLOR_DODGE:7,COLOR_BURN:8,HARD_LIGHT:9,SOFT_LIGHT:10,DIFFERENCE:11,EXCLUSION:12,HUE:13,SATURATION:14,COLOR:15,LUMINOSITY:16};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var dl={DEFAULT:0,LINEAR:0,NEAREST:1};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var UX={VERSION:"3.15.1",BlendModes:pa,ScaleModes:dl,AUTO:0,CANVAS:1,WEBGL:2,HEADLESS:3,FOREVER:-1,NONE:4,UP:5,DOWN:6,LEFT:7,RIGHT:8},_i=UX;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var HX=function(t){if(typeof t!="object"||t.nodeType||t===t.window)return!1;try{if(t.constructor&&!{}.hasOwnProperty.call(t.constructor.prototype,"isPrototypeOf"))return!1}catch{return!1}return!0},Ct=HX;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var t_=Ct,KA=function(){var t,e,i,r,n,s,a=arguments[0]||{},o=1,h=arguments.length,l=!1;for(typeof a=="boolean"&&(l=a,a=arguments[1]||{},o=2),h===o&&(a=this,--o);o<h;o++)if((t=arguments[o])!=null)for(e in t)i=a[e],r=t[e],a!==r&&(l&&r&&(t_(r)||(n=Array.isArray(r)))?(n?(n=!1,s=i&&Array.isArray(i)?i:[]):s=i&&t_(i)?i:{},a[e]=KA(l,s,r)):r!==void 0&&(a[e]=r));return a},Ae=KA;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var qX=function(t,e,i,r,n,s){r===void 0&&(r=0),n===void 0&&(n=0),s===void 0&&(s=1);var a,o=0,h=t.length;if(s===1)for(a=n;a<h;a++)t[a][e]+=i+o*r,o++;else for(a=n;a>=0;a--)t[a][e]+=i+o*r,o++;return t},zr=qX;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var KX=zr,JX=function(t,e,i,r,n){return KX(t,"angle",e,i,r,n)},jX=JX;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var ZX=function(t,e,i){for(var r=0;r<t.length;r++){var n=t[r];e.call(i,n)}return t},QX=ZX;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var t5=function(t,e,i){i===void 0&&(i=0);for(var r=i;r<t.length;r++){var n=t[r],s=!0;for(var a in e)n[a]!==e[a]&&(s=!1);if(s)return n}return null},e5=t5;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var i5=function(t,e,i){i===void 0&&(i=0);for(var r=i;r<t.length;r++){var n=t[r],s=!0;for(var a in e)n[a]!==e[a]&&(s=!1);if(s)return n}return null},r5=i5;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var n5={TOP_LEFT:0,TOP_CENTER:1,TOP_RIGHT:2,LEFT_TOP:3,LEFT_CENTER:4,LEFT_BOTTOM:5,CENTER:6,RIGHT_TOP:7,RIGHT_CENTER:8,RIGHT_BOTTOM:9,BOTTOM_LEFT:10,BOTTOM_CENTER:11,BOTTOM_RIGHT:12},g0=n5;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var s5=function(t){return t.y+t.height-t.height*t.originY},gn=s5;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var a5=function(t){return t.x-t.width*t.originX+t.width*.5},wo=a5;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var o5=function(t,e){return t.y=e-t.height+t.height*t.originY,t},mn=o5;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var h5=function(t,e){var i=t.width*t.originX;return t.x=e+i-t.width*.5,t},So=h5;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var l5=gn,u5=wo,f5=mn,c5=So,d5=function(t,e,i,r){return i===void 0&&(i=0),r===void 0&&(r=0),c5(t,u5(e)+i),f5(t,l5(e)+r),t},JA=d5;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var v5=function(t){return t.x-t.width*t.originX},yn=v5;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var p5=function(t,e){return t.x=e+t.width*t.originX,t},xn=p5;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var g5=gn,m5=yn,y5=mn,x5=xn,_5=function(t,e,i,r){return i===void 0&&(i=0),r===void 0&&(r=0),x5(t,m5(e)-i),y5(t,g5(e)+r),t},jA=_5;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var T5=function(t){return t.x+t.width-t.width*t.originX},_n=T5;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var w5=function(t,e){return t.x=e-t.width+t.width*t.originX,t},Tn=w5;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var S5=gn,C5=_n,b5=mn,M5=Tn,P5=function(t,e,i,r){return i===void 0&&(i=0),r===void 0&&(r=0),M5(t,C5(e)+i),b5(t,S5(e)+r),t},ZA=P5;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var A5=function(t,e){var i=t.height*t.originY;return t.y=e+i-t.height*.5,t},Co=A5;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var R5=So,F5=Co,E5=function(t,e,i){return R5(t,e),F5(t,i)},QA=E5;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var L5=function(t){return t.y-t.height*t.originY+t.height*.5},bo=L5;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var $5=QA,O5=wo,I5=bo,D5=function(t,e,i,r){return i===void 0&&(i=0),r===void 0&&(r=0),$5(t,O5(e)+i,I5(e)+r),t},tR=D5;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var B5=bo,k5=yn,G5=Co,z5=xn,N5=function(t,e,i,r){return i===void 0&&(i=0),r===void 0&&(r=0),z5(t,k5(e)-i),G5(t,B5(e)+r),t},eR=N5;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var Y5=bo,V5=_n,W5=Co,X5=Tn,U5=function(t,e,i,r){return i===void 0&&(i=0),r===void 0&&(r=0),X5(t,V5(e)+i),W5(t,Y5(e)+r),t},iR=U5;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var H5=function(t){return t.y-t.height*t.originY},wn=H5;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var q5=function(t,e){return t.y=e+t.height*t.originY,t},Sn=q5;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var K5=wo,J5=wn,j5=So,Z5=Sn,Q5=function(t,e,i,r){return i===void 0&&(i=0),r===void 0&&(r=0),j5(t,K5(e)+i),Z5(t,J5(e)-r),t},rR=Q5;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var t4=yn,e4=wn,i4=xn,r4=Sn,n4=function(t,e,i,r){return i===void 0&&(i=0),r===void 0&&(r=0),i4(t,t4(e)-i),r4(t,e4(e)-r),t},nR=n4;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var s4=_n,a4=wn,o4=Tn,h4=Sn,l4=function(t,e,i,r){return i===void 0&&(i=0),r===void 0&&(r=0),o4(t,s4(e)+i),h4(t,a4(e)-r),t},sR=l4;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var Cn=g0,Nr=[];Nr[Cn.BOTTOM_CENTER]=JA;Nr[Cn.BOTTOM_LEFT]=jA;Nr[Cn.BOTTOM_RIGHT]=ZA;Nr[Cn.CENTER]=tR;Nr[Cn.LEFT_CENTER]=eR;Nr[Cn.RIGHT_CENTER]=iR;Nr[Cn.TOP_CENTER]=rR;Nr[Cn.TOP_LEFT]=nR;Nr[Cn.TOP_RIGHT]=sR;var u4=function(t,e,i,r,n){return Nr[i](t,e,r,n)},aR=u4;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var f4=function(t,e,i){var r=typeof t;return!t||r==="number"||r==="string"?i:t.hasOwnProperty(e)&&t[e]!==void 0?t[e]:i},V=f4;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var c4=function(){},W=c4;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */function d4(t){return!!t.get&&typeof t.get=="function"||!!t.set&&typeof t.set=="function"}function v4(t,e,i){var r=i?t[e]:Object.getOwnPropertyDescriptor(t,e);return!i&&r.value&&typeof r.value=="object"&&(r=r.value),r&&d4(r)?(typeof r.enumerable>"u"&&(r.enumerable=!0),typeof r.configurable>"u"&&(r.configurable=!0),r):!1}function p4(t,e){var i=Object.getOwnPropertyDescriptor(t,e);return i?(i.value&&typeof i.value=="object"&&(i=i.value),i.configurable===!1):!1}function m0(t,e,i,r){for(var n in e)if(!!e.hasOwnProperty(n)){var s=v4(e,n,i);if(s!==!1){var a=r||t;if(p4(a.prototype,n)){if(vl.ignoreFinals)continue;throw new Error("cannot override final property '"+n+"', set Class.ignoreFinals = true to skip")}Object.defineProperty(t.prototype,n,s)}else t.prototype[n]=e[n]}}function oR(t,e){if(!!e){Array.isArray(e)||(e=[e]);for(var i=0;i<e.length;i++)m0(t,e[i].prototype||e[i])}}function vl(t){t||(t={});var e,i;if(t.initialize){if(typeof t.initialize!="function")throw new Error("initialize must be a function");e=t.initialize,delete t.initialize}else if(t.Extends){var r=t.Extends;e=function(){r.apply(this,arguments)}}else e=function(){};t.Extends?(e.prototype=Object.create(t.Extends.prototype),e.prototype.constructor=e,i=t.Extends,delete t.Extends):e.prototype.constructor=e;var n=null;return t.Mixins&&(n=t.Mixins,delete t.Mixins),oR(e,n),m0(e,t,!0,i),e}vl.extend=m0;vl.mixin=oR;vl.ignoreFinals=!1;var b=vl;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var g4=function(t,e,i){if(t.radius>0&&e>=t.left&&e<=t.right&&i>=t.top&&i<=t.bottom){var r=(t.x-e)*(t.x-e),n=(t.y-i)*(t.y-i);return r+n<=t.radius*t.radius}else return!1},bn=g4;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var m4=b,y4=new m4({initialize:function(e,i){e===void 0&&(e=0),i===void 0&&(i=e),this.x=e,this.y=i},setTo:function(t,e){return t===void 0&&(t=0),e===void 0&&(e=t),this.x=t,this.y=e,this}}),gt=y4;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var x4=gt,_4=function(t,e,i){return i===void 0&&(i=new x4),i.x=t.x+t.radius*Math.cos(e),i.y=t.y+t.radius*Math.sin(e),i},y0=_4;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var T4=function(t,e,i){return Math.max(e,Math.min(i,t))},ei=T4;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var w4=ei,S4=function(t,e,i){return t=w4(t,0,1),(i-e)*t},pl=S4;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var C4=b,b4=new C4({initialize:function(e){e===void 0&&(e=[(Date.now()*Math.random()).toString()]),this.c=1,this.s0=0,this.s1=0,this.s2=0,this.n=0,this.signs=[-1,1],e&&this.init(e)},rnd:function(){var t=2091639*this.s0+this.c*23283064365386963e-26;return this.c=t|0,this.s0=this.s1,this.s1=this.s2,this.s2=t-this.c,this.s2},hash:function(t){var e,i=this.n;t=t.toString();for(var r=0;r<t.length;r++)i+=t.charCodeAt(r),e=.02519603282416938*i,i=e>>>0,e-=i,e*=i,i=e>>>0,e-=i,i+=e*4294967296;return this.n=i,(i>>>0)*23283064365386963e-26},init:function(t){typeof t=="string"?this.state(t):this.sow(t)},sow:function(t){if(this.n=4022871197,this.s0=this.hash(" "),this.s1=this.hash(" "),this.s2=this.hash(" "),this.c=1,!!t)for(var e=0;e<t.length&&t[e]!=null;e++){var i=t[e];this.s0-=this.hash(i),this.s0+=~~(this.s0<0),this.s1-=this.hash(i),this.s1+=~~(this.s1<0),this.s2-=this.hash(i),this.s2+=~~(this.s2<0)}},integer:function(){return this.rnd()*4294967296},frac:function(){return this.rnd()+(this.rnd()*2097152|0)*11102230246251565e-32},real:function(){return this.integer()+this.frac()},integerInRange:function(t,e){return Math.floor(this.realInRange(0,e-t+1)+t)},between:function(t,e){return Math.floor(this.realInRange(0,e-t+1)+t)},realInRange:function(t,e){return this.frac()*(e-t)+t},normal:function(){return 1-2*this.frac()},uuid:function(){var t="",e="";for(e=t="";t++<36;e+=~t%5|t*3&4?(t^15?8^this.frac()*(t^20?16:4):4).toString(16):"-");return e},pick:function(t){return t[this.integerInRange(0,t.length-1)]},sign:function(){return this.pick(this.signs)},weightedPick:function(t){return t[~~(Math.pow(this.frac(),2)*(t.length-1)+.5)]},timestamp:function(t,e){return this.realInRange(t||9466848e5,e||1577862e6)},angle:function(){return this.integerInRange(-180,180)},rotation:function(){return this.realInRange(-3.1415926,3.1415926)},state:function(t){return typeof t=="string"&&t.match(/^!rnd/)&&(t=t.split(","),this.c=parseFloat(t[1]),this.s0=parseFloat(t[2]),this.s1=parseFloat(t[3]),this.s2=parseFloat(t[4])),["!rnd",this.c,this.s0,this.s1,this.s2].join(",")},shuffle:function(t){for(var e=t.length-1,i=e;i>0;i--){var r=Math.floor(this.frac()*(e+1)),n=t[r];t[r]=t[i],t[i]=n}return t}}),hR=b4;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var M4=hR,P4={PI2:Math.PI*2,TAU:Math.PI*.5,EPSILON:1e-6,DEG_TO_RAD:Math.PI/180,RAD_TO_DEG:180/Math.PI,RND:new M4},_e=P4;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var A4=y0,R4=pl,F4=_e,E4=gt,L4=function(t,e,i){i===void 0&&(i=new E4);var r=R4(e,0,F4.PI2);return A4(t,r,i)},lR=L4;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var $4=function(t){return 2*(Math.PI*t.radius)},uR=$4;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var O4=uR,I4=y0,D4=pl,B4=_e,k4=function(t,e,i,r){r===void 0&&(r=[]),e||(e=O4(t)/i);for(var n=0;n<e;n++){var s=D4(n/e,0,B4.PI2);r.push(I4(t,s))}return r},fR=k4;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var G4=gt,z4=function(t,e){e===void 0&&(e=new G4);var i=2*Math.PI*Math.random(),r=Math.random()+Math.random(),n=r>1?2-r:r,s=n*Math.cos(i),a=n*Math.sin(i);return e.x=t.x+s*t.radius,e.y=t.y+a*t.radius,e},x0=z4;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var N4=b,Y4=bn,V4=lR,W4=fR,X4=x0,U4=new N4({initialize:function(e,i,r){e===void 0&&(e=0),i===void 0&&(i=0),r===void 0&&(r=0),this.x=e,this.y=i,this._radius=r,this._diameter=r*2},contains:function(t,e){return Y4(this,t,e)},getPoint:function(t,e){return V4(this,t,e)},getPoints:function(t,e,i){return W4(this,t,e,i)},getRandomPoint:function(t){return X4(this,t)},setTo:function(t,e,i){return this.x=t,this.y=e,this._radius=i,this._diameter=i*2,this},setEmpty:function(){return this._radius=0,this._diameter=0,this},setPosition:function(t,e){return e===void 0&&(e=t),this.x=t,this.y=e,this},isEmpty:function(){return this._radius<=0},radius:{get:function(){return this._radius},set:function(t){this._radius=t,this._diameter=t*2}},diameter:{get:function(){return this._diameter},set:function(t){this._diameter=t,this._radius=t*.5}},left:{get:function(){return this.x-this._radius},set:function(t){this.x=t+this._radius}},right:{get:function(){return this.x+this._radius},set:function(t){this.x=t-this._radius}},top:{get:function(){return this.y-this._radius},set:function(t){this.y=t+this._radius}},bottom:{get:function(){return this.y+this._radius},set:function(t){this.y=t-this._radius}}}),Mo=U4;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var Hr=ei,Fa=2,H4={_alpha:1,_alphaTL:1,_alphaTR:1,_alphaBL:1,_alphaBR:1,clearAlpha:function(){return this.setAlpha(1)},setAlpha:function(t,e,i,r){return t===void 0&&(t=1),e===void 0?this.alpha=t:(this._alphaTL=Hr(t,0,1),this._alphaTR=Hr(e,0,1),this._alphaBL=Hr(i,0,1),this._alphaBR=Hr(r,0,1)),this},alpha:{get:function(){return this._alpha},set:function(t){var e=Hr(t,0,1);this._alpha=e,this._alphaTL=e,this._alphaTR=e,this._alphaBL=e,this._alphaBR=e,e===0?this.renderFlags&=~Fa:this.renderFlags|=Fa}},alphaTopLeft:{get:function(){return this._alphaTL},set:function(t){var e=Hr(t,0,1);this._alphaTL=e,e!==0&&(this.renderFlags|=Fa)}},alphaTopRight:{get:function(){return this._alphaTR},set:function(t){var e=Hr(t,0,1);this._alphaTR=e,e!==0&&(this.renderFlags|=Fa)}},alphaBottomLeft:{get:function(){return this._alphaBL},set:function(t){var e=Hr(t,0,1);this._alphaBL=e,e!==0&&(this.renderFlags|=Fa)}},alphaBottomRight:{get:function(){return this._alphaBR},set:function(t){var e=Hr(t,0,1);this._alphaBR=e,e!==0&&(this.renderFlags|=Fa)}}},cR=H4;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var q4=b,K4=new q4({initialize:function(e){this.parent=e,this.animationManager=e.scene.sys.anims,this.animationManager.once("remove",this.remove,this),this.isPlaying=!1,this.currentAnim=null,this.currentFrame=null,this._timeScale=1,this.frameRate=0,this.duration=0,this.msPerFrame=0,this.skipMissedFrames=!0,this._delay=0,this._repeat=0,this._repeatDelay=0,this._yoyo=!1,this.forward=!0,this._reverse=!1,this.accumulator=0,this.nextTick=0,this.repeatCounter=0,this.pendingRepeat=!1,this._paused=!1,this._wasPlaying=!1,this._pendingStop=0,this._pendingStopValue},setDelay:function(t){return t===void 0&&(t=0),this._delay=t,this.parent},getDelay:function(){return this._delay},delayedPlay:function(t,e,i){return this.play(e,!0,i),this.nextTick+=t,this.parent},getCurrentKey:function(){if(this.currentAnim)return this.currentAnim.key},load:function(t,e){return e===void 0&&(e=0),this.isPlaying&&this.stop(),this.animationManager.load(this,t,e),this.parent},pause:function(t){return this._paused||(this._paused=!0,this._wasPlaying=this.isPlaying,this.isPlaying=!1),t!==void 0&&this.updateFrame(t),this.parent},resume:function(t){return this._paused&&(this._paused=!1,this.isPlaying=this._wasPlaying),t!==void 0&&this.updateFrame(t),this.parent},isPaused:{get:function(){return this._paused}},play:function(t,e,i){return e===void 0&&(e=!1),i===void 0&&(i=0),e&&this.isPlaying&&this.currentAnim.key===t?this.parent:(this.forward=!0,this._reverse=!1,this._startAnimation(t,i))},playReverse:function(t,e,i){return e===void 0&&(e=!1),i===void 0&&(i=0),e&&this.isPlaying&&this.currentAnim.key===t?this.parent:(this.forward=!1,this._reverse=!0,this._startAnimation(t,i))},_startAnimation:function(t,e){this.load(t,e);var i=this.currentAnim,r=this.parent;return this.repeatCounter=this._repeat===-1?Number.MAX_VALUE:this._repeat,i.getFirstTick(this),this.isPlaying=!0,this.pendingRepeat=!1,i.showOnStart&&(r.visible=!0),r.emit("animationstart",this.currentAnim,this.currentFrame,r),r},reverse:function(t){return!this.isPlaying||this.currentAnim.key!==t?this.parent:(this._reverse=!this._reverse,this.forward=!this.forward,this.parent)},getProgress:function(){var t=this.currentFrame.progress;return this.forward||(t=1-t),t},setProgress:function(t){return this.forward||(t=1-t),this.setCurrentFrame(this.currentAnim.getFrameByProgress(t)),this.parent},remove:function(t,e){e===void 0&&(e=this.currentAnim),this.isPlaying&&e.key===this.currentAnim.key&&(this.stop(),this.setCurrentFrame(this.currentAnim.frames[0]))},getRepeat:function(){return this._repeat},setRepeat:function(t){return this._repeat=t,this.repeatCounter=0,this.parent},getRepeatDelay:function(){return this._repeatDelay},setRepeatDelay:function(t){return this._repeatDelay=t,this.parent},restart:function(t){t===void 0&&(t=!1),this.currentAnim.getFirstTick(this,t),this.forward=!0,this.isPlaying=!0,this.pendingRepeat=!1,this._paused=!1,this.updateFrame(this.currentAnim.frames[0]);var e=this.parent;return e.emit("animationrestart",this.currentAnim,this.currentFrame,e),this.parent},stop:function(){this._pendingStop=0,this.isPlaying=!1;var t=this.parent;return t.emit("animationcomplete",this.currentAnim,this.currentFrame,t),t},stopAfterDelay:function(t){return this._pendingStop=1,this._pendingStopValue=t,this.parent},stopOnRepeat:function(){return this._pendingStop=2,this.parent},stopOnFrame:function(t){return this._pendingStop=3,this._pendingStopValue=t,this.parent},setTimeScale:function(t){return t===void 0&&(t=1),this._timeScale=t,this.parent},getTimeScale:function(){return this._timeScale},getTotalFrames:function(){return this.currentAnim.frames.length},update:function(t,e){if(!(!this.currentAnim||!this.isPlaying||this.currentAnim.paused)){if(this.accumulator+=e*this._timeScale,this._pendingStop===1&&(this._pendingStopValue-=e,this._pendingStopValue<=0))return this.currentAnim.completeAnimation(this);this.accumulator>=this.nextTick&&this.currentAnim.setFrame(this)}},setCurrentFrame:function(t){var e=this.parent;return this.currentFrame=t,e.texture=t.frame.texture,e.frame=t.frame,e.isCropped&&e.frame.updateCropUVs(e._crop,e.flipX,e.flipY),e.setSizeToFrame(),t.frame.customPivot?e.setOrigin(t.frame.pivotX,t.frame.pivotY):e.updateDisplayOrigin(),e},updateFrame:function(t){var e=this.setCurrentFrame(t);if(this.isPlaying){t.setAlpha&&(e.alpha=t.alpha);var i=this.currentAnim;e.emit("animationupdate",i,t,e),this._pendingStop===3&&this._pendingStopValue===t&&this.currentAnim.completeAnimation(this)}},setYoyo:function(t){return t===void 0&&(t=!1),this._yoyo=t,this.parent},getYoyo:function(){return this._yoyo},destroy:function(){this.animationManager.off("remove",this.remove,this),this.animationManager=null,this.parent=null,this.currentAnim=null,this.currentFrame=null}}),dR=K4;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var e_=pa,J4={_blendMode:e_.NORMAL,blendMode:{get:function(){return this._blendMode},set:function(t){typeof t=="string"&&(t=e_[t]),t|=0,t>=-1&&(this._blendMode=t)}},setBlendMode:function(t){return this.blendMode=t,this}},vR=J4;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var j4={width:0,height:0,displayWidth:{get:function(){return this.scaleX*this.width},set:function(t){this.scaleX=t/this.width}},displayHeight:{get:function(){return this.scaleY*this.height},set:function(t){this.scaleY=t/this.height}},setSize:function(t,e){return this.width=t,this.height=e,this},setDisplaySize:function(t,e){return this.displayWidth=t,this.displayHeight=e,this}},Z4=j4;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var Q4={texture:null,frame:null,isCropped:!1,setCrop:function(t,e,i,r){if(t===void 0)this.isCropped=!1;else if(this.frame){if(typeof t=="number")this.frame.setCropUVs(this._crop,t,e,i,r,this.flipX,this.flipY);else{var n=t;this.frame.setCropUVs(this._crop,n.x,n.y,n.width,n.height,this.flipX,this.flipY)}this.isCropped=!0}return this},resetCropObject:function(){return{u0:0,v0:0,u1:0,v1:0,width:0,height:0,x:0,y:0,flipX:!1,flipY:!1,cx:0,cy:0,cw:0,ch:0}}},tU=Q4;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var eU={_depth:0,depth:{get:function(){return this._depth},set:function(t){this.scene.sys.queueDepthSort(),this._depth=t}},setDepth:function(t){return t===void 0&&(t=0),this.depth=t,this}},pR=eU;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var iU={flipX:!1,flipY:!1,toggleFlipX:function(){return this.flipX=!this.flipX,this},toggleFlipY:function(){return this.flipY=!this.flipY,this},setFlipX:function(t){return this.flipX=t,this},setFlipY:function(t){return this.flipY=t,this},setFlip:function(t,e){return this.flipX=t,this.flipY=e,this},resetFlip:function(){return this.flipX=!1,this.flipY=!1,this}},rU=iU;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var nU=function(t,e,i){return t.width<=0||t.height<=0?!1:t.x<=e&&t.x+t.width>=e&&t.y<=i&&t.y+t.height>=i},Mn=nU;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var sU=function(t){return 2*(t.width+t.height)},Fc=sU;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var aU=Fc,oU=gt,hU=function(t,e,i){if(i===void 0&&(i=new oU),e<=0||e>=1)return i.x=t.x,i.y=t.y,i;var r=aU(t)*e;return e>.5?(r-=t.width+t.height,r<=t.width?(i.x=t.right-r,i.y=t.bottom):(i.x=t.x,i.y=t.bottom-(r-t.width))):r<=t.width?(i.x=t.x+r,i.y=t.y):(i.x=t.right,i.y=t.y+(r-t.width)),i},_0=hU;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var lU=_0,uU=Fc,fU=function(t,e,i,r){r===void 0&&(r=[]),e||(e=uU(t)/i);for(var n=0;n<e;n++){var s=n/e;r.push(lU(t,s))}return r},gR=fU;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var cU=gt,dU=function(t,e,i){return i===void 0&&(i=new cU),i.x=t.x1+(t.x2-t.x1)*e,i.y=t.y1+(t.y2-t.y1)*e,i},mR=dU;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var vU=function(t){return Math.sqrt((t.x2-t.x1)*(t.x2-t.x1)+(t.y2-t.y1)*(t.y2-t.y1))},ga=vU;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var pU=ga,gU=gt,mU=function(t,e,i,r){r===void 0&&(r=[]),e||(e=pU(t)/i);for(var n=t.x1,s=t.y1,a=t.x2,o=t.y2,h=0;h<e;h++){var l=h/e,u=n+(a-n)*l,f=s+(o-s)*l;r.push(new gU(u,f))}return r},T0=mU;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var yU=gt,xU=function(t,e){e===void 0&&(e=new yU);var i=Math.random();return e.x=t.x1+i*(t.x2-t.x1),e.y=t.y1+i*(t.y2-t.y1),e},w0=xU;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var _U=b,hc=new _U({initialize:function(e,i){this.x=0,this.y=0,typeof e=="object"?(this.x=e.x||0,this.y=e.y||0):(i===void 0&&(i=e),this.x=e||0,this.y=i||0)},clone:function(){return new hc(this.x,this.y)},copy:function(t){return this.x=t.x||0,this.y=t.y||0,this},setFromObject:function(t){return this.x=t.x||0,this.y=t.y||0,this},set:function(t,e){return e===void 0&&(e=t),this.x=t,this.y=e,this},setTo:function(t,e){return this.set(t,e)},setToPolar:function(t,e){return e==null&&(e=1),this.x=Math.cos(t)*e,this.y=Math.sin(t)*e,this},equals:function(t){return this.x===t.x&&this.y===t.y},angle:function(){var t=Math.atan2(this.y,this.x);return t<0&&(t+=2*Math.PI),t},add:function(t){return this.x+=t.x,this.y+=t.y,this},subtract:function(t){return this.x-=t.x,this.y-=t.y,this},multiply:function(t){return this.x*=t.x,this.y*=t.y,this},scale:function(t){return isFinite(t)?(this.x*=t,this.y*=t):(this.x=0,this.y=0),this},divide:function(t){return this.x/=t.x,this.y/=t.y,this},negate:function(){return this.x=-this.x,this.y=-this.y,this},distance:function(t){var e=t.x-this.x,i=t.y-this.y;return Math.sqrt(e*e+i*i)},distanceSq:function(t){var e=t.x-this.x,i=t.y-this.y;return e*e+i*i},length:function(){var t=this.x,e=this.y;return Math.sqrt(t*t+e*e)},lengthSq:function(){var t=this.x,e=this.y;return t*t+e*e},normalize:function(){var t=this.x,e=this.y,i=t*t+e*e;return i>0&&(i=1/Math.sqrt(i),this.x=t*i,this.y=e*i),this},normalizeRightHand:function(){var t=this.x;return this.x=this.y*-1,this.y=t,this},dot:function(t){return this.x*t.x+this.y*t.y},cross:function(t){return this.x*t.y-this.y*t.x},lerp:function(t,e){e===void 0&&(e=0);var i=this.x,r=this.y;return this.x=i+e*(t.x-i),this.y=r+e*(t.y-r),this},transformMat3:function(t){var e=this.x,i=this.y,r=t.val;return this.x=r[0]*e+r[3]*i+r[6],this.y=r[1]*e+r[4]*i+r[7],this},transformMat4:function(t){var e=this.x,i=this.y,r=t.val;return this.x=r[0]*e+r[4]*i+r[12],this.y=r[1]*e+r[5]*i+r[13],this},reset:function(){return this.x=0,this.y=0,this}});hc.ZERO=new hc;var at=hc;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var TU=b,wU=mR,SU=T0,CU=w0,i_=at,bU=new TU({initialize:function(e,i,r,n){e===void 0&&(e=0),i===void 0&&(i=0),r===void 0&&(r=0),n===void 0&&(n=0),this.x1=e,this.y1=i,this.x2=r,this.y2=n},getPoint:function(t,e){return wU(this,t,e)},getPoints:function(t,e,i){return SU(this,t,e,i)},getRandomPoint:function(t){return CU(this,t)},setTo:function(t,e,i,r){return t===void 0&&(t=0),e===void 0&&(e=0),i===void 0&&(i=0),r===void 0&&(r=0),this.x1=t,this.y1=e,this.x2=i,this.y2=r,this},getPointA:function(t){return t===void 0&&(t=new i_),t.set(this.x1,this.y1),t},getPointB:function(t){return t===void 0&&(t=new i_),t.set(this.x2,this.y2),t},left:{get:function(){return Math.min(this.x1,this.x2)},set:function(t){this.x1<=this.x2?this.x1=t:this.x2=t}},right:{get:function(){return Math.max(this.x1,this.x2)},set:function(t){this.x1>this.x2?this.x1=t:this.x2=t}},top:{get:function(){return Math.min(this.y1,this.y2)},set:function(t){this.y1<=this.y2?this.y1=t:this.y2=t}},bottom:{get:function(){return Math.max(this.y1,this.y2)},set:function(t){this.y1>this.y2?this.y1=t:this.y2=t}}}),_s=bU;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var MU=gt,PU=function(t,e){return e===void 0&&(e=new MU),e.x=t.x+Math.random()*t.width,e.y=t.y+Math.random()*t.height,e},S0=PU;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var AU=b,RU=Mn,FU=_0,EU=gR,ru=_s,LU=S0,$U=new AU({initialize:function(e,i,r,n){e===void 0&&(e=0),i===void 0&&(i=0),r===void 0&&(r=0),n===void 0&&(n=0),this.x=e,this.y=i,this.width=r,this.height=n},contains:function(t,e){return RU(this,t,e)},getPoint:function(t,e){return FU(this,t,e)},getPoints:function(t,e,i){return EU(this,t,e,i)},getRandomPoint:function(t){return LU(this,t)},setTo:function(t,e,i,r){return this.x=t,this.y=e,this.width=i,this.height=r,this},setEmpty:function(){return this.setTo(0,0,0,0)},setPosition:function(t,e){return e===void 0&&(e=t),this.x=t,this.y=e,this},setSize:function(t,e){return e===void 0&&(e=t),this.width=t,this.height=e,this},isEmpty:function(){return this.width<=0||this.height<=0},getLineA:function(t){return t===void 0&&(t=new ru),t.setTo(this.x,this.y,this.right,this.y),t},getLineB:function(t){return t===void 0&&(t=new ru),t.setTo(this.right,this.y,this.right,this.bottom),t},getLineC:function(t){return t===void 0&&(t=new ru),t.setTo(this.right,this.bottom,this.x,this.bottom),t},getLineD:function(t){return t===void 0&&(t=new ru),t.setTo(this.x,this.bottom,this.x,this.y),t},left:{get:function(){return this.x},set:function(t){t>=this.right?this.width=0:this.width=this.right-t,this.x=t}},right:{get:function(){return this.x+this.width},set:function(t){t<=this.x?this.width=0:this.width=t-this.x}},top:{get:function(){return this.y},set:function(t){t>=this.bottom?this.height=0:this.height=this.bottom-t,this.y=t}},bottom:{get:function(){return this.y+this.height},set:function(t){t<=this.y?this.height=0:this.height=t-this.y}},centerX:{get:function(){return this.x+this.width/2},set:function(t){this.x=t-this.width/2}},centerY:{get:function(){return this.y+this.height/2},set:function(t){this.y=t-this.height/2}}}),Dt=$U;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var OU=function(t,e,i,r){var n=Math.cos(r),s=Math.sin(r),a=t.x-e,o=t.y-i;return t.x=a*n-o*s+e,t.y=a*s+o*n+i,t},yR=OU;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var IU=Dt,nu=yR,Wo=at,DU={getCenter:function(t){return t===void 0&&(t=new Wo),t.x=this.x-this.displayWidth*this.originX+this.displayWidth/2,t.y=this.y-this.displayHeight*this.originY+this.displayHeight/2,t},getTopLeft:function(t,e){if(t||(t=new Wo),e===void 0&&(e=!1),t.x=this.x-this.displayWidth*this.originX,t.y=this.y-this.displayHeight*this.originY,this.rotation!==0&&nu(t,this.x,this.y,this.rotation),e&&this.parentContainer){var i=this.parentContainer.getBoundsTransformMatrix();i.transformPoint(t.x,t.y,t)}return t},getTopRight:function(t,e){if(t||(t=new Wo),e===void 0&&(e=!1),t.x=this.x-this.displayWidth*this.originX+this.displayWidth,t.y=this.y-this.displayHeight*this.originY,this.rotation!==0&&nu(t,this.x,this.y,this.rotation),e&&this.parentContainer){var i=this.parentContainer.getBoundsTransformMatrix();i.transformPoint(t.x,t.y,t)}return t},getBottomLeft:function(t,e){if(t||(t=new Wo),e===void 0&&(e=!1),t.x=this.x-this.displayWidth*this.originX,t.y=this.y-this.displayHeight*this.originY+this.displayHeight,this.rotation!==0&&nu(t,this.x,this.y,this.rotation),e&&this.parentContainer){var i=this.parentContainer.getBoundsTransformMatrix();i.transformPoint(t.x,t.y,t)}return t},getBottomRight:function(t,e){if(t||(t=new Wo),e===void 0&&(e=!1),t.x=this.x-this.displayWidth*this.originX+this.displayWidth,t.y=this.y-this.displayHeight*this.originY+this.displayHeight,this.rotation!==0&&nu(t,this.x,this.y,this.rotation),e&&this.parentContainer){var i=this.parentContainer.getBoundsTransformMatrix();i.transformPoint(t.x,t.y,t)}return t},getBounds:function(t){t===void 0&&(t=new IU);var e,i,r,n,s,a,o,h;if(this.parentContainer){var l=this.parentContainer.getBoundsTransformMatrix();this.getTopLeft(t),l.transformPoint(t.x,t.y,t),e=t.x,i=t.y,this.getTopRight(t),l.transformPoint(t.x,t.y,t),r=t.x,n=t.y,this.getBottomLeft(t),l.transformPoint(t.x,t.y,t),s=t.x,a=t.y,this.getBottomRight(t),l.transformPoint(t.x,t.y,t),o=t.x,h=t.y}else this.getTopLeft(t),e=t.x,i=t.y,this.getTopRight(t),r=t.x,n=t.y,this.getBottomLeft(t),s=t.x,a=t.y,this.getBottomRight(t),o=t.x,h=t.y;return t.x=Math.min(e,r,s,o),t.y=Math.min(i,n,a,h),t.width=Math.max(e,r,s,o)-t.x,t.height=Math.max(i,n,a,h)-t.y,t}},BU=DU;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var kU=b,GU=new kU({initialize:function(e,i){var r=e.sys.game.renderer;if(this.renderer=r,this.bitmapMask=i,this.maskTexture=null,this.mainTexture=null,this.dirty=!0,this.mainFramebuffer=null,this.maskFramebuffer=null,this.invertAlpha=!1,r&&r.gl){var n=r.width,s=r.height,a=(n&n-1)===0&&(s&s-1)===0,o=r.gl,h=a?o.REPEAT:o.CLAMP_TO_EDGE,l=o.LINEAR;this.mainTexture=r.createTexture2D(0,l,l,h,h,o.RGBA,null,n,s),this.maskTexture=r.createTexture2D(0,l,l,h,h,o.RGBA,null,n,s),this.mainFramebuffer=r.createFramebuffer(n,s,this.mainTexture,!1),this.maskFramebuffer=r.createFramebuffer(n,s,this.maskTexture,!1),r.onContextRestored(function(u){var f=u.width,c=u.height,d=(f&f-1)===0&&(c&c-1)===0,g=u.gl,v=d?g.REPEAT:g.CLAMP_TO_EDGE,p=g.LINEAR;this.mainTexture=u.createTexture2D(0,p,p,v,v,g.RGBA,null,f,c),this.maskTexture=u.createTexture2D(0,p,p,v,v,g.RGBA,null,f,c),this.mainFramebuffer=u.createFramebuffer(f,c,this.mainTexture,!1),this.maskFramebuffer=u.createFramebuffer(f,c,this.maskTexture,!1)},this)}},setBitmap:function(t){this.bitmapMask=t},preRenderWebGL:function(t,e,i){t.pipelines.BitmapMaskPipeline.beginMask(this,e,i)},postRenderWebGL:function(t){t.pipelines.BitmapMaskPipeline.endMask(this)},preRenderCanvas:function(){},postRenderCanvas:function(){},destroy:function(){this.bitmapMask=null;var t=this.renderer;t&&t.gl&&(t.deleteTexture(this.mainTexture),t.deleteTexture(this.maskTexture),t.deleteFramebuffer(this.mainFramebuffer),t.deleteFramebuffer(this.maskFramebuffer)),this.mainTexture=null,this.maskTexture=null,this.mainFramebuffer=null,this.maskFramebuffer=null,this.renderer=null}}),xR=GU;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var zU=b,NU=new zU({initialize:function(e,i){this.geometryMask=i},setShape:function(t){this.geometryMask=t},preRenderWebGL:function(t,e,i){var r=t.gl,n=this.geometryMask;t.flush(),r.enable(r.STENCIL_TEST),r.clear(r.STENCIL_BUFFER_BIT),r.colorMask(!1,!1,!1,!1),r.stencilFunc(r.NOTEQUAL,1,1),r.stencilOp(r.REPLACE,r.REPLACE,r.REPLACE),n.renderWebGL(t,n,0,i),t.flush(),r.colorMask(!0,!0,!0,!0),r.stencilFunc(r.EQUAL,1,1),r.stencilOp(r.KEEP,r.KEEP,r.KEEP)},postRenderWebGL:function(t){var e=t.gl;t.flush(),e.disable(e.STENCIL_TEST)},preRenderCanvas:function(t,e,i){var r=this.geometryMask;t.currentContext.save(),r.renderCanvas(t,r,0,i,null,null,!0),t.currentContext.clip()},postRenderCanvas:function(t){t.currentContext.restore()},destroy:function(){this.geometryMask=null}}),_R=NU;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var YU=xR,VU=_R,WU={mask:null,setMask:function(t){return this.mask=t,this},clearMask:function(t){return t===void 0&&(t=!1),t&&this.mask&&this.mask.destroy(),this.mask=null,this},createBitmapMask:function(t){return t===void 0&&this.texture&&(t=this),new YU(this.scene,t)},createGeometryMask:function(t){return t===void 0&&this.type==="Graphics"&&(t=this),new VU(this.scene,t)}},TR=WU;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var XU={_originComponent:!0,originX:.5,originY:.5,_displayOriginX:0,_displayOriginY:0,displayOriginX:{get:function(){return this._displayOriginX},set:function(t){this._displayOriginX=t,this.originX=t/this.width}},displayOriginY:{get:function(){return this._displayOriginY},set:function(t){this._displayOriginY=t,this.originY=t/this.height}},setOrigin:function(t,e){return t===void 0&&(t=.5),e===void 0&&(e=t),this.originX=t,this.originY=e,this.updateDisplayOrigin()},setOriginFromFrame:function(){return!this.frame||!this.frame.customPivot?this.setOrigin():(this.originX=this.frame.pivotX,this.originY=this.frame.pivotY,this.updateDisplayOrigin())},setDisplayOrigin:function(t,e){return t===void 0&&(t=0),e===void 0&&(e=t),this.displayOriginX=t,this.displayOriginY=e,this},updateDisplayOrigin:function(){return this._displayOriginX=Math.round(this.originX*this.width),this._displayOriginY=Math.round(this.originY*this.height),this}},UU=XU;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var HU={defaultPipeline:null,pipeline:null,initPipeline:function(t){t===void 0&&(t="TextureTintPipeline");var e=this.scene.sys.game.renderer;return e&&e.gl&&e.hasPipeline(t)?(this.defaultPipeline=e.getPipeline(t),this.pipeline=this.defaultPipeline,!0):!1},setPipeline:function(t){var e=this.scene.sys.game.renderer;return e&&e.gl&&e.hasPipeline(t)&&(this.pipeline=e.getPipeline(t)),this},resetPipeline:function(){return this.pipeline=this.defaultPipeline,this.pipeline!==null},getPipelineName:function(){return this.pipeline.name}},Ec=HU;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var bd=dl,qU={_scaleMode:bd.DEFAULT,scaleMode:{get:function(){return this._scaleMode},set:function(t){(t===bd.LINEAR||t===bd.NEAREST)&&(this._scaleMode=t)}},setScaleMode:function(t){return this.scaleMode=t,this}},KU=qU;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var JU={scrollFactorX:1,scrollFactorY:1,setScrollFactor:function(t,e){return e===void 0&&(e=t),this.scrollFactorX=t,this.scrollFactorY=e,this}},wR=JU;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var jU={_sizeComponent:!0,width:0,height:0,displayWidth:{get:function(){return this.scaleX*this.frame.realWidth},set:function(t){this.scaleX=t/this.frame.realWidth}},displayHeight:{get:function(){return this.scaleY*this.frame.realHeight},set:function(t){this.scaleY=t/this.frame.realHeight}},setSizeToFrame:function(t){return t===void 0&&(t=this.frame),this.width=t.realWidth,this.height=t.realHeight,this},setSize:function(t,e){return this.width=t,this.height=e,this},setDisplaySize:function(t,e){return this.displayWidth=t,this.displayHeight=e,this}},ZU=jU;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var r_=8,QU={texture:null,frame:null,isCropped:!1,setTexture:function(t,e){return this.texture=this.scene.sys.textures.get(t),this.setFrame(e)},setFrame:function(t,e,i){return e===void 0&&(e=!0),i===void 0&&(i=!0),this.frame=this.texture.get(t),!this.frame.cutWidth||!this.frame.cutHeight?this.renderFlags&=~r_:this.renderFlags|=r_,this._sizeComponent&&e&&this.setSizeToFrame(),this._originComponent&&i&&(this.frame.customPivot?this.setOrigin(this.frame.pivotX,this.frame.pivotY):this.updateDisplayOrigin()),this}},tH=QU;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var n_=8,eH={texture:null,frame:null,isCropped:!1,setCrop:function(t,e,i,r){if(t===void 0)this.isCropped=!1;else if(this.frame){if(typeof t=="number")this.frame.setCropUVs(this._crop,t,e,i,r,this.flipX,this.flipY);else{var n=t;this.frame.setCropUVs(this._crop,n.x,n.y,n.width,n.height,this.flipX,this.flipY)}this.isCropped=!0}return this},setTexture:function(t,e){return this.texture=this.scene.sys.textures.get(t),this.setFrame(e)},setFrame:function(t,e,i){return e===void 0&&(e=!0),i===void 0&&(i=!0),this.frame=this.texture.get(t),!this.frame.cutWidth||!this.frame.cutHeight?this.renderFlags&=~n_:this.renderFlags|=n_,this._sizeComponent&&e&&this.setSizeToFrame(),this._originComponent&&i&&(this.frame.customPivot?this.setOrigin(this.frame.pivotX,this.frame.pivotY):this.updateDisplayOrigin()),this.isCropped&&this.frame.updateCropUVs(this._crop,this.flipX,this.flipY),this},resetCropObject:function(){return{u0:0,v0:0,u1:0,v1:0,width:0,height:0,x:0,y:0,flipX:!1,flipY:!1,cx:0,cy:0,cw:0,ch:0}}},iH=eH;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var $n=function(t){return(t>>16)+(t&65280)+((t&255)<<16)},rH={_tintTL:16777215,_tintTR:16777215,_tintBL:16777215,_tintBR:16777215,_isTinted:!1,tintFill:!1,clearTint:function(){return this.setTint(16777215),this._isTinted=!1,this},setTint:function(t,e,i,r){return t===void 0&&(t=16777215),e===void 0&&(e=t,i=t,r=t),this._tintTL=$n(t),this._tintTR=$n(e),this._tintBL=$n(i),this._tintBR=$n(r),this._isTinted=!0,this.tintFill=!1,this},setTintFill:function(t,e,i,r){return this.setTint(t,e,i,r),this.tintFill=!0,this},tintTopLeft:{get:function(){return this._tintTL},set:function(t){this._tintTL=$n(t),this._isTinted=!0}},tintTopRight:{get:function(){return this._tintTR},set:function(t){this._tintTR=$n(t),this._isTinted=!0}},tintBottomLeft:{get:function(){return this._tintBL},set:function(t){this._tintBL=$n(t),this._isTinted=!0}},tintBottomRight:{get:function(){return this._tintBR},set:function(t){this._tintBR=$n(t),this._isTinted=!0}},tint:{set:function(t){this.setTint(t,t,t,t)}},isTinted:{get:function(){return this._isTinted}}},nH=rH;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var sH=function(t){var e={name:t.name,type:t.type,x:t.x,y:t.y,depth:t.depth,scale:{x:t.scaleX,y:t.scaleY},origin:{x:t.originX,y:t.originY},flipX:t.flipX,flipY:t.flipY,rotation:t.rotation,alpha:t.alpha,visible:t.visible,scaleMode:t.scaleMode,blendMode:t.blendMode,textureKey:"",frameKey:"",data:{}};return t.texture&&(e.textureKey=t.texture.key,e.frameKey=t.frame.name),e},SR=sH;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var aH=b,oH=at,hH=new aH({initialize:function(e,i,r,n,s,a){e===void 0&&(e=1),i===void 0&&(i=0),r===void 0&&(r=0),n===void 0&&(n=1),s===void 0&&(s=0),a===void 0&&(a=0),this.matrix=new Float32Array([e,i,r,n,s,a,0,0,1]),this.decomposedMatrix={translateX:0,translateY:0,scaleX:1,scaleY:1,rotation:0}},a:{get:function(){return this.matrix[0]},set:function(t){this.matrix[0]=t}},b:{get:function(){return this.matrix[1]},set:function(t){this.matrix[1]=t}},c:{get:function(){return this.matrix[2]},set:function(t){this.matrix[2]=t}},d:{get:function(){return this.matrix[3]},set:function(t){this.matrix[3]=t}},e:{get:function(){return this.matrix[4]},set:function(t){this.matrix[4]=t}},f:{get:function(){return this.matrix[5]},set:function(t){this.matrix[5]=t}},tx:{get:function(){return this.matrix[4]},set:function(t){this.matrix[4]=t}},ty:{get:function(){return this.matrix[5]},set:function(t){this.matrix[5]=t}},rotation:{get:function(){return Math.acos(this.a/this.scaleX)*(Math.atan(-this.c/this.a)<0?-1:1)}},scaleX:{get:function(){return Math.sqrt(this.a*this.a+this.c*this.c)}},scaleY:{get:function(){return Math.sqrt(this.b*this.b+this.d*this.d)}},loadIdentity:function(){var t=this.matrix;return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,this},translate:function(t,e){var i=this.matrix;return i[4]=i[0]*t+i[2]*e+i[4],i[5]=i[1]*t+i[3]*e+i[5],this},scale:function(t,e){var i=this.matrix;return i[0]*=t,i[1]*=t,i[2]*=e,i[3]*=e,this},rotate:function(t){var e=Math.sin(t),i=Math.cos(t),r=this.matrix,n=r[0],s=r[1],a=r[2],o=r[3];return r[0]=n*i+a*e,r[1]=s*i+o*e,r[2]=n*-e+a*i,r[3]=s*-e+o*i,this},multiply:function(t,e){var i=this.matrix,r=t.matrix,n=i[0],s=i[1],a=i[2],o=i[3],h=i[4],l=i[5],u=r[0],f=r[1],c=r[2],d=r[3],g=r[4],v=r[5],p=e===void 0?this:e;return p.a=u*n+f*a,p.b=u*s+f*o,p.c=c*n+d*a,p.d=c*s+d*o,p.e=g*n+v*a+h,p.f=g*s+v*o+l,p},multiplyWithOffset:function(t,e,i){var r=this.matrix,n=t.matrix,s=r[0],a=r[1],o=r[2],h=r[3],l=r[4],u=r[5],f=e*s+i*o+l,c=e*a+i*h+u,d=n[0],g=n[1],v=n[2],p=n[3],m=n[4],y=n[5];return r[0]=d*s+g*o,r[1]=d*a+g*h,r[2]=v*s+p*o,r[3]=v*a+p*h,r[4]=m*s+y*o+f,r[5]=m*a+y*h+c,this},transform:function(t,e,i,r,n,s){var a=this.matrix,o=a[0],h=a[1],l=a[2],u=a[3],f=a[4],c=a[5];return a[0]=t*o+e*l,a[1]=t*h+e*u,a[2]=i*o+r*l,a[3]=i*h+r*u,a[4]=n*o+s*l+f,a[5]=n*h+s*u+c,this},transformPoint:function(t,e,i){i===void 0&&(i={x:0,y:0});var r=this.matrix,n=r[0],s=r[1],a=r[2],o=r[3],h=r[4],l=r[5];return i.x=t*n+e*a+h,i.y=t*s+e*o+l,i},invert:function(){var t=this.matrix,e=t[0],i=t[1],r=t[2],n=t[3],s=t[4],a=t[5],o=e*n-i*r;return t[0]=n/o,t[1]=-i/o,t[2]=-r/o,t[3]=e/o,t[4]=(r*a-n*s)/o,t[5]=-(e*a-i*s)/o,this},copyFrom:function(t){var e=this.matrix;return e[0]=t.a,e[1]=t.b,e[2]=t.c,e[3]=t.d,e[4]=t.e,e[5]=t.f,this},copyFromArray:function(t){var e=this.matrix;return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],this},copyToContext:function(t){var e=this.matrix;return t.transform(e[0],e[1],e[2],e[3],e[4],e[5]),t},setToContext:function(t){var e=this.matrix;return t.setTransform(e[0],e[1],e[2],e[3],e[4],e[5]),t},copyToArray:function(t){var e=this.matrix;return t===void 0?t=[e[0],e[1],e[2],e[3],e[4],e[5]]:(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5]),t},setTransform:function(t,e,i,r,n,s){var a=this.matrix;return a[0]=t,a[1]=e,a[2]=i,a[3]=r,a[4]=n,a[5]=s,this},decomposeMatrix:function(){var t=this.decomposedMatrix,e=this.matrix,i=e[0],r=e[1],n=e[2],s=e[3],a=i*i,o=r*r,h=n*n,l=s*s,u=Math.sqrt(a+h),f=Math.sqrt(o+l);return t.translateX=e[4],t.translateY=e[5],t.scaleX=u,t.scaleY=f,t.rotation=Math.acos(i/u)*(Math.atan(-n/i)<0?-1:1),t},applyITRS:function(t,e,i,r,n){var s=this.matrix,a=Math.sin(i),o=Math.cos(i);return s[4]=t,s[5]=e,s[0]=o*r,s[1]=a*r,s[2]=-a*n,s[3]=o*n,this},applyInverse:function(t,e,i){i===void 0&&(i=new oH);var r=this.matrix,n=r[0],s=r[1],a=r[2],o=r[3],h=r[4],l=r[5],u=1/(n*o+a*-s);return i.x=o*u*t+-a*u*e+(l*a-h*o)*u,i.y=n*u*e+-s*u*t+(-l*n+h*s)*u,i},getX:function(t,e){return t*this.a+e*this.c+this.e},getY:function(t,e){return t*this.b+e*this.d+this.f},getCSSMatrix:function(){var t=this.matrix;return"matrix("+t[0]+","+t[1]+","+t[2]+","+t[3]+","+t[4]+","+t[5]+")"},destroy:function(){this.matrix=null,this.decomposedMatrix=null}}),Pn=hH;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var lH=function(t,e,i){var r=i-e;return e+((t-e)%r+r)%r},Ts=lH;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var uH=Ts,fH=function(t){return uH(t,-Math.PI,Math.PI)},C0=fH;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var cH=Ts,dH=function(t){return cH(t,-180,180)},b0=dH;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var s_=_e,Md=Pn,vH=C0,a_=b0,su=4,pH={_scaleX:1,_scaleY:1,_rotation:0,x:0,y:0,z:0,w:0,scaleX:{get:function(){return this._scaleX},set:function(t){this._scaleX=t,this._scaleX===0?this.renderFlags&=~su:this.renderFlags|=su}},scaleY:{get:function(){return this._scaleY},set:function(t){this._scaleY=t,this._scaleY===0?this.renderFlags&=~su:this.renderFlags|=su}},angle:{get:function(){return a_(this._rotation*s_.RAD_TO_DEG)},set:function(t){this.rotation=a_(t)*s_.DEG_TO_RAD}},rotation:{get:function(){return this._rotation},set:function(t){this._rotation=vH(t)}},setPosition:function(t,e,i,r){return t===void 0&&(t=0),e===void 0&&(e=t),i===void 0&&(i=0),r===void 0&&(r=0),this.x=t,this.y=e,this.z=i,this.w=r,this},setRandomPosition:function(t,e,i,r){return t===void 0&&(t=0),e===void 0&&(e=0),i===void 0&&(i=this.scene.sys.game.config.width),r===void 0&&(r=this.scene.sys.game.config.height),this.x=t+Math.random()*i,this.y=e+Math.random()*r,this},setRotation:function(t){return t===void 0&&(t=0),this.rotation=t,this},setAngle:function(t){return t===void 0&&(t=0),this.angle=t,this},setScale:function(t,e){return t===void 0&&(t=1),e===void 0&&(e=t),this.scaleX=t,this.scaleY=e,this},setX:function(t){return t===void 0&&(t=0),this.x=t,this},setY:function(t){return t===void 0&&(t=0),this.y=t,this},setZ:function(t){return t===void 0&&(t=0),this.z=t,this},setW:function(t){return t===void 0&&(t=0),this.w=t,this},getLocalTransformMatrix:function(t){return t===void 0&&(t=new Md),t.applyITRS(this.x,this.y,this._rotation,this._scaleX,this._scaleY)},getWorldTransformMatrix:function(t,e){t===void 0&&(t=new Md),e===void 0&&(e=new Md);var i=this.parentContainer;if(!i)return this.getLocalTransformMatrix(t);for(t.applyITRS(this.x,this.y,this._rotation,this._scaleX,this._scaleY);i;)e.applyITRS(i.x,i.y,i._rotation,i._scaleX,i._scaleY),e.multiply(t,t),i=i.parentContainer;return t}},CR=pH;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var o_=1,gH={_visible:!0,visible:{get:function(){return this._visible},set:function(t){t?(this._visible=!0,this.renderFlags|=o_):(this._visible=!1,this.renderFlags&=~o_)}},setVisible:function(t){return this.visible=t,this}},bR=gH;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var ne={Alpha:cR,Animation:dR,BlendMode:vR,ComputedSize:Z4,Crop:tU,Depth:pR,Flip:rU,GetBounds:BU,Mask:TR,Origin:UU,Pipeline:Ec,ScaleMode:KU,ScrollFactor:wR,Size:ZU,Texture:tH,TextureCrop:iH,Tint:nH,ToJSON:SR,Transform:CR,TransformMatrix:Pn,Visible:bR};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var mH=b,yH=new mH({initialize:function(e,i){this.parent=e,this.events=i,i||(this.events=e.events?e.events:e),this.list={},this.values={},this._frozen=!1,!e.hasOwnProperty("sys")&&this.events&&this.events.once("destroy",this.destroy,this)},get:function(t){var e=this.list;if(Array.isArray(t)){for(var i=[],r=0;r<t.length;r++)i.push(e[t[r]]);return i}else return e[t]},getAll:function(){var t={};for(var e in this.list)this.list.hasOwnProperty(e)&&(t[e]=this.list[e]);return t},query:function(t){var e={};for(var i in this.list)this.list.hasOwnProperty(i)&&i.match(t)&&(e[i]=this.list[i]);return e},set:function(t,e){if(this._frozen)return this;if(typeof t=="string")return this.setValue(t,e);for(var i in t)this.setValue(i,t[i]);return this},setValue:function(t,e){if(this._frozen)return this;if(this.has(t))this.values[t]=e;else{var i=this,r=this.list,n=this.events,s=this.parent;Object.defineProperty(this.values,t,{enumerable:!0,configurable:!0,get:function(){return r[t]},set:function(a){if(!i._frozen){var o=r[t];r[t]=a,n.emit("changedata",s,t,a,o),n.emit("changedata_"+t,s,a,o)}}}),r[t]=e,n.emit("setdata",s,t,e)}return this},each:function(t,e){for(var i=[this.parent,null,void 0],r=1;r<arguments.length;r++)i.push(arguments[r]);for(var n in this.list)i[1]=n,i[2]=this.list[n],t.apply(e,i);return this},merge:function(t,e){e===void 0&&(e=!0);for(var i in t)t.hasOwnProperty(i)&&(e||!e&&!this.has(i))&&this.setValue(i,t[i]);return this},remove:function(t){if(this._frozen)return this;if(Array.isArray(t))for(var e=0;e<t.length;e++)this.removeValue(t[e]);else return this.removeValue(t);return this},removeValue:function(t){if(this.has(t)){var e=this.list[t];delete this.list[t],delete this.values[t],this.events.emit("removedata",this.parent,t,e)}return this},pop:function(t){var e=void 0;return!this._frozen&&this.has(t)&&(e=this.list[t],delete this.list[t],delete this.values[t],this.events.emit("removedata",this,t,e)),e},has:function(t){return this.list.hasOwnProperty(t)},setFreeze:function(t){return this._frozen=t,this},reset:function(){for(var t in this.list)delete this.list[t],delete this.values[t];return this._frozen=!1,this},destroy:function(){this.reset(),this.events.off("changedata"),this.events.off("setdata"),this.events.off("removedata"),this.parent=null},freeze:{get:function(){return this._frozen},set:function(t){this._frozen=!!t}},count:{get:function(){var t=0;for(var e in this.list)this.list[e]!==void 0&&t++;return t}}}),gl=yH,Bt={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,i="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(i=!1));function n(h,l,u){this.fn=h,this.context=l,this.once=u||!1}function s(h,l,u,f,c){if(typeof u!="function")throw new TypeError("The listener must be a function");var d=new n(u,f||h,c),g=i?i+l:l;return h._events[g]?h._events[g].fn?h._events[g]=[h._events[g],d]:h._events[g].push(d):(h._events[g]=d,h._eventsCount++),h}function a(h,l){--h._eventsCount===0?h._events=new r:delete h._events[l]}function o(){this._events=new r,this._eventsCount=0}o.prototype.eventNames=function(){var l=[],u,f;if(this._eventsCount===0)return l;for(f in u=this._events)e.call(u,f)&&l.push(i?f.slice(1):f);return Object.getOwnPropertySymbols?l.concat(Object.getOwnPropertySymbols(u)):l},o.prototype.listeners=function(l){var u=i?i+l:l,f=this._events[u];if(!f)return[];if(f.fn)return[f.fn];for(var c=0,d=f.length,g=new Array(d);c<d;c++)g[c]=f[c].fn;return g},o.prototype.listenerCount=function(l){var u=i?i+l:l,f=this._events[u];return f?f.fn?1:f.length:0},o.prototype.emit=function(l,u,f,c,d,g){var v=i?i+l:l;if(!this._events[v])return!1;var p=this._events[v],m=arguments.length,y,x;if(p.fn){switch(p.once&&this.removeListener(l,p.fn,void 0,!0),m){case 1:return p.fn.call(p.context),!0;case 2:return p.fn.call(p.context,u),!0;case 3:return p.fn.call(p.context,u,f),!0;case 4:return p.fn.call(p.context,u,f,c),!0;case 5:return p.fn.call(p.context,u,f,c,d),!0;case 6:return p.fn.call(p.context,u,f,c,d,g),!0}for(x=1,y=new Array(m-1);x<m;x++)y[x-1]=arguments[x];p.fn.apply(p.context,y)}else{var T=p.length,_;for(x=0;x<T;x++)switch(p[x].once&&this.removeListener(l,p[x].fn,void 0,!0),m){case 1:p[x].fn.call(p[x].context);break;case 2:p[x].fn.call(p[x].context,u);break;case 3:p[x].fn.call(p[x].context,u,f);break;case 4:p[x].fn.call(p[x].context,u,f,c);break;default:if(!y)for(_=1,y=new Array(m-1);_<m;_++)y[_-1]=arguments[_];p[x].fn.apply(p[x].context,y)}}return!0},o.prototype.on=function(l,u,f){return s(this,l,u,f,!1)},o.prototype.once=function(l,u,f){return s(this,l,u,f,!0)},o.prototype.removeListener=function(l,u,f,c){var d=i?i+l:l;if(!this._events[d])return this;if(!u)return a(this,d),this;var g=this._events[d];if(g.fn)g.fn===u&&(!c||g.once)&&(!f||g.context===f)&&a(this,d);else{for(var v=0,p=[],m=g.length;v<m;v++)(g[v].fn!==u||c&&!g[v].once||f&&g[v].context!==f)&&p.push(g[v]);p.length?this._events[d]=p.length===1?p[0]:p:a(this,d)}return this},o.prototype.removeAllListeners=function(l){var u;return l?(u=i?i+l:l,this._events[u]&&a(this,u)):(this._events=new r,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=i,o.EventEmitter=o,t.exports=o})(Bt);/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var xH=b,_H=SR,Pd=gl,h_=Bt.exports,M0=new xH({Extends:h_,initialize:function(e,i){h_.call(this),this.scene=e,this.type=i,this.parentContainer=null,this.name="",this.active=!0,this.tabIndex=-1,this.data=null,this.renderFlags=15,this.cameraFilter=0,this.input=null,this.body=null,this.ignoreDestroy=!1,e.sys.queueDepthSort()},setActive:function(t){return this.active=t,this},setName:function(t){return this.name=t,this},setDataEnabled:function(){return this.data||(this.data=new Pd(this)),this},setData:function(t,e){return this.data||(this.data=new Pd(this)),this.data.set(t,e),this},getData:function(t){return this.data||(this.data=new Pd(this)),this.data.get(t)},setInteractive:function(t,e,i){return this.scene.sys.input.enable(this,t,e,i),this},disableInteractive:function(){return this.input&&(this.input.enabled=!1),this},removeInteractive:function(){return this.scene.sys.input.clear(this),this.input=void 0,this},update:function(){},toJSON:function(){return _H(this)},willRender:function(t){return!(M0.RENDER_MASK!==this.renderFlags||this.cameraFilter>0&&this.cameraFilter&t.id)},getIndexList:function(){for(var t=this,e=this.parentContainer,i=[];e&&(i.unshift(e.getIndex(t)),t=e,e.parentContainer);)e=e.parentContainer;return i.unshift(this.scene.sys.displayList.getIndex(t)),i},destroy:function(t){if(t===void 0&&(t=!1),!(!this.scene||this.ignoreDestroy)){this.preDestroy&&this.preDestroy.call(this),this.emit("destroy",this);var e=this.scene.sys;t||(e.displayList.remove(this),e.updateList.remove(this)),this.input&&(e.input.clear(this),this.input=void 0),this.data&&(this.data.destroy(),this.data=void 0),this.body&&(this.body.destroy(),this.body=void 0),t||e.queueDepthSort(),this.active=!1,this.visible=!1,this.scene=void 0,this.parentContainer=void 0,this.removeAllListeners()}}});M0.RENDER_MASK=15;var Qt=M0;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var TH=pa,wH=Mo,SH=bn,CH=b,$s=ne,l_=Qt,u_=Dt,bH=Mn,MH=new CH({Extends:l_,Mixins:[$s.Depth,$s.GetBounds,$s.Origin,$s.ScaleMode,$s.Transform,$s.ScrollFactor,$s.Visible],initialize:function(e,i,r,n,s){n===void 0&&(n=1),s===void 0&&(s=n),l_.call(this,e,"Zone"),this.setPosition(i,r),this.width=n,this.height=s,this.blendMode=TH.NORMAL,this.updateDisplayOrigin()},displayWidth:{get:function(){return this.scaleX*this.width},set:function(t){this.scaleX=t/this.width}},displayHeight:{get:function(){return this.scaleY*this.height},set:function(t){this.scaleY=t/this.height}},setSize:function(t,e,i){return i===void 0&&(i=!0),this.width=t,this.height=e,i&&this.input&&this.input.hitArea instanceof u_&&(this.input.hitArea.width=t,this.input.hitArea.height=e),this},setDisplaySize:function(t,e){return this.displayWidth=t,this.displayHeight=e,this},setCircleDropZone:function(t){return this.setDropZone(new wH(0,0,t),SH)},setRectangleDropZone:function(t,e){return this.setDropZone(new u_(0,0,t,e),bH)},setDropZone:function(t,e){return t===void 0?this.setRectangleDropZone(this.width,this.height):this.input||this.setInteractive(t,e,!0),this},setAlpha:function(){},renderCanvas:function(){},renderWebGL:function(){}}),Lc=MH;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var PH=aR,AH=g0,Os=V,f_=W,RH=Lc,Mi=new RH({sys:{queueDepthSort:f_,events:{once:f_}}},0,0,1,1),FH=function(t,e){e===void 0&&(e={});var i=Os(e,"width",-1),r=Os(e,"height",-1),n=Os(e,"cellWidth",1),s=Os(e,"cellHeight",n),a=Os(e,"position",AH.TOP_LEFT),o=Os(e,"x",0),h=Os(e,"y",0),l=0,u=0,f=i*n,c=r*s;Mi.setPosition(o,h),Mi.setSize(n,s);for(var d=0;d<t.length;d++)if(PH(t[d],Mi,a),i===-1)u+=s,Mi.y+=s,u===c&&(u=0,Mi.x+=n,Mi.y=h);else if(r===-1)l+=n,Mi.x+=n,l===f&&(l=0,Mi.x=o,Mi.y+=s);else if(l+=n,Mi.x+=n,l===f&&(l=0,u+=s,Mi.x=o,Mi.y+=s,u===c))break;return t},EH=FH;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var LH=zr,$H=function(t,e,i,r,n){return LH(t,"alpha",e,i,r,n)},OH=$H;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var IH=zr,DH=function(t,e,i,r,n){return IH(t,"x",e,i,r,n)},BH=DH;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var c_=zr,kH=function(t,e,i,r,n,s,a){return i==null&&(i=e),c_(t,"x",e,r,s,a),c_(t,"y",i,n,s,a)},GH=kH;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var zH=zr,NH=function(t,e,i,r,n){return zH(t,"y",e,i,r,n)},YH=NH;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var VH=function(t,e,i,r){i===void 0&&(i=0),r===void 0&&(r=6.28);for(var n=i,s=(r-i)/t.length,a=0;a<t.length;a++)t[a].x=e.x+e.radius*Math.cos(n),t[a].y=e.y+e.radius*Math.sin(n),n+=s;return t},WH=VH;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var XH=function(t,e,i,r){i===void 0&&(i=0),r===void 0&&(r=6.28);for(var n=i,s=(r-i)/t.length,a=e.width/2,o=e.height/2,h=0;h<t.length;h++)t[h].x=e.x+a*Math.cos(n),t[h].y=e.y+o*Math.sin(n),n+=s;return t},UH=XH;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var HH=T0,qH=function(t,e){for(var i=HH(e,t.length),r=0;r<t.length;r++){var n=t[r],s=i[r];n.x=s.x,n.y=s.y}return t},KH=qH;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var d_=Fc,JH=gt,jH=function(t,e,i,r){if(r===void 0&&(r=[]),!e&&!i)return r;e?i=Math.round(d_(t)/e):e=d_(t)/i;for(var n=t.x,s=t.y,a=0,o=0;o<i;o++)switch(r.push(new JH(n,s)),a){case 0:n+=e,n>=t.right&&(a=1,s+=n-t.right,n=t.right);break;case 1:s+=e,s>=t.bottom&&(a=2,n-=s-t.bottom,s=t.bottom);break;case 2:n-=e,n<=t.left&&(a=3,s-=t.left-n,n=t.left);break;case 3:s-=e,s<=t.top&&(a=0,s=t.top);break}return r},MR=jH;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var ZH=function(t,e){e===void 0&&(e=1);for(var i=null,r=0;r<e;r++)i=t.shift(),t.push(i);return i},PR=ZH;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var QH=function(t,e){e===void 0&&(e=1);for(var i=null,r=0;r<e;r++)i=t.pop(),t.unshift(i);return i},AR=QH;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var t6=MR,e6=PR,i6=AR,r6=function(t,e,i){i===void 0&&(i=0);var r=t6(e,!1,t.length);i>0?e6(r,i):i<0&&i6(r,Math.abs(i));for(var n=0;n<t.length;n++)t[n].x=r[n].x,t[n].y=r[n].y;return t},n6=r6;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var s6=function(t,e,i){e===void 0&&(e=1),i===void 0&&(i=[]);var r=Math.round(t.x1),n=Math.round(t.y1),s=Math.round(t.x2),a=Math.round(t.y2),o=Math.abs(s-r),h=Math.abs(a-n),l=r<s?1:-1,u=n<a?1:-1,f=o-h;i.push({x:r,y:n});for(var c=1;!(r===s&&n===a);){var d=f<<1;d>-h&&(f-=h,r+=l),d<o&&(f+=o,n+=u),c%e===0&&i.push({x:r,y:n}),c++}return i},RR=s6;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var Ad=RR,a6=function(t,e,i){var r=Ad({x1:e.x1,y1:e.y1,x2:e.x2,y2:e.y2},i),n=Ad({x1:e.x2,y1:e.y2,x2:e.x3,y2:e.y3},i),s=Ad({x1:e.x3,y1:e.y3,x2:e.x1,y2:e.y1},i);r.pop(),n.pop(),s.pop(),r=r.concat(n,s);for(var a=r.length/t.length,o=0,h=0;h<t.length;h++){var l=t[h],u=r[Math.floor(o)];l.x=u.x,l.y=u.y,o+=a}return t},o6=a6;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var h6=function(t,e,i){for(var r=0;r<t.length;r++)t[r].anims.play(e,i);return t},l6=h6;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var u6=function(t,e,i,r,n,s){r===void 0&&(r=0),n===void 0&&(n=0),s===void 0&&(s=1);var a,o=0,h=t.length;if(s===1)for(a=n;a<h;a++)t[a][e]=i+o*r,o++;else for(a=n;a>=0;a--)t[a][e]=i+o*r,o++;return t},Ti=u6;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var f6=x0,c6=function(t,e){for(var i=0;i<t.length;i++)f6(e,t[i]);return t},d6=c6;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var v6=gt,p6=function(t,e){e===void 0&&(e=new v6);var i=Math.random()*Math.PI*2,r=Math.sqrt(Math.random());return e.x=t.x+r*Math.cos(i)*t.width/2,e.y=t.y+r*Math.sin(i)*t.height/2,e},P0=p6;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var g6=P0,m6=function(t,e){for(var i=0;i<t.length;i++)g6(e,t[i]);return t},y6=m6;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var x6=w0,_6=function(t,e){for(var i=0;i<t.length;i++)x6(e,t[i]);return t},T6=_6;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var w6=S0,S6=function(t,e){for(var i=0;i<t.length;i++)w6(e,t[i]);return t},C6=S6;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var b6=gt,M6=function(t,e){e===void 0&&(e=new b6);var i=t.x2-t.x1,r=t.y2-t.y1,n=t.x3-t.x1,s=t.y3-t.y1,a=Math.random(),o=Math.random();return a+o>=1&&(a=1-a,o=1-o),e.x=t.x1+(i*a+n*o),e.y=t.y1+(r*a+s*o),e},A0=M6;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var P6=A0,A6=function(t,e){for(var i=0;i<t.length;i++)P6(e,t[i]);return t},R6=A6;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var F6=zr,E6=function(t,e,i,r,n){return F6(t,"rotation",e,i,r,n)},L6=E6;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var $6=function(t,e,i,r,n){var s=r+Math.atan2(t.y-i,t.x-e);return t.x=e+n*Math.cos(s),t.y=i+n*Math.sin(s),t},R0=$6;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var O6=function(t,e,i,r){var n=t-i,s=e-r;return Math.sqrt(n*n+s*s)},ws=O6;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var I6=R0,D6=ws,B6=function(t,e,i){for(var r=e.x,n=e.y,s=0;s<t.length;s++){var a=t[s];I6(a,r,n,i,Math.max(1,D6(a.x,a.y,r,n)))}return t},k6=B6;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var G6=R0,z6=function(t,e,i,r){var n=e.x,s=e.y;if(r===0)return t;for(var a=0;a<t.length;a++)G6(t[a],n,s,i,r);return t},N6=z6;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var Y6=zr,V6=function(t,e,i,r,n){return Y6(t,"scaleX",e,i,r,n)},W6=V6;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var v_=zr,X6=function(t,e,i,r,n,s,a){return i==null&&(i=e),v_(t,"scaleX",e,r,s,a),v_(t,"scaleY",i,n,s,a)},U6=X6;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var H6=zr,q6=function(t,e,i,r,n){return H6(t,"scaleY",e,i,r,n)},K6=q6;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var J6=Ti,j6=function(t,e,i,r,n){return J6(t,"alpha",e,i,r,n)},Z6=j6;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var Q6=Ti,t8=function(t,e,i,r){return Q6(t,"blendMode",e,0,i,r)},e8=t8;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var i8=Ti,r8=function(t,e,i,r,n){return i8(t,"depth",e,i,r,n)},n8=r8;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var s8=function(t,e,i){for(var r=0;r<t.length;r++)t[r].setInteractive(e,i);return t},a8=s8;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var p_=Ti,o8=function(t,e,i,r,n,s,a){return i==null&&(i=e),p_(t,"originX",e,r,s,a),p_(t,"originY",i,n,s,a)},h8=o8;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var l8=Ti,u8=function(t,e,i,r,n){return l8(t,"rotation",e,i,r,n)},f8=u8;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var g_=Ti,c8=function(t,e,i,r,n,s,a){return i==null&&(i=e),g_(t,"scaleX",e,r,s,a),g_(t,"scaleY",i,n,s,a)},d8=c8;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var v8=Ti,p8=function(t,e,i,r,n){return v8(t,"scaleX",e,i,r,n)},g8=p8;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var m8=Ti,y8=function(t,e,i,r,n){return m8(t,"scaleY",e,i,r,n)},x8=y8;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var _8=function(t,e,i,r,n){for(var s=0;s<t.length;s++)t[s].setTint(e,i,r,n);return t},T8=_8;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var w8=Ti,S8=function(t,e,i,r){return w8(t,"visible",e,0,i,r)},C8=S8;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var b8=Ti,M8=function(t,e,i,r,n){return b8(t,"x",e,i,r,n)},P8=M8;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var m_=Ti,A8=function(t,e,i,r,n,s,a){return i==null&&(i=e),m_(t,"x",e,r,s,a),m_(t,"y",i,n,s,a)},R8=A8;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var F8=Ti,E8=function(t,e,i,r,n){return F8(t,"y",e,i,r,n)},L8=E8;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var $8=at,O8=function(t,e,i,r,n){r===void 0&&(r=0),n===void 0&&(n=new $8);var s,a;if(t.length>1){var o,h,l,u;if(r===0){var f=t.length-1;for(s=t[f].x,a=t[f].y,o=f-1;o>=0;o--)u=t[o],h=u.x,l=u.y,u.x=s,u.y=a,s=h,a=l;t[f].x=e,t[f].y=i}else{for(s=t[0].x,a=t[0].y,o=1;o<t.length;o++)u=t[o],h=u.x,l=u.y,u.x=s,u.y=a,s=h,a=l;t[0].x=e,t[0].y=i}}else s=t[0].x,a=t[0].y,t[0].x=e,t[0].y=i;return n.x=s,n.y=a,n},I8=O8;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var D8=function(t){for(var e=t.length-1;e>0;e--){var i=Math.floor(Math.random()*(e+1)),r=t[e];t[e]=t[i],t[i]=r}return t},$c=D8;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var B8=$c,k8=function(t){return B8(t)},G8=k8;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var z8=function(t,e,i){return t=Math.max(0,Math.min(1,(t-e)/(i-e))),t*t*t*(t*(t*6-15)+10)},F0=z8;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var y_=F0,N8=function(t,e,i,r,n){n===void 0&&(n=!1);var s=Math.abs(r-i)/t.length,a;if(n)for(a=0;a<t.length;a++)t[a][e]+=y_(a*s,i,r);else for(a=0;a<t.length;a++)t[a][e]=y_(a*s,i,r);return t},Y8=N8;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var V8=function(t,e,i){return t<=e?0:t>=i?1:(t=(t-e)/(i-e),t*t*(3-2*t))},E0=V8;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var x_=E0,W8=function(t,e,i,r,n){n===void 0&&(n=!1);var s=Math.abs(r-i)/t.length,a;if(n)for(a=0;a<t.length;a++)t[a][e]+=x_(a*s,i,r);else for(a=0;a<t.length;a++)t[a][e]=x_(a*s,i,r);return t},X8=W8;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var U8=function(t,e,i,r,n){n===void 0&&(n=!1);var s=Math.abs(r-i)/t.length,a;if(n)for(a=0;a<t.length;a++)t[a][e]+=a*s;else for(a=0;a<t.length;a++)t[a][e]=a*s;return t},H8=U8;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var q8=function(t){for(var e=0;e<t.length;e++)t[e].visible=!t[e].visible;return t},K8=q8;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       samme <samme.npm@gmail.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var __=Ts,J8=function(t,e,i){i===void 0&&(i=0);for(var r=0;r<t.length;r++){var n=t[r];n.x=__(n.x,e.left-i,e.right+i),n.y=__(n.y,e.top-i,e.bottom+i)}return t},j8=J8;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var FR={Angle:jX,Call:QX,GetFirst:e5,GetLast:r5,GridAlign:EH,IncAlpha:OH,IncX:BH,IncXY:GH,IncY:YH,PlaceOnCircle:WH,PlaceOnEllipse:UH,PlaceOnLine:KH,PlaceOnRectangle:n6,PlaceOnTriangle:o6,PlayAnimation:l6,PropertyValueInc:zr,PropertyValueSet:Ti,RandomCircle:d6,RandomEllipse:y6,RandomLine:T6,RandomRectangle:C6,RandomTriangle:R6,Rotate:L6,RotateAround:k6,RotateAroundDistance:N6,ScaleX:W6,ScaleXY:U6,ScaleY:K6,SetAlpha:Z6,SetBlendMode:e8,SetDepth:n8,SetHitArea:a8,SetOrigin:h8,SetRotation:f8,SetScale:d8,SetScaleX:g8,SetScaleY:x8,SetTint:T8,SetVisible:C8,SetX:P8,SetXY:R8,SetY:L8,ShiftPosition:I8,Shuffle:G8,SmootherStep:Y8,SmoothStep:X8,Spread:H8,ToggleVisible:K8,WrapInRectangle:j8};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var Z8=function(t,e,i){if(e.length){if(e.length===1)return e[0]}else return NaN;var r=1,n,s;if(i){if(t<e[0][i])return e[0];for(;e[r][i]<t;)r++}else for(;e[r]<t;)r++;return r>e.length&&(r=e.length),i?(n=e[r-1][i],s=e[r][i],s-t<=t-n?e[r]:e[r-1]):(n=e[r-1],s=e[r],s-t<=t-n?s:n)},ER=Z8;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var Q8=b,t9=new Q8({initialize:function(e,i,r,n){this.textureKey=e,this.textureFrame=i,this.index=r,this.frame=n,this.isFirst=!1,this.isLast=!1,this.prevFrame=null,this.nextFrame=null,this.duration=0,this.progress=0},toJSON:function(){return{key:this.textureKey,frame:this.textureFrame,duration:this.duration}},destroy:function(){this.frame=void 0}}),LR=t9;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var e9=function(t,e,i){if(!t||typeof t=="number")return i;if(t.hasOwnProperty(e))return t[e];if(e.indexOf(".")){for(var r=e.split("."),n=t,s=i,a=0;a<r.length;a++)if(n.hasOwnProperty(r[a]))s=n[r[a]],n=n[r[a]];else{s=i;break}return s}else return i},ut=e9;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var i9=ei,r9=b,n9=ER,s9=LR,si=ut,a9=new r9({initialize:function(e,i,r){this.manager=e,this.key=i,this.type="frame",this.frames=this.getFrames(e.textureManager,si(r,"frames",[]),si(r,"defaultTextureKey",null)),this.frameRate=si(r,"frameRate",null),this.duration=si(r,"duration",null),this.duration===null&&this.frameRate===null?(this.frameRate=24,this.duration=this.frameRate/this.frames.length*1e3):this.duration&&this.frameRate===null?this.frameRate=this.frames.length/(this.duration/1e3):this.duration=this.frames.length/this.frameRate*1e3,this.msPerFrame=1e3/this.frameRate,this.skipMissedFrames=si(r,"skipMissedFrames",!0),this.delay=si(r,"delay",0),this.repeat=si(r,"repeat",0),this.repeatDelay=si(r,"repeatDelay",0),this.yoyo=si(r,"yoyo",!1),this.showOnStart=si(r,"showOnStart",!1),this.hideOnComplete=si(r,"hideOnComplete",!1),this.paused=!1,this.manager.on("pauseall",this.pause,this),this.manager.on("resumeall",this.resume,this)},addFrame:function(t){return this.addFrameAt(this.frames.length,t)},addFrameAt:function(t,e){var i=this.getFrames(this.manager.textureManager,e);if(i.length>0){if(t===0)this.frames=i.concat(this.frames);else if(t===this.frames.length)this.frames=this.frames.concat(i);else{var r=this.frames.slice(0,t),n=this.frames.slice(t);this.frames=r.concat(i,n)}this.updateFrameSequence()}return this},checkFrame:function(t){return t>=0&&t<this.frames.length},completeAnimation:function(t){this.hideOnComplete&&(t.parent.visible=!1),t.stop()},getFirstTick:function(t,e){e===void 0&&(e=!0),t.accumulator=0,t.nextTick=t.msPerFrame+t.currentFrame.duration,e&&(t.nextTick+=t._delay)},getFrameAt:function(t){return this.frames[t]},getFrames:function(t,e,i){var r=[],n,s,a=1,o,h;if(typeof e=="string"){h=e;var l=t.get(h),u=l.getFrameNames();e=[],u.forEach(function(p,m){e.push({key:h,frame:m})})}if(!Array.isArray(e)||e.length===0)return r;for(o=0;o<e.length;o++){var f=e[o],c=si(f,"key",i);if(!!c){var d=si(f,"frame",0),g=t.getFrame(c,d);s=new s9(c,d,a,g),s.duration=si(f,"duration",0),s.isFirst=!n,n&&(n.nextFrame=s,s.prevFrame=n),r.push(s),n=s,a++}}if(r.length>0){s.isLast=!0,s.nextFrame=r[0],r[0].prevFrame=s;var v=1/(r.length-1);for(o=0;o<r.length;o++)r[o].progress=o*v}return r},getNextTick:function(t){t.accumulator-=t.nextTick,t.nextTick=t.msPerFrame+t.currentFrame.duration},load:function(t,e){e>=this.frames.length&&(e=0),t.currentAnim!==this&&(t.currentAnim=this,t.frameRate=this.frameRate,t.duration=this.duration,t.msPerFrame=this.msPerFrame,t.skipMissedFrames=this.skipMissedFrames,t._delay=this.delay,t._repeat=this.repeat,t._repeatDelay=this.repeatDelay,t._yoyo=this.yoyo);var i=this.frames[e];e===0&&!t.forward&&(i=this.getLastFrame()),t.updateFrame(i)},getFrameByProgress:function(t){return t=i9(t,0,1),n9(t,this.frames,"progress")},nextFrame:function(t){var e=t.currentFrame;e.isLast?t._yoyo?this.handleYoyoFrame(t,!1):t.repeatCounter>0?t._reverse&&t.forward?t.forward=!1:this.repeatAnimation(t):this.completeAnimation(t):this.updateAndGetNextTick(t,e.nextFrame)},handleYoyoFrame:function(t,e){if(e||(e=!1),t._reverse===!e&&t.repeatCounter>0){t.forward=e,this.repeatAnimation(t);return}if(t._reverse!==e&&t.repeatCounter===0){this.completeAnimation(t);return}t.forward=e;var i=e?t.currentFrame.nextFrame:t.currentFrame.prevFrame;this.updateAndGetNextTick(t,i)},getLastFrame:function(){return this.frames[this.frames.length-1]},previousFrame:function(t){var e=t.currentFrame;e.isFirst?t._yoyo?this.handleYoyoFrame(t,!0):t.repeatCounter>0?t._reverse&&!t.forward?(t.currentFrame=this.getLastFrame(),this.repeatAnimation(t)):(t.forward=!0,this.repeatAnimation(t)):this.completeAnimation(t):this.updateAndGetNextTick(t,e.prevFrame)},updateAndGetNextTick:function(t,e){t.updateFrame(e),this.getNextTick(t)},removeFrame:function(t){var e=this.frames.indexOf(t);return e!==-1&&this.removeFrameAt(e),this},removeFrameAt:function(t){return this.frames.splice(t,1),this.updateFrameSequence(),this},repeatAnimation:function(t){if(t._pendingStop===2)return this.completeAnimation(t);t._repeatDelay>0&&t.pendingRepeat===!1?(t.pendingRepeat=!0,t.accumulator-=t.nextTick,t.nextTick+=t._repeatDelay):(t.repeatCounter--,t.updateFrame(t.currentFrame[t.forward?"nextFrame":"prevFrame"]),t.isPlaying&&(this.getNextTick(t),t.pendingRepeat=!1,t.parent.emit("animationrepeat",this,t.currentFrame,t.repeatCounter,t.parent)))},setFrame:function(t){t.forward?this.nextFrame(t):this.previousFrame(t)},toJSON:function(){var t={key:this.key,type:this.type,frames:[],frameRate:this.frameRate,duration:this.duration,skipMissedFrames:this.skipMissedFrames,delay:this.delay,repeat:this.repeat,repeatDelay:this.repeatDelay,yoyo:this.yoyo,showOnStart:this.showOnStart,hideOnComplete:this.hideOnComplete};return this.frames.forEach(function(e){t.frames.push(e.toJSON())}),t},updateFrameSequence:function(){for(var t=this.frames.length,e=1/(t-1),i=0;i<t;i++){var r=this.frames[i];r.index=i+1,r.isFirst=!1,r.isLast=!1,r.progress=i*e,i===0?(r.isFirst=!0,r.isLast=t===1,r.prevFrame=this.frames[t-1],r.nextFrame=this.frames[i+1]):i===t-1?(r.isLast=!0,r.prevFrame=this.frames[t-2],r.nextFrame=this.frames[0]):t>1&&(r.prevFrame=this.frames[i-1],r.nextFrame=this.frames[i+1])}return this},pause:function(){return this.paused=!0,this},resume:function(){return this.paused=!1,this},destroy:function(){this.manager.off("pauseall",this.pause,this),this.manager.off("resumeall",this.resume,this),this.manager.remove(this.key);for(var t=0;t<this.frames.length;t++)this.frames[t].destroy();this.frames=[],this.manager=null}}),$R=a9;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var o9=b,h9=new o9({initialize:function(e){if(this.entries={},this.size=0,Array.isArray(e))for(var i=0;i<e.length;i++)this.set(e[i][0],e[i][1])},set:function(t,e){return this.has(t)||(this.entries[t]=e,this.size++),this},get:function(t){if(this.has(t))return this.entries[t]},getArray:function(){var t=[],e=this.entries;for(var i in e)t.push(e[i]);return t},has:function(t){return this.entries.hasOwnProperty(t)},delete:function(t){return this.has(t)&&(delete this.entries[t],this.size--),this},clear:function(){return Object.keys(this.entries).forEach(function(t){delete this.entries[t]},this),this.size=0,this},keys:function(){return Object.keys(this.entries)},values:function(){var t=[],e=this.entries;for(var i in e)t.push(e[i]);return t},dump:function(){var t=this.entries;console.group("Map");for(var e in t)console.log(e,t[e]);console.groupEnd()},each:function(t){var e=this.entries;for(var i in e)if(t(i,e[i])===!1)break;return this},contains:function(t){var e=this.entries;for(var i in e)if(e[i]===t)return!0;return!1},merge:function(t,e){e===void 0&&(e=!1);var i=this.entries,r=t.entries;for(var n in r)i.hasOwnProperty(n)&&e?i[n]=r[n]:this.set(n,r[n]);return this}}),L0=h9;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var l9=function(t,e,i,r){e===void 0&&(e=0),i===void 0&&(i=" "),r===void 0&&(r=3),t=t.toString();var n=0;if(e+1>=t.length)switch(r){case 1:t=new Array(e+1-t.length).join(i)+t;break;case 3:var s=Math.ceil((n=e-t.length)/2),a=n-s;t=new Array(a+1).join(i)+t+new Array(s+1).join(i);break;default:t=t+new Array(e+1-t.length).join(i);break}return t},$0=l9;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var u9=$R,f9=b,c9=L0,T_=Bt.exports,Pi=ut,w_=$0,d9=new f9({Extends:T_,initialize:function(e){T_.call(this),this.game=e,this.textureManager=null,this.globalTimeScale=1,this.anims=new c9,this.paused=!1,this.name="AnimationManager",e.events.once("boot",this.boot,this)},boot:function(){this.textureManager=this.game.textures,this.game.events.once("destroy",this.destroy,this)},add:function(t,e){if(this.anims.has(t)){console.warn("Animation with key",t,"already exists");return}return e.key=t,this.anims.set(t,e),this.emit("add",t,e),this},create:function(t){var e=t.key;if(!e||this.anims.has(e)){console.warn("Invalid Animation Key, or Key already in use: "+e);return}var i=new u9(this,e,t);return this.anims.set(e,i),this.emit("add",e,i),i},fromJSON:function(t,e){e===void 0&&(e=!1),e&&this.anims.clear(),typeof t=="string"&&(t=JSON.parse(t));var i=[];if(t.hasOwnProperty("anims")&&Array.isArray(t.anims)){for(var r=0;r<t.anims.length;r++)i.push(this.create(t.anims[r]));t.hasOwnProperty("globalTimeScale")&&(this.globalTimeScale=t.globalTimeScale)}else t.hasOwnProperty("key")&&t.type==="frame"&&i.push(this.create(t));return i},generateFrameNames:function(t,e){var i=Pi(e,"prefix",""),r=Pi(e,"start",0),n=Pi(e,"end",0),s=Pi(e,"suffix",""),a=Pi(e,"zeroPad",0),o=Pi(e,"outputArray",[]),h=Pi(e,"frames",!1),l=this.textureManager.get(t);if(!l)return o;var u=r<n?1:-1;n+=u;var f,c;if(e)if(Array.isArray(h))for(f=0;f<h.length;f++)c=i+w_(h[f],a,"0",1)+s,l.has(c)&&o.push({key:t,frame:c});else for(f=r;f!==n;f+=u)c=i+w_(f,a,"0",1)+s,l.has(c)&&o.push({key:t,frame:c});else for(h=l.getFrameNames(),f=0;f<h.length;f++)o.push({key:t,frame:h[f]});return o},generateFrameNumbers:function(t,e){var i=Pi(e,"start",0),r=Pi(e,"end",-1),n=Pi(e,"first",!1),s=Pi(e,"outputArray",[]),a=Pi(e,"frames",!1),o=this.textureManager.get(t);if(!o)return s;n&&o.has(n)&&s.push({key:t,frame:n});var h;if(Array.isArray(a))for(h=0;h<a.length;h++)o.has(a[h])&&s.push({key:t,frame:a[h]});else for(r===-1&&(r=o.frameTotal),h=i;h<=r;h++)o.has(h)&&s.push({key:t,frame:h});return s},get:function(t){return this.anims.get(t)},load:function(t,e,i){var r=this.get(e);return r&&r.load(t,i),t},pauseAll:function(){return this.paused||(this.paused=!0,this.emit("pauseall")),this},play:function(t,e){Array.isArray(e)||(e=[e]);var i=this.get(t);if(!!i){for(var r=0;r<e.length;r++)e[r].anims.play(t);return this}},remove:function(t){var e=this.get(t);return e&&(this.emit("remove",t,e),this.anims.delete(t)),e},resumeAll:function(){return this.paused&&(this.paused=!1,this.emit("resumeall")),this},staggerPlay:function(t,e,i){i===void 0&&(i=0),Array.isArray(e)||(e=[e]);var r=this.get(t);if(!!r){for(var n=0;n<e.length;n++)e[n].anims.delayedPlay(i*n,t);return this}},toJSON:function(t){if(t!==void 0&&t!=="")return this.anims.get(t).toJSON();var e={anims:[],globalTimeScale:this.globalTimeScale};return this.anims.each(function(i,r){e.anims.push(r.toJSON())}),e},destroy:function(){this.anims.clear(),this.textureManager=null,this.game=null}}),OR=d9;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var v9={Animation:$R,AnimationFrame:LR,AnimationManager:OR};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var p9=b,g9=L0,m9=Bt.exports,y9=new p9({initialize:function(){this.entries=new g9,this.events=new m9},add:function(t,e){return this.entries.set(t,e),this.events.emit("add",this,t,e),this},has:function(t){return this.entries.has(t)},exists:function(t){return this.entries.has(t)},get:function(t){return this.entries.get(t)},remove:function(t){var e=this.get(t);return e&&(this.entries.delete(t),this.events.emit("remove",this,t,e.data)),this},destroy:function(){this.entries.clear(),this.events.removeAllListeners(),this.entries=null,this.events=null}}),IR=y9;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var Ai=IR,x9=b,_9=new x9({initialize:function(e){this.game=e,this.binary=new Ai,this.bitmapFont=new Ai,this.json=new Ai,this.physics=new Ai,this.shader=new Ai,this.audio=new Ai,this.text=new Ai,this.html=new Ai,this.obj=new Ai,this.tilemap=new Ai,this.xml=new Ai,this.custom={},this.game.events.once("destroy",this.destroy,this)},addCustom:function(t){return this.custom.hasOwnProperty(t)||(this.custom[t]=new Ai),this.custom[t]},destroy:function(){for(var t=["binary","bitmapFont","json","physics","shader","audio","text","html","obj","tilemap","xml"],e=0;e<t.length;e++)this[t[e]].destroy(),this[t[e]]=null;for(var i in this.custom)this.custom[i].destroy();this.custom=null,this.game=null}}),DR=_9;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var T9={BaseCache:IR,CacheManager:DR};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var w9=b,ir=ut,S9=new w9({initialize:function(e){this.camera=ir(e,"camera",null),this.left=ir(e,"left",null),this.right=ir(e,"right",null),this.up=ir(e,"up",null),this.down=ir(e,"down",null),this.zoomIn=ir(e,"zoomIn",null),this.zoomOut=ir(e,"zoomOut",null),this.zoomSpeed=ir(e,"zoomSpeed",.01),this.speedX=0,this.speedY=0;var i=ir(e,"speed",null);typeof i=="number"?(this.speedX=i,this.speedY=i):(this.speedX=ir(e,"speed.x",0),this.speedY=ir(e,"speed.y",0)),this._zoom=0,this.active=this.camera!==null},start:function(){return this.active=this.camera!==null,this},stop:function(){return this.active=!1,this},setCamera:function(t){return this.camera=t,this},update:function(t){if(!!this.active){t===void 0&&(t=1);var e=this.camera;this.up&&this.up.isDown?e.scrollY-=this.speedY*t|0:this.down&&this.down.isDown&&(e.scrollY+=this.speedY*t|0),this.left&&this.left.isDown?e.scrollX-=this.speedX*t|0:this.right&&this.right.isDown&&(e.scrollX+=this.speedX*t|0),this.zoomIn&&this.zoomIn.isDown?(e.zoom-=this.zoomSpeed,e.zoom<.1&&(e.zoom=.1)):this.zoomOut&&this.zoomOut.isDown&&(e.zoom+=this.zoomSpeed)}},destroy:function(){this.camera=null,this.left=null,this.right=null,this.up=null,this.down=null,this.zoomIn=null,this.zoomOut=null}}),C9=S9;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var b9=b,Te=ut,M9=new b9({initialize:function(e){this.camera=Te(e,"camera",null),this.left=Te(e,"left",null),this.right=Te(e,"right",null),this.up=Te(e,"up",null),this.down=Te(e,"down",null),this.zoomIn=Te(e,"zoomIn",null),this.zoomOut=Te(e,"zoomOut",null),this.zoomSpeed=Te(e,"zoomSpeed",.01),this.accelX=0,this.accelY=0;var i=Te(e,"acceleration",null);typeof i=="number"?(this.accelX=i,this.accelY=i):(this.accelX=Te(e,"acceleration.x",0),this.accelY=Te(e,"acceleration.y",0)),this.dragX=0,this.dragY=0;var r=Te(e,"drag",null);typeof r=="number"?(this.dragX=r,this.dragY=r):(this.dragX=Te(e,"drag.x",0),this.dragY=Te(e,"drag.y",0)),this.maxSpeedX=0,this.maxSpeedY=0;var n=Te(e,"maxSpeed",null);typeof n=="number"?(this.maxSpeedX=n,this.maxSpeedY=n):(this.maxSpeedX=Te(e,"maxSpeed.x",0),this.maxSpeedY=Te(e,"maxSpeed.y",0)),this._speedX=0,this._speedY=0,this._zoom=0,this.active=this.camera!==null},start:function(){return this.active=this.camera!==null,this},stop:function(){return this.active=!1,this},setCamera:function(t){return this.camera=t,this},update:function(t){if(!!this.active){t===void 0&&(t=1);var e=this.camera;this._speedX>0?(this._speedX-=this.dragX*t,this._speedX<0&&(this._speedX=0)):this._speedX<0&&(this._speedX+=this.dragX*t,this._speedX>0&&(this._speedX=0)),this._speedY>0?(this._speedY-=this.dragY*t,this._speedY<0&&(this._speedY=0)):this._speedY<0&&(this._speedY+=this.dragY*t,this._speedY>0&&(this._speedY=0)),this.up&&this.up.isDown?(this._speedY+=this.accelY,this._speedY>this.maxSpeedY&&(this._speedY=this.maxSpeedY)):this.down&&this.down.isDown&&(this._speedY-=this.accelY,this._speedY<-this.maxSpeedY&&(this._speedY=-this.maxSpeedY)),this.left&&this.left.isDown?(this._speedX+=this.accelX,this._speedX>this.maxSpeedX&&(this._speedX=this.maxSpeedX)):this.right&&this.right.isDown&&(this._speedX-=this.accelX,this._speedX<-this.maxSpeedX&&(this._speedX=-this.maxSpeedX)),this.zoomIn&&this.zoomIn.isDown?this._zoom=-this.zoomSpeed:this.zoomOut&&this.zoomOut.isDown?this._zoom=this.zoomSpeed:this._zoom=0,this._speedX!==0&&(e.scrollX-=this._speedX*t|0),this._speedY!==0&&(e.scrollY-=this._speedY*t|0),this._zoom!==0&&(e.zoom+=this._zoom,e.zoom<.1&&(e.zoom=.1))}},destroy:function(){this.camera=null,this.left=null,this.right=null,this.up=null,this.down=null,this.zoomIn=null,this.zoomOut=null}}),P9=M9;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var A9={FixedKeyControl:C9,SmoothedKeyControl:P9};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var R9=_e,F9=function(t){return t*R9.DEG_TO_RAD},Yr=F9;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var E9=function(t,e,i){return t<<16|e<<8|i},O0=E9;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var L9=function(t,e,i,r){return r<<24|t<<16|e<<8|i},BR=L9;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var S_=O0,$9=function(t,e,i,r){e===void 0&&(e=1),i===void 0&&(i=1);var n=Math.floor(t*6),s=t*6-n,a=Math.floor(i*(1-e)*255),o=Math.floor(i*(1-s*e)*255),h=Math.floor(i*(1-(1-s)*e)*255);i=Math.floor(i*=255);var l=i,u=i,f=i,c=n%6;return c===0?(u=h,f=a):c===1?(l=o,f=a):c===2?(l=a,f=h):c===3?(l=a,u=o):c===4?(l=h,u=a):c===5&&(u=a,f=o),r?r.setTo?r.setTo(l,u,f,r.alpha,!1):(r.r=l,r.g=u,r.b=f,r.color=S_(l,u,f),r):{r:l,g:u,b:f,color:S_(l,u,f)}},I0=$9;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var O9=function(t,e,i,r){r===void 0&&(r={h:0,s:0,v:0}),t/=255,e/=255,i/=255;var n=Math.min(t,e,i),s=Math.max(t,e,i),a=s-n,o=0,h=s===0?0:a/s,l=s;return s!==n&&(s===t?o=(e-i)/a+(e<i?6:0):s===e?o=(i-t)/a+2:s===i&&(o=(t-e)/a+4),o/=6),r.hasOwnProperty("_h")?(r._h=o,r._s=h,r._v=l):(r.h=o,r.s=h,r.v=l),r},kR=O9;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var I9=b,D9=O0,B9=BR,au=I0,C_=kR,GR=new I9({initialize:function(e,i,r,n){e===void 0&&(e=0),i===void 0&&(i=0),r===void 0&&(r=0),n===void 0&&(n=255),this.r=0,this.g=0,this.b=0,this.a=255,this._h=0,this._s=0,this._v=0,this._locked=!1,this.gl=[0,0,0,1],this._color=0,this._color32=0,this._rgba="",this.setTo(e,i,r,n)},transparent:function(){return this._locked=!0,this.red=0,this.green=0,this.blue=0,this.alpha=0,this._locked=!1,this.update(!0)},setTo:function(t,e,i,r,n){return r===void 0&&(r=255),n===void 0&&(n=!0),this._locked=!0,this.red=t,this.green=e,this.blue=i,this.alpha=r,this._locked=!1,this.update(n)},setGLTo:function(t,e,i,r){return r===void 0&&(r=1),this._locked=!0,this.redGL=t,this.greenGL=e,this.blueGL=i,this.alphaGL=r,this._locked=!1,this.update(!0)},setFromRGB:function(t){return this._locked=!0,this.red=t.r,this.green=t.g,this.blue=t.b,t.hasOwnProperty("a")&&(this.alpha=t.a),this._locked=!1,this.update(!0)},setFromHSV:function(t,e,i){return au(t,e,i,this)},update:function(t){if(t===void 0&&(t=!1),this._locked)return this;var e=this.r,i=this.g,r=this.b,n=this.a;return this._color=D9(e,i,r),this._color32=B9(e,i,r,n),this._rgba="rgba("+e+","+i+","+r+","+n/255+")",t&&C_(e,i,r,this),this},updateHSV:function(){var t=this.r,e=this.g,i=this.b;return C_(t,e,i,this),this},clone:function(){return new GR(this.r,this.g,this.b,this.a)},gray:function(t){return this.setTo(t,t,t)},random:function(t,e){t===void 0&&(t=0),e===void 0&&(e=255);var i=Math.floor(t+Math.random()*(e-t)),r=Math.floor(t+Math.random()*(e-t)),n=Math.floor(t+Math.random()*(e-t));return this.setTo(i,r,n)},randomGray:function(t,e){t===void 0&&(t=0),e===void 0&&(e=255);var i=Math.floor(t+Math.random()*(e-t));return this.setTo(i,i,i)},saturate:function(t){return this.s+=t/100,this},desaturate:function(t){return this.s-=t/100,this},lighten:function(t){return this.v+=t/100,this},darken:function(t){return this.v-=t/100,this},brighten:function(t){var e=this.r,i=this.g,r=this.b;return e=Math.max(0,Math.min(255,e-Math.round(255*-(t/100)))),i=Math.max(0,Math.min(255,i-Math.round(255*-(t/100)))),r=Math.max(0,Math.min(255,r-Math.round(255*-(t/100)))),this.setTo(e,i,r)},color:{get:function(){return this._color}},color32:{get:function(){return this._color32}},rgba:{get:function(){return this._rgba}},redGL:{get:function(){return this.gl[0]},set:function(t){this.gl[0]=Math.min(Math.abs(t),1),this.r=Math.floor(this.gl[0]*255),this.update(!0)}},greenGL:{get:function(){return this.gl[1]},set:function(t){this.gl[1]=Math.min(Math.abs(t),1),this.g=Math.floor(this.gl[1]*255),this.update(!0)}},blueGL:{get:function(){return this.gl[2]},set:function(t){this.gl[2]=Math.min(Math.abs(t),1),this.b=Math.floor(this.gl[2]*255),this.update(!0)}},alphaGL:{get:function(){return this.gl[3]},set:function(t){this.gl[3]=Math.min(Math.abs(t),1),this.a=Math.floor(this.gl[3]*255),this.update()}},red:{get:function(){return this.r},set:function(t){t=Math.floor(Math.abs(t)),this.r=Math.min(t,255),this.gl[0]=t/255,this.update(!0)}},green:{get:function(){return this.g},set:function(t){t=Math.floor(Math.abs(t)),this.g=Math.min(t,255),this.gl[1]=t/255,this.update(!0)}},blue:{get:function(){return this.b},set:function(t){t=Math.floor(Math.abs(t)),this.b=Math.min(t,255),this.gl[2]=t/255,this.update(!0)}},alpha:{get:function(){return this.a},set:function(t){t=Math.floor(Math.abs(t)),this.a=Math.min(t,255),this.gl[3]=t/255,this.update()}},h:{get:function(){return this._h},set:function(t){this._h=t,au(t,this._s,this._v,this)}},s:{get:function(){return this._s},set:function(t){this._s=t,au(this._h,t,this._v,this)}},v:{get:function(){return this._v},set:function(t){this._v=t,au(this._h,this._s,t,this)}}}),An=GR;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var k9=An,G9=function(t){var e=new k9;t=t.replace(/^(?:#|0x)?([a-f\d])([a-f\d])([a-f\d])$/i,function(a,o,h,l){return o+o+h+h+l+l});var i=/^(?:#|0x)?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);if(i){var r=parseInt(i[1],16),n=parseInt(i[2],16),s=parseInt(i[3],16);e.setTo(r,n,s)}return e},zR=G9;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var z9=function(t){return t>16777215?{a:t>>>24,r:t>>16&255,g:t>>8&255,b:t&255}:{a:255,r:t>>16&255,g:t>>8&255,b:t&255}},NR=z9;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var N9=An,Y9=NR,V9=function(t){var e=Y9(t);return new N9(e.r,e.g,e.b,e.a)},YR=V9;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var W9=An,X9=function(t){return new W9(t.r,t.g,t.b,t.a)},VR=X9;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var U9=An,H9=function(t){var e=new U9,i=/^rgba?\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d+(?:\.\d+)?))?\s*\)$/.exec(t.toLowerCase());if(i){var r=parseInt(i[1],10),n=parseInt(i[2],10),s=parseInt(i[3],10),a=i[4]!==void 0?parseFloat(i[4]):1;e.setTo(r,n,s,a*255)}return e},WR=H9;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var q9=zR,K9=YR,J9=VR,j9=WR,Z9=function(t){var e=typeof t;switch(e){case"string":return t.substr(0,3).toLowerCase()==="rgb"?j9(t):q9(t);case"number":return K9(t);case"object":return J9(t)}},D0=Z9;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var Q9=b,b_=ne,t7=Yr,M_=Bt.exports,P_=Dt,e7=Pn,A_=D0,Rd=at,i7=new Q9({Extends:M_,Mixins:[b_.Alpha,b_.Visible],initialize:function(e,i,r,n){e===void 0&&(e=0),i===void 0&&(i=0),r===void 0&&(r=0),n===void 0&&(n=0),M_.call(this),this.scene,this.sceneManager,this.config,this.id=0,this.name="",this.resolution=1,this.roundPixels=!1,this.useBounds=!1,this.worldView=new P_,this.dirty=!0,this._x=e,this._y=i,this._cx=0,this._cy=0,this._cw=0,this._ch=0,this._width=r,this._height=n,this._bounds=new P_,this._scrollX=0,this._scrollY=0,this._zoom=1,this._rotation=0,this.matrix=new e7,this.transparent=!0,this.backgroundColor=A_("rgba(0,0,0,0)"),this.disableCull=!1,this.culledObjects=[],this.midPoint=new Rd(r/2,n/2),this.originX=.5,this.originY=.5,this._customViewport=!1},setOrigin:function(t,e){return t===void 0&&(t=.5),e===void 0&&(e=t),this.originX=t,this.originY=e,this},getScroll:function(t,e,i){i===void 0&&(i=new Rd);var r=this.width*.5,n=this.height*.5;return i.x=t-r,i.y=e-n,this.useBounds&&(i.x=this.clampX(i.x),i.y=this.clampY(i.y)),i},centerOn:function(t,e){var i=this.width*.5,r=this.height*.5;return this.midPoint.set(t,e),this.scrollX=t-i,this.scrollY=e-r,this.useBounds&&(this.scrollX=this.clampX(this.scrollX),this.scrollY=this.clampY(this.scrollY)),this},centerToBounds:function(){if(this.useBounds){var t=this._bounds,e=this.width*.5,i=this.height*.5;this.midPoint.set(t.centerX,t.centerY),this.scrollX=t.centerX-e,this.scrollY=t.centerY-i}return this},centerToSize:function(){return this.scrollX=this.width*.5,this.scrollY=this.height*.5,this},cull:function(t){if(this.disableCull)return t;var e=this.matrix.matrix,i=e[0],r=e[1],n=e[2],s=e[3],a=i*s-r*n;if(!a)return t;var o=e[4],h=e[5],l=this.scrollX,u=this.scrollY,f=this.width,c=this.height,d=this.culledObjects,g=t.length;a=1/a,d.length=0;for(var v=0;v<g;++v){var p=t[v];if(!p.hasOwnProperty("width")||p.parentContainer){d.push(p);continue}var m=p.width,y=p.height,x=p.x-l*p.scrollFactorX-m*p.originX,T=p.y-u*p.scrollFactorY-y*p.originY,_=x*i+T*n+o,w=x*r+T*s+h,S=(x+m)*i+(T+y)*n+o,C=(x+m)*r+(T+y)*s+h,R=f+m,L=c+y;_>-m&&w>-y&&_<R&&w<L&&S>-m&&C>-y&&S<R&&C<L&&d.push(p)}return d},getWorldPoint:function(t,e,i){i===void 0&&(i=new Rd);var r=this.matrix.matrix,n=r[0],s=r[1],a=r[2],o=r[3],h=r[4],l=r[5],u=n*o-s*a;if(!u)return i.x=t,i.y=e,i;u=1/u;var f=o*u,c=-s*u,d=-a*u,g=n*u,v=(a*l-o*h)*u,p=(s*h-n*l)*u,m=Math.cos(this.rotation),y=Math.sin(this.rotation),x=this.zoom,T=this.resolution,_=this.scrollX,w=this.scrollY,S=t+(_*m-w*y)*x,C=e+(_*y+w*m)*x;return i.x=(S*f+C*d)*T+v,i.y=(S*c+C*g)*T+p,i},ignore:function(t){var e=this.id;Array.isArray(t)||(t=[t]);for(var i=0;i<t.length;i++){var r=t[i];Array.isArray(r)?this.ignore(r):r.isParent?this.ignore(r.getChildren()):r.cameraFilter|=e}return this},preRender:function(t,e){var i=this.width,r=this.height,n=i*.5,s=r*.5,a=this.zoom*t,o=this.matrix,h=i*this.originX,l=r*this.originY,u=this.scrollX,f=this.scrollY;this.useBounds&&(u=this.clampX(u),f=this.clampY(f)),this.roundPixels&&(h=Math.round(h),l=Math.round(l)),this.scrollX=u,this.scrollY=f;var c=u+n,d=f+s;this.midPoint.set(c,d);var g=i/a,v=r/a;this.worldView.setTo(c-g/2,d-v/2,g,v),o.loadIdentity(),o.scale(e,e),o.translate(this.x+h,this.y+l),o.rotate(this.rotation),o.scale(a,a),o.translate(-h,-l)},clampX:function(t){var e=this._bounds,i=this.displayWidth,r=e.x+(i-this.width)/2,n=Math.max(r,r+e.width-i);return t<r?t=r:t>n&&(t=n),t},clampY:function(t){var e=this._bounds,i=this.displayHeight,r=e.y+(i-this.height)/2,n=Math.max(r,r+e.height-i);return t<r?t=r:t>n&&(t=n),t},removeBounds:function(){return this.useBounds=!1,this.dirty=!0,this._bounds.setEmpty(),this},setAngle:function(t){return t===void 0&&(t=0),this.rotation=t7(t),this},setBackgroundColor:function(t){return t===void 0&&(t="rgba(0,0,0,0)"),this.backgroundColor=A_(t),this.transparent=this.backgroundColor.alpha===0,this},setBounds:function(t,e,i,r,n){return this._bounds.setTo(t,e,i,r),this.dirty=!0,this.useBounds=!0,n?this.centerToBounds():(this.scrollX=this.clampX(this.scrollX),this.scrollY=this.clampY(this.scrollY)),this},setName:function(t){return t===void 0&&(t=""),this.name=t,this},setPosition:function(t,e){return e===void 0&&(e=t),this.x=t,this.y=e,this},setRotation:function(t){return t===void 0&&(t=0),this.rotation=t,this},setRoundPixels:function(t){return this.roundPixels=t,this},setScene:function(t){this.scene&&this._customViewport&&this.sceneManager.customViewports--,this.scene=t,this.config=t.sys.game.config,this.sceneManager=t.sys.game.scene;var e=this.config.resolution;return this.resolution=e,this._cx=this._x*e,this._cy=this._y*e,this._cw=this._width*e,this._ch=this._height*e,this.updateSystem(),this},setScroll:function(t,e){return e===void 0&&(e=t),this.scrollX=t,this.scrollY=e,this},setSize:function(t,e){return e===void 0&&(e=t),this.width=t,this.height=e,this},setViewport:function(t,e,i,r){return this.x=t,this.y=e,this.width=i,this.height=r,this},setZoom:function(t){return t===void 0&&(t=1),t===0&&(t=.001),this.zoom=t,this},toJSON:function(){var t={name:this.name,x:this.x,y:this.y,width:this.width,height:this.height,zoom:this.zoom,rotation:this.rotation,roundPixels:this.roundPixels,scrollX:this.scrollX,scrollY:this.scrollY,backgroundColor:this.backgroundColor.rgba};return this.useBounds&&(t.bounds={x:this._bounds.x,y:this._bounds.y,width:this._bounds.width,height:this._bounds.height}),t},update:function(){},updateSystem:function(){if(!!this.config){var t=this._x!==0||this._y!==0||this.config.width!==this._width||this.config.height!==this._height,e=this.sceneManager;t&&!this._customViewport?e.customViewports++:!t&&this._customViewport&&e.customViewports--,this.dirty=!0,this._customViewport=t}},destroy:function(){this.emit("cameradestroy",this),this.removeAllListeners(),this.matrix.destroy(),this.culledObjects=[],this._customViewport&&this.sceneManager.customViewports--,this._bounds=null,this.scene=null,this.config=null,this.sceneManager=null},x:{get:function(){return this._x},set:function(t){this._x=t,this._cx=t*this.resolution,this.updateSystem()}},y:{get:function(){return this._y},set:function(t){this._y=t,this._cy=t*this.resolution,this.updateSystem()}},width:{get:function(){return this._width},set:function(t){this._width=t,this._cw=t*this.resolution,this.updateSystem()}},height:{get:function(){return this._height},set:function(t){this._height=t,this._ch=t*this.resolution,this.updateSystem()}},scrollX:{get:function(){return this._scrollX},set:function(t){this._scrollX=t,this.dirty=!0}},scrollY:{get:function(){return this._scrollY},set:function(t){this._scrollY=t,this.dirty=!0}},zoom:{get:function(){return this._zoom},set:function(t){this._zoom=t,this.dirty=!0}},rotation:{get:function(){return this._rotation},set:function(t){this._rotation=t,this.dirty=!0}},centerX:{get:function(){return this.x+.5*this.width}},centerY:{get:function(){return this.y+.5*this.height}},displayWidth:{get:function(){return this.width/this.zoom}},displayHeight:{get:function(){return this.height/this.zoom}}}),Oc=i7;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var mr="",r7=function(){var t=function(n){for(var s=["i","webkitI","msI","mozI","oI"],a=0;a<s.length;a++){var o=s[a]+"mageSmoothingEnabled";if(o in n)return o}return null},e=function(n){return mr===""&&(mr=t(n)),mr&&(n[mr]=!0),n},i=function(n){return mr===""&&(mr=t(n)),mr&&(n[mr]=!1),n},r=function(n){return mr!==null?n[mr]:null};return{disable:i,enable:e,getPrefix:t,isEnabled:r}},Ic=r7();/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var Is=_i,n7=Ic,Ds=[],Fd=!1,s7=function(){var t=function(l,u,f,c,d){u===void 0&&(u=1),f===void 0&&(f=1),c===void 0&&(c=Is.CANVAS),d===void 0&&(d=!1);var g,v=r(c);return v===null?(v={parent:l,canvas:document.createElement("canvas"),type:c},c===Is.CANVAS&&Ds.push(v),g=v.canvas):(v.parent=l,g=v.canvas),d&&(v.parent=g),g.width=u,g.height=f,Fd&&c===Is.CANVAS&&n7.disable(g.getContext("2d")),g},e=function(l,u,f){return t(l,u,f,Is.CANVAS)},i=function(l,u,f){return t(l,u,f,Is.WEBGL)},r=function(l){if(l===void 0&&(l=Is.CANVAS),l===Is.WEBGL)return null;for(var u=0;u<Ds.length;u++){var f=Ds[u];if(!f.parent&&f.type===l)return f}return null},n=function(l){var u=l instanceof HTMLCanvasElement;Ds.forEach(function(f){(u&&f.canvas===l||!u&&f.parent===l)&&(f.parent=null,f.canvas.width=1,f.canvas.height=1)})},s=function(){var l=0;return Ds.forEach(function(u){u.parent&&l++}),l},a=function(){return Ds.length-s()},o=function(){Fd=!0},h=function(){Fd=!1};return{create2D:e,create:t,createWebGL:i,disableSmoothing:o,enableSmoothing:h,first:r,free:a,pool:Ds,remove:n,total:s}},wi=s7();/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var a7=function(t,e,i){return t.x=e-t.width/2,t.y=i-t.height/2,t},B0=a7;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var o7=ei,h7=b,l7=new h7({initialize:function(e){this.camera=e,this.isRunning=!1,this.isComplete=!1,this.direction=!0,this.duration=0,this.red=0,this.green=0,this.blue=0,this.alpha=0,this.progress=0,this._elapsed=0,this._onUpdate,this._onUpdateScope},start:function(t,e,i,r,n,s,a,o){if(t===void 0&&(t=!0),e===void 0&&(e=1e3),i===void 0&&(i=0),r===void 0&&(r=0),n===void 0&&(n=0),s===void 0&&(s=!1),a===void 0&&(a=null),o===void 0&&(o=this.camera.scene),!s&&this.isRunning)return this.camera;this.isRunning=!0,this.isComplete=!1,this.duration=e,this.direction=t,this.progress=0,this.red=i,this.green=r,this.blue=n,this.alpha=t?Number.MIN_VALUE:1,this._elapsed=0,this._onUpdate=a,this._onUpdateScope=o;var h=t?"camerafadeoutstart":"camerafadeinstart";return this.camera.emit(h,this.camera,this,e,i,r,n),this.camera},update:function(t,e){!this.isRunning||(this._elapsed+=e,this.progress=o7(this._elapsed/this.duration,0,1),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress),this._elapsed<this.duration?this.alpha=this.direction?this.progress:1-this.progress:this.effectComplete())},postRenderCanvas:function(t){if(!this.isRunning&&!this.isComplete)return!1;var e=this.camera;return t.fillStyle="rgba("+this.red+","+this.green+","+this.blue+","+this.alpha+")",t.fillRect(e._cx,e._cy,e._cw,e._ch),!0},postRenderWebGL:function(t,e){if(!this.isRunning&&!this.isComplete)return!1;var i=this.camera,r=this.red/255,n=this.blue/255,s=this.green/255;return t.drawFillRect(i._cx,i._cy,i._cw,i._ch,e(r,s,n,1),this.alpha),!0},effectComplete:function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.isComplete=!0;var t=this.direction?"camerafadeoutcomplete":"camerafadeincomplete";this.camera.emit(t,this.camera,this)},reset:function(){this.isRunning=!1,this.isComplete=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null}}),u7=l7;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var f7=ei,c7=b,d7=new c7({initialize:function(e){this.camera=e,this.isRunning=!1,this.duration=0,this.red=0,this.green=0,this.blue=0,this.alpha=0,this.progress=0,this._elapsed=0,this._onUpdate,this._onUpdateScope},start:function(t,e,i,r,n,s,a){return t===void 0&&(t=250),e===void 0&&(e=255),i===void 0&&(i=255),r===void 0&&(r=255),n===void 0&&(n=!1),s===void 0&&(s=null),a===void 0&&(a=this.camera.scene),!n&&this.isRunning?this.camera:(this.isRunning=!0,this.duration=t,this.progress=0,this.red=e,this.green=i,this.blue=r,this.alpha=1,this._elapsed=0,this._onUpdate=s,this._onUpdateScope=a,this.camera.emit("cameraflashstart",this.camera,this,t,e,i,r),this.camera)},update:function(t,e){!this.isRunning||(this._elapsed+=e,this.progress=f7(this._elapsed/this.duration,0,1),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress),this._elapsed<this.duration?this.alpha=1-this.progress:this.effectComplete())},postRenderCanvas:function(t){if(!this.isRunning)return!1;var e=this.camera;return t.fillStyle="rgba("+this.red+","+this.green+","+this.blue+","+this.alpha+")",t.fillRect(e._cx,e._cy,e._cw,e._ch),!0},postRenderWebGL:function(t,e){if(!this.isRunning)return!1;var i=this.camera,r=this.red/255,n=this.blue/255,s=this.green/255;return t.drawFillRect(i._cx,i._cy,i._cw,i._ch,e(r,s,n,1),this.alpha),!0},effectComplete:function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit("cameraflashcomplete",this.camera,this)},reset:function(){this.isRunning=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null}}),v7=d7;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var p7=function(t,e){return e===void 0&&(e=1.70158),t*t*((e+1)*t-e)},g7=p7;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var m7=function(t,e){return e===void 0&&(e=1.70158),--t*t*((e+1)*t+e)+1},y7=m7;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var x7=function(t,e){e===void 0&&(e=1.70158);var i=e*1.525;return(t*=2)<1?.5*(t*t*((i+1)*t-i)):.5*((t-=2)*t*((i+1)*t+i)+2)},_7=x7;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var XR={In:g7,Out:y7,InOut:_7};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var T7=function(t){return t=1-t,t<1/2.75?1-7.5625*t*t:t<2/2.75?1-(7.5625*(t-=1.5/2.75)*t+.75):t<2.5/2.75?1-(7.5625*(t-=2.25/2.75)*t+.9375):1-(7.5625*(t-=2.625/2.75)*t+.984375)},w7=T7;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var S7=function(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},C7=S7;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var b7=function(t){var e=!1;return t<.5?(t=1-t*2,e=!0):t=t*2-1,t<1/2.75?t=7.5625*t*t:t<2/2.75?t=7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?t=7.5625*(t-=2.25/2.75)*t+.9375:t=7.5625*(t-=2.625/2.75)*t+.984375,e?(1-t)*.5:t*.5+.5},M7=b7;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var UR={In:w7,Out:C7,InOut:M7};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var P7=function(t){return 1-Math.sqrt(1-t*t)},A7=P7;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var R7=function(t){return Math.sqrt(1- --t*t)},F7=R7;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var E7=function(t){return(t*=2)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)},L7=E7;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var HR={In:A7,Out:F7,InOut:L7};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var $7=function(t){return t*t*t},O7=$7;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var I7=function(t){return--t*t*t+1},D7=I7;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var B7=function(t){return(t*=2)<1?.5*t*t*t:.5*((t-=2)*t*t+2)},k7=B7;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var qR={In:O7,Out:D7,InOut:k7};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var G7=function(t,e,i){if(e===void 0&&(e=.1),i===void 0&&(i=.1),t===0)return 0;if(t===1)return 1;var r=i/4;return e<1?e=1:r=i*Math.asin(1/e)/(2*Math.PI),-(e*Math.pow(2,10*(t-=1))*Math.sin((t-r)*(2*Math.PI)/i))},z7=G7;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var N7=function(t,e,i){if(e===void 0&&(e=.1),i===void 0&&(i=.1),t===0)return 0;if(t===1)return 1;var r=i/4;return e<1?e=1:r=i*Math.asin(1/e)/(2*Math.PI),e*Math.pow(2,-10*t)*Math.sin((t-r)*(2*Math.PI)/i)+1},Y7=N7;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var V7=function(t,e,i){if(e===void 0&&(e=.1),i===void 0&&(i=.1),t===0)return 0;if(t===1)return 1;var r=i/4;return e<1?e=1:r=i*Math.asin(1/e)/(2*Math.PI),(t*=2)<1?-.5*(e*Math.pow(2,10*(t-=1))*Math.sin((t-r)*(2*Math.PI)/i)):e*Math.pow(2,-10*(t-=1))*Math.sin((t-r)*(2*Math.PI)/i)*.5+1},W7=V7;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var KR={In:z7,Out:Y7,InOut:W7};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var X7=function(t){return Math.pow(2,10*(t-1))-.001},U7=X7;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var H7=function(t){return 1-Math.pow(2,-10*t)},q7=H7;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var K7=function(t){return(t*=2)<1?.5*Math.pow(2,10*(t-1)):.5*(2-Math.pow(2,-10*(t-1)))},J7=K7;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var JR={In:U7,Out:q7,InOut:J7},k0={exports:{}};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var j7=function(t){return t},Z7=j7;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */(function(t){t.exports=Z7})(k0);/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var Q7=function(t){return t*t},tq=Q7;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var eq=function(t){return t*(2-t)},iq=eq;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var rq=function(t){return(t*=2)<1?.5*t*t:-.5*(--t*(t-2)-1)},nq=rq;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var jR={In:tq,Out:iq,InOut:nq};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var sq=function(t){return t*t*t*t},aq=sq;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var oq=function(t){return 1- --t*t*t*t},hq=oq;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var lq=function(t){return(t*=2)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2)},uq=lq;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var ZR={In:aq,Out:hq,InOut:uq};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var fq=function(t){return t*t*t*t*t},cq=fq;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var dq=function(t){return--t*t*t*t*t+1},vq=dq;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var pq=function(t){return(t*=2)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2)},gq=pq;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var QR={In:cq,Out:vq,InOut:gq};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var mq=function(t){return t===0?0:t===1?1:1-Math.cos(t*Math.PI/2)},yq=mq;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var xq=function(t){return t===0?0:t===1?1:Math.sin(t*Math.PI/2)},_q=xq;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var Tq=function(t){return t===0?0:t===1?1:.5*(1-Math.cos(Math.PI*t))},wq=Tq;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var t2={In:yq,Out:_q,InOut:wq},G0={exports:{}};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var Sq=function(t,e){return e===void 0&&(e=1),t<=0?0:t>=1?1:((e*t|0)+1)*(1/e)},Cq=Sq;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */(function(t){t.exports=Cq})(G0);/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var ou=XR,hu=UR,lu=HR,Xo=qR,uu=KR,fu=JR,R_=k0.exports,Uo=jR,Ho=ZR,qo=QR,cu=t2,bq=G0.exports,z0={Power0:R_,Power1:Uo.Out,Power2:Xo.Out,Power3:Ho.Out,Power4:qo.Out,Linear:R_,Quad:Uo.Out,Cubic:Xo.Out,Quart:Ho.Out,Quint:qo.Out,Sine:cu.Out,Expo:fu.Out,Circ:lu.Out,Elastic:uu.Out,Back:ou.Out,Bounce:hu.Out,Stepped:bq,"Quad.easeIn":Uo.In,"Cubic.easeIn":Xo.In,"Quart.easeIn":Ho.In,"Quint.easeIn":qo.In,"Sine.easeIn":cu.In,"Expo.easeIn":fu.In,"Circ.easeIn":lu.In,"Elastic.easeIn":uu.In,"Back.easeIn":ou.In,"Bounce.easeIn":hu.In,"Quad.easeOut":Uo.Out,"Cubic.easeOut":Xo.Out,"Quart.easeOut":Ho.Out,"Quint.easeOut":qo.Out,"Sine.easeOut":cu.Out,"Expo.easeOut":fu.Out,"Circ.easeOut":lu.Out,"Elastic.easeOut":uu.Out,"Back.easeOut":ou.Out,"Bounce.easeOut":hu.Out,"Quad.easeInOut":Uo.InOut,"Cubic.easeInOut":Xo.InOut,"Quart.easeInOut":Ho.InOut,"Quint.easeInOut":qo.InOut,"Sine.easeInOut":cu.InOut,"Expo.easeInOut":fu.InOut,"Circ.easeInOut":lu.InOut,"Elastic.easeInOut":uu.InOut,"Back.easeInOut":ou.InOut,"Bounce.easeInOut":hu.InOut};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var Mq=ei,Pq=b,Ed=at,Ld=z0,Aq=new Pq({initialize:function(e){this.camera=e,this.isRunning=!1,this.duration=0,this.source=new Ed,this.current=new Ed,this.destination=new Ed,this.ease,this.progress=0,this._elapsed=0,this._onUpdate,this._onUpdateScope},start:function(t,e,i,r,n,s,a){i===void 0&&(i=1e3),r===void 0&&(r=Ld.Linear),n===void 0&&(n=!1),s===void 0&&(s=null),a===void 0&&(a=this.camera.scene);var o=this.camera;return!n&&this.isRunning||(this.isRunning=!0,this.duration=i,this.progress=0,this.source.set(o.scrollX,o.scrollY),this.destination.set(t,e),o.getScroll(t,e,this.current),typeof r=="string"&&Ld.hasOwnProperty(r)?this.ease=Ld[r]:typeof r=="function"&&(this.ease=r),this._elapsed=0,this._onUpdate=s,this._onUpdateScope=a,this.camera.emit("camerapanstart",this.camera,this,i,t,e)),o},update:function(t,e){if(!!this.isRunning){this._elapsed+=e;var i=Mq(this._elapsed/this.duration,0,1);this.progress=i;var r=this.camera;if(this._elapsed<this.duration){var n=this.ease(i);r.getScroll(this.destination.x,this.destination.y,this.current);var s=this.source.x+(this.current.x-this.source.x)*n,a=this.source.y+(this.current.y-this.source.y)*n;r.setScroll(s,a),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,r,i,s,a)}else r.centerOn(this.destination.x,this.destination.y),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,r,i,r.scrollX,r.scrollY),this.effectComplete()}},effectComplete:function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit("camerapancomplete",this.camera,this)},reset:function(){this.isRunning=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null,this.source=null,this.destination=null}}),Rq=Aq;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var Fq=ei,Eq=b,Lq=at,$q=new Eq({initialize:function(e){this.camera=e,this.isRunning=!1,this.duration=0,this.intensity=new Lq,this.progress=0,this._elapsed=0,this._offsetX=0,this._offsetY=0,this._onUpdate,this._onUpdateScope},start:function(t,e,i,r,n){return t===void 0&&(t=100),e===void 0&&(e=.05),i===void 0&&(i=!1),r===void 0&&(r=null),n===void 0&&(n=this.camera.scene),!i&&this.isRunning?this.camera:(this.isRunning=!0,this.duration=t,this.progress=0,typeof e=="number"?this.intensity.set(e):this.intensity.set(e.x,e.y),this._elapsed=0,this._offsetX=0,this._offsetY=0,this._onUpdate=r,this._onUpdateScope=n,this.camera.emit("camerashakestart",this.camera,this,t,e),this.camera)},preRender:function(){this.isRunning&&this.camera.matrix.translate(this._offsetX,this._offsetY)},update:function(t,e){if(!!this.isRunning)if(this._elapsed+=e,this.progress=Fq(this._elapsed/this.duration,0,1),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress),this._elapsed<this.duration){var i=this.intensity,r=this.camera._cw,n=this.camera._ch,s=this.camera.zoom;this._offsetX=(Math.random()*i.x*r*2-i.x*r)*s,this._offsetY=(Math.random()*i.y*n*2-i.y*n)*s,this.camera.roundPixels&&(this._offsetX|=0,this._offsetY|=0)}else this.effectComplete()},effectComplete:function(){this._offsetX=0,this._offsetY=0,this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit("camerashakecomplete",this.camera,this)},reset:function(){this.isRunning=!1,this._offsetX=0,this._offsetY=0,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null,this.intensity=null}}),Oq=$q;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var Iq=ei,Dq=b,$d=z0,Bq=new Dq({initialize:function(e){this.camera=e,this.isRunning=!1,this.duration=0,this.source=1,this.destination=1,this.ease,this.progress=0,this._elapsed=0,this._onUpdate,this._onUpdateScope},start:function(t,e,i,r,n,s){e===void 0&&(e=1e3),i===void 0&&(i=$d.Linear),r===void 0&&(r=!1),n===void 0&&(n=null),s===void 0&&(s=this.camera.scene);var a=this.camera;return!r&&this.isRunning||(this.isRunning=!0,this.duration=e,this.progress=0,this.source=a.zoom,this.destination=t,typeof i=="string"&&$d.hasOwnProperty(i)?this.ease=$d[i]:typeof i=="function"&&(this.ease=i),this._elapsed=0,this._onUpdate=n,this._onUpdateScope=s,this.camera.emit("camerazoomstart",this.camera,this,e,t)),a},update:function(t,e){!this.isRunning||(this._elapsed+=e,this.progress=Iq(this._elapsed/this.duration,0,1),this._elapsed<this.duration?(this.camera.zoom=this.source+(this.destination-this.source)*this.ease(this.progress),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress,this.camera.zoom)):(this.camera.zoom=this.destination,this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress,this.destination),this.effectComplete()))},effectComplete:function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit("camerazoomcomplete",this.camera,this)},reset:function(){this.isRunning=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null}}),kq=Bq;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var e2={Fade:u7,Flash:v7,Pan:Rq,Shake:Oq,Zoom:kq};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var Gq=function(t,e,i){return(e-t)*i+t},Dc=Gq;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var Od=Oc,F_=wi,E_=B0,L_=ei,zq=b,$_=ne,Ko=e2,Ea=Dc,Nq=Dt,O_=at,Yq=new zq({Extends:Od,Mixins:[$_.Flip,$_.Tint],initialize:function(e,i,r,n){Od.call(this,e,i,r,n),this.inputEnabled=!0,this.fadeEffect=new Ko.Fade(this),this.flashEffect=new Ko.Flash(this),this.shakeEffect=new Ko.Shake(this),this.panEffect=new Ko.Pan(this),this.zoomEffect=new Ko.Zoom(this),this.lerp=new O_(1,1),this.followOffset=new O_,this.deadzone=null,this._follow=null,this.renderToTexture=!1,this.canvas=null,this.context=null,this.glTexture=null,this.framebuffer=null,this.pipeline=null},setRenderToTexture:function(t){var e=this.scene.sys.game.renderer;return e.gl?(this.glTexture=e.createTextureFromSource(null,this.width,this.height,0),this.framebuffer=e.createFramebuffer(this.width,this.height,this.glTexture,!1)):(this.canvas=F_.create2D(this,this.width,this.height),this.context=this.canvas.getContext("2d")),this.renderToTexture=!0,t&&this.setPipeline(t),this},setPipeline:function(t){if(typeof t=="string"){var e=this.scene.sys.game.renderer;e.gl&&e.hasPipeline(t)&&(this.pipeline=e.getPipeline(t))}else this.pipeline=t;return this},clearRenderToTexture:function(){var t=this.scene.sys.game.renderer;return t.gl?(this.framebuffer&&t.deleteFramebuffer(this.framebuffer),this.glTexture&&t.deleteTexture(this.glTexture),this.framebuffer=null,this.glTexture=null,this.pipeline=null):(F_.remove(this),this.canvas=null,this.context=null),this.renderToTexture=!1,this},setDeadzone:function(t,e){if(t===void 0)this.deadzone=null;else{if(this.deadzone?(this.deadzone.width=t,this.deadzone.height=e):this.deadzone=new Nq(0,0,t,e),this._follow){var i=this.width/2,r=this.height/2,n=this._follow.x-this.followOffset.x,s=this._follow.y-this.followOffset.y;this.midPoint.set(n,s),this.scrollX=n-i,this.scrollY=s-r}E_(this.deadzone,this.midPoint.x,this.midPoint.y)}return this},fadeIn:function(t,e,i,r,n,s){return this.fadeEffect.start(!1,t,e,i,r,!0,n,s)},fadeOut:function(t,e,i,r,n,s){return this.fadeEffect.start(!0,t,e,i,r,!0,n,s)},fadeFrom:function(t,e,i,r,n,s,a){return this.fadeEffect.start(!1,t,e,i,r,n,s,a)},fade:function(t,e,i,r,n,s,a){return this.fadeEffect.start(!0,t,e,i,r,n,s,a)},flash:function(t,e,i,r,n,s,a){return this.flashEffect.start(t,e,i,r,n,s,a)},shake:function(t,e,i,r,n){return this.shakeEffect.start(t,e,i,r,n)},pan:function(t,e,i,r,n,s,a){return this.panEffect.start(t,e,i,r,n,s,a)},zoomTo:function(t,e,i,r,n,s){return this.zoomEffect.start(t,e,i,r,n,s)},preRender:function(t,e){var i=this.width,r=this.height,n=i*.5,s=r*.5,a=this.zoom*t,o=this.matrix,h=i*this.originX,l=r*this.originY,u=this._follow,f=this.deadzone,c=this.scrollX,d=this.scrollY;if(f&&E_(f,this.midPoint.x,this.midPoint.y),u){var g=u.x-this.followOffset.x,v=u.y-this.followOffset.y;f?(g<f.x?c=Ea(c,c-(f.x-g),this.lerp.x):g>f.right&&(c=Ea(c,c+(g-f.right),this.lerp.x)),v<f.y?d=Ea(d,d-(f.y-v),this.lerp.y):v>f.bottom&&(d=Ea(d,d+(v-f.bottom),this.lerp.y))):(c=Ea(c,g-h,this.lerp.x),d=Ea(d,v-l,this.lerp.y))}this.useBounds&&(c=this.clampX(c),d=this.clampY(d)),this.roundPixels&&(h=Math.round(h),l=Math.round(l)),this.scrollX=c,this.scrollY=d;var p=c+n,m=d+s;this.midPoint.set(p,m);var y=i/a,x=r/a;this.worldView.setTo(p-y/2,m-x/2,y,x),o.loadIdentity(),o.scale(e,e),o.translate(this.x+h,this.y+l),o.rotate(this.rotation),o.scale(a,a),o.translate(-h,-l),this.shakeEffect.preRender()},setLerp:function(t,e){return t===void 0&&(t=1),e===void 0&&(e=t),this.lerp.set(t,e),this},setFollowOffset:function(t,e){return t===void 0&&(t=0),e===void 0&&(e=0),this.followOffset.set(t,e),this},startFollow:function(t,e,i,r,n,s){e===void 0&&(e=!1),i===void 0&&(i=1),r===void 0&&(r=i),n===void 0&&(n=0),s===void 0&&(s=n),this._follow=t,this.roundPixels=e,i=L_(i,0,1),r=L_(r,0,1),this.lerp.set(i,r),this.followOffset.set(n,s);var a=this.width/2,o=this.height/2,h=t.x-n,l=t.y-s;return this.midPoint.set(h,l),this.scrollX=h-a,this.scrollY=l-o,this},stopFollow:function(){return this._follow=null,this},resetFX:function(){return this.panEffect.reset(),this.shakeEffect.reset(),this.flashEffect.reset(),this.fadeEffect.reset(),this},update:function(t,e){this.visible&&(this.panEffect.update(t,e),this.zoomEffect.update(t,e),this.shakeEffect.update(t,e),this.flashEffect.update(t,e),this.fadeEffect.update(t,e))},destroy:function(){this.clearRenderToTexture(),this.resetFX(),Od.prototype.destroy.call(this),this._follow=null,this.deadzone=null}}),i2=Yq;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var vs={},Br={},ji={};ji.register=function(t,e,i,r){r===void 0&&(r=!1),vs[t]={plugin:e,mapping:i,custom:r}};ji.registerCustom=function(t,e,i,r){Br[t]={plugin:e,mapping:i,data:r}};ji.hasCore=function(t){return vs.hasOwnProperty(t)};ji.hasCustom=function(t){return Br.hasOwnProperty(t)};ji.getCore=function(t){return vs[t]};ji.getCustom=function(t){return Br[t]};ji.getCustomClass=function(t){return Br.hasOwnProperty(t)?Br[t].plugin:null};ji.remove=function(t){vs.hasOwnProperty(t)&&delete vs[t]};ji.removeCustom=function(t){Br.hasOwnProperty(t)&&delete Br[t]};ji.destroyCorePlugins=function(){for(var t in vs)vs.hasOwnProperty(t)&&delete vs[t]};ji.destroyCustomPlugins=function(){for(var t in Br)Br.hasOwnProperty(t)&&delete Br[t]};var se=ji;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var Vq=i2,Wq=b,we=V,Xq=se,Uq=Mn,r2=new Wq({initialize:function(e){this.scene=e,this.systems=e.sys,this.roundPixels=e.sys.game.config.roundPixels,this.cameras=[],this.main,this.baseScale=1,e.sys.events.once("boot",this.boot,this),e.sys.events.on("start",this.start,this)},boot:function(){var t=this.systems;t.settings.cameras?this.fromJSON(t.settings.cameras):this.add(),this.main=this.cameras[0],this.systems.events.once("destroy",this.destroy,this)},start:function(){if(!this.main){var t=this.systems;t.settings.cameras?this.fromJSON(t.settings.cameras):this.add(),this.main=this.cameras[0]}var e=this.systems.events;e.on("update",this.update,this),e.once("shutdown",this.shutdown,this)},add:function(t,e,i,r,n,s){t===void 0&&(t=0),e===void 0&&(e=0),i===void 0&&(i=this.scene.sys.game.config.width),r===void 0&&(r=this.scene.sys.game.config.height),n===void 0&&(n=!1),s===void 0&&(s="");var a=new Vq(t,e,i,r);return a.setName(s),a.setScene(this.scene),a.setRoundPixels(this.roundPixels),a.id=this.getNextID(),this.cameras.push(a),n&&(this.main=a),a},addExisting:function(t,e){e===void 0&&(e=!1);var i=this.cameras.indexOf(t);return i===-1?(t.id=this.getNextID(),t.setRoundPixels(this.roundPixels),this.cameras.push(t),e&&(this.main=t),t):null},getNextID:function(){for(var t=this.cameras,e=1,i=0;i<32;i++){for(var r=!1,n=0;n<t.length;n++){var s=t[n];if(s&&s.id===e){r=!0;continue}}if(r)e=e<<1;else return e}return 0},getTotal:function(t){t===void 0&&(t=!1);for(var e=0,i=this.cameras,r=0;r<i.length;r++){var n=i[r];(!t||t&&n.visible)&&e++}return e},fromJSON:function(t){Array.isArray(t)||(t=[t]);for(var e=this.scene.sys.game.config.width,i=this.scene.sys.game.config.height,r=0;r<t.length;r++){var n=t[r],s=we(n,"x",0),a=we(n,"y",0),o=we(n,"width",e),h=we(n,"height",i),l=this.add(s,a,o,h);l.name=we(n,"name",""),l.zoom=we(n,"zoom",1),l.rotation=we(n,"rotation",0),l.scrollX=we(n,"scrollX",0),l.scrollY=we(n,"scrollY",0),l.roundPixels=we(n,"roundPixels",!1),l.visible=we(n,"visible",!0);var u=we(n,"backgroundColor",!1);u&&l.setBackgroundColor(u);var f=we(n,"bounds",null);if(f){var c=we(f,"x",0),d=we(f,"y",0),g=we(f,"width",e),v=we(f,"height",i);l.setBounds(c,d,g,v)}}return this},getCamera:function(t){for(var e=this.cameras,i=0;i<e.length;i++)if(e[i].name===t)return e[i];return null},getCamerasBelowPointer:function(t){for(var e=this.cameras,i=t.x,r=t.y,n=[],s=0;s<e.length;s++){var a=e[s];a.visible&&a.inputEnabled&&Uq(a,i,r)&&n.unshift(a)}return n},remove:function(t,e){e===void 0&&(e=!0),Array.isArray(t)||(t=[t]);for(var i=0,r=this.cameras,n=0;n<t.length;n++){var s=r.indexOf(t[n]);s!==-1&&(e&&r[s].destroy(),r.splice(s,1),i++)}return!this.main&&r[0]&&(this.main=r[0]),i},render:function(t,e,i){for(var r=this.scene,n=this.cameras,s=this.baseScale,a=t.config.resolution,o=0;o<this.cameras.length;o++){var h=n[o];h.visible&&h.alpha>0&&(h.preRender(s,a),t.render(r,e,i,h))}},resetAll:function(){for(var t=0;t<this.cameras.length;t++)this.cameras[t].destroy();return this.cameras=[],this.main=this.add(),this.main},update:function(t,e){for(var i=0;i<this.cameras.length;i++)this.cameras[i].update(t,e)},resize:function(t,e){for(var i=0;i<this.cameras.length;i++)this.cameras[i].setSize(t,e)},shutdown:function(){this.main=void 0;for(var t=0;t<this.cameras.length;t++)this.cameras[t].destroy();this.cameras=[];var e=this.systems.events;e.off("update",this.update,this),e.off("shutdown",this.shutdown,this)},destroy:function(){this.shutdown(),this.scene.sys.events.off("start",this.start,this),this.scene=null,this.systems=null}});Xq.register("CameraManager",r2,"cameras");var Hq=r2;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var qq={Camera:i2,CameraManager:Hq,Effects:e2};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var Kq={Controls:A9,Scene2D:qq};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var n2={0:"#000",1:"#9D9D9D",2:"#FFF",3:"#BE2633",4:"#E06F8B",5:"#493C2B",6:"#A46422",7:"#EB8931",8:"#F7E26B",9:"#2F484E",A:"#44891A",B:"#A3CE27",C:"#1B2632",D:"#005784",E:"#31A2F2",F:"#B2DCEF"};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var Jq=n2,jq=wi,qr=ut,Zq=function(t){var e=qr(t,"data",[]),i=qr(t,"canvas",null),r=qr(t,"palette",Jq),n=qr(t,"pixelWidth",1),s=qr(t,"pixelHeight",n),a=qr(t,"resizeCanvas",!0),o=qr(t,"clearCanvas",!0),h=qr(t,"preRender",null),l=qr(t,"postRender",null),u=Math.floor(Math.abs(e[0].length*n)),f=Math.floor(Math.abs(e.length*s));i||(i=jq.create2D(this,u,f),a=!1,o=!1),a&&(i.width=u,i.height=f);var c=i.getContext("2d");o&&c.clearRect(0,0,u,f),h&&h(i,c);for(var d=0;d<e.length;d++)for(var g=e[d],v=0;v<g.length;v++){var p=g[v];p!=="."&&p!==" "&&(c.fillStyle=r[p],c.fillRect(v*n,d*s,n,s))}return l&&l(i,c),i},s2=Zq;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var Qq={0:"#000",1:"#fff",2:"#8b4131",3:"#7bbdc5",4:"#8b41ac",5:"#6aac41",6:"#3931a4",7:"#d5de73",8:"#945a20",9:"#5a4100",A:"#bd736a",B:"#525252",C:"#838383",D:"#acee8b",E:"#7b73de",F:"#acacac"};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var tK={0:"#000",1:"#2234d1",2:"#0c7e45",3:"#44aacc",4:"#8a3622",5:"#5c2e78",6:"#aa5c3d",7:"#b5b5b5",8:"#5e606e",9:"#4c81fb",A:"#6cd947",B:"#7be2f9",C:"#eb8a60",D:"#e23d69",E:"#ffd93f",F:"#fff"};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var eK={0:"#000",1:"#191028",2:"#46af45",3:"#a1d685",4:"#453e78",5:"#7664fe",6:"#833129",7:"#9ec2e8",8:"#dc534b",9:"#e18d79",A:"#d6b97b",B:"#e9d8a1",C:"#216c4b",D:"#d365c8",E:"#afaab9",F:"#f5f4eb"};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var iK={0:"#000",1:"#191028",2:"#46af45",3:"#a1d685",4:"#453e78",5:"#7664fe",6:"#833129",7:"#9ec2e8",8:"#dc534b",9:"#e18d79",A:"#d6b97b",B:"#e9d8a1",C:"#216c4b",D:"#d365c8",E:"#afaab9",F:"#fff"};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var rK={ARNE16:n2,C64:Qq,CGA:tK,JMP:eK,MSX:iK};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var nK={GenerateTexture:s2,Palettes:rK};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */function sK(t,e){var i=1-t;return i*i*i*e}function aK(t,e){var i=1-t;return 3*i*i*t*e}function oK(t,e){return 3*(1-t)*t*t*e}function hK(t,e){return t*t*t*e}var lK=function(t,e,i,r,n){return sK(t,e)+aK(t,i)+oK(t,r)+hK(t,n)},a2=lK;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var uK=Dt,fK=function(t,e){if(e===void 0&&(e=new uK),t.length===0)return e;for(var i=Number.MAX_VALUE,r=Number.MAX_VALUE,n=Number.MIN_SAFE_INTEGER,s=Number.MIN_SAFE_INTEGER,a,o,h,l=0;l<t.length;l++)a=t[l],Array.isArray(a)?(o=a[0],h=a[1]):(o=a.x,h=a.y),i=Math.min(i,o),r=Math.min(r,h),n=Math.max(n,o),s=Math.max(s,h);return e.x=i,e.y=r,e.width=n-i,e.height=s-r,e},N0=fK;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var cK=b,dK=N0,vK=Dt,La=at,pK=new cK({initialize:function(e){this.type=e,this.defaultDivisions=5,this.arcLengthDivisions=100,this.cacheArcLengths=[],this.needsUpdate=!0,this.active=!0,this._tmpVec2A=new La,this._tmpVec2B=new La},draw:function(t,e){return e===void 0&&(e=32),t.strokePoints(this.getPoints(e))},getBounds:function(t,e){t||(t=new vK),e===void 0&&(e=16);var i=this.getLength();e>i&&(e=i/2);var r=Math.max(1,Math.round(i/e));return dK(this.getSpacedPoints(r),t)},getDistancePoints:function(t){var e=this.getLength(),i=Math.max(1,e/t);return this.getSpacedPoints(i)},getEndPoint:function(t){return t===void 0&&(t=new La),this.getPointAt(1,t)},getLength:function(){var t=this.getLengths();return t[t.length-1]},getLengths:function(t){if(t===void 0&&(t=this.arcLengthDivisions),this.cacheArcLengths.length===t+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;var e=[],i,r=this.getPoint(0,this._tmpVec2A),n=0;e.push(0);for(var s=1;s<=t;s++)i=this.getPoint(s/t,this._tmpVec2B),n+=i.distance(r),e.push(n),r.copy(i);return this.cacheArcLengths=e,e},getPointAt:function(t,e){var i=this.getUtoTmapping(t);return this.getPoint(i,e)},getPoints:function(t){t===void 0&&(t=this.defaultDivisions);for(var e=[],i=0;i<=t;i++)e.push(this.getPoint(i/t));return e},getRandomPoint:function(t){return t===void 0&&(t=new La),this.getPoint(Math.random(),t)},getSpacedPoints:function(t){t===void 0&&(t=this.defaultDivisions);for(var e=[],i=0;i<=t;i++){var r=this.getUtoTmapping(i/t,null,t);e.push(this.getPoint(r))}return e},getStartPoint:function(t){return t===void 0&&(t=new La),this.getPointAt(0,t)},getTangent:function(t,e){e===void 0&&(e=new La);var i=1e-4,r=t-i,n=t+i;return r<0&&(r=0),n>1&&(n=1),this.getPoint(r,this._tmpVec2A),this.getPoint(n,e),e.subtract(this._tmpVec2A).normalize()},getTangentAt:function(t,e){var i=this.getUtoTmapping(t);return this.getTangent(i,e)},getTFromDistance:function(t,e){return t<=0?0:this.getUtoTmapping(0,t,e)},getUtoTmapping:function(t,e,i){var r=this.getLengths(i),n=0,s=r.length,a;e?a=Math.min(e,r[s-1]):a=t*r[s-1];for(var o=0,h=s-1,l;o<=h;)if(n=Math.floor(o+(h-o)/2),l=r[n]-a,l<0)o=n+1;else if(l>0)h=n-1;else{h=n;break}if(n=h,r[n]===a)return n/(s-1);var u=r[n],f=r[n+1],c=f-u,d=(a-u)/c;return(n+d)/(s-1)},updateArcLengths:function(){this.needsUpdate=!0,this.getLengths()}}),Po=pK;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var gK=b,I_=a2,D_=Po,Or=at,Ng=new gK({Extends:D_,initialize:function(e,i,r,n){D_.call(this,"CubicBezierCurve"),Array.isArray(e)&&(n=new Or(e[6],e[7]),r=new Or(e[4],e[5]),i=new Or(e[2],e[3]),e=new Or(e[0],e[1])),this.p0=e,this.p1=i,this.p2=r,this.p3=n},getStartPoint:function(t){return t===void 0&&(t=new Or),t.copy(this.p0)},getResolution:function(t){return t},getPoint:function(t,e){e===void 0&&(e=new Or);var i=this.p0,r=this.p1,n=this.p2,s=this.p3;return e.set(I_(t,i.x,r.x,n.x,s.x),I_(t,i.y,r.y,n.y,s.y))},draw:function(t,e){e===void 0&&(e=32);var i=this.getPoints(e);t.beginPath(),t.moveTo(this.p0.x,this.p0.y);for(var r=1;r<i.length;r++)t.lineTo(i[r].x,i[r].y);return t.strokePath(),t},toJSON:function(){return{type:this.type,points:[this.p0.x,this.p0.y,this.p1.x,this.p1.y,this.p2.x,this.p2.y,this.p3.x,this.p3.y]}}});Ng.fromJSON=function(t){var e=t.points,i=new Or(e[0],e[1]),r=new Or(e[2],e[3]),n=new Or(e[4],e[5]),s=new Or(e[6],e[7]);return new Ng(i,r,n,s)};var o2=Ng;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var mK=_e,yK=function(t){return t*mK.RAD_TO_DEG},Y0=yK;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var xK=b,B_=Po,$a=Yr,On=ut,Oa=Y0,Id=at,Yg=new xK({Extends:B_,initialize:function(e,i,r,n,s,a,o,h){if(typeof e=="object"){var l=e;e=On(l,"x",0),i=On(l,"y",0),r=On(l,"xRadius",0),n=On(l,"yRadius",r),s=On(l,"startAngle",0),a=On(l,"endAngle",360),o=On(l,"clockwise",!1),h=On(l,"rotation",0)}else n===void 0&&(n=r),s===void 0&&(s=0),a===void 0&&(a=360),o===void 0&&(o=!1),h===void 0&&(h=0);B_.call(this,"EllipseCurve"),this.p0=new Id(e,i),this._xRadius=r,this._yRadius=n,this._startAngle=$a(s),this._endAngle=$a(a),this._clockwise=o,this._rotation=$a(h)},getStartPoint:function(t){return t===void 0&&(t=new Id),this.getPoint(0,t)},getResolution:function(t){return t*2},getPoint:function(t,e){e===void 0&&(e=new Id);for(var i=Math.PI*2,r=this._endAngle-this._startAngle,n=Math.abs(r)<Number.EPSILON;r<0;)r+=i;for(;r>i;)r-=i;r<Number.EPSILON&&(n?r=0:r=i),this._clockwise&&!n&&(r===i?r=-i:r=r-i);var s=this._startAngle+t*r,a=this.p0.x+this._xRadius*Math.cos(s),o=this.p0.y+this._yRadius*Math.sin(s);if(this._rotation!==0){var h=Math.cos(this._rotation),l=Math.sin(this._rotation),u=a-this.p0.x,f=o-this.p0.y;a=u*h-f*l+this.p0.x,o=u*l+f*h+this.p0.y}return e.set(a,o)},setXRadius:function(t){return this.xRadius=t,this},setYRadius:function(t){return this.yRadius=t,this},setWidth:function(t){return this.xRadius=t*2,this},setHeight:function(t){return this.yRadius=t*2,this},setStartAngle:function(t){return this.startAngle=t,this},setEndAngle:function(t){return this.endAngle=t,this},setClockwise:function(t){return this.clockwise=t,this},setRotation:function(t){return this.rotation=t,this},x:{get:function(){return this.p0.x},set:function(t){this.p0.x=t}},y:{get:function(){return this.p0.y},set:function(t){this.p0.y=t}},xRadius:{get:function(){return this._xRadius},set:function(t){this._xRadius=t}},yRadius:{get:function(){return this._yRadius},set:function(t){this._yRadius=t}},startAngle:{get:function(){return Oa(this._startAngle)},set:function(t){this._startAngle=$a(t)}},endAngle:{get:function(){return Oa(this._endAngle)},set:function(t){this._endAngle=$a(t)}},clockwise:{get:function(){return this._clockwise},set:function(t){this._clockwise=t}},angle:{get:function(){return Oa(this._rotation)},set:function(t){this._rotation=$a(t)}},rotation:{get:function(){return this._rotation},set:function(t){this._rotation=t}},toJSON:function(){return{type:this.type,x:this.p0.x,y:this.p0.y,xRadius:this._xRadius,yRadius:this._yRadius,startAngle:Oa(this._startAngle),endAngle:Oa(this._endAngle),clockwise:this._clockwise,rotation:Oa(this._rotation)}}});Yg.fromJSON=function(t){return new Yg(t)};var h2=Yg;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var _K=b,TK=se,Wh=new _K({initialize:function(e){this.scene=e,this.systems=e.sys,this.displayList,this.updateList,e.sys.events.once("boot",this.boot,this),e.sys.events.on("start",this.start,this)},boot:function(){this.displayList=this.systems.displayList,this.updateList=this.systems.updateList,this.systems.events.once("destroy",this.destroy,this)},start:function(){this.systems.events.once("shutdown",this.shutdown,this)},existing:function(t){return(t.renderCanvas||t.renderWebGL)&&this.displayList.add(t),t.preUpdate&&this.updateList.add(t),t},shutdown:function(){this.systems.events.off("shutdown",this.shutdown,this)},destroy:function(){this.shutdown(),this.scene.sys.events.off("start",this.start,this),this.scene=null,this.systems=null,this.displayList=null,this.updateList=null}});Wh.register=function(t,e){Wh.prototype.hasOwnProperty(t)||(Wh.prototype[t]=e)};TK.register("GameObjectFactory",Wh,"add");var dt=Wh;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var wK=b,k_=Po,SK=N0,CK=Dt,Zs=at,bK=new Zs,Vg=new wK({Extends:k_,initialize:function(e,i){k_.call(this,"LineCurve"),Array.isArray(e)&&(i=new Zs(e[2],e[3]),e=new Zs(e[0],e[1])),this.p0=e,this.p1=i},getBounds:function(t){return t===void 0&&(t=new CK),SK([this.p0,this.p1],t)},getStartPoint:function(t){return t===void 0&&(t=new Zs),t.copy(this.p0)},getResolution:function(t){return t===void 0&&(t=1),t},getPoint:function(t,e){return e===void 0&&(e=new Zs),t===1?e.copy(this.p1):(e.copy(this.p1).subtract(this.p0).scale(t).add(this.p0),e)},getPointAt:function(t,e){return this.getPoint(t,e)},getTangent:function(){var t=bK.copy(this.p1).subtract(this.p0);return t.normalize()},draw:function(t){return t.lineBetween(this.p0.x,this.p0.y,this.p1.x,this.p1.y),t},toJSON:function(){return{type:this.type,points:[this.p0.x,this.p0.y,this.p1.x,this.p1.y]}}});Vg.fromJSON=function(t){var e=t.points,i=new Zs(e[0],e[1]),r=new Zs(e[2],e[3]);return new Vg(i,r)};var l2=Vg;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var MK=b,G_=at,PK=new MK({initialize:function(e,i){this.active=!1,this.p0=new G_(e,i)},getPoint:function(t,e){return e===void 0&&(e=new G_),e.copy(this.p0)},getPointAt:function(t,e){return this.getPoint(t,e)},getResolution:function(){return 1},getLength:function(){return 0},toJSON:function(){return{type:"MoveTo",points:[this.p0.x,this.p0.y]}}}),AK=PK;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */function RK(t,e){var i=1-t;return i*i*e}function FK(t,e){return 2*(1-t)*t*e}function EK(t,e){return t*t*e}var LK=function(t,e,i,r){return RK(t,e)+FK(t,i)+EK(t,r)},u2=LK;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var $K=b,z_=Po,N_=u2,ss=at,Wg=new $K({Extends:z_,initialize:function(e,i,r){z_.call(this,"QuadraticBezier"),Array.isArray(e)&&(r=new ss(e[4],e[5]),i=new ss(e[2],e[3]),e=new ss(e[0],e[1])),this.p0=e,this.p1=i,this.p2=r},getStartPoint:function(t){return t===void 0&&(t=new ss),t.copy(this.p0)},getResolution:function(t){return t},getPoint:function(t,e){e===void 0&&(e=new ss);var i=this.p0,r=this.p1,n=this.p2;return e.set(N_(t,i.x,r.x,n.x),N_(t,i.y,r.y,n.y))},draw:function(t,e){e===void 0&&(e=32);var i=this.getPoints(e);t.beginPath(),t.moveTo(this.p0.x,this.p0.y);for(var r=1;r<i.length;r++)t.lineTo(i[r].x,i[r].y);return t.strokePath(),t},toJSON:function(){return{type:this.type,points:[this.p0.x,this.p0.y,this.p1.x,this.p1.y,this.p2.x,this.p2.y]}}});Wg.fromJSON=function(t){var e=t.points,i=new ss(e[0],e[1]),r=new ss(e[2],e[3]),n=new ss(e[4],e[5]);return new Wg(i,r,n)};var f2=Wg;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var OK=function(t,e,i,r,n){var s=(r-e)*.5,a=(n-i)*.5,o=t*t,h=t*o;return(2*i-2*r+s+a)*h+(-3*i+3*r-2*s-a)*o+s*t+i},V0=OK;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var Y_=V0,IK=b,V_=Po,du=at,Xg=new IK({Extends:V_,initialize:function(e){e===void 0&&(e=[]),V_.call(this,"SplineCurve"),this.points=[],this.addPoints(e)},addPoints:function(t){for(var e=0;e<t.length;e++){var i=new du;typeof t[e]=="number"?(i.x=t[e],i.y=t[e+1],e++):Array.isArray(t[e])?(i.x=t[e][0],i.y=t[e][1]):(i.x=t[e].x,i.y=t[e].y),this.points.push(i)}return this},addPoint:function(t,e){var i=new du(t,e);return this.points.push(i),i},getStartPoint:function(t){return t===void 0&&(t=new du),t.copy(this.points[0])},getResolution:function(t){return t*this.points.length},getPoint:function(t,e){e===void 0&&(e=new du);var i=this.points,r=(i.length-1)*t,n=Math.floor(r),s=r-n,a=i[n===0?n:n-1],o=i[n],h=i[n>i.length-2?i.length-1:n+1],l=i[n>i.length-3?i.length-1:n+2];return e.set(Y_(s,a.x,o.x,h.x,l.x),Y_(s,a.y,o.y,h.y,l.y))},toJSON:function(){for(var t=[],e=0;e<this.points.length;e++)t.push(this.points[e].x),t.push(this.points[e].y);return{type:this.type,points:t}}});Xg.fromJSON=function(t){return new Xg(t.points)};var c2=Xg;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var DK=b,W_=o2,X_=h2,BK=dt,Dd=l2,kK=AK,U_=f2,H_=Dt,q_=c2,qe=at,d2=new DK({initialize:function(e,i){e===void 0&&(e=0),i===void 0&&(i=0),this.name="",this.curves=[],this.cacheLengths=[],this.autoClose=!1,this.startPoint=new qe,this._tmpVec2A=new qe,this._tmpVec2B=new qe,typeof e=="object"?this.fromJSON(e):this.startPoint.set(e,i)},add:function(t){return this.curves.push(t),this},circleTo:function(t,e,i){return e===void 0&&(e=!1),this.ellipseTo(t,t,0,360,e,i)},closePath:function(){var t=this.curves[0].getPoint(0),e=this.curves[this.curves.length-1].getPoint(1);return t.equals(e)||this.curves.push(new Dd(e,t)),this},cubicBezierTo:function(t,e,i,r,n,s){var a=this.getEndPoint(),o,h,l;return t instanceof qe?(o=t,h=e,l=i):(o=new qe(i,r),h=new qe(n,s),l=new qe(t,e)),this.add(new W_(a,o,h,l))},quadraticBezierTo:function(t,e,i,r){var n=this.getEndPoint(),s,a;return t instanceof qe?(s=t,a=e):(s=new qe(i,r),a=new qe(t,e)),this.add(new U_(n,s,a))},draw:function(t,e){for(var i=0;i<this.curves.length;i++){var r=this.curves[i];!r.active||r.draw(t,e)}return t},ellipseTo:function(t,e,i,r,n,s){var a=new X_(0,0,t,e,i,r,n,s),o=this.getEndPoint(this._tmpVec2A),h=a.getStartPoint(this._tmpVec2B);return o.subtract(h),a.x=o.x,a.y=o.y,this.add(a)},fromJSON:function(t){this.curves=[],this.cacheLengths=[],this.startPoint.set(t.x,t.y),this.autoClose=t.autoClose;for(var e=0;e<t.curves.length;e++){var i=t.curves[e];switch(i.type){case"LineCurve":this.add(Dd.fromJSON(i));break;case"EllipseCurve":this.add(X_.fromJSON(i));break;case"SplineCurve":this.add(q_.fromJSON(i));break;case"CubicBezierCurve":this.add(W_.fromJSON(i));break;case"QuadraticBezierCurve":this.add(U_.fromJSON(i));break}}return this},getBounds:function(t,e){t===void 0&&(t=new H_),e===void 0&&(e=16),t.x=Number.MAX_VALUE,t.y=Number.MAX_VALUE;for(var i=new H_,r=Number.MIN_SAFE_INTEGER,n=Number.MIN_SAFE_INTEGER,s=0;s<this.curves.length;s++){var a=this.curves[s];!a.active||(a.getBounds(i,e),t.x=Math.min(t.x,i.x),t.y=Math.min(t.y,i.y),r=Math.max(r,i.right),n=Math.max(n,i.bottom))}return t.right=r,t.bottom=n,t},getCurveLengths:function(){if(this.cacheLengths.length===this.curves.length)return this.cacheLengths;for(var t=[],e=0,i=0;i<this.curves.length;i++)e+=this.curves[i].getLength(),t.push(e);return this.cacheLengths=t,t},getEndPoint:function(t){return t===void 0&&(t=new qe),this.curves.length>0?this.curves[this.curves.length-1].getPoint(1,t):t.copy(this.startPoint),t},getLength:function(){var t=this.getCurveLengths();return t[t.length-1]},getPoint:function(t,e){e===void 0&&(e=new qe);for(var i=t*this.getLength(),r=this.getCurveLengths(),n=0;n<r.length;){if(r[n]>=i){var s=r[n]-i,a=this.curves[n],o=a.getLength(),h=o===0?0:1-s/o;return a.getPointAt(h,e)}n++}return null},getPoints:function(t){t===void 0&&(t=12);for(var e=[],i,r=0;r<this.curves.length;r++){var n=this.curves[r];if(!!n.active)for(var s=n.getResolution(t),a=n.getPoints(s),o=0;o<a.length;o++){var h=a[o];i&&i.equals(h)||(e.push(h),i=h)}}return this.autoClose&&e.length>1&&!e[e.length-1].equals(e[0])&&e.push(e[0]),e},getRandomPoint:function(t){return t===void 0&&(t=new qe),this.getPoint(Math.random(),t)},getSpacedPoints:function(t){t===void 0&&(t=40);for(var e=[],i=0;i<=t;i++)e.push(this.getPoint(i/t));return this.autoClose&&e.push(e[0]),e},getStartPoint:function(t){return t===void 0&&(t=new qe),t.copy(this.startPoint)},lineTo:function(t,e){t instanceof qe?this._tmpVec2B.copy(t):this._tmpVec2B.set(t,e);var i=this.getEndPoint(this._tmpVec2A);return this.add(new Dd([i.x,i.y,this._tmpVec2B.x,this._tmpVec2B.y]))},splineTo:function(t){return t.unshift(this.getEndPoint()),this.add(new q_(t))},moveTo:function(t,e){return this.add(new kK(t,e))},toJSON:function(){for(var t=[],e=0;e<this.curves.length;e++)t.push(this.curves[e].toJSON());return{type:"Path",x:this.startPoint.x,y:this.startPoint.y,autoClose:this.autoClose,curves:t}},updateArcLengths:function(){this.cacheLengths=[],this.getCurveLengths()},destroy:function(){this.curves.length=0,this.cacheLengths.length=0,this.startPoint=void 0}});BK.register("path",function(t,e){return new d2(t,e)});var GK=d2;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var zK={Path:GK,CubicBezier:o2,Curve:Po,Ellipse:h2,Line:l2,QuadraticBezier:f2,Spline:c2};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var NK=b,Bd=gl,YK=se,v2=new NK({Extends:Bd,initialize:function(e){Bd.call(this,e,e.sys.events),this.scene=e,this.systems=e.sys,e.sys.events.once("boot",this.boot,this),e.sys.events.on("start",this.start,this)},boot:function(){this.events=this.systems.events,this.events.once("destroy",this.destroy,this)},start:function(){this.events.once("shutdown",this.shutdown,this)},shutdown:function(){this.systems.events.off("shutdown",this.shutdown,this)},destroy:function(){Bd.prototype.destroy.call(this),this.events.off("start",this.start,this),this.scene=null,this.systems=null}});YK.register("DataManagerPlugin",v2,"data");var VK=v2;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var WK={DataManager:gl,DataManagerPlugin:VK};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var XK={BottomCenter:JA,BottomLeft:jA,BottomRight:ZA,Center:tR,LeftCenter:eR,QuickSet:aR,RightCenter:iR,TopCenter:rR,TopLeft:nR,TopRight:sR};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var UK=gn,HK=wo,qK=So,KK=Sn,JK=function(t,e,i,r){return i===void 0&&(i=0),r===void 0&&(r=0),qK(t,HK(e)+i),KK(t,UK(e)+r),t},jK=JK;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var ZK=gn,QK=yn,tJ=xn,eJ=Sn,iJ=function(t,e,i,r){return i===void 0&&(i=0),r===void 0&&(r=0),tJ(t,QK(e)-i),eJ(t,ZK(e)+r),t},rJ=iJ;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var nJ=gn,sJ=_n,aJ=Tn,oJ=Sn,hJ=function(t,e,i,r){return i===void 0&&(i=0),r===void 0&&(r=0),aJ(t,sJ(e)+i),oJ(t,nJ(e)+r),t},lJ=hJ;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var uJ=gn,fJ=yn,cJ=mn,dJ=Tn,vJ=function(t,e,i,r){return i===void 0&&(i=0),r===void 0&&(r=0),dJ(t,fJ(e)-i),cJ(t,uJ(e)+r),t},pJ=vJ;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var gJ=bo,mJ=yn,yJ=Co,xJ=Tn,_J=function(t,e,i,r){return i===void 0&&(i=0),r===void 0&&(r=0),xJ(t,mJ(e)-i),yJ(t,gJ(e)+r),t},TJ=_J;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var wJ=yn,SJ=wn,CJ=Tn,bJ=Sn,MJ=function(t,e,i,r){return i===void 0&&(i=0),r===void 0&&(r=0),CJ(t,wJ(e)-i),bJ(t,SJ(e)-r),t},PJ=MJ;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var AJ=gn,RJ=_n,FJ=mn,EJ=xn,LJ=function(t,e,i,r){return i===void 0&&(i=0),r===void 0&&(r=0),EJ(t,RJ(e)+i),FJ(t,AJ(e)+r),t},$J=LJ;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var OJ=bo,IJ=_n,DJ=Co,BJ=xn,kJ=function(t,e,i,r){return i===void 0&&(i=0),r===void 0&&(r=0),BJ(t,IJ(e)+i),DJ(t,OJ(e)+r),t},GJ=kJ;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var zJ=_n,NJ=wn,YJ=xn,VJ=Sn,WJ=function(t,e,i,r){return i===void 0&&(i=0),r===void 0&&(r=0),YJ(t,zJ(e)+i),VJ(t,NJ(e)-r),t},XJ=WJ;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var UJ=wo,HJ=wn,qJ=mn,KJ=So,JJ=function(t,e,i,r){return i===void 0&&(i=0),r===void 0&&(r=0),KJ(t,UJ(e)+i),qJ(t,HJ(e)-r),t},jJ=JJ;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var ZJ=yn,QJ=wn,tj=mn,ej=xn,ij=function(t,e,i,r){return i===void 0&&(i=0),r===void 0&&(r=0),ej(t,ZJ(e)-i),tj(t,QJ(e)-r),t},rj=ij;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var nj=_n,sj=wn,aj=mn,oj=Tn,hj=function(t,e,i,r){return i===void 0&&(i=0),r===void 0&&(r=0),oj(t,nj(e)+i),aj(t,sj(e)-r),t},lj=hj;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var uj={BottomCenter:jK,BottomLeft:rJ,BottomRight:lJ,LeftBottom:pJ,LeftCenter:TJ,LeftTop:PJ,RightBottom:$J,RightCenter:GJ,RightTop:XJ,TopCenter:jJ,TopLeft:rj,TopRight:lj};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var fj=g0,cj=Ae,Ug={In:XK,To:uj};Ug=cj(!1,Ug,fj);var dj=Ug;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var vj=function(t){return t.width*t.originX},pj=vj;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var gj=function(t){return t.height*t.originY},mj=gj;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var yj={CenterOn:QA,GetBottom:gn,GetCenterX:wo,GetCenterY:bo,GetLeft:yn,GetOffsetX:pj,GetOffsetY:mj,GetRight:_n,GetTop:wn,SetBottom:mn,SetCenterX:So,SetCenterY:Co,SetLeft:xn,SetRight:Tn,SetTop:Sn};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var xj={setCrisp:function(t){var e=["optimizeSpeed","crisp-edges","-moz-crisp-edges","-webkit-optimize-contrast","optimize-contrast","pixelated"];return e.forEach(function(i){t.style["image-rendering"]=i}),t.style.msInterpolationMode="nearest-neighbor",t},setBicubic:function(t){return t.style["image-rendering"]="auto",t.style.msInterpolationMode="bicubic",t}},p2=xj;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var _j=function(t,e){return e===void 0&&(e="none"),t.style.msTouchAction=e,t.style["ms-touch-action"]=e,t.style["touch-action"]=e,t},Tj=_j;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var wj=function(t,e){e===void 0&&(e="none");var i=["-webkit-","-khtml-","-moz-","-ms-",""];return i.forEach(function(r){t.style[r+"user-select"]=e}),t.style["-webkit-touch-callout"]=e,t.style["-webkit-tap-highlight-color"]="rgba(0, 0, 0, 0)",t},Sj=wj;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var Cj={CanvasInterpolation:p2,CanvasPool:wi,Smoothing:Ic,TouchAction:Tj,UserSelect:Sj};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var bj=function(t){var e={r:t>>16&255,g:t>>8&255,b:t&255,a:255};return t>16777215&&(e.a=t>>>24),e},Mj=bj;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var Pj=function(t){var e=t.toString(16);return e.length===1?"0"+e:e},g2=Pj;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var Aj=function(t,e,i){return i<0&&(i+=1),i>1&&(i-=1),i<1/6?t+(e-t)*6*i:i<1/2?e:i<2/3?t+(e-t)*(2/3-i)*6:t},m2=Aj;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var Rj=An,kd=m2,Fj=function(t,e,i){var r=i,n=i,s=i;if(e!==0){var a=i<.5?i*(1+e):i+e-i*e,o=2*i-a;r=kd(o,a,t+1/3),n=kd(o,a,t),s=kd(o,a,t-1/3)}var h=new Rj;return h.setGLTo(r,n,s,1)},Ej=Fj;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var Lj=I0,$j=function(t,e){t===void 0&&(t=1),e===void 0&&(e=1);for(var i=[],r=0;r<=359;r++)i.push(Lj(r/359,t,e));return i},Oj=$j;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var Gd=Dc,W0=function(t,e,i,r,n,s,a,o){a===void 0&&(a=100),o===void 0&&(o=0);var h=o/a;return{r:Gd(t,r,h),g:Gd(e,n,h),b:Gd(i,s,h)}},Ij=function(t,e,i,r){return i===void 0&&(i=100),r===void 0&&(r=0),W0(t.r,t.g,t.b,e.r,e.g,e.b,i,r)},Dj=function(t,e,i,r,n,s){return n===void 0&&(n=100),s===void 0&&(s=0),W0(t.r,t.g,t.b,e,i,r,n,s)},Bj={RGBWithRGB:W0,ColorWithRGB:Dj,ColorWithColor:Ij};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var kj=function(t,e){return Math.floor(Math.random()*(e-t+1)+t)},X0=kj;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var zd=X0,Gj=An,zj=function(t,e){return t===void 0&&(t=0),e===void 0&&(e=255),new Gj(zd(t,e),zd(t,e),zd(t,e))},Nj=zj;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var vu=g2,Yj=function(t,e,i,r,n){return r===void 0&&(r=255),n===void 0&&(n="#"),n==="#"?"#"+((1<<24)+(t<<16)+(e<<8)+i).toString(16).slice(1):"0x"+vu(r)+vu(t)+vu(e)+vu(i)},Vj=Yj;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var fe=An;fe.ColorToRGBA=Mj;fe.ComponentToHex=g2;fe.GetColor=O0;fe.GetColor32=BR;fe.HexStringToColor=zR;fe.HSLToColor=Ej;fe.HSVColorWheel=Oj;fe.HSVToRGB=I0;fe.HueToComponent=m2;fe.IntegerToColor=YR;fe.IntegerToRGB=NR;fe.Interpolate=Bj;fe.ObjectToColor=VR;fe.RandomRGB=Nj;fe.RGBStringToColor=WR;fe.RGBToHSV=kR;fe.RGBToString=Vj;fe.ValueToColor=D0;var y2=fe;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var Wj={BitmapMask:xR,GeometryMask:_R};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var Xj={Align:dj,Bounds:yj,Canvas:Cj,Color:y2,Masks:Wj};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var Uj=function(t,e,i){i===void 0&&(i=!0);var r;if(e)typeof e=="string"?r=document.getElementById(e):typeof e=="object"&&e.nodeType===1&&(r=e);else if(t.parentElement)return t;return r||(r=document.body),i&&r.style&&(r.style.overflow="hidden"),r.appendChild(t),t},Bc=Uj;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var lt={android:!1,chromeOS:!1,cocoonJS:!1,cocoonJSApp:!1,cordova:!1,crosswalk:!1,desktop:!1,ejecta:!1,electron:!1,iOS:!1,iOSVersion:0,iPad:!1,iPhone:!1,kindle:!1,linux:!1,macOS:!1,node:!1,nodeWebkit:!1,pixelRatio:1,webApp:!1,windows:!1,windowsPhone:!1};function Hj(){var t=navigator.userAgent;/Windows/.test(t)?lt.windows=!0:/Mac OS/.test(t)&&!/like Mac OS/.test(t)?lt.macOS=!0:/Android/.test(t)?lt.android=!0:/Linux/.test(t)?lt.linux=!0:/iP[ao]d|iPhone/i.test(t)?(lt.iOS=!0,navigator.appVersion.match(/OS (\d+)/),lt.iOSVersion=parseInt(RegExp.$1,10),lt.iPhone=t.toLowerCase().indexOf("iphone")!==-1,lt.iPad=t.toLowerCase().indexOf("ipad")!==-1):/Kindle/.test(t)||/\bKF[A-Z][A-Z]+/.test(t)||/Silk.*Mobile Safari/.test(t)?lt.kindle=!0:/CrOS/.test(t)&&(lt.chromeOS=!0),(/Windows Phone/i.test(t)||/IEMobile/i.test(t))&&(lt.android=!1,lt.iOS=!1,lt.macOS=!1,lt.windows=!0,lt.windowsPhone=!0);var e=/Silk/.test(t);if((lt.windows||lt.macOS||lt.linux&&!e||lt.chromeOS)&&(lt.desktop=!0),(lt.windowsPhone||/Windows NT/i.test(t)&&/Touch/i.test(t))&&(lt.desktop=!1),navigator.standalone&&(lt.webApp=!0),window.cordova!==void 0&&(lt.cordova=!0),typeof process<"u"&&process.versions&&process.versions.node&&(lt.node=!0),lt.node&&typeof process.versions=="object"&&(lt.nodeWebkit=!!process.versions["node-webkit"],lt.electron=!!process.versions.electron),navigator.isCocoonJS){lt.cocoonJS=!0;try{lt.cocoonJSApp=typeof CocoonJS<"u"}catch{lt.cocoonJSApp=!1}}return window.ejecta!==void 0&&(lt.ejecta=!0),/Crosswalk/.test(t)&&(lt.crosswalk=!0),lt.pixelRatio=window.devicePixelRatio||1,lt}var ml=Hj();/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var K_=ml,qj=function(t){if(document.readyState==="complete"||document.readyState==="interactive"){t();return}var e=function(){document.removeEventListener("deviceready",e,!0),document.removeEventListener("DOMContentLoaded",e,!0),window.removeEventListener("load",e,!0),t()};document.body?K_.cordova&&!K_.cocoonJS?document.addEventListener("deviceready",e,!1):(document.addEventListener("DOMContentLoaded",e,!0),window.addEventListener("load",e,!0)):window.setTimeout(e,20)},x2=qj;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var Kj=function(t){var e="";try{if(window.DOMParser){var i=new DOMParser;e=i.parseFromString(t,"text/xml")}else e=new ActiveXObject("Microsoft.XMLDOM"),e.loadXML(t)}catch{e=null}return!e||!e.documentElement||e.getElementsByTagName("parsererror").length?null:e},_2=Kj;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var Jj=function(t){t.parentNode&&t.parentNode.removeChild(t)},U0=Jj;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var jj=b,J_=W,Zj=new jj({initialize:function(){this.isRunning=!1,this.callback=J_,this.tick=0,this.isSetTimeOut=!1,this.timeOutID=null,this.lastTime=0;var e=this;this.step=function i(r){e.lastTime=e.tick,e.tick=r,e.timeOutID=window.requestAnimationFrame(i),e.callback(r)},this.stepTimeout=function i(){var r=Date.now(),n=Math.max(16+e.lastTime-r,0);e.lastTime=e.tick,e.tick=r,e.timeOutID=window.setTimeout(i,n),e.callback(r)}},start:function(t,e){this.isRunning||(this.callback=t,this.isSetTimeOut=e,this.isRunning=!0,this.timeOutID=e?window.setTimeout(this.stepTimeout,0):window.requestAnimationFrame(this.step))},stop:function(){this.isRunning=!1,this.isSetTimeOut?clearTimeout(this.timeOutID):window.cancelAnimationFrame(this.timeOutID)},destroy:function(){this.stop(),this.callback=J_}}),T2=Zj;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var Qj={AddToDOM:Bc,DOMContentLoaded:x2,ParseXML:_2,RemoveFromDOM:U0,RequestAnimationFrame:T2},tZ=Qj;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var eZ=b,j_=Bt.exports,iZ=se,w2=new eZ({Extends:j_,initialize:function(){j_.call(this)},shutdown:function(){this.removeAllListeners()},destroy:function(){this.removeAllListeners()}});iZ.register("EventEmitter",w2,"events");var rZ=w2;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var nZ={EventEmitter:rZ};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var Nd=ml,Oe={chrome:!1,chromeVersion:0,edge:!1,firefox:!1,firefoxVersion:0,ie:!1,ieVersion:0,mobileSafari:!1,opera:!1,safari:!1,safariVersion:0,silk:!1,trident:!1,tridentVersion:0};function sZ(){var t=navigator.userAgent;return/Edge\/\d+/.test(t)?Oe.edge=!0:/Chrome\/(\d+)/.test(t)&&!Nd.windowsPhone?(Oe.chrome=!0,Oe.chromeVersion=parseInt(RegExp.$1,10)):/Firefox\D+(\d+)/.test(t)?(Oe.firefox=!0,Oe.firefoxVersion=parseInt(RegExp.$1,10)):/AppleWebKit/.test(t)&&Nd.iOS?Oe.mobileSafari=!0:/MSIE (\d+\.\d+);/.test(t)?(Oe.ie=!0,Oe.ieVersion=parseInt(RegExp.$1,10)):/Opera/.test(t)?Oe.opera=!0:/Safari/.test(t)&&!Nd.windowsPhone?Oe.safari=!0:/Trident\/(\d+\.\d+)(.*)rv:(\d+\.\d+)/.test(t)&&(Oe.ie=!0,Oe.trident=!0,Oe.tridentVersion=parseInt(RegExp.$1,10),Oe.ieVersion=parseInt(RegExp.$3,10)),/Silk/.test(t)&&(Oe.silk=!0),Oe}var kc=sZ();/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var Yd=ml,Bs=kc,pu=wi,de={canvas:!1,canvasBitBltShift:null,file:!1,fileSystem:!1,getUserMedia:!0,littleEndian:!1,localStorage:!1,pointerLock:!1,support32bit:!1,vibration:!1,webGL:!1,worker:!1};function aZ(){var t=new ArrayBuffer(4),e=new Uint8Array(t),i=new Uint32Array(t);return e[0]=161,e[1]=178,e[2]=195,e[3]=212,i[0]===3569595041?!0:i[0]===2712847316?!1:null}function oZ(){de.canvas=!!window.CanvasRenderingContext2D||Yd.cocoonJS;try{de.localStorage=!!localStorage.getItem}catch{de.localStorage=!1}de.file=!!window.File&&!!window.FileReader&&!!window.FileList&&!!window.Blob,de.fileSystem=!!window.requestFileSystem;var t=!1,e=function(){if(window.WebGLRenderingContext)try{var i=pu.createWebGL(this);Yd.cocoonJS&&(i.screencanvas=!1);var r=i.getContext("webgl")||i.getContext("experimental-webgl"),n=pu.create2D(this),s=n.getContext("2d"),a=s.createImageData(1,1);return t=a.data instanceof Uint8ClampedArray,pu.remove(i),pu.remove(n),!!r}catch{return!1}return!1};return de.webGL=e(),de.worker=!!window.Worker,de.pointerLock="pointerLockElement"in document||"mozPointerLockElement"in document||"webkitPointerLockElement"in document,navigator.getUserMedia=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia||navigator.oGetUserMedia,window.URL=window.URL||window.webkitURL||window.mozURL||window.msURL,de.getUserMedia=de.getUserMedia&&!!navigator.getUserMedia&&!!window.URL,Bs.firefox&&Bs.firefoxVersion<21&&(de.getUserMedia=!1),!Yd.iOS&&(Bs.ie||Bs.firefox||Bs.chrome)&&(de.canvasBitBltShift=!0),(Bs.safari||Bs.mobileSafari)&&(de.canvasBitBltShift=!1),navigator.vibrate=navigator.vibrate||navigator.webkitVibrate||navigator.mozVibrate||navigator.msVibrate,navigator.vibrate&&(de.vibration=!0),typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint32Array<"u"&&(de.littleEndian=aZ()),de.support32bit=typeof ArrayBuffer<"u"&&typeof Uint8ClampedArray<"u"&&typeof Int32Array<"u"&&de.littleEndian!==null&&t,de}var H0=oZ();/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var hZ=ml,Z_=kc,ks={gamepads:!1,mspointer:!1,touch:!1,wheelEvent:null};function lZ(){return("ontouchstart"in document.documentElement||navigator.maxTouchPoints&&navigator.maxTouchPoints>=1)&&(ks.touch=!0),(navigator.msPointerEnabled||navigator.pointerEnabled)&&(ks.mspointer=!0),navigator.getGamepads&&(ks.gamepads=!0),hZ.cocoonJS||("onwheel"in window||Z_.ie&&"WheelEvent"in window?ks.wheelEvent="wheel":"onmousewheel"in window?ks.wheelEvent="mousewheel":Z_.firefox&&"MouseScrollEvent"in window&&(ks.wheelEvent="DOMMouseScroll")),ks}var uZ=lZ();/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var Vd=kc,rr={audioData:!1,dolby:!1,m4a:!1,mp3:!1,ogg:!1,opus:!1,wav:!1,webAudio:!1,webm:!1};function fZ(){rr.audioData=!!window.Audio,rr.webAudio=!!(window.AudioContext||window.webkitAudioContext);var t=document.createElement("audio"),e=!!t.canPlayType;try{if(e&&(t.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,"")&&(rr.ogg=!0),(t.canPlayType('audio/ogg; codecs="opus"').replace(/^no$/,"")||t.canPlayType("audio/opus;").replace(/^no$/,""))&&(rr.opus=!0),t.canPlayType("audio/mpeg;").replace(/^no$/,"")&&(rr.mp3=!0),t.canPlayType('audio/wav; codecs="1"').replace(/^no$/,"")&&(rr.wav=!0),(t.canPlayType("audio/x-m4a;")||t.canPlayType("audio/aac;").replace(/^no$/,""))&&(rr.m4a=!0),t.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")&&(rr.webm=!0),t.canPlayType('audio/mp4;codecs="ec-3"')!=="")){if(Vd.edge)rr.dolby=!0;else if(Vd.safari&&Vd.safariVersion>=9&&/Mac OS X (\d+)_(\d+)/.test(navigator.userAgent)){var i=parseInt(RegExp.$1,10),r=parseInt(RegExp.$2,10);(i===10&&r>=11||i>10)&&(rr.dolby=!0)}}}catch{}return rr}var cZ=fZ();/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var Gs={h264Video:!1,hlsVideo:!1,mp4Video:!1,oggVideo:!1,vp9Video:!1,webmVideo:!1};function dZ(){var t=document.createElement("video"),e=!!t.canPlayType;try{e&&(t.canPlayType('video/ogg; codecs="theora"').replace(/^no$/,"")&&(Gs.oggVideo=!0),t.canPlayType('video/mp4; codecs="avc1.42E01E"').replace(/^no$/,"")&&(Gs.h264Video=!0,Gs.mp4Video=!0),t.canPlayType('video/webm; codecs="vp8, vorbis"').replace(/^no$/,"")&&(Gs.webmVideo=!0),t.canPlayType('video/webm; codecs="vp9"').replace(/^no$/,"")&&(Gs.vp9Video=!0),t.canPlayType('application/x-mpegURL; codecs="avc1.42E01E"').replace(/^no$/,"")&&(Gs.hlsVideo=!0))}catch{}return Gs}var vZ=dZ();/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var Ia={available:!1,cancel:"",keyboard:!1,request:""};function pZ(){var t,e=["requestFullscreen","requestFullScreen","webkitRequestFullscreen","webkitRequestFullScreen","msRequestFullscreen","msRequestFullScreen","mozRequestFullScreen","mozRequestFullscreen"],i=document.createElement("div");for(t=0;t<e.length;t++)if(i[e[t]]){Ia.available=!0,Ia.request=e[t];break}var r=["cancelFullScreen","exitFullscreen","webkitCancelFullScreen","webkitExitFullscreen","msCancelFullScreen","msExitFullscreen","mozCancelFullScreen","mozExitFullscreen"];if(Ia.available){for(t=0;t<r.length;t++)if(document[r[t]]){Ia.cancel=r[t];break}}return window.Element&&Element.ALLOW_KEYBOARD_INPUT&&(Ia.keyboard=!0),Ia}var gZ=pZ();/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var Hg=wi,kf={supportInverseAlpha:!1,supportNewBlendModes:!1};function mZ(){var t="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAABAQMAAADD8p2OAAAAA1BMVEX/",e="AAAACklEQVQI12NgAAAAAgAB4iG8MwAAAABJRU5ErkJggg==",i=new Image;return i.onload=function(){var r=new Image;r.onload=function(){var n=Hg.create(r,6,1),s=n.getContext("2d");if(s.globalCompositeOperation="multiply",s.drawImage(i,0,0),s.drawImage(r,2,0),!s.getImageData(2,0,1,1))return!1;var a=s.getImageData(2,0,1,1).data;Hg.remove(r),kf.supportNewBlendModes=a[0]===255&&a[1]===0&&a[2]===0},r.src=t+"/wCKxvRF"+e},i.src=t+"AP804Oa6"+e,!1}function yZ(){var t=Hg.create(this,2,1),e=t.getContext("2d");e.fillStyle="rgba(10, 20, 30, 0.5)",e.fillRect(0,0,1,1);var i=e.getImageData(0,0,1,1);if(i===null)return!1;e.putImageData(i,1,0);var r=e.getImageData(1,0,1,1);return r.data[0]===i.data[0]&&r.data[1]===i.data[1]&&r.data[2]===i.data[2]&&r.data[3]===i.data[3]}function xZ(){return document!==void 0&&(kf.supportNewBlendModes=mZ(),kf.supportInverseAlpha=yZ()),kf}var S2=xZ();/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var C2={os:ml,browser:kc,features:H0,input:uZ,audio:cZ,video:vZ,fullscreen:gZ,canvasFeatures:S2};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var q0={Global:["game","anims","cache","plugins","registry","scale","sound","textures"],CoreScene:["EventEmitter","CameraManager","GameObjectCreator","GameObjectFactory","ScenePlugin","DisplayList","UpdateList"],DefaultScene:["Clock","DataManagerPlugin","InputPlugin","Loader","TweenManager","LightsPlugin"]};q0.DefaultScene.push("CameraManager3D");q0.Global.push("facebook");var K0=q0;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var _Z=b,Wd=_i,TZ=C2,Q_=V,B=ut,wZ=Ct,SZ=_e,tT=W,CZ=K0,bZ=D0,MZ=new _Z({initialize:function(e){e===void 0&&(e={});var i=["#ff0000","#ffff00","#00ff00","#00ffff","#000000"],r="#ffffff";this.width=B(e,"width",1024),this.height=B(e,"height",768),this.zoom=B(e,"zoom",1),this.resolution=B(e,"resolution",1),this.parent=B(e,"parent",null),this.scaleMode=B(e,"scaleMode",0),this.expandParent=B(e,"expandParent",!1),this.minWidth=B(e,"minWidth",0),this.maxWidth=B(e,"maxWidth",0),this.minHeight=B(e,"minHeight",0),this.maxHeight=B(e,"maxHeight",0);var n=B(e,"scale",null);n&&(this.width=B(n,"width",this.width),this.height=B(n,"height",this.height),this.zoom=B(n,"zoom",this.zoom),this.resolution=B(n,"resolution",this.resolution),this.parent=B(n,"parent",this.parent),this.scaleMode=B(n,"mode",this.scaleMode),this.expandParent=B(n,"mode",this.expandParent),this.minWidth=B(n,"min.width",this.minWidth),this.maxWidth=B(n,"max.width",this.maxWidth),this.minHeight=B(n,"min.height",this.minHeight),this.maxHeight=B(n,"max.height",this.maxHeight)),this.renderType=B(e,"type",Wd.AUTO),this.canvas=B(e,"canvas",null),this.context=B(e,"context",null),this.canvasStyle=B(e,"canvasStyle",null),this.sceneConfig=B(e,"scene",null),this.seed=B(e,"seed",[(Date.now()*Math.random()).toString()]),SZ.RND.init(this.seed),this.gameTitle=B(e,"title",""),this.gameURL=B(e,"url","https://phaser.io"),this.gameVersion=B(e,"version",""),this.autoFocus=B(e,"autoFocus",!0),this.domCreateContainer=B(e,"dom.createContainer",!1),this.domBehindCanvas=B(e,"dom.behindCanvas",!1),this.inputKeyboard=B(e,"input.keyboard",!0),this.inputKeyboardEventTarget=B(e,"input.keyboard.target",window),this.inputMouse=B(e,"input.mouse",!0),this.inputMouseEventTarget=B(e,"input.mouse.target",null),this.inputMouseCapture=B(e,"input.mouse.capture",!0),this.inputTouch=B(e,"input.touch",TZ.input.touch),this.inputTouchEventTarget=B(e,"input.touch.target",null),this.inputTouchCapture=B(e,"input.touch.capture",!0),this.inputActivePointers=B(e,"input.activePointers",1),this.inputGamepad=B(e,"input.gamepad",!1),this.inputGamepadEventTarget=B(e,"input.gamepad.target",window),this.disableContextMenu=B(e,"disableContextMenu",!1),this.audio=B(e,"audio"),this.hideBanner=B(e,"banner",null)===!1,this.hidePhaser=B(e,"banner.hidePhaser",!1),this.bannerTextColor=B(e,"banner.text",r),this.bannerBackgroundColor=B(e,"banner.background",i),this.gameTitle===""&&this.hidePhaser&&(this.hideBanner=!0),this.fps=B(e,"fps",null);var s=B(e,"render",e);this.autoResize=B(s,"autoResize",!0),this.antialias=B(s,"antialias",!0),this.roundPixels=B(s,"roundPixels",!1),this.pixelArt=B(s,"pixelArt",!1),this.pixelArt&&(this.antialias=!1,this.roundPixels=!0),this.transparent=B(s,"transparent",!1),this.clearBeforeRender=B(s,"clearBeforeRender",!0),this.premultipliedAlpha=B(s,"premultipliedAlpha",!0),this.preserveDrawingBuffer=B(s,"preserveDrawingBuffer",!1),this.failIfMajorPerformanceCaveat=B(s,"failIfMajorPerformanceCaveat",!1),this.powerPreference=B(s,"powerPreference","default"),this.batchSize=B(s,"batchSize",2e3),this.maxLights=B(s,"maxLights",10);var a=B(e,"backgroundColor",0);this.backgroundColor=bZ(a),a===0&&this.transparent&&(this.backgroundColor.alpha=0),this.preBoot=B(e,"callbacks.preBoot",tT),this.postBoot=B(e,"callbacks.postBoot",tT),this.physics=B(e,"physics",{}),this.defaultPhysicsSystem=B(this.physics,"default",!1),this.loaderBaseURL=B(e,"loader.baseURL",""),this.loaderPath=B(e,"loader.path",""),this.loaderMaxParallelDownloads=B(e,"loader.maxParallelDownloads",32),this.loaderCrossOrigin=B(e,"loader.crossOrigin",void 0),this.loaderResponseType=B(e,"loader.responseType",""),this.loaderAsync=B(e,"loader.async",!0),this.loaderUser=B(e,"loader.user",""),this.loaderPassword=B(e,"loader.password",""),this.loaderTimeout=B(e,"loader.timeout",0),this.installGlobalPlugins=[],this.installScenePlugins=[];var o=B(e,"plugins",null),h=CZ.DefaultScene;o&&(Array.isArray(o)?this.defaultPlugins=o:wZ(o)&&(this.installGlobalPlugins=Q_(o,"global",[]),this.installScenePlugins=Q_(o,"scene",[]),Array.isArray(o.default)?h=o.default:Array.isArray(o.defaultMerge)&&(h=h.concat(o.defaultMerge)))),this.defaultPlugins=h;var l="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAg";this.defaultImage=B(e,"images.default",l+"AQMAAABJtOi3AAAAA1BMVEX///+nxBvIAAAAAXRSTlMAQObYZgAAABVJREFUeF7NwIEAAAAAgKD9qdeocAMAoAABm3DkcAAAAABJRU5ErkJggg=="),this.missingImage=B(e,"images.missing",l+"CAIAAAD8GO2jAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJ9JREFUeNq01ssOwyAMRFG46v//Mt1ESmgh+DFmE2GPOBARKb2NVjo+17PXLD8a1+pl5+A+wSgFygymWYHBb0FtsKhJDdZlncG2IzJ4ayoMDv20wTmSMzClEgbWYNTAkQ0Z+OJ+A/eWnAaR9+oxCF4Os0H8htsMUp+pwcgBBiMNnAwF8GqIgL2hAzaGFFgZauDPKABmowZ4GL369/0rwACp2yA/ttmvsQAAAABJRU5ErkJggg=="),window&&(window.FORCE_WEBGL?this.renderType=Wd.WEBGL:window.FORCE_CANVAS&&(this.renderType=Wd.CANVAS))}}),PZ=MZ;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var AZ=function(t,e,i){e===void 0&&(e="image/png"),i===void 0&&(i=.92);var r=t.toDataURL(e,i),n=new Image;return n.src=r,n},b2=AZ;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var Se=pa,RZ=S2,FZ=function(){var t=[],e=RZ.supportNewBlendModes,i="source-over";return t[Se.NORMAL]=i,t[Se.ADD]="lighter",t[Se.MULTIPLY]=e?"multiply":i,t[Se.SCREEN]=e?"screen":i,t[Se.OVERLAY]=e?"overlay":i,t[Se.DARKEN]=e?"darken":i,t[Se.LIGHTEN]=e?"lighten":i,t[Se.COLOR_DODGE]=e?"color-dodge":i,t[Se.COLOR_BURN]=e?"color-burn":i,t[Se.HARD_LIGHT]=e?"hard-light":i,t[Se.SOFT_LIGHT]=e?"soft-light":i,t[Se.DIFFERENCE]=e?"difference":i,t[Se.EXCLUSION]=e?"exclusion":i,t[Se.HUE]=e?"hue":i,t[Se.SATURATION]=e?"saturation":i,t[Se.COLOR]=e?"color":i,t[Se.LUMINOSITY]=e?"luminosity":i,t},M2=FZ;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var EZ=b2,LZ=b,$Z=_i,OZ=M2,Xd=dl,IZ=Ic,gu=Pn,DZ=new LZ({initialize:function(e){this.game=e,this.type=$Z.CANVAS,this.drawCount=0,this.width=e.config.width,this.height=e.config.height,this.config={clearBeforeRender:e.config.clearBeforeRender,backgroundColor:e.config.backgroundColor,resolution:e.config.resolution,autoResize:e.config.autoResize,antialias:e.config.antialias,roundPixels:e.config.roundPixels},this.scaleMode=e.config.antialias?Xd.LINEAR:Xd.NEAREST,this.gameCanvas=e.canvas,this.gameContext=this.game.config.context?this.game.config.context:this.gameCanvas.getContext("2d"),this.currentContext=this.gameContext,this.blendModes=OZ(),this.currentScaleMode=0,this.snapshotCallback=null,this.snapshotType=null,this.snapshotEncoder=null,this._tempMatrix1=new gu,this._tempMatrix2=new gu,this._tempMatrix3=new gu,this._tempMatrix4=new gu,this.init()},init:function(){this.resize(this.width,this.height)},resize:function(t,e){var i=this.config.resolution;this.width=t*i,this.height=e*i,this.gameCanvas.width=this.width,this.gameCanvas.height=this.height,this.config.autoResize&&(this.gameCanvas.style.width=this.width/i+"px",this.gameCanvas.style.height=this.height/i+"px"),this.scaleMode===Xd.NEAREST&&IZ.disable(this.gameContext)},onContextLost:function(){},onContextRestored:function(){},resetTransform:function(){this.currentContext.setTransform(1,0,0,1,0,0)},setBlendMode:function(t){return this.currentContext.globalCompositeOperation=t,this},setContext:function(t){return this.currentContext=t||this.gameContext,this},setAlpha:function(t){return this.currentContext.globalAlpha=t,this},preRender:function(){var t=this.gameContext,e=this.config,i=this.width,r=this.height;e.clearBeforeRender&&t.clearRect(0,0,i,r),e.transparent||(t.fillStyle=e.backgroundColor.rgba,t.fillRect(0,0,i,r)),this.drawCount=0},render:function(t,e,i,r){var n=e.list,s=n.length,a=r._cx,o=r._cy,h=r._cw,l=r._ch,u=r.renderToTexture?r.context:t.sys.context,f=a!==0||o!==0||h!==u.canvas.width||l!==u.canvas.height;this.currentContext=u,r.transparent||(u.fillStyle=r.backgroundColor.rgba,u.fillRect(a,o,h,l)),u.globalAlpha=r.alpha,u.globalCompositeOperation="source-over",this.drawCount+=n.length,f&&(u.save(),u.beginPath(),u.rect(a,o,h,l),u.clip()),r.renderToTexture&&r.emit("prerender",r),r.matrix.copyToContext(u);for(var c=0;c<s;c++){var d=n[c];!d.willRender(r)||(d.mask&&d.mask.preRenderCanvas(this,d,r),d.renderCanvas(this,d,i,r),d.mask&&d.mask.postRenderCanvas(this,d,r))}u.setTransform(1,0,0,1,0,0),u.globalCompositeOperation="source-over",u.globalAlpha=1,r.flashEffect.postRenderCanvas(u),r.fadeEffect.postRenderCanvas(u),r.dirty=!1,f&&u.restore(),r.renderToTexture&&(r.emit("postrender",r),t.sys.context.drawImage(r.canvas,a,o))},postRender:function(){var t=this.gameContext;t.globalAlpha=1,t.globalCompositeOperation="source-over",this.snapshotCallback&&(this.snapshotCallback(EZ(this.gameCanvas,this.snapshotType,this.snapshotEncoder)),this.snapshotCallback=null)},snapshot:function(t,e,i){this.snapshotCallback=t,this.snapshotType=e,this.snapshotEncoder=i},batchSprite:function(t,e,i,r){var n=i.alpha*t.alpha;if(n!==0){var s=this.currentContext,a=this._tempMatrix1,o=this._tempMatrix2,h=this._tempMatrix3,l=e.canvasData,u=l.x,f=l.y,c=e.cutWidth,d=e.cutHeight,g=e.source.resolution,v=-t.displayOriginX+e.x,p=-t.displayOriginY+e.y,m=t.flipX?-1:1,y=t.flipY?-1:1;if(t.isCropped){var x=t._crop;(x.flipX!==t.flipX||x.flipY!==t.flipY)&&e.updateCropUVs(x,t.flipX,t.flipY),c=x.cw,d=x.ch,u=x.cx,f=x.cy,v=-t.displayOriginX+x.x,p=-t.displayOriginY+x.y,m===-1&&(v>=0?v=-(v+c):v<0&&(v=Math.abs(v)-c)),y===-1&&(p>=0?p=-(p+d):p<0&&(p=Math.abs(p)-d))}o.applyITRS(t.x,t.y,t.rotation,t.scaleX,t.scaleY),a.copyFrom(i.matrix),r?(a.multiplyWithOffset(r,-i.scrollX*t.scrollFactorX,-i.scrollY*t.scrollFactorY),o.e=t.x,o.f=t.y,a.multiply(o,h)):(o.e-=i.scrollX*t.scrollFactorX,o.f-=i.scrollY*t.scrollFactorY,a.multiply(o,h)),s.save(),h.setToContext(s),s.scale(m,y),s.globalCompositeOperation=this.blendModes[t.blendMode],s.globalAlpha=n,s.drawImage(e.source.image,u,f,c,d,v,p,c/g,d/g),s.restore()}},destroy:function(){this.gameCanvas=null,this.gameContext=null,this.game=null}}),P2=DZ;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var BZ=function(t,e){return t>0&&(t&t-1)===0&&e>0&&(e&e-1)===0},Gc=BZ;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var kZ=function(t,e){if(!(e>=t.length)){for(var i=t.length-1,r=t[e],n=e;n<i;n++)t[n]=t[n+1];return t.length=i,r}},yl=kZ;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var kt={getTintFromFloats:function(t,e,i,r){var n=(t*255|0)&255,s=(e*255|0)&255,a=(i*255|0)&255,o=(r*255|0)&255;return(o<<24|n<<16|s<<8|a)>>>0},getTintAppendFloatAlpha:function(t,e){var i=(e*255|0)&255;return(i<<24|t)>>>0},getTintAppendFloatAlphaAndSwap:function(t,e){var i=(t>>16|0)&255,r=(t>>8|0)&255,n=(t|0)&255,s=(e*255|0)&255;return(s<<24|n<<16|r<<8|i)>>>0},getFloatsFromUintRGB:function(t){var e=(t>>16|0)&255,i=(t>>8|0)&255,r=(t|0)&255;return[e/255,i/255,r/255]},getComponentCount:function(t,e){for(var i=0,r=0;r<t.length;++r){var n=t[r];n.type===e.FLOAT?i+=n.size:i+=1}return i}};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var GZ=function(t,e,i){e||(e="image/png"),i||(i=.92);var r=t.getContext("experimental-webgl"),n=new Uint8Array(r.drawingBufferWidth*r.drawingBufferHeight*4);r.readPixels(0,0,r.drawingBufferWidth,r.drawingBufferHeight,r.RGBA,r.UNSIGNED_BYTE,n);var s=document.createElement("canvas"),a=s.getContext("2d"),o;s.width=r.drawingBufferWidth,s.height=r.drawingBufferHeight,o=a.getImageData(0,0,s.width,s.height);for(var h=o.data,l=0;l<s.height;l+=1)for(var u=0;u<s.width;u+=1){var f=((s.height-l)*s.width+u)*4,c=(l*s.width+u)*4;h[c+0]=n[f+0],h[c+1]=n[f+1],h[c+2]=n[f+2],h[c+3]=n[f+3]}a.putImageData(o,0,0);var d=s.toDataURL(e,i),g=new Image;return g.src=d,g},A2=GZ,zZ=["#define SHADER_NAME PHASER_BITMAP_MASK_FS","","precision mediump float;","","uniform vec2 uResolution;","uniform sampler2D uMainSampler;","uniform sampler2D uMaskSampler;","uniform bool uInvertMaskAlpha;","","void main()","{","    vec2 uv = gl_FragCoord.xy / uResolution;","    vec4 mainColor = texture2D(uMainSampler, uv);","    vec4 maskColor = texture2D(uMaskSampler, uv);","    float alpha = mainColor.a;","","    if (!uInvertMaskAlpha)","    {","        alpha *= (maskColor.a);","    }","    else","    {","        alpha *= (1.0 - maskColor.a);","    }","","    gl_FragColor = vec4(mainColor.rgb * alpha, alpha);","}",""].join(`
`),NZ=["#define SHADER_NAME PHASER_BITMAP_MASK_VS","","precision mediump float;","","attribute vec2 inPosition;","","void main()","{","    gl_Position = vec4(inPosition, 0.0, 1.0);","}",""].join(`
`);/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var YZ=b,VZ=kt,WZ=new YZ({initialize:function(e){this.name="WebGLPipeline",this.game=e.game,this.view=e.game.canvas,this.resolution=e.game.config.resolution,this.width=e.game.config.width*this.resolution,this.height=e.game.config.height*this.resolution,this.gl=e.gl,this.vertexCount=0,this.vertexCapacity=e.vertexCapacity,this.renderer=e.renderer,this.vertexData=e.vertices?e.vertices:new ArrayBuffer(e.vertexCapacity*e.vertexSize),this.vertexBuffer=this.renderer.createVertexBuffer(e.vertices?e.vertices:this.vertexData.byteLength,this.gl.STREAM_DRAW),this.program=this.renderer.createProgram(e.vertShader,e.fragShader),this.attributes=e.attributes,this.vertexSize=e.vertexSize,this.topology=e.topology,this.bytes=new Uint8Array(this.vertexData),this.vertexComponentCount=VZ.getComponentCount(e.attributes,this.gl),this.flushLocked=!1,this.active=!1},boot:function(){},addAttribute:function(t,e,i,r,n){return this.attributes.push({name:t,size:e,type:this.renderer.glFormats[i],normalized:r,offset:n}),this},shouldFlush:function(){return this.vertexCount>=this.vertexCapacity},resize:function(t,e,i){return this.width=t*i,this.height=e*i,this},bind:function(){var t=this.gl,e=this.vertexBuffer,i=this.attributes,r=this.program,n=this.renderer,s=this.vertexSize;n.setProgram(r),n.setVertexBuffer(e);for(var a=0;a<i.length;++a){var o=i[a],h=t.getAttribLocation(r,o.name);h>=0?(t.enableVertexAttribArray(h),t.vertexAttribPointer(h,o.size,o.type,o.normalized,s,o.offset)):t.disableVertexAttribArray(h)}return this},onBind:function(){return this},onPreRender:function(){return this},onRender:function(){return this},onPostRender:function(){return this},flush:function(){if(this.flushLocked)return this;this.flushLocked=!0;var t=this.gl,e=this.vertexCount,i=this.topology,r=this.vertexSize;if(e===0){this.flushLocked=!1;return}return t.bufferSubData(t.ARRAY_BUFFER,0,this.bytes.subarray(0,e*r)),t.drawArrays(i,0,e),this.vertexCount=0,this.flushLocked=!1,this},destroy:function(){var t=this.gl;return t.deleteProgram(this.program),t.deleteBuffer(this.vertexBuffer),delete this.program,delete this.vertexBuffer,delete this.gl,this},setFloat1:function(t,e){return this.renderer.setFloat1(this.program,t,e),this},setFloat2:function(t,e,i){return this.renderer.setFloat2(this.program,t,e,i),this},setFloat3:function(t,e,i,r){return this.renderer.setFloat3(this.program,t,e,i,r),this},setFloat4:function(t,e,i,r,n){return this.renderer.setFloat4(this.program,t,e,i,r,n),this},setFloat1v:function(t,e){return this.renderer.setFloat1v(this.program,t,e),this},setFloat2v:function(t,e){return this.renderer.setFloat2v(this.program,t,e),this},setFloat3v:function(t,e){return this.renderer.setFloat3v(this.program,t,e),this},setFloat4v:function(t,e){return this.renderer.setFloat4v(this.program,t,e),this},setInt1:function(t,e){return this.renderer.setInt1(this.program,t,e),this},setInt2:function(t,e,i){return this.renderer.setInt2(this.program,t,e,i),this},setInt3:function(t,e,i,r){return this.renderer.setInt3(this.program,t,e,i,r),this},setInt4:function(t,e,i,r,n){return this.renderer.setInt4(this.program,t,e,i,r,n),this},setMatrix2:function(t,e,i){return this.renderer.setMatrix2(this.program,t,e,i),this},setMatrix3:function(t,e,i){return this.renderer.setMatrix3(this.program,t,e,i),this},setMatrix4:function(t,e,i){return this.renderer.setMatrix4(this.program,t,e,i),this}}),J0=WZ;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var XZ=b,UZ=zZ,HZ=NZ,mu=J0,qZ=new XZ({Extends:mu,initialize:function(e){mu.call(this,{game:e.game,renderer:e.renderer,gl:e.renderer.gl,topology:e.topology?e.topology:e.renderer.gl.TRIANGLES,vertShader:e.vertShader?e.vertShader:HZ,fragShader:e.fragShader?e.fragShader:UZ,vertexCapacity:e.vertexCapacity?e.vertexCapacity:3,vertexSize:e.vertexSize?e.vertexSize:Float32Array.BYTES_PER_ELEMENT*2,vertices:new Float32Array([-1,1,-1,-7,7,1]).buffer,attributes:[{name:"inPosition",size:2,type:e.renderer.gl.FLOAT,normalized:!1,offset:0}]}),this.vertexViewF32=new Float32Array(this.vertexData),this.maxQuads=1,this.resolutionDirty=!0},onBind:function(){mu.prototype.onBind.call(this);var t=this.renderer,e=this.program;return this.resolutionDirty&&(t.setFloat2(e,"uResolution",this.width,this.height),t.setInt1(e,"uMainSampler",0),t.setInt1(e,"uMaskSampler",1),this.resolutionDirty=!1),this},resize:function(t,e,i){return mu.prototype.resize.call(this,t,e,i),this.resolutionDirty=!0,this},beginMask:function(t,e,i){var r=this.renderer,n=this.gl,s=t.bitmapMask;s&&n&&(r.flush(),r.setFramebuffer(t.maskFramebuffer),n.clearColor(0,0,0,0),n.clear(n.COLOR_BUFFER_BIT),s.renderWebGL(r,s,0,i),r.flush(),r.setFramebuffer(t.mainFramebuffer),n.clearColor(0,0,0,0),n.clear(n.COLOR_BUFFER_BIT))},endMask:function(t){var e=this.renderer,i=this.gl,r=t.bitmapMask;r&&i&&(e.setFramebuffer(null),e.setPipeline(this),e.setTexture2D(t.maskTexture,1),e.setTexture2D(t.mainTexture,0),e.setInt1(this.program,"uInvertMaskAlpha",t.invertAlpha),i.drawArrays(this.topology,0,3))}}),R2=qZ,KZ=["#define SHADER_NAME PHASER_FORWARD_DIFFUSE_FS","","precision mediump float;","","struct Light","{","    vec2 position;","    vec3 color;","    float intensity;","    float radius;","};","","const int kMaxLights = %LIGHT_COUNT%;","","uniform vec4 uCamera; /* x, y, rotation, zoom */","uniform vec2 uResolution;","uniform sampler2D uMainSampler;","uniform sampler2D uNormSampler;","uniform vec3 uAmbientLightColor;","uniform Light uLights[kMaxLights];","","varying vec2 outTexCoord;","varying vec4 outTint;","","void main()","{","    vec3 finalColor = vec3(0.0, 0.0, 0.0);","    vec4 color = texture2D(uMainSampler, outTexCoord) * vec4(outTint.rgb * outTint.a, outTint.a);","    vec3 normalMap = texture2D(uNormSampler, outTexCoord).rgb;","    vec3 normal = normalize(vec3(normalMap * 2.0 - 1.0));","    vec2 res = vec2(min(uResolution.x, uResolution.y)) * uCamera.w;","","    for (int index = 0; index < kMaxLights; ++index)","    {","        Light light = uLights[index];","        vec3 lightDir = vec3((light.position.xy / res) - (gl_FragCoord.xy / res), 0.1);","        vec3 lightNormal = normalize(lightDir);","        float distToSurf = length(lightDir) * uCamera.w;","        float diffuseFactor = max(dot(normal, lightNormal), 0.0);","        float radius = (light.radius / res.x * uCamera.w) * uCamera.w;","        float attenuation = clamp(1.0 - distToSurf * distToSurf / (radius * radius), 0.0, 1.0);","        vec3 diffuse = light.color * diffuseFactor;","        finalColor += (attenuation * diffuse) * light.intensity;","    }","","    vec4 colorOutput = vec4(uAmbientLightColor + finalColor, 1.0);","    gl_FragColor = color * vec4(colorOutput.rgb * colorOutput.a, colorOutput.a);","","}",""].join(`
`);/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var ma=j0;function j0(t,e,i){i=i||2;var r=e&&e.length,n=r?e[0]*i:t.length,s=F2(t,0,n,i,!0),a=[];if(!s)return a;var o,h,l,u,f,c,d;if(r&&(s=tQ(t,e,s,i)),t.length>80*i){o=l=t[0],h=u=t[1];for(var g=i;g<n;g+=i)f=t[g],c=t[g+1],f<o&&(o=f),c<h&&(h=c),f>l&&(l=f),c>u&&(u=c);d=Math.max(l-o,u-h)}return rl(s,a,i,o,h,d),a}function F2(t,e,i,r,n){var s,a;if(n===Jg(t,e,i,r)>0)for(s=e;s<i;s+=r)a=eT(s,t[s],t[s+1],a);else for(s=i-r;s>=e;s-=r)a=eT(s,t[s],t[s+1],a);return a&&Qs(a,a.next)&&(sl(a),a=a.next),a}function il(t,e){if(!t)return t;e||(e=t);var i=t,r;do if(r=!1,!i.steiner&&(Qs(i,i.next)||ti(i.prev,i,i.next)===0)){if(sl(i),i=e=i.prev,i===i.next)return null;r=!0}else i=i.next;while(r||i!==e);return e}function rl(t,e,i,r,n,s,a){if(!!t){!a&&s&&nQ(t,r,n,s);for(var o=t,h,l;t.prev!==t.next;){if(h=t.prev,l=t.next,s?jZ(t,r,n,s):JZ(t)){e.push(h.i/i),e.push(t.i/i),e.push(l.i/i),sl(t),t=l.next,o=l.next;continue}if(t=l,t===o){a?a===1?(t=ZZ(t,e,i),rl(t,e,i,r,n,s,2)):a===2&&QZ(t,e,i,r,n,s):rl(il(t),e,i,r,n,s,1);break}}}}function JZ(t){var e=t.prev,i=t,r=t.next;if(ti(e,i,r)>=0)return!1;for(var n=t.next.next;n!==t.prev;){if(lc(e.x,e.y,i.x,i.y,r.x,r.y,n.x,n.y)&&ti(n.prev,n,n.next)>=0)return!1;n=n.next}return!0}function jZ(t,e,i,r){var n=t.prev,s=t,a=t.next;if(ti(n,s,a)>=0)return!1;for(var o=n.x<s.x?n.x<a.x?n.x:a.x:s.x<a.x?s.x:a.x,h=n.y<s.y?n.y<a.y?n.y:a.y:s.y<a.y?s.y:a.y,l=n.x>s.x?n.x>a.x?n.x:a.x:s.x>a.x?s.x:a.x,u=n.y>s.y?n.y>a.y?n.y:a.y:s.y>a.y?s.y:a.y,f=qg(o,h,e,i,r),c=qg(l,u,e,i,r),d=t.nextZ;d&&d.z<=c;){if(d!==t.prev&&d!==t.next&&lc(n.x,n.y,s.x,s.y,a.x,a.y,d.x,d.y)&&ti(d.prev,d,d.next)>=0)return!1;d=d.nextZ}for(d=t.prevZ;d&&d.z>=f;){if(d!==t.prev&&d!==t.next&&lc(n.x,n.y,s.x,s.y,a.x,a.y,d.x,d.y)&&ti(d.prev,d,d.next)>=0)return!1;d=d.prevZ}return!0}function ZZ(t,e,i){var r=t;do{var n=r.prev,s=r.next.next;!Qs(n,s)&&E2(n,r,r.next,s)&&nl(n,s)&&nl(s,n)&&(e.push(n.i/i),e.push(r.i/i),e.push(s.i/i),sl(r),sl(r.next),r=t=s),r=r.next}while(r!==t);return r}function QZ(t,e,i,r,n,s){var a=t;do{for(var o=a.next.next;o!==a.prev;){if(a.i!==o.i&&oQ(a,o)){var h=L2(a,o);a=il(a,a.next),h=il(h,h.next),rl(a,e,i,r,n,s),rl(h,e,i,r,n,s);return}o=o.next}a=a.next}while(a!==t)}function tQ(t,e,i,r){var n=[],s,a,o,h,l;for(s=0,a=e.length;s<a;s++)o=e[s]*r,h=s<a-1?e[s+1]*r:t.length,l=F2(t,o,h,r,!1),l===l.next&&(l.steiner=!0),n.push(aQ(l));for(n.sort(eQ),s=0;s<n.length;s++)iQ(n[s],i),i=il(i,i.next);return i}function eQ(t,e){return t.x-e.x}function iQ(t,e){if(e=rQ(t,e),e){var i=L2(e,t);il(i,i.next)}}function rQ(t,e){var i=e,r=t.x,n=t.y,s=-1/0,a;do{if(n<=i.y&&n>=i.next.y&&i.next.y!==i.y){var o=i.x+(n-i.y)*(i.next.x-i.x)/(i.next.y-i.y);if(o<=r&&o>s){if(s=o,o===r){if(n===i.y)return i;if(n===i.next.y)return i.next}a=i.x<i.next.x?i:i.next}}i=i.next}while(i!==e);if(!a)return null;if(r===s)return a.prev;var h=a,l=a.x,u=a.y,f=1/0,c;for(i=a.next;i!==h;)r>=i.x&&i.x>=l&&r!==i.x&&lc(n<u?r:s,n,l,u,n<u?s:r,n,i.x,i.y)&&(c=Math.abs(n-i.y)/(r-i.x),(c<f||c===f&&i.x>a.x)&&nl(i,t)&&(a=i,f=c)),i=i.next;return a}function nQ(t,e,i,r){var n=t;do n.z===null&&(n.z=qg(n.x,n.y,e,i,r)),n.prevZ=n.prev,n.nextZ=n.next,n=n.next;while(n!==t);n.prevZ.nextZ=null,n.prevZ=null,sQ(n)}function sQ(t){var e,i,r,n,s,a,o,h,l=1;do{for(i=t,t=null,s=null,a=0;i;){for(a++,r=i,o=0,e=0;e<l&&(o++,r=r.nextZ,!!r);e++);for(h=l;o>0||h>0&&r;)o!==0&&(h===0||!r||i.z<=r.z)?(n=i,i=i.nextZ,o--):(n=r,r=r.nextZ,h--),s?s.nextZ=n:t=n,n.prevZ=s,s=n;i=r}s.nextZ=null,l*=2}while(a>1);return t}function qg(t,e,i,r,n){return t=32767*(t-i)/n,e=32767*(e-r)/n,t=(t|t<<8)&16711935,t=(t|t<<4)&252645135,t=(t|t<<2)&858993459,t=(t|t<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,t|e<<1}function aQ(t){var e=t,i=t;do e.x<i.x&&(i=e),e=e.next;while(e!==t);return i}function lc(t,e,i,r,n,s,a,o){return(n-a)*(e-o)-(t-a)*(s-o)>=0&&(t-a)*(r-o)-(i-a)*(e-o)>=0&&(i-a)*(s-o)-(n-a)*(r-o)>=0}function oQ(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!hQ(t,e)&&nl(t,e)&&nl(e,t)&&lQ(t,e)}function ti(t,e,i){return(e.y-t.y)*(i.x-e.x)-(e.x-t.x)*(i.y-e.y)}function Qs(t,e){return t.x===e.x&&t.y===e.y}function E2(t,e,i,r){return Qs(t,e)&&Qs(i,r)||Qs(t,r)&&Qs(i,e)?!0:ti(t,e,i)>0!=ti(t,e,r)>0&&ti(i,r,t)>0!=ti(i,r,e)>0}function hQ(t,e){var i=t;do{if(i.i!==t.i&&i.next.i!==t.i&&i.i!==e.i&&i.next.i!==e.i&&E2(i,i.next,t,e))return!0;i=i.next}while(i!==t);return!1}function nl(t,e){return ti(t.prev,t,t.next)<0?ti(t,e,t.next)>=0&&ti(t,t.prev,e)>=0:ti(t,e,t.prev)<0||ti(t,t.next,e)<0}function lQ(t,e){var i=t,r=!1,n=(t.x+e.x)/2,s=(t.y+e.y)/2;do i.y>s!=i.next.y>s&&i.next.y!==i.y&&n<(i.next.x-i.x)*(s-i.y)/(i.next.y-i.y)+i.x&&(r=!r),i=i.next;while(i!==t);return r}function L2(t,e){var i=new Kg(t.i,t.x,t.y),r=new Kg(e.i,e.x,e.y),n=t.next,s=e.prev;return t.next=e,e.prev=t,i.next=n,n.prev=i,r.next=i,i.prev=r,s.next=r,r.prev=s,r}function eT(t,e,i,r){var n=new Kg(t,e,i);return r?(n.next=r.next,n.prev=r,r.next.prev=n,r.next=n):(n.prev=n,n.next=n),n}function sl(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function Kg(t,e,i){this.i=t,this.x=e,this.y=i,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}j0.deviation=function(t,e,i,r){var n=e&&e.length,s=n?e[0]*i:t.length,a=Math.abs(Jg(t,0,s,i));if(n)for(var o=0,h=e.length;o<h;o++){var l=e[o]*i,u=o<h-1?e[o+1]*i:t.length;a-=Math.abs(Jg(t,l,u,i))}var f=0;for(o=0;o<r.length;o+=3){var c=r[o]*i,d=r[o+1]*i,g=r[o+2]*i;f+=Math.abs((t[c]-t[g])*(t[d+1]-t[c+1])-(t[c]-t[d])*(t[g+1]-t[c+1]))}return a===0&&f===0?0:Math.abs((f-a)/a)};function Jg(t,e,i,r){for(var n=0,s=e,a=i-r;s<i;s+=r)n+=(t[a]-t[s])*(t[s+1]+t[a+1]),a=s;return n}j0.flatten=function(t){for(var e=t[0][0].length,i={vertices:[],holes:[],dimensions:e},r=0,n=0;n<t.length;n++){for(var s=0;s<t[n].length;s++)for(var a=0;a<e;a++)i.vertices.push(t[n][s][a]);n>0&&(r+=t[n-1].length,i.holes.push(r))}return i};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var uQ={modelMatrixDirty:!1,viewMatrixDirty:!1,projectionMatrixDirty:!1,modelMatrix:null,viewMatrix:null,projectionMatrix:null,mvpInit:function(){return this.modelMatrixDirty=!0,this.viewMatrixDirty=!0,this.projectionMatrixDirty=!0,this.modelMatrix=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),this.viewMatrix=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),this.projectionMatrix=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),this},mvpUpdate:function(){var t=this.program;return this.modelMatrixDirty&&(this.renderer.setMatrix4(t,"uModelMatrix",!1,this.modelMatrix),this.modelMatrixDirty=!1),this.viewMatrixDirty&&(this.renderer.setMatrix4(t,"uViewMatrix",!1,this.viewMatrix),this.viewMatrixDirty=!1),this.projectionMatrixDirty&&(this.renderer.setMatrix4(t,"uProjectionMatrix",!1,this.projectionMatrix),this.projectionMatrixDirty=!1),this},modelIdentity:function(){var t=this.modelMatrix;return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this.modelMatrixDirty=!0,this},modelScale:function(t,e,i){var r=this.modelMatrix;return r[0]=r[0]*t,r[1]=r[1]*t,r[2]=r[2]*t,r[3]=r[3]*t,r[4]=r[4]*e,r[5]=r[5]*e,r[6]=r[6]*e,r[7]=r[7]*e,r[8]=r[8]*i,r[9]=r[9]*i,r[10]=r[10]*i,r[11]=r[11]*i,this.modelMatrixDirty=!0,this},modelTranslate:function(t,e,i){var r=this.modelMatrix;return r[12]=r[0]*t+r[4]*e+r[8]*i+r[12],r[13]=r[1]*t+r[5]*e+r[9]*i+r[13],r[14]=r[2]*t+r[6]*e+r[10]*i+r[14],r[15]=r[3]*t+r[7]*e+r[11]*i+r[15],this.modelMatrixDirty=!0,this},modelRotateX:function(t){var e=this.modelMatrix,i=Math.sin(t),r=Math.cos(t),n=e[4],s=e[5],a=e[6],o=e[7],h=e[8],l=e[9],u=e[10],f=e[11];return e[4]=n*r+h*i,e[5]=s*r+l*i,e[6]=a*r+u*i,e[7]=o*r+f*i,e[8]=h*r-n*i,e[9]=l*r-s*i,e[10]=u*r-a*i,e[11]=f*r-o*i,this.modelMatrixDirty=!0,this},modelRotateY:function(t){var e=this.modelMatrix,i=Math.sin(t),r=Math.cos(t),n=e[0],s=e[1],a=e[2],o=e[3],h=e[8],l=e[9],u=e[10],f=e[11];return e[0]=n*r-h*i,e[1]=s*r-l*i,e[2]=a*r-u*i,e[3]=o*r-f*i,e[8]=n*i+h*r,e[9]=s*i+l*r,e[10]=a*i+u*r,e[11]=o*i+f*r,this.modelMatrixDirty=!0,this},modelRotateZ:function(t){var e=this.modelMatrix,i=Math.sin(t),r=Math.cos(t),n=e[0],s=e[1],a=e[2],o=e[3],h=e[4],l=e[5],u=e[6],f=e[7];return e[0]=n*r+h*i,e[1]=s*r+l*i,e[2]=a*r+u*i,e[3]=o*r+f*i,e[4]=h*r-n*i,e[5]=l*r-s*i,e[6]=u*r-a*i,e[7]=f*r-o*i,this.modelMatrixDirty=!0,this},viewIdentity:function(){var t=this.viewMatrix;return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this.viewMatrixDirty=!0,this},viewScale:function(t,e,i){var r=this.viewMatrix;return r[0]=r[0]*t,r[1]=r[1]*t,r[2]=r[2]*t,r[3]=r[3]*t,r[4]=r[4]*e,r[5]=r[5]*e,r[6]=r[6]*e,r[7]=r[7]*e,r[8]=r[8]*i,r[9]=r[9]*i,r[10]=r[10]*i,r[11]=r[11]*i,this.viewMatrixDirty=!0,this},viewTranslate:function(t,e,i){var r=this.viewMatrix;return r[12]=r[0]*t+r[4]*e+r[8]*i+r[12],r[13]=r[1]*t+r[5]*e+r[9]*i+r[13],r[14]=r[2]*t+r[6]*e+r[10]*i+r[14],r[15]=r[3]*t+r[7]*e+r[11]*i+r[15],this.viewMatrixDirty=!0,this},viewRotateX:function(t){var e=this.viewMatrix,i=Math.sin(t),r=Math.cos(t),n=e[4],s=e[5],a=e[6],o=e[7],h=e[8],l=e[9],u=e[10],f=e[11];return e[4]=n*r+h*i,e[5]=s*r+l*i,e[6]=a*r+u*i,e[7]=o*r+f*i,e[8]=h*r-n*i,e[9]=l*r-s*i,e[10]=u*r-a*i,e[11]=f*r-o*i,this.viewMatrixDirty=!0,this},viewRotateY:function(t){var e=this.viewMatrix,i=Math.sin(t),r=Math.cos(t),n=e[0],s=e[1],a=e[2],o=e[3],h=e[8],l=e[9],u=e[10],f=e[11];return e[0]=n*r-h*i,e[1]=s*r-l*i,e[2]=a*r-u*i,e[3]=o*r-f*i,e[8]=n*i+h*r,e[9]=s*i+l*r,e[10]=a*i+u*r,e[11]=o*i+f*r,this.viewMatrixDirty=!0,this},viewRotateZ:function(t){var e=this.viewMatrix,i=Math.sin(t),r=Math.cos(t),n=e[0],s=e[1],a=e[2],o=e[3],h=e[4],l=e[5],u=e[6],f=e[7];return e[0]=n*r+h*i,e[1]=s*r+l*i,e[2]=a*r+u*i,e[3]=o*r+f*i,e[4]=h*r-n*i,e[5]=l*r-s*i,e[6]=u*r-a*i,e[7]=f*r-o*i,this.viewMatrixDirty=!0,this},viewLoad2D:function(t){var e=this.viewMatrix;return e[0]=t[0],e[1]=t[1],e[2]=0,e[3]=0,e[4]=t[2],e[5]=t[3],e[6]=0,e[7]=0,e[8]=t[4],e[9]=t[5],e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,this.viewMatrixDirty=!0,this},viewLoad:function(t){var e=this.viewMatrix;return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],this.viewMatrixDirty=!0,this},projIdentity:function(){var t=this.projectionMatrix;return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this.projectionMatrixDirty=!0,this},projOrtho:function(t,e,i,r,n,s){var a=this.projectionMatrix,o=1/(t-e),h=1/(i-r),l=1/(n-s);return a[0]=-2*o,a[1]=0,a[2]=0,a[3]=0,a[4]=0,a[5]=-2*h,a[6]=0,a[7]=0,a[8]=0,a[9]=0,a[10]=2*l,a[11]=0,a[12]=(t+e)*o,a[13]=(r+i)*h,a[14]=(s+n)*l,a[15]=1,this.projectionMatrixDirty=!0,this},projPersp:function(t,e,i,r){var n=this.projectionMatrix,s=1/Math.tan(t/2),a=1/(i-r);return n[0]=s/e,n[1]=0,n[2]=0,n[3]=0,n[4]=0,n[5]=s,n[6]=0,n[7]=0,n[8]=0,n[9]=0,n[10]=(r+i)*a,n[11]=-1,n[12]=0,n[13]=0,n[14]=2*r*i*a,n[15]=0,this.projectionMatrixDirty=!0,this}},fQ=uQ,cQ=["#define SHADER_NAME PHASER_TEXTURE_TINT_FS","","precision mediump float;","","uniform sampler2D uMainSampler;","","varying vec2 outTexCoord;","varying float outTintEffect;","varying vec4 outTint;","","void main()","{","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    vec4 texel = vec4(outTint.rgb * outTint.a, outTint.a);","    vec4 color = texture;","","    if (outTintEffect == 0.0)","    {","        //  Multiply texture tint","        color = texture * texel;","    }","    else if (outTintEffect == 1.0)","    {","        //  Solid color + texture alpha","        color.rgb = mix(texture.rgb, outTint.rgb * outTint.a, texture.a);","        color.a = texture.a * texel.a;","    }","    else if (outTintEffect == 2.0)","    {","        //  Solid color, no texture","        color = texel;","    }","","    gl_FragColor = color;","}",""].join(`
`),dQ=["#define SHADER_NAME PHASER_TEXTURE_TINT_VS","","precision mediump float;","","uniform mat4 uProjectionMatrix;","uniform mat4 uViewMatrix;","uniform mat4 uModelMatrix;","","attribute vec2 inPosition;","attribute vec2 inTexCoord;","attribute float inTintEffect;","attribute vec4 inTint;","","varying vec2 outTexCoord;","varying float outTintEffect;","varying vec4 outTint;","","void main ()","{","    gl_Position = uProjectionMatrix * uViewMatrix * uModelMatrix * vec4(inPosition, 1.0, 1.0);","","    outTexCoord = inTexCoord;","    outTint = inTint;","    outTintEffect = inTintEffect;","}","",""].join(`
`);/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var vQ=b,pQ=ma,Jo=V,gQ=fQ,mQ=cQ,yQ=dQ,yu=Pn,Da=kt,xu=J0,xQ=new vQ({Extends:xu,Mixins:[gQ],initialize:function(e){var i=e.renderer.config;xu.call(this,{game:e.game,renderer:e.renderer,gl:e.renderer.gl,topology:Jo(e,"topology",e.renderer.gl.TRIANGLES),vertShader:Jo(e,"vertShader",yQ),fragShader:Jo(e,"fragShader",mQ),vertexCapacity:Jo(e,"vertexCapacity",6*i.batchSize),vertexSize:Jo(e,"vertexSize",Float32Array.BYTES_PER_ELEMENT*5+Uint8Array.BYTES_PER_ELEMENT*4),attributes:[{name:"inPosition",size:2,type:e.renderer.gl.FLOAT,normalized:!1,offset:0},{name:"inTexCoord",size:2,type:e.renderer.gl.FLOAT,normalized:!1,offset:Float32Array.BYTES_PER_ELEMENT*2},{name:"inTintEffect",size:1,type:e.renderer.gl.FLOAT,normalized:!1,offset:Float32Array.BYTES_PER_ELEMENT*4},{name:"inTint",size:4,type:e.renderer.gl.UNSIGNED_BYTE,normalized:!0,offset:Float32Array.BYTES_PER_ELEMENT*5}]}),this.vertexViewF32=new Float32Array(this.vertexData),this.vertexViewU32=new Uint32Array(this.vertexData),this.maxQuads=i.batchSize,this.batches=[],this._tempMatrix1=new yu,this._tempMatrix2=new yu,this._tempMatrix3=new yu,this._tempMatrix4=new yu,this.tempTriangle=[{x:0,y:0,width:0},{x:0,y:0,width:0},{x:0,y:0,width:0},{x:0,y:0,width:0}],this.tintEffect=2,this.strokeTint={TL:0,TR:0,BL:0,BR:0},this.fillTint={TL:0,TR:0,BL:0,BR:0},this.currentFrame={u0:0,v0:0,u1:1,v1:1},this.firstQuad=[0,0,0,0,0],this.prevQuad=[0,0,0,0,0],this.polygonCache=[],this.mvpInit()},onBind:function(){return xu.prototype.onBind.call(this),this.mvpUpdate(),this.batches.length===0&&this.pushBatch(),this},resize:function(t,e,i){return xu.prototype.resize.call(this,t,e,i),this.projOrtho(0,this.width,this.height,0,-1e3,1e3),this},setTexture2D:function(t,e){t||(t=this.renderer.blankTexture.glTexture,e=0);var i=this.batches;i.length===0&&this.pushBatch();var r=i[i.length-1];return e>0?(r.textures[e-1]&&r.textures[e-1]!==t&&this.pushBatch(),i[i.length-1].textures[e-1]=t):(r.texture!==null&&r.texture!==t&&this.pushBatch(),i[i.length-1].texture=t),this},pushBatch:function(){var t={first:this.vertexCount,texture:null,textures:[]};this.batches.push(t)},flush:function(){if(this.flushLocked)return this;this.flushLocked=!0;var t=this.gl,e=this.vertexCount,i=this.topology,r=this.vertexSize,n=this.renderer,s=this.batches,a=s.length,o=0,h=null,l,u,f;if(a===0||e===0)return this.flushLocked=!1,this;t.bufferSubData(t.ARRAY_BUFFER,0,this.bytes.subarray(0,e*r));for(var c=0;c<s.length-1;c++){if(h=s[c],l=s[c+1],h.textures.length>0){for(u=0;u<h.textures.length;++u)f=h.textures[u],f&&n.setTexture2D(f,1+u);t.activeTexture(t.TEXTURE0)}o=l.first-h.first,!(h.texture===null||o<=0)&&(n.setTexture2D(h.texture,0),t.drawArrays(i,h.first,o))}if(h=s[s.length-1],h.textures.length>0){for(u=0;u<h.textures.length;++u)f=h.textures[u],f&&n.setTexture2D(f,1+u);t.activeTexture(t.TEXTURE0)}return o=e-h.first,h.texture&&o>0&&(n.setTexture2D(h.texture,0),t.drawArrays(i,h.first,o)),this.vertexCount=0,s.length=0,this.pushBatch(),this.flushLocked=!1,this},batchSprite:function(t,e,i){this.renderer.setPipeline(this);var r=this._tempMatrix1,n=this._tempMatrix2,s=this._tempMatrix3,a=t.frame,o=a.glTexture,h=a.u0,l=a.v0,u=a.u1,f=a.v1,c=a.x,d=a.y,g=a.cutWidth,v=a.cutHeight,p=-t.displayOriginX+c,m=-t.displayOriginY+d;if(t.isCropped){var y=t._crop;(y.flipX!==t.flipX||y.flipY!==t.flipY)&&a.updateCropUVs(y,t.flipX,t.flipY),h=y.u0,l=y.v0,u=y.u1,f=y.v1,g=y.width,v=y.height,c=y.x,d=y.y,p=-t.displayOriginX+c,m=-t.displayOriginY+d}t.flipX&&(p+=g,g*=-1),t.flipY&&(m+=v,v*=-1);var x=p+g,T=m+v;n.applyITRS(t.x,t.y,t.rotation,t.scaleX,t.scaleY),r.copyFrom(e.matrix),i?(r.multiplyWithOffset(i,-e.scrollX*t.scrollFactorX,-e.scrollY*t.scrollFactorY),n.e=t.x,n.f=t.y,r.multiply(n,s)):(n.e-=e.scrollX*t.scrollFactorX,n.f-=e.scrollY*t.scrollFactorY,r.multiply(n,s));var _=s.getX(p,m),w=s.getY(p,m),S=s.getX(p,T),C=s.getY(p,T),R=s.getX(x,T),L=s.getY(x,T),E=s.getX(x,m),O=s.getY(x,m),A=Da.getTintAppendFloatAlpha(t._tintTL,e.alpha*t._alphaTL),F=Da.getTintAppendFloatAlpha(t._tintTR,e.alpha*t._alphaTR),M=Da.getTintAppendFloatAlpha(t._tintBL,e.alpha*t._alphaBL),P=Da.getTintAppendFloatAlpha(t._tintBR,e.alpha*t._alphaBR);e.roundPixels&&(_|=0,w|=0,S|=0,C|=0,R|=0,L|=0,E|=0,O|=0),this.setTexture2D(o,0);var $=t._isTinted&&t.tintFill;this.batchQuad(_,w,S,C,R,L,E,O,h,l,u,f,A,F,M,P,$)},batchQuad:function(t,e,i,r,n,s,a,o,h,l,u,f,c,d,g,v,p){var m=!1;this.vertexCount+6>this.vertexCapacity&&(this.flush(),m=!0);var y=this.vertexViewF32,x=this.vertexViewU32,T=this.vertexCount*this.vertexComponentCount-1;return y[++T]=t,y[++T]=e,y[++T]=h,y[++T]=l,y[++T]=p,x[++T]=c,y[++T]=i,y[++T]=r,y[++T]=h,y[++T]=f,y[++T]=p,x[++T]=g,y[++T]=n,y[++T]=s,y[++T]=u,y[++T]=f,y[++T]=p,x[++T]=v,y[++T]=t,y[++T]=e,y[++T]=h,y[++T]=l,y[++T]=p,x[++T]=c,y[++T]=n,y[++T]=s,y[++T]=u,y[++T]=f,y[++T]=p,x[++T]=v,y[++T]=a,y[++T]=o,y[++T]=u,y[++T]=l,y[++T]=p,x[++T]=d,this.vertexCount+=6,m},batchTri:function(t,e,i,r,n,s,a,o,h,l,u,f,c,d){var g=!1;this.vertexCount+3>this.vertexCapacity&&(this.flush(),g=!0);var v=this.vertexViewF32,p=this.vertexViewU32,m=this.vertexCount*this.vertexComponentCount-1;return v[++m]=t,v[++m]=e,v[++m]=a,v[++m]=o,v[++m]=d,p[++m]=u,v[++m]=i,v[++m]=r,v[++m]=a,v[++m]=l,v[++m]=d,p[++m]=f,v[++m]=n,v[++m]=s,v[++m]=h,v[++m]=l,v[++m]=d,p[++m]=c,this.vertexCount+=3,g},batchTexture:function(t,e,i,r,n,s,a,o,h,l,u,f,c,d,g,v,p,m,y,x,T,_,w,S,C,R,L,E,O,A,F){this.renderer.setPipeline(this,t);var M=this._tempMatrix1,P=this._tempMatrix2,$=this._tempMatrix3,I=m/i+L,D=y/r+E,G=(m+x)/i+L,et=(y+T)/r+E,q=a,j=o,Z=-v,Q=-p;if(t.isCropped){var N=t._crop;q=N.width,j=N.height,a=N.width,o=N.height,m=N.x,y=N.y;var vt=m,ft=y;f&&(vt=x-N.x-N.width),c&&!e.isRenderTexture&&(ft=T-N.y-N.height),I=vt/i+L,D=ft/r+E,G=(vt+N.width)/i+L,et=(ft+N.height)/r+E,Z=-v+m,Q=-p+y}c=c^(!F&&e.isRenderTexture?1:0),f&&(q*=-1,Z+=a),c&&(j*=-1,Q+=o);var tt=Z+q,K=Q+j;P.applyITRS(n,s,u,h,l),M.copyFrom(O.matrix),A?(M.multiplyWithOffset(A,-O.scrollX*d,-O.scrollY*g),P.e=n,P.f=s,M.multiply(P,$)):(P.e-=O.scrollX*d,P.f-=O.scrollY*g,M.multiply(P,$));var ct=$.getX(Z,Q),Ee=$.getY(Z,Q),ri=$.getX(Z,K),Vt=$.getY(Z,K),Ci=$.getX(tt,K),ce=$.getY(tt,K),Le=$.getX(tt,Q),er=$.getY(tt,Q);O.roundPixels&&(ct|=0,Ee|=0,ri|=0,Vt|=0,Ci|=0,ce|=0,Le|=0,er|=0),this.setTexture2D(e,0),this.batchQuad(ct,Ee,ri,Vt,Ci,ce,Le,er,I,D,G,et,_,w,S,C,R)},batchTextureFrame:function(t,e,i,r,n,s,a){this.renderer.setPipeline(this);var o=this._tempMatrix1.copyFrom(s),h=this._tempMatrix2,l=e+t.width,u=i+t.height;a?o.multiply(a,h):h=o;var f=h.getX(e,i),c=h.getY(e,i),d=h.getX(e,u),g=h.getY(e,u),v=h.getX(l,u),p=h.getY(l,u),m=h.getX(l,i),y=h.getY(l,i);this.setTexture2D(t.glTexture,0),r=Da.getTintAppendFloatAlpha(r,n),this.batchQuad(f,c,d,g,v,p,m,y,t.u0,t.v0,t.u1,t.v1,r,r,r,r,0)},drawFillRect:function(t,e,i,r,n,s){var a=t+i,o=e+r,h=Da.getTintAppendFloatAlphaAndSwap(n,s);this.batchQuad(t,e,t,o,a,o,a,e,0,0,1,1,h,h,h,h,2)},batchFillRect:function(t,e,i,r,n,s){this.renderer.setPipeline(this);var a=this._tempMatrix3;s&&s.multiply(n,a);var o=t+i,h=e+r,l=a.getX(t,e),u=a.getY(t,e),f=a.getX(t,h),c=a.getY(t,h),d=a.getX(o,h),g=a.getY(o,h),v=a.getX(o,e),p=a.getY(o,e),m=this.currentFrame,y=m.u0,x=m.v0,T=m.u1,_=m.v1;this.batchQuad(l,u,f,c,d,g,v,p,y,x,T,_,this.fillTint.TL,this.fillTint.TR,this.fillTint.BL,this.fillTint.BR,this.tintEffect)},batchFillTriangle:function(t,e,i,r,n,s,a,o){this.renderer.setPipeline(this);var h=this._tempMatrix3;o&&o.multiply(a,h);var l=h.getX(t,e),u=h.getY(t,e),f=h.getX(i,r),c=h.getY(i,r),d=h.getX(n,s),g=h.getY(n,s),v=this.currentFrame,p=v.u0,m=v.v0,y=v.u1,x=v.v1;this.batchTri(l,u,f,c,d,g,p,m,y,x,this.fillTint.TL,this.fillTint.TR,this.fillTint.BL,this.tintEffect)},batchStrokeTriangle:function(t,e,i,r,n,s,a,o,h){var l=this.tempTriangle;l[0].x=t,l[0].y=e,l[0].width=a,l[1].x=i,l[1].y=r,l[1].width=a,l[2].x=n,l[2].y=s,l[2].width=a,l[3].x=t,l[3].y=e,l[3].width=a,this.batchStrokePath(l,a,!1,o,h)},batchFillPath:function(t,e,i){this.renderer.setPipeline(this);var r=this._tempMatrix3;i&&i.multiply(e,r);for(var n=t.length,s=this.polygonCache,a,o,h=this.fillTint.TL,l=this.fillTint.TR,u=this.fillTint.BL,f=this.tintEffect,c=0;c<n;++c)o=t[c],s.push(o.x,o.y);a=pQ(s),n=a.length;for(var d=this.currentFrame,g=0;g<n;g+=3){var v=a[g+0]*2,p=a[g+1]*2,m=a[g+2]*2,y=s[v+0],x=s[v+1],T=s[p+0],_=s[p+1],w=s[m+0],S=s[m+1],C=r.getX(y,x),R=r.getY(y,x),L=r.getX(T,_),E=r.getY(T,_),O=r.getX(w,S),A=r.getY(w,S),F=d.u0,M=d.v0,P=d.u1,$=d.v1;this.batchTri(C,R,L,E,O,A,F,M,P,$,h,l,u,f)}s.length=0},batchStrokePath:function(t,e,i,r,n){this.renderer.setPipeline(this),this.prevQuad[4]=0,this.firstQuad[4]=0;for(var s=t.length-1,a=0;a<s;a++){var o=t[a],h=t[a+1];this.batchLine(o.x,o.y,h.x,h.y,o.width/2,h.width/2,e,a,!i&&a===s-1,r,n)}},batchLine:function(t,e,i,r,n,s,a,o,h,l,u){this.renderer.setPipeline(this);var f=this._tempMatrix3;u&&u.multiply(l,f);var c=i-t,d=r-e,g=Math.sqrt(c*c+d*d),v=n*(r-e)/g,p=n*(t-i)/g,m=s*(r-e)/g,y=s*(t-i)/g,x=i-m,T=r-y,_=t-v,w=e-p,S=i+m,C=r+y,R=t+v,L=e+p,E=f.getX(x,T),O=f.getY(x,T),A=f.getX(_,w),F=f.getY(_,w),M=f.getX(S,C),P=f.getY(S,C),$=f.getX(R,L),I=f.getY(R,L),D=this.strokeTint,G=this.tintEffect,et=D.TL,q=D.TR,j=D.BL,Z=D.BR,Q=this.currentFrame,N=Q.u0,vt=Q.v0,ft=Q.u1,tt=Q.v1;if(this.batchQuad($,I,A,F,E,O,M,P,N,vt,ft,tt,et,q,j,Z,G),!(a<=2)){var K=this.prevQuad,ct=this.firstQuad;o>0&&K[4]?this.batchQuad($,I,A,F,K[0],K[1],K[2],K[3],N,vt,ft,tt,et,q,j,Z,G):(ct[0]=$,ct[1]=I,ct[2]=A,ct[3]=F,ct[4]=1),h&&ct[4]?this.batchQuad(E,O,M,P,ct[0],ct[1],ct[2],ct[3],N,vt,ft,tt,et,q,j,Z,G):(K[0]=E,K[1]=O,K[2]=M,K[3]=P,K[4]=1)}}}),Z0=xQ;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var _Q=b,TQ=KZ,_u=Z0,Ih=10,$2=new _Q({Extends:_u,initialize:function(e){Ih=e.maxLights,e.fragShader=TQ.replace("%LIGHT_COUNT%",Ih.toString()),_u.call(this,e),this.defaultNormalMap},boot:function(){this.defaultNormalMap=this.game.textures.getFrame("__DEFAULT")},onBind:function(t){_u.prototype.onBind.call(this);var e=this.renderer,i=this.program;return this.mvpUpdate(),e.setInt1(i,"uNormSampler",1),e.setFloat2(i,"uResolution",this.width,this.height),t&&this.setNormalMap(t),this},onRender:function(t,e){this.active=!1;var i=t.sys.lights;if(!i||i.lights.length<=0||!i.active)return this;var r=i.cull(e),n=Math.min(r.length,Ih);if(n===0)return this;this.active=!0;var s=this.renderer,a=this.program,o=e.matrix,h={x:0,y:0},l=s.height,u;for(u=0;u<Ih;++u)s.setFloat1(a,"uLights["+u+"].radius",0);for(s.setFloat4(a,"uCamera",e.x,e.y,e.rotation,e.zoom),s.setFloat3(a,"uAmbientLightColor",i.ambientColor.r,i.ambientColor.g,i.ambientColor.b),u=0;u<n;++u){var f=r[u],c="uLights["+u+"].";o.transformPoint(f.x,f.y,h),s.setFloat2(a,c+"position",h.x-e.scrollX*f.scrollFactorX*e.zoom,l-(h.y-e.scrollY*f.scrollFactorY*e.zoom)),s.setFloat3(a,c+"color",f.r,f.g,f.b),s.setFloat1(a,c+"intensity",f.intensity),s.setFloat1(a,c+"radius",f.radius)}return this},batchTexture:function(t,e,i,r,n,s,a,o,h,l,u,f,c,d,g,v,p,m,y,x,T,_,w,S,C,R,L,E,O,A){if(!!this.active){this.renderer.setPipeline(this);var F;if(t.displayTexture?F=t.displayTexture.dataSource[t.displayFrame.sourceIndex]:t.texture?F=t.texture.dataSource[t.frame.sourceIndex]:t.tileset&&(F=t.tileset.image.dataSource[0]),!F){console.warn("Normal map missing or invalid");return}this.setTexture2D(F.glTexture,1);var M=this._tempMatrix1,P=this._tempMatrix2,$=this._tempMatrix3,I=m/i+L,D=y/r+E,G=(m+x)/i+L,et=(y+T)/r+E,q=a,j=o,Z=-v,Q=-p;if(t.isCropped){var N=t._crop;q=N.width,j=N.height,a=N.width,o=N.height,m=N.x,y=N.y;var vt=m,ft=y;f&&(vt=x-N.x-N.width),c&&!e.isRenderTexture&&(ft=T-N.y-N.height),I=vt/i+L,D=ft/r+E,G=(vt+N.width)/i+L,et=(ft+N.height)/r+E,Z=-v+m,Q=-p+y}c=c^(e.isRenderTexture?1:0),f&&(q*=-1,Z+=a),c&&(j*=-1,Q+=o);var tt=Z+q,K=Q+j;P.applyITRS(n,s,u,h,l),M.copyFrom(O.matrix),A?(M.multiplyWithOffset(A,-O.scrollX*d,-O.scrollY*g),P.e=n,P.f=s,M.multiply(P,$)):(P.e-=O.scrollX*d,P.f-=O.scrollY*g,M.multiply(P,$));var ct=$.getX(Z,Q),Ee=$.getY(Z,Q),ri=$.getX(Z,K),Vt=$.getY(Z,K),Ci=$.getX(tt,K),ce=$.getY(tt,K),Le=$.getX(tt,Q),er=$.getY(tt,Q);O.roundPixels&&(ct|=0,Ee|=0,ri|=0,Vt|=0,Ci|=0,ce|=0,Le|=0,er|=0),this.setTexture2D(e,0),this.batchQuad(ct,Ee,ri,Vt,Ci,ce,Le,er,I,D,G,et,_,w,S,C,R)}},setNormalMap:function(t){if(!(!this.active||!t)){var e;t.texture&&(e=t.texture.dataSource[t.frame.sourceIndex]),e||(e=this.defaultNormalMap),this.setTexture2D(e.glTexture,1),this.renderer.setPipeline(t.defaultPipeline)}},batchSprite:function(t,e,i){if(!!this.active){var r=t.texture.dataSource[t.frame.sourceIndex];r&&(this.renderer.setPipeline(this),this.setTexture2D(r.glTexture,1),_u.prototype.batchSprite.call(this,t,e,i))}}});$2.LIGHT_COUNT=Ih;var O2=$2;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var wQ=Oc,SQ=b,jo=_i,iT=Gc,CQ=yl,Tu=Pn,Zo=kt,bQ=A2,MQ=R2,PQ=O2,AQ=Z0,RQ=new SQ({initialize:function(e){var i=this,r=e.config,n={alpha:r.transparent,depth:!1,antialias:r.antialias,premultipliedAlpha:r.premultipliedAlpha,stencil:!0,preserveDrawingBuffer:r.preserveDrawingBuffer,failIfMajorPerformanceCaveat:r.failIfMajorPerformanceCaveat,powerPreference:r.powerPreference};this.config={clearBeforeRender:r.clearBeforeRender,antialias:r.antialias,backgroundColor:r.backgroundColor,contextCreation:n,resolution:r.resolution,autoResize:r.autoResize,roundPixels:r.roundPixels,maxTextures:r.maxTextures,maxTextureSize:r.maxTextureSize,batchSize:r.batchSize,maxLights:r.maxLights},this.game=e,this.type=jo.WEBGL,this.width=e.config.width,this.height=e.config.height,this.canvas=e.canvas,this.lostContextCallbacks=[],this.restoredContextCallbacks=[],this.blendModes=[],this.nativeTextures=[],this.contextLost=!1,this.pipelines=null,this.snapshotState={callback:null,type:null,encoder:null},this.currentActiveTextureUnit=0,this.currentTextures=new Array(16),this.currentFramebuffer=null,this.currentPipeline=null,this.currentProgram=null,this.currentVertexBuffer=null,this.currentIndexBuffer=null,this.currentBlendMode=1/0,this.currentScissorEnabled=!1,this.currentScissor=null,this.scissorStack=[],this.canvas.addEventListener("webglcontextlost",function(s){i.contextLost=!0,s.preventDefault();for(var a=0;a<i.lostContextCallbacks.length;++a){var o=i.lostContextCallbacks[a];o[0].call(o[1],i)}},!1),this.canvas.addEventListener("webglcontextrestored",function(){i.contextLost=!1,i.init(i.config);for(var s=0;s<i.restoredContextCallbacks.length;++s){var a=i.restoredContextCallbacks[s];a[0].call(a[1],i)}},!1),this.gl=null,this.supportedExtensions=null,this.extensions={},this.glFormats=[],this.compression={ETC1:!1,PVRTC:!1,S3TC:!1},this.drawingBufferHeight=0,this.blankTexture=null,this.defaultCamera=new wQ(0,0,0,0),this._tempMatrix1=new Tu,this._tempMatrix2=new Tu,this._tempMatrix3=new Tu,this._tempMatrix4=new Tu,this.init(this.config)},init:function(t){var e,i=this.canvas,r=t.backgroundColor;if(this.game.config.context?e=this.game.config.context:e=i.getContext("webgl",t.contextCreation)||i.getContext("experimental-webgl",t.contextCreation),!e||e.isContextLost())throw this.contextLost=!0,new Error("WebGL unsupported");this.gl=e,this.game.context=e;for(var n=0;n<=16;n++)this.blendModes.push({func:[e.ONE,e.ONE_MINUS_SRC_ALPHA],equation:e.FUNC_ADD});this.blendModes[1].func=[e.ONE,e.DST_ALPHA],this.blendModes[2].func=[e.DST_COLOR,e.ONE_MINUS_SRC_ALPHA],this.blendModes[3].func=[e.ONE,e.ONE_MINUS_SRC_COLOR],this.glFormats[0]=e.BYTE,this.glFormats[1]=e.SHORT,this.glFormats[2]=e.UNSIGNED_BYTE,this.glFormats[3]=e.UNSIGNED_SHORT,this.glFormats[4]=e.FLOAT;var s=e.getSupportedExtensions();t.maxTextures||(t.maxTextures=e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS)),t.maxTextureSize||(t.maxTextureSize=e.getParameter(e.MAX_TEXTURE_SIZE));var a="WEBGL_compressed_texture_",o="WEBKIT_"+a;this.compression.ETC1=e.getExtension(a+"etc1")||e.getExtension(o+"etc1"),this.compression.PVRTC=e.getExtension(a+"pvrtc")||e.getExtension(o+"pvrtc"),this.compression.S3TC=e.getExtension(a+"s3tc")||e.getExtension(o+"s3tc"),this.supportedExtensions=s,e.disable(e.DEPTH_TEST),e.disable(e.CULL_FACE),e.enable(e.BLEND),e.clearColor(r.redGL,r.greenGL,r.blueGL,1);for(var h=0;h<this.currentTextures.length;++h)this.currentTextures[h]=null;return this.pipelines={},this.addPipeline("TextureTintPipeline",new AQ({game:this.game,renderer:this})),this.addPipeline("BitmapMaskPipeline",new MQ({game:this.game,renderer:this})),this.addPipeline("Light2D",new PQ({game:this.game,renderer:this,maxLights:t.maxLights})),this.setBlendMode(jo.BlendModes.NORMAL),this.resize(this.width,this.height),this.game.events.once("texturesready",this.boot,this),this},boot:function(){for(var t in this.pipelines)this.pipelines[t].boot();var e=this.game.textures.getFrame("__DEFAULT");this.pipelines.TextureTintPipeline.currentFrame=e,this.blankTexture=e},resize:function(t,e){var i=this.gl,r=this.pipelines,n=this.config.resolution;this.width=Math.floor(t*n),this.height=Math.floor(e*n),this.canvas.width=this.width,this.canvas.height=this.height,this.config.autoResize&&(this.canvas.style.width=this.width/n+"px",this.canvas.style.height=this.height/n+"px"),i.viewport(0,0,this.width,this.height);for(var s in r)r[s].resize(t,e,n);return this.drawingBufferHeight=i.drawingBufferHeight,this.defaultCamera.setSize(t,e),i.scissor(0,this.drawingBufferHeight-this.height,this.width,this.height),this},onContextRestored:function(t,e){return this.restoredContextCallbacks.push([t,e]),this},onContextLost:function(t,e){return this.lostContextCallbacks.push([t,e]),this},hasExtension:function(t){return this.supportedExtensions?this.supportedExtensions.indexOf(t):!1},getExtension:function(t){return this.hasExtension(t)?(t in this.extensions||(this.extensions[t]=this.gl.getExtension(t)),this.extensions[t]):null},flush:function(){this.currentPipeline&&this.currentPipeline.flush()},hasPipeline:function(t){return t in this.pipelines},getPipeline:function(t){return this.hasPipeline(t)?this.pipelines[t]:null},removePipeline:function(t){return delete this.pipelines[t],this},addPipeline:function(t,e){return this.hasPipeline(t)?console.warn("Pipeline exists: "+t):this.pipelines[t]=e,e.name=t,this.pipelines[t].resize(this.width,this.height,this.config.resolution),e},pushScissor:function(t,e,i,r){var n=this.scissorStack,s=[t,e,i,r];return n.push(s),this.setScissor(t,e,i,r),this.currentScissor=s,s},setScissor:function(t,e,i,r){var n=this.gl,s=this.currentScissor,a=s[0],o=s[1],h=s[2],l=s[3];(a!==t||o!==e||h!==i||l!==r)&&(this.flush(),i>0&&r>0&&n.scissor(t,this.drawingBufferHeight-e-r,i,r))},popScissor:function(){var t=this.scissorStack;t.pop();var e=t[t.length-1];e&&this.setScissor(e[0],e[1],e[2],e[3]),this.currentScissor=e},setPipeline:function(t,e){return(this.currentPipeline!==t||this.currentPipeline.vertexBuffer!==this.currentVertexBuffer||this.currentPipeline.program!==this.currentProgram)&&(this.flush(),this.currentPipeline=t,this.currentPipeline.bind()),this.currentPipeline.onBind(e),this.currentPipeline},setBlendMode:function(t){var e=this.gl,i=this.blendModes[t];return t!==jo.BlendModes.SKIP_CHECK&&this.currentBlendMode!==t?(this.flush(),e.enable(e.BLEND),e.blendEquation(i.equation),i.func.length>2?e.blendFuncSeparate(i.func[0],i.func[1],i.func[2],i.func[3]):e.blendFunc(i.func[0],i.func[1]),this.currentBlendMode=t,!0):!1},addBlendMode:function(t,e){var i=this.blendModes.push({func:t,equation:e});return i-1},updateBlendMode:function(t,e,i){return this.blendModes[t]&&(this.blendModes[t].func=e,i&&(this.blendModes[t].equation=i)),this},removeBlendMode:function(t){return t>16&&this.blendModes[t]&&this.blendModes.splice(t,1),this},setBlankTexture:function(t){t===void 0&&(t=!1),(t||this.currentActiveTextureUnit!==0||!this.currentTextures[0])&&this.setTexture2D(this.blankTexture.glTexture,0)},setTexture2D:function(t,e){var i=this.gl;return t!==this.currentTextures[e]&&(this.flush(),this.currentActiveTextureUnit!==e&&(i.activeTexture(i.TEXTURE0+e),this.currentActiveTextureUnit=e),i.bindTexture(i.TEXTURE_2D,t),this.currentTextures[e]=t),this},setFramebuffer:function(t){var e=this.gl,i=this.width,r=this.height;return t!==this.currentFramebuffer&&(t&&t.renderTexture?(i=t.renderTexture.width,r=t.renderTexture.height):this.flush(),e.bindFramebuffer(e.FRAMEBUFFER,t),e.viewport(0,0,i,r),this.currentFramebuffer=t),this},setProgram:function(t){var e=this.gl;return t!==this.currentProgram&&(this.flush(),e.useProgram(t),this.currentProgram=t),this},setVertexBuffer:function(t){var e=this.gl;return t!==this.currentVertexBuffer&&(this.flush(),e.bindBuffer(e.ARRAY_BUFFER,t),this.currentVertexBuffer=t),this},setIndexBuffer:function(t){var e=this.gl;return t!==this.currentIndexBuffer&&(this.flush(),e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,t),this.currentIndexBuffer=t),this},createTextureFromSource:function(t,e,i,r){var n=this.gl,s=n.NEAREST,a=n.CLAMP_TO_EDGE,o=null;return e=t?t.width:e,i=t?t.height:i,iT(e,i)&&(a=n.REPEAT),r===jo.ScaleModes.LINEAR&&this.config.antialias&&(s=n.LINEAR),!t&&typeof e=="number"&&typeof i=="number"?o=this.createTexture2D(0,s,s,a,a,n.RGBA,null,e,i):o=this.createTexture2D(0,s,s,a,a,n.RGBA,t),o},createTexture2D:function(t,e,i,r,n,s,a,o,h,l){l=l==null?!0:l;var u=this.gl,f=u.createTexture();return this.setTexture2D(f,0),u.texParameteri(u.TEXTURE_2D,u.TEXTURE_MIN_FILTER,e),u.texParameteri(u.TEXTURE_2D,u.TEXTURE_MAG_FILTER,i),u.texParameteri(u.TEXTURE_2D,u.TEXTURE_WRAP_S,n),u.texParameteri(u.TEXTURE_2D,u.TEXTURE_WRAP_T,r),u.pixelStorei(u.UNPACK_PREMULTIPLY_ALPHA_WEBGL,l),a==null?u.texImage2D(u.TEXTURE_2D,t,s,o,h,0,s,u.UNSIGNED_BYTE,null):(u.texImage2D(u.TEXTURE_2D,t,s,s,u.UNSIGNED_BYTE,a),o=a.width,h=a.height),this.setTexture2D(null,0),f.isAlphaPremultiplied=l,f.isRenderTexture=!1,f.width=o,f.height=h,this.nativeTextures.push(f),f},createFramebuffer:function(t,e,i,r){var n=this.gl,s=n.createFramebuffer(),a=0;if(this.setFramebuffer(s),r){var o=n.createRenderbuffer();n.bindRenderbuffer(n.RENDERBUFFER,o),n.renderbufferStorage(n.RENDERBUFFER,n.DEPTH_STENCIL,t,e),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.RENDERBUFFER,o)}if(i.isRenderTexture=!0,i.isAlphaPremultiplied=!1,n.framebufferTexture2D(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,i,0),a=n.checkFramebufferStatus(n.FRAMEBUFFER),a!==n.FRAMEBUFFER_COMPLETE){var h={36054:"Incomplete Attachment",36055:"Missing Attachment",36057:"Incomplete Dimensions",36061:"Framebuffer Unsupported"};throw new Error("Framebuffer incomplete. Framebuffer status: "+h[a])}return s.renderTexture=i,this.setFramebuffer(null),s},createProgram:function(t,e){var i=this.gl,r=i.createProgram(),n=i.createShader(i.VERTEX_SHADER),s=i.createShader(i.FRAGMENT_SHADER);if(i.shaderSource(n,t),i.shaderSource(s,e),i.compileShader(n),i.compileShader(s),!i.getShaderParameter(n,i.COMPILE_STATUS))throw new Error(`Failed to compile Vertex Shader:
`+i.getShaderInfoLog(n));if(!i.getShaderParameter(s,i.COMPILE_STATUS))throw new Error(`Failed to compile Fragment Shader:
`+i.getShaderInfoLog(s));if(i.attachShader(r,n),i.attachShader(r,s),i.linkProgram(r),!i.getProgramParameter(r,i.LINK_STATUS))throw new Error(`Failed to link program:
`+i.getProgramInfoLog(r));return r},createVertexBuffer:function(t,e){var i=this.gl,r=i.createBuffer();return this.setVertexBuffer(r),i.bufferData(i.ARRAY_BUFFER,t,e),this.setVertexBuffer(null),r},createIndexBuffer:function(t,e){var i=this.gl,r=i.createBuffer();return this.setIndexBuffer(r),i.bufferData(i.ELEMENT_ARRAY_BUFFER,t,e),this.setIndexBuffer(null),r},deleteTexture:function(t){var e=this.nativeTextures.indexOf(t);return e!==-1&&CQ(this.nativeTextures,e),this.gl.deleteTexture(t),this.currentTextures[0]===t&&this.setBlankTexture(!0),this},deleteFramebuffer:function(t){return this.gl.deleteFramebuffer(t),this},deleteProgram:function(t){return this.gl.deleteProgram(t),this},deleteBuffer:function(t){return this.gl.deleteBuffer(t),this},preRenderCamera:function(t){var e=t._cx,i=t._cy,r=t._cw,n=t._ch,s=this.pipelines.TextureTintPipeline,a=t.backgroundColor;if(t.renderToTexture){this.flush(),this.pushScissor(e,i,r,-n),this.setFramebuffer(t.framebuffer);var o=this.gl;o.clearColor(0,0,0,0),o.clear(o.COLOR_BUFFER_BIT),s.projOrtho(e,r+e,i,n+i,-1e3,1e3),a.alphaGL>0&&s.drawFillRect(e,i,r+e,n+i,Zo.getTintFromFloats(a.redGL,a.greenGL,a.blueGL,1),a.alphaGL),t.emit("prerender",t)}else this.pushScissor(e,i,r,n),a.alphaGL>0&&s.drawFillRect(e,i,r,n,Zo.getTintFromFloats(a.redGL,a.greenGL,a.blueGL,1),a.alphaGL)},postRenderCamera:function(t){var e=this.pipelines.TextureTintPipeline;if(t.flashEffect.postRenderWebGL(e,Zo.getTintFromFloats),t.fadeEffect.postRenderWebGL(e,Zo.getTintFromFloats),t.dirty=!1,this.popScissor(),t.renderToTexture){e.flush(),this.setFramebuffer(null),t.emit("postrender",t),e.projOrtho(0,e.width,e.height,0,-1e3,1e3);var i=Zo.getTintAppendFloatAlpha,r=t.pipeline?t.pipeline:e;r.batchTexture(t,t.glTexture,t.width,t.height,t.x,t.y,t.width,t.height,t.zoom,t.zoom,t.rotation,t.flipX,!t.flipY,1,1,0,0,0,0,t.width,t.height,i(t._tintTL,t._alphaTL),i(t._tintTR,t._alphaTR),i(t._tintBL,t._alphaBL),i(t._tintBR,t._alphaBR),t._isTinted&&t.tintFill,0,0,this.defaultCamera,null),this.setBlankTexture(!0)}},preRender:function(){if(!this.contextLost){var t=this.gl,e=this.config.backgroundColor,i=this.pipelines;this.config.clearBeforeRender&&(t.clearColor(e.redGL,e.greenGL,e.blueGL,e.alphaGL),t.clear(t.COLOR_BUFFER_BIT|t.DEPTH_BUFFER_BIT|t.STENCIL_BUFFER_BIT)),t.enable(t.SCISSOR_TEST);for(var r in i)i[r].onPreRender();this.currentScissor=[0,0,this.width,this.height],this.scissorStack=[this.currentScissor],this.game.scene.customViewports&&t.scissor(0,this.drawingBufferHeight-this.height,this.width,this.height),this.setPipeline(this.pipelines.TextureTintPipeline)}},render:function(t,e,i,r){if(!this.contextLost){var n=e.list,s=n.length,a=this.pipelines;for(var o in a)a[o].onRender(t,r);this.preRenderCamera(r);for(var h=0;h<s;h++){var l=n[h];if(!!l.willRender(r)){l.blendMode!==this.currentBlendMode&&this.setBlendMode(l.blendMode);var u=l.mask;u?(u.preRenderWebGL(this,l,r),l.renderWebGL(this,l,i,r),u.postRenderWebGL(this,l)):l.renderWebGL(this,l,i,r)}}this.setBlendMode(jo.BlendModes.NORMAL),this.postRenderCamera(r)}},postRender:function(){if(!this.contextLost){this.flush(),this.snapshotState.callback&&(this.snapshotState.callback(bQ(this.canvas,this.snapshotState.type,this.snapshotState.encoder)),this.snapshotState.callback=null);var t=this.pipelines;for(var e in t)t[e].onPostRender()}},snapshot:function(t,e,i){return this.snapshotState.callback=t,this.snapshotState.type=e,this.snapshotState.encoder=i,this},canvasToTexture:function(t,e,i){i===void 0&&(i=!1);var r=this.gl;if(e)this.setTexture2D(e,0),r.texImage2D(r.TEXTURE_2D,0,r.RGBA,r.RGBA,r.UNSIGNED_BYTE,t),e.width=t.width,e.height=t.height,this.setTexture2D(null,0);else{var n=r.CLAMP_TO_EDGE;!i&&iT(t.width,t.height)&&(n=r.REPEAT),e=this.createTexture2D(0,r.NEAREST,r.NEAREST,n,n,r.RGBA,t,t.width,t.height,!0)}return e},setTextureFilter:function(t,e){var i=this.gl,r=[i.LINEAR,i.NEAREST][e];return this.setTexture2D(t,0),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MIN_FILTER,r),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MAG_FILTER,r),this.setTexture2D(null,0),this},setFloat1:function(t,e,i){return this.setProgram(t),this.gl.uniform1f(this.gl.getUniformLocation(t,e),i),this},setFloat2:function(t,e,i,r){return this.setProgram(t),this.gl.uniform2f(this.gl.getUniformLocation(t,e),i,r),this},setFloat3:function(t,e,i,r,n){return this.setProgram(t),this.gl.uniform3f(this.gl.getUniformLocation(t,e),i,r,n),this},setFloat4:function(t,e,i,r,n,s){return this.setProgram(t),this.gl.uniform4f(this.gl.getUniformLocation(t,e),i,r,n,s),this},setFloat1v:function(t,e,i){return this.setProgram(t),this.gl.uniform1fv(this.gl.getUniformLocation(t,e),i),this},setFloat2v:function(t,e,i){return this.setProgram(t),this.gl.uniform2fv(this.gl.getUniformLocation(t,e),i),this},setFloat3v:function(t,e,i){return this.setProgram(t),this.gl.uniform3fv(this.gl.getUniformLocation(t,e),i),this},setFloat4v:function(t,e,i){return this.setProgram(t),this.gl.uniform4fv(this.gl.getUniformLocation(t,e),i),this},setInt1:function(t,e,i){return this.setProgram(t),this.gl.uniform1i(this.gl.getUniformLocation(t,e),i),this},setInt2:function(t,e,i,r){return this.setProgram(t),this.gl.uniform2i(this.gl.getUniformLocation(t,e),i,r),this},setInt3:function(t,e,i,r,n){return this.setProgram(t),this.gl.uniform3i(this.gl.getUniformLocation(t,e),i,r,n),this},setInt4:function(t,e,i,r,n,s){return this.setProgram(t),this.gl.uniform4i(this.gl.getUniformLocation(t,e),i,r,n,s),this},setMatrix2:function(t,e,i,r){return this.setProgram(t),this.gl.uniformMatrix2fv(this.gl.getUniformLocation(t,e),i,r),this},setMatrix3:function(t,e,i,r){return this.setProgram(t),this.gl.uniformMatrix3fv(this.gl.getUniformLocation(t,e),i,r),this},setMatrix4:function(t,e,i,r){return this.setProgram(t),this.gl.uniformMatrix4fv(this.gl.getUniformLocation(t,e),i,r),this},getMaxTextures:function(){return this.config.maxTextures},getMaxTextureSize:function(){return this.config.maxTextureSize},destroy:function(){for(var t in this.pipelines)this.pipelines[t].destroy(),delete this.pipelines[t];for(var e=0;e<this.nativeTextures.length;++e)this.deleteTexture(this.nativeTextures[e]),delete this.nativeTextures[e];delete this.gl,delete this.game,this.contextLost=!0,this.extensions={},this.nativeTextures.length=0}}),I2=RQ;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var FQ=p2,rT=wi,zs=_i,nT=H0,EQ=function(t){var e=t.config;if(e.renderType!==zs.HEADLESS)if(e.renderType===zs.CANVAS||e.renderType!==zs.CANVAS&&!nT.webGL)if(nT.canvas)e.renderType=zs.CANVAS;else throw new Error("Cannot create Canvas or WebGL context, aborting.");else e.renderType=zs.WEBGL;if(e.antialias||rT.disableSmoothing(),e.canvas?(t.canvas=e.canvas,t.canvas.width=t.config.width,t.canvas.height=t.config.height):t.canvas=rT.create(t,e.width*e.resolution,e.height*e.resolution,e.renderType),e.canvasStyle&&(t.canvas.style=e.canvasStyle),e.antialias||FQ.setCrisp(t.canvas),t.canvas.style.width=(e.width*e.zoom).toString()+"px",t.canvas.style.height=(e.height*e.zoom).toString()+"px",e.renderType!==zs.HEADLESS){var i,r;typeof WEBGL_RENDERER&&typeof CANVAS_RENDERER&&(i=P2,r=I2,e.renderType===zs.WEBGL?t.renderer=new r(t):(t.renderer=new i(t),t.context=t.renderer.gameContext))}},LQ=EQ;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var wu=_i,$Q=function(t){var e=t.config;if(!e.hideBanner){var i="WebGL";e.renderType===wu.CANVAS?i="Canvas":e.renderType===wu.HEADLESS&&(i="Headless");var r=e.audio,n=t.device.audio,s;if(n.webAudio&&!(r&&r.disableWebAudio)?s="Web Audio":r&&r.noAudio||!n.webAudio&&!n.audioData?s="No Audio":s="HTML5 Audio",t.device.browser.ie)window.console&&console.log("Phaser v"+wu.VERSION+" / https://phaser.io");else{var a="",o=[a];if(Array.isArray(e.bannerBackgroundColor)){var h;e.bannerBackgroundColor.forEach(function(u){a=a.concat("%c "),o.push("background: "+u),h=u}),o[o.length-1]="color: "+e.bannerTextColor+"; background: "+h}else a=a.concat("%c "),o.push("color: "+e.bannerTextColor+"; background: "+e.bannerBackgroundColor);o.push("background: #fff"),e.gameTitle&&(a=a.concat(e.gameTitle),e.gameVersion&&(a=a.concat(" v"+e.gameVersion)),e.hidePhaser||(a=a.concat(" / ")));var l="-FB";e.hidePhaser||(a=a.concat("Phaser v"+wu.VERSION+l+" ("+i+" | "+s+")")),a=a.concat(" %c "+e.gameURL),o[0]=a,console.log.apply(console,o)}}},OQ=$Q;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var IQ={MOUSE_DOWN:0,MOUSE_MOVE:1,MOUSE_UP:2,TOUCH_START:3,TOUCH_MOVE:4,TOUCH_END:5,TOUCH_CANCEL:7,POINTER_LOCK_CHANGE:6},D2=IQ;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var DQ=b,Su=H0,BQ=new DQ({initialize:function(e){this.manager=e,this.capture=!0,this.enabled=!1,this.target,this.locked=!1,e.events.once("boot",this.boot,this)},boot:function(){var t=this.manager.config;this.enabled=t.inputMouse,this.target=t.inputMouseEventTarget,this.capture=t.inputMouseCapture,this.target||(this.target=this.manager.game.canvas),t.disableContextMenu&&this.disableContextMenu(),this.enabled&&this.startListeners()},disableContextMenu:function(){return document.body.addEventListener("contextmenu",function(t){return t.preventDefault(),!1}),this},requestPointerLock:function(){if(Su.pointerLock){var t=this.target;t.requestPointerLock=t.requestPointerLock||t.mozRequestPointerLock||t.webkitRequestPointerLock,t.requestPointerLock()}},releasePointerLock:function(){Su.pointerLock&&(document.exitPointerLock=document.exitPointerLock||document.mozExitPointerLock||document.webkitExitPointerLock,document.exitPointerLock())},startListeners:function(){var t=this,e=function(h){h.defaultPrevented||!t.enabled||!t.manager||(t.manager.queueMouseMove(h),t.capture&&h.preventDefault())},i=function(h){h.defaultPrevented||!t.enabled||!t.manager||(t.manager.queueMouseDown(h),t.capture&&h.preventDefault())},r=function(h){h.defaultPrevented||!t.enabled||!t.manager||(t.manager.queueMouseUp(h),t.capture&&h.preventDefault())};this.onMouseMove=e,this.onMouseDown=i,this.onMouseUp=r;var n=this.target,s={passive:!0},a={passive:!1};if(n.addEventListener("mousemove",e,this.capture?a:s),n.addEventListener("mousedown",i,this.capture?a:s),n.addEventListener("mouseup",r,this.capture?a:s),Su.pointerLock){var o=function(h){var l=t.target;t.locked=document.pointerLockElement===l||document.mozPointerLockElement===l||document.webkitPointerLockElement===l,t.manager.queue.push(h)};this.pointerLockChange=o,document.addEventListener("pointerlockchange",o,!0),document.addEventListener("mozpointerlockchange",o,!0),document.addEventListener("webkitpointerlockchange",o,!0)}},stopListeners:function(){var t=this.target;t.removeEventListener("mousemove",this.onMouseMove),t.removeEventListener("mousedown",this.onMouseDown),t.removeEventListener("mouseup",this.onMouseUp),Su.pointerLock&&(document.removeEventListener("pointerlockchange",this.pointerLockChange,!0),document.removeEventListener("mozpointerlockchange",this.pointerLockChange,!0),document.removeEventListener("webkitpointerlockchange",this.pointerLockChange,!0))},destroy:function(){this.stopListeners(),this.target=null,this.manager=null}}),B2=BQ;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var kQ=E0,GQ=function(t,e,i){return e+(i-e)*kQ(t,0,1)},k2=GQ;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var zQ=b,NQ=ws,sT=k2,aT=at,YQ=new zQ({initialize:function(e,i){this.manager=e,this.id=i,this.event,this.camera=null,this.buttons=0,this.position=new aT,this.prevPosition=new aT,this.worldX=0,this.worldY=0,this.downX=0,this.downY=0,this.downTime=0,this.upX=0,this.upY=0,this.upTime=0,this.primaryDown=!1,this.dragState=0,this.isDown=!1,this.dirty=!1,this.justDown=!1,this.justUp=!1,this.justMoved=!1,this.wasTouch=!1,this.wasCanceled=!1,this.movementX=0,this.movementY=0,this.identifier=0,this.pointerId=null,this.active=i===0},positionToCamera:function(t,e){return t.getWorldPoint(this.x,this.y,e)},reset:function(){this.dirty=!1,this.justDown=!1,this.justUp=!1,this.justMoved=!1,this.movementX=0,this.movementY=0},up:function(t,e){t.buttons&&(this.buttons=t.buttons),this.event=t,this.manager.transformPointer(this,t.pageX,t.pageY),t.button===0&&(this.primaryDown=!1,this.upX=this.x,this.upY=this.y,this.upTime=e),this.justUp=!0,this.isDown=!1,this.dirty=!0,this.wasTouch=!1},down:function(t,e){t.buttons&&(this.buttons=t.buttons),this.event=t,this.manager.transformPointer(this,t.pageX,t.pageY),t.button===0&&(this.primaryDown=!0,this.downX=this.x,this.downY=this.y,this.downTime=e),this.justDown=!0,this.isDown=!0,this.dirty=!0,this.wasTouch=!1},move:function(t){t.buttons&&(this.buttons=t.buttons),this.event=t,this.manager.transformPointer(this,t.pageX,t.pageY),this.manager.mouse.locked&&(this.movementX+=t.movementX||t.mozMovementX||t.webkitMovementX||0,this.movementY+=t.movementY||t.mozMovementY||t.webkitMovementY||0),this.justMoved=!0,this.dirty=!0,this.wasTouch=!1},touchstart:function(t,e){t.pointerId&&(this.pointerId=t.pointerId),this.identifier=t.identifier,this.target=t.target,this.active=!0,this.buttons=1,this.event=t,this.manager.transformPointer(this,t.pageX,t.pageY),this.primaryDown=!0,this.downX=this.x,this.downY=this.y,this.downTime=e,this.justDown=!0,this.isDown=!0,this.dirty=!0,this.wasTouch=!0,this.wasCanceled=!1},touchmove:function(t){this.event=t,this.manager.transformPointer(this,t.pageX,t.pageY),this.justMoved=!0,this.dirty=!0,this.wasTouch=!0},touchend:function(t,e){this.buttons=0,this.event=t,this.manager.transformPointer(this,t.pageX,t.pageY),this.primaryDown=!1,this.upX=this.x,this.upY=this.y,this.upTime=e,this.justUp=!0,this.isDown=!1,this.dirty=!0,this.wasTouch=!0,this.wasCanceled=!1,this.active=!1},touchcancel:function(t){this.buttons=0,this.event=t,this.primaryDown=!1,this.justUp=!1,this.isDown=!1,this.dirty=!0,this.wasTouch=!0,this.wasCanceled=!0,this.active=!1},noButtonDown:function(){return this.buttons===0},leftButtonDown:function(){return this.buttons&1},rightButtonDown:function(){return this.buttons&2},middleButtonDown:function(){return this.buttons&4},backButtonDown:function(){return this.buttons&8},forwardButtonDown:function(){return this.buttons&16},getDistance:function(){return NQ(this.downX,this.downY,this.x,this.y)},getInterpolatedPosition:function(t,e){t===void 0&&(t=10),e===void 0&&(e=[]);for(var i=this.prevPosition.x,r=this.prevPosition.y,n=this.position.x,s=this.position.y,a=0;a<t;a++){var o=1/t*a;e[a]={x:sT(o,i,n),y:sT(o,r,s)}}return e},destroy:function(){this.camera=null,this.manager=null,this.position=null},x:{get:function(){return this.position.x},set:function(t){this.position.x=t}},y:{get:function(){return this.position.y},set:function(t){this.position.y=t}}}),G2=YQ;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var VQ=b,Cu=W,WQ=new VQ({initialize:function(e){this.manager=e,this.capture=!0,this.enabled=!1,this.target,this.onTouchStart=Cu,this.onTouchMove=Cu,this.onTouchEnd=Cu,this.onTouchCancel=Cu,e.events.once("boot",this.boot,this)},boot:function(){var t=this.manager.config;this.enabled=t.inputTouch,this.target=t.inputTouchEventTarget,this.capture=t.inputTouchCapture,this.target||(this.target=this.manager.game.canvas),this.enabled&&this.target&&this.startListeners()},startListeners:function(){var t=this;this.onTouchStart=function(n){n.defaultPrevented||!t.enabled||!t.manager||(t.manager.queueTouchStart(n),t.capture&&n.preventDefault())},this.onTouchMove=function(n){n.defaultPrevented||!t.enabled||!t.manager||(t.manager.queueTouchMove(n),t.capture&&n.preventDefault())},this.onTouchEnd=function(n){n.defaultPrevented||!t.enabled||!t.manager||(t.manager.queueTouchEnd(n),t.capture&&n.preventDefault())},this.onTouchCancel=function(n){n.defaultPrevented||!t.enabled||!t.manager||(t.manager.queueTouchCancel(n),t.capture&&n.preventDefault())};var e=this.target;if(!!e){var i={passive:!0},r={passive:!1};this.capture?(e.addEventListener("touchstart",this.onTouchStart,r),e.addEventListener("touchmove",this.onTouchMove,r),e.addEventListener("touchend",this.onTouchEnd,r),e.addEventListener("touchcancel",this.onTouchCancel,r)):(e.addEventListener("touchstart",this.onTouchStart,i),e.addEventListener("touchmove",this.onTouchMove,i),e.addEventListener("touchend",this.onTouchEnd,i)),this.enabled=!0}},stopListeners:function(){var t=this.target;t.removeEventListener("touchstart",this.onTouchStart),t.removeEventListener("touchmove",this.onTouchMove),t.removeEventListener("touchend",this.onTouchEnd),t.removeEventListener("touchcancel",this.onTouchCancel)},destroy:function(){this.stopListeners(),this.target=null,this.enabled=!1,this.manager=null}}),z2=WQ;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var XQ=at,UQ=function(t,e,i,r,n,s,a,o){o===void 0&&(o=new XQ);var h=Math.sin(n),l=Math.cos(n),u=l*s,f=h*s,c=-h*a,d=l*a,g=1/(u*d+c*-f);return o.x=d*g*t+-c*g*e+(r*c-i*d)*g,o.y=u*g*e+-f*g*t+(-r*u+i*f)*g,o},N2=UQ;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var HQ=b,Ke=D2,qQ=Bt.exports,KQ=B2,oT=G2,JQ=Dt,jQ=z2,hT=Pn,ZQ=N2,QQ=new HQ({initialize:function(e,i){this.game=e,this.canvas,this.config=i,this.enabled=!0,this.events=new qQ,this.queue=[],this.domCallbacks={up:[],down:[],move:[],upOnce:[],downOnce:[],moveOnce:[]},this._hasUpCallback=!1,this._hasDownCallback=!1,this._hasMoveCallback=!1,this._customCursor="",this._setCursor=0,this.defaultCursor="",this.mouse=i.inputMouse?new KQ(this):null,this.touch=i.inputTouch?new jQ(this):null,this.pointers=[],this.pointersTotal=i.inputActivePointers,i.inputTouch&&this.pointersTotal===1&&(this.pointersTotal=2);for(var r=0;r<=this.pointersTotal;r++)this.pointers.push(new oT(this,r));this.mousePointer=i.inputMouse?this.pointers[0]:null,this.activePointer=this.pointers[0],this.dirty=!1,this.scale={x:1,y:1},this.globalTopOnly=!0,this.ignoreEvents=!1,this.bounds=new JQ,this._tempPoint={x:0,y:0},this._tempHitTest=[],this._tempMatrix=new hT,this._tempMatrix2=new hT,e.events.once("boot",this.boot,this)},boot:function(){this.canvas=this.game.canvas,this.updateBounds(),this.events.emit("boot"),this.game.events.on("prestep",this.update,this),this.game.events.on("poststep",this.postUpdate,this),this.game.events.once("destroy",this.destroy,this)},updateBounds:function(){var t=this.bounds,e=this.canvas.getBoundingClientRect();t.x=e.left+window.pageXOffset-document.documentElement.clientLeft,t.y=e.top+window.pageYOffset-document.documentElement.clientTop,t.width=e.width,t.height=e.height},resize:function(){this.updateBounds();var t=this.game.config.width,e=this.game.config.height,i=this.bounds.width,r=this.bounds.height;this.scale.x=t/i,this.scale.y=e/r},update:function(t){var e;this._setCursor=0,this.events.emit("update"),this.ignoreEvents=!1,this.dirty=!1;var i=this.queue.length,r=this.pointers;for(e=0;e<this.pointersTotal;e++)r[e].reset();if(!(!this.enabled||i===0)){this.dirty=!0,this.updateBounds(),this.scale.x=this.game.config.width/this.bounds.width,this.scale.y=this.game.config.height/this.bounds.height;var n=this.queue.splice(0,i),s=this.mousePointer;for(e=0;e<i;e+=2){var a=n[e],o=n[e+1];switch(a){case Ke.MOUSE_DOWN:s.down(o,t);break;case Ke.MOUSE_MOVE:s.move(o,t);break;case Ke.MOUSE_UP:s.up(o,t);break;case Ke.TOUCH_START:this.startPointer(o,t);break;case Ke.TOUCH_MOVE:this.updatePointer(o,t);break;case Ke.TOUCH_END:this.stopPointer(o,t);break;case Ke.TOUCH_CANCEL:this.cancelPointer(o,t);break;case Ke.POINTER_LOCK_CHANGE:this.events.emit("pointerlockchange",o,this.mouse.locked);break}}}},postUpdate:function(){this._setCursor===1?this.canvas.style.cursor=this._customCursor:this._setCursor===2&&(this.canvas.style.cursor=this.defaultCursor)},setDefaultCursor:function(t){this.defaultCursor=t,this.canvas.style.cursor!==t&&(this.canvas.style.cursor=t)},setCursor:function(t){t.cursor&&(this._setCursor=1,this._customCursor=t.cursor)},resetCursor:function(t){t.cursor&&(this._setCursor=2)},startPointer:function(t,e){for(var i=this.pointers,r=0;r<t.changedTouches.length;r++)for(var n=t.changedTouches[r],s=1;s<this.pointersTotal;s++){var a=i[s];if(!a.active){a.touchstart(n,e),this.activePointer=a;break}}},updatePointer:function(t,e){for(var i=this.pointers,r=0;r<t.changedTouches.length;r++)for(var n=t.changedTouches[r],s=1;s<this.pointersTotal;s++){var a=i[s];if(a.active&&a.identifier===n.identifier){a.touchmove(n,e),this.activePointer=a;break}}},stopPointer:function(t,e){for(var i=this.pointers,r=0;r<t.changedTouches.length;r++)for(var n=t.changedTouches[r],s=1;s<this.pointersTotal;s++){var a=i[s];if(a.active&&a.identifier===n.identifier){a.touchend(n,e);break}}},cancelPointer:function(t,e){for(var i=this.pointers,r=0;r<t.changedTouches.length;r++)for(var n=t.changedTouches[r],s=1;s<this.pointersTotal;s++){var a=i[s];if(a.active&&a.identifier===n.identifier){a.touchend(n,e);break}}},addPointer:function(t){t===void 0&&(t=1);var e=[];this.pointersTotal+t>10&&(t=10-this.pointersTotal);for(var i=0;i<t;i++){var r=this.pointers.length,n=new oT(this,r);this.pointers.push(n),this.pointersTotal++,e.push(n)}return e},processDomCallbacks:function(t,e,i){var r=0;for(r=0;r<t.length;r++)t[r](i);for(r=0;r<e.length;r++)e[r](i);return t=[],e.length>0},queueTouchStart:function(t){if(this.queue.push(Ke.TOUCH_START,t),this._hasDownCallback){var e=this.domCallbacks;this._hasDownCallback=this.processDomCallbacks(e.downOnce,e.down,t)}},queueTouchMove:function(t){if(this.queue.push(Ke.TOUCH_MOVE,t),this._hasMoveCallback){var e=this.domCallbacks;this._hasMoveCallback=this.processDomCallbacks(e.moveOnce,e.move,t)}},queueTouchEnd:function(t){if(this.queue.push(Ke.TOUCH_END,t),this._hasUpCallback){var e=this.domCallbacks;this._hasUpCallback=this.processDomCallbacks(e.upOnce,e.up,t)}},queueTouchCancel:function(t){this.queue.push(Ke.TOUCH_CANCEL,t)},queueMouseDown:function(t){if(this.queue.push(Ke.MOUSE_DOWN,t),this._hasDownCallback){var e=this.domCallbacks;this._hasDownCallback=this.processDomCallbacks(e.downOnce,e.down,t)}},queueMouseMove:function(t){if(this.queue.push(Ke.MOUSE_MOVE,t),this._hasMoveCallback){var e=this.domCallbacks;this._hasMoveCallback=this.processDomCallbacks(e.moveOnce,e.move,t)}},queueMouseUp:function(t){if(this.queue.push(Ke.MOUSE_UP,t),this._hasUpCallback){var e=this.domCallbacks;this._hasUpCallback=this.processDomCallbacks(e.upOnce,e.up,t)}},addUpCallback:function(t,e){return e===void 0&&(e=!0),e?this.domCallbacks.upOnce.push(t):this.domCallbacks.up.push(t),this._hasUpCallback=!0,this},addDownCallback:function(t,e){return e===void 0&&(e=!0),e?this.domCallbacks.downOnce.push(t):this.domCallbacks.down.push(t),this._hasDownCallback=!0,this},addMoveCallback:function(t,e){return e===void 0&&(e=!1),e?this.domCallbacks.moveOnce.push(t):this.domCallbacks.move.push(t),this._hasMoveCallback=!0,this},inputCandidate:function(t,e){var i=t.input;if(!i||!i.enabled||!t.willRender(e))return!1;var r=!0,n=t.parentContainer;if(n)do{if(!n.willRender(e)){r=!1;break}n=n.parentContainer}while(n);return r},hitTest:function(t,e,i,r){r===void 0&&(r=this._tempHitTest);var n=this._tempPoint,s=i.scrollX,a=i.scrollY;r.length=0;var o=t.x,h=t.y;i.resolution!==1&&(o+=i._x,h+=i._y),i.getWorldPoint(o,h,n),t.worldX=n.x,t.worldY=n.y;for(var l={x:0,y:0},u=this._tempMatrix,f=this._tempMatrix2,c=0;c<e.length;c++){var d=e[c];if(!!this.inputCandidate(d,i)){var g=n.x+s*d.scrollFactorX-s,v=n.y+a*d.scrollFactorY-a;d.parentContainer?(d.getWorldTransformMatrix(u,f),u.applyInverse(g,v,l)):ZQ(g,v,d.x,d.y,d.rotation,d.scaleX,d.scaleY,l),this.pointWithinHitArea(d,l.x,l.y)&&r.push(d)}}return r},pointWithinHitArea:function(t,e,i){e+=t.displayOriginX,i+=t.displayOriginY;var r=t.input;return r&&r.hitAreaCallback(r.hitArea,e,i,t)?(r.localX=e,r.localY=i,!0):!1},pointWithinInteractiveObject:function(t,e,i){return t.hitArea?(e+=t.gameObject.displayOriginX,i+=t.gameObject.displayOriginY,t.localX=e,t.localY=i,t.hitAreaCallback(t.hitArea,e,i,t)):!1},transformPointer:function(t,e,i){t.prevPosition.x=t.x,t.prevPosition.y=t.y,t.x=(e-this.bounds.left)*this.scale.x,t.y=(i-this.bounds.top)*this.scale.y},transformX:function(t){return(t-this.bounds.left)*this.scale.x},transformY:function(t){return(t-this.bounds.top)*this.scale.y},getOffsetX:function(){return this.bounds.left},getOffsetY:function(){return this.bounds.top},getScaleX:function(){return this.game.config.width/this.bounds.width},getScaleY:function(){return this.game.config.height/this.bounds.height},destroy:function(){this.events.removeAllListeners(),this.mouse&&this.mouse.destroy(),this.touch&&this.touch.destroy();for(var t=0;t<this.pointers.length;t++)this.pointers[t].destroy();this.domCallbacks={},this.pointers=[],this.queue=[],this._tempHitTest=[],this._tempMatrix.destroy(),this.canvas=null,this.game=null}}),Y2=QQ;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var bu={},ttt={install:function(t){for(var e in bu)t[e]=bu[e]},register:function(t,e){bu[t]=e},destroy:function(){bu={}}},bt=ttt;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var ett=b,itt=se,Xh=new ett({initialize:function(e){this.scene=e,this.systems=e.sys,this.displayList,this.updateList,e.sys.events.once("boot",this.boot,this),e.sys.events.on("start",this.start,this)},boot:function(){this.displayList=this.systems.displayList,this.updateList=this.systems.updateList,this.systems.events.once("destroy",this.destroy,this)},start:function(){this.systems.events.once("shutdown",this.shutdown,this)},shutdown:function(){this.systems.events.off("shutdown",this.shutdown,this)},destroy:function(){this.shutdown(),this.scene.sys.events.off("start",this.start,this),this.scene=null,this.systems=null,this.displayList=null,this.updateList=null}});Xh.register=function(t,e){Xh.prototype.hasOwnProperty(t)||(Xh.prototype[t]=e)};itt.register("GameObjectCreator",Xh,"make");var ae=Xh;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var lT=yl,rtt=function(t,e,i,r){r===void 0&&(r=t);var n;if(!Array.isArray(e))return n=t.indexOf(e),n!==-1?(lT(t,n),i&&i.call(r,e),e):null;for(var s=e.length-1;s>=0;){var a=e[s];n=t.indexOf(a),n!==-1?(lT(t,n),i&&i.call(r,a)):e.pop(),s--}return e},V2=rtt;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var ntt=b,uT=Bt.exports,stt=bt,att=ae,ott=dt,In=V,Ri=se,fT=V2,htt=new ntt({Extends:uT,initialize:function(e){uT.call(this),this.game=e,this.plugins=[],this.scenePlugins=[],this._pendingGlobal=[],this._pendingScene=[],e.isBooted?this.boot():e.events.once("boot",this.boot,this)},boot:function(){var t,e,i,r,n,s,a,o=this.game.config,h=o.installGlobalPlugins;for(h=h.concat(this._pendingGlobal),t=0;t<h.length;t++)e=h[t],i=In(e,"key",null),r=In(e,"plugin",null),n=In(e,"start",!1),s=In(e,"mapping",null),a=In(e,"data",null),i&&r&&this.install(i,r,n,s,a);for(h=o.installScenePlugins,h=h.concat(this._pendingScene),t=0;t<h.length;t++)e=h[t],i=In(e,"key",null),r=In(e,"plugin",null),s=In(e,"mapping",null),i&&r&&this.installScenePlugin(i,r,s);this._pendingGlobal=[],this._pendingScene=[],this.game.events.once("destroy",this.destroy,this)},addToScene:function(t,e,i){var r,n,s,a=this.game,o=t.scene,h=t.settings.map,l=t.settings.isBooted;for(r=0;r<e.length;r++)n=e[r],a[n]?(t[n]=a[n],h.hasOwnProperty(n)&&(o[h[n]]=t[n])):n==="game"&&h.hasOwnProperty(n)&&(o[h[n]]=a);for(var u=0;u<i.length;u++)for(s=i[u],r=0;r<s.length;r++)if(n=s[r],!!Ri.hasCore(n)){var f=Ri.getCore(n),c=new f.plugin(o,this);t[f.mapping]=c,f.custom?o[f.mapping]=c:h.hasOwnProperty(f.mapping)&&(o[h[f.mapping]]=c),l&&c.boot()}for(s=this.plugins,r=0;r<s.length;r++){var d=s[r];d.mapping&&(o[d.mapping]=d.plugin)}},getDefaultScenePlugins:function(){var t=this.game.config.defaultPlugins;return t=t.concat(this.scenePlugins),t},installScenePlugin:function(t,e,i,r){if(typeof e!="function"){console.warn("Invalid Scene Plugin: "+t);return}if(Ri.hasCore(t)){console.warn("Scene Plugin key in use: "+t);return}if(Ri.register(t,e,i,!0),this.scenePlugins.push(t),r){var n=new e(r,this);r.sys[t]=n,i&&i!==""&&(r[i]=n),n.boot()}},install:function(t,e,i,r,n){if(i===void 0&&(i=!1),r===void 0&&(r=null),n===void 0&&(n=null),typeof e!="function"){console.warn("Invalid Plugin: "+t);return}if(Ri.hasCustom(t)){console.warn("Plugin key in use: "+t);return}if(r!==null&&(i=!0),!this.game.isBooted)this._pendingGlobal.push({key:t,plugin:e,start:i,mapping:r,data:n});else if(Ri.registerCustom(t,e,r,n),i)return this.start(t)},getIndex:function(t){for(var e=this.plugins,i=0;i<e.length;i++){var r=e[i];if(r.key===t)return i}return-1},getEntry:function(t){var e=this.getIndex(t);if(e!==-1)return this.plugins[e]},isActive:function(t){var e=this.getEntry(t);return e&&e.active},start:function(t,e){e===void 0&&(e=t);var i=this.getEntry(e);return i&&!i.active?(i.active=!0,i.plugin.start()):i||(i=this.createEntry(t,e)),i?i.plugin:null},createEntry:function(t,e){var i=Ri.getCustom(t);if(i){var r=new i.plugin(this);i={key:e,plugin:r,active:!0,mapping:i.mapping,data:i.data},this.plugins.push(i),r.init(i.data),r.start()}return i},stop:function(t){var e=this.getEntry(t);return e&&e.active&&(e.active=!1,e.plugin.stop()),this},get:function(t,e){e===void 0&&(e=!0);var i=this.getEntry(t);if(i)return i.plugin;var r=this.getClass(t);return r&&e?(i=this.createEntry(t,t),i?i.plugin:null):r||null},getClass:function(t){return Ri.getCustomClass(t)},removeGlobalPlugin:function(t){var e=this.getEntry(t);e&&fT(this.plugins,e),Ri.removeCustom(t)},removeScenePlugin:function(t){fT(this.scenePlugins,t),Ri.remove(t)},registerGameObject:function(t,e,i){return e&&ott.register(t,e),i&&att.register(t,i),this},registerFileType:function(t,e,i){stt.register(t,e),i&&i.sys.load&&(i.sys.load[t]=e)},destroy:function(){for(var t=0;t<this.plugins.length;t++)this.plugins[t].plugin.destroy();Ri.destroyCustomPlugins(),this.game.noReturn&&Ri.destroyCorePlugins(),this.game=null,this.plugins=[],this.scenePlugins=[]}}),W2=htt;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var ltt={PENDING:0,INIT:1,START:2,LOADING:3,CREATING:4,RUNNING:5,PAUSED:6,SLEEPING:7,SHUTDOWN:8,DESTROYED:9},zc=ltt;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var utt=function(t){return t&&t[0].toUpperCase()+t.slice(1)},X2=utt;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var ftt=V,cT=X2,ctt=function(t){var e=t.game.config.defaultPhysicsSystem,i=ftt(t.settings,"physics",!1);if(!(!e&&!i)){var r=[];if(e&&r.push(cT(e+"Physics")),i)for(var n in i)n=cT(n.concat("Physics")),r.indexOf(n)===-1&&r.push(n);return r}},dtt=ctt;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var vtt=V,ptt=function(t){var e=t.plugins.getDefaultScenePlugins(),i=vtt(t.settings,"plugins",!1);return Array.isArray(i)?i:e||[]},gtt=ptt;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var mtt=function(t){var e={};for(var i in t)Array.isArray(t[i])?e[i]=t[i].slice(0):e[i]=t[i];return e},ya=mtt;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var ytt=ya,xtt=function(t,e){var i=ytt(t);for(var r in e)i.hasOwnProperty(r)||(i[r]=e[r]);return i},Ao=xtt;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var Q0={game:"game",anims:"anims",cache:"cache",plugins:"plugins",registry:"registry",sound:"sound",textures:"textures",events:"events",cameras:"cameras",add:"add",make:"make",scenePlugin:"scene",displayList:"children",lights:"lights",data:"data",input:"input",load:"load",time:"time",tweens:"tweens",arcadePhysics:"physics",impactPhysics:"impact",matterPhysics:"matter"};Q0.cameras3d="cameras3d";Q0.facebook="facebook";var _tt=Q0;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var Ttt=zc,nr=ut,wtt=Ao,Stt=_tt,Ctt={create:function(t){return typeof t=="string"?t={key:t}:t===void 0&&(t={}),{status:Ttt.PENDING,key:nr(t,"key",""),active:nr(t,"active",!1),visible:nr(t,"visible",!0),isBooted:!1,isTransition:!1,transitionFrom:null,transitionDuration:0,transitionAllowInput:!0,data:{},pack:nr(t,"pack",!1),cameras:nr(t,"cameras",null),map:nr(t,"map",wtt(Stt,nr(t,"mapAdd",{}))),physics:nr(t,"physics",{}),loader:nr(t,"loader",{}),plugins:nr(t,"plugins",!1),input:nr(t,"input",{})}}},U2=Ctt;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var btt=b,sr=zc,dT=K0,Mtt=dtt,Ptt=gtt,vT=W,Att=U2,Rtt=new btt({initialize:function(e,i){this.scene=e,this.game,this.facebook,this.config=i,this.settings=Att.create(i),this.canvas,this.context,this.anims,this.cache,this.plugins,this.registry,this.sound,this.textures,this.add,this.cameras,this.displayList,this.events,this.make,this.scenePlugin,this.updateList,this.sceneUpdate=vT},init:function(t){this.settings.status=sr.INIT,this.sceneUpdate=vT,this.game=t,this.canvas=t.canvas,this.context=t.context;var e=t.plugins;this.plugins=e,e.addToScene(this,dT.Global,[dT.CoreScene,Ptt(this),Mtt(this)]),this.events.emit("boot",this),this.settings.isBooted=!0},install:function(t){Array.isArray(t)||(t=[t]),this.plugins.installLocal(this,t)},step:function(t,e){this.events.emit("preupdate",t,e),this.events.emit("update",t,e),this.sceneUpdate.call(this.scene,t,e),this.events.emit("postupdate",t,e)},render:function(t){var e=this.displayList;e.depthSort(),this.cameras.render(t,e),this.events.emit("render",t)},queueDepthSort:function(){this.displayList.queueDepthSort()},depthSort:function(){this.displayList.depthSort()},pause:function(t){return this.settings.active&&(this.settings.status=sr.PAUSED,this.settings.active=!1,this.events.emit("pause",this,t)),this},resume:function(t){return this.settings.active||(this.settings.status=sr.RUNNING,this.settings.active=!0,this.events.emit("resume",this,t)),this},sleep:function(t){return this.settings.status=sr.SLEEPING,this.settings.active=!1,this.settings.visible=!1,this.events.emit("sleep",this,t),this},wake:function(t){var e=this.settings;return e.status=sr.RUNNING,e.active=!0,e.visible=!0,this.events.emit("wake",this,t),e.isTransition&&this.events.emit("transitionwake",e.transitionFrom,e.transitionDuration),this},isSleeping:function(){return this.settings.status===sr.SLEEPING},isActive:function(){return this.settings.status===sr.RUNNING},isPaused:function(){return this.settings.status===sr.PAUSED},isTransitioning:function(){return this.settings.isTransition||this.scenePlugin._target!==null},isTransitionOut:function(){return this.scenePlugin._target!==null&&this.scenePlugin._duration>0},isTransitionIn:function(){return this.settings.isTransition},isVisible:function(){return this.settings.visible},setVisible:function(t){return this.settings.visible=t,this},setActive:function(t,e){return t?this.resume(e):this.pause(e)},start:function(t){t&&(this.settings.data=t),this.settings.status=sr.START,this.settings.active=!0,this.settings.visible=!0,this.events.emit("start",this),this.events.emit("ready",this,t)},resize:function(t,e){this.events.emit("resize",t,e)},shutdown:function(t){this.events.off("transitioninit"),this.events.off("transitionstart"),this.events.off("transitioncomplete"),this.events.off("transitionout"),this.settings.status=sr.SHUTDOWN,this.settings.active=!1,this.settings.visible=!1,this.events.emit("shutdown",this,t)},destroy:function(){this.settings.status=sr.DESTROYED,this.settings.active=!1,this.settings.visible=!1,this.events.emit("destroy",this),this.events.removeAllListeners();for(var t=["scene","game","anims","cache","plugins","registry","sound","textures","add","camera","displayList","events","make","scenePlugin","updateList"],e=0;e<t.length;e++)this[t[e]]=null}}),ty=Rtt;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var Ftt=b,Ett=ty,Ltt=new Ftt({initialize:function(e){this.sys=new Ett(this,e),this.game,this.anims,this.cache,this.registry,this.sound,this.textures,this.events,this.cameras,this.add,this.make,this.scene,this.children,this.lights,this.data,this.input,this.load,this.time,this.tweens,this.physics,this.impact,this.matter},update:function(){}}),H2=Ltt;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var $tt=b,ar=zc,Ott=ut,Itt=W,Qo=H2,Dtt=ty,Btt=new $tt({initialize:function(e,i){if(this.game=e,this.keys={},this.scenes=[],this._pending=[],this._start=[],this._queue=[],this._data={},this.isProcessing=!1,this.isBooted=!1,this.customViewports=0,i){Array.isArray(i)||(i=[i]);for(var r=0;r<i.length;r++)this._pending.push({key:"default",scene:i[r],autoStart:r===0,data:{}})}e.events.once("ready",this.bootQueue,this)},bootQueue:function(){if(!this.isBooted){var t,e,i,r;for(t=0;t<this._pending.length;t++){e=this._pending[t],i=e.key,r=e.scene;var n;r instanceof Qo?n=this.createSceneFromInstance(i,r):typeof r=="object"?n=this.createSceneFromObject(i,r):typeof r=="function"&&(n=this.createSceneFromFunction(i,r)),i=n.sys.settings.key,this.keys[i]=n,this.scenes.push(n),this._data[i]&&(n.sys.settings.data=this._data[i].data,this._data[i].autoStart&&(e.autoStart=!0)),(e.autoStart||n.sys.settings.active)&&this._start.push(i)}for(this._pending.length=0,this._data={},this.isBooted=!0,t=0;t<this._start.length;t++)e=this._start[t],this.start(e);this._start.length=0}},processQueue:function(){var t=this._pending.length,e=this._queue.length;if(!(t===0&&e===0)){var i,r;if(t){for(i=0;i<t;i++)r=this._pending[i],this.add(r.key,r.scene,r.autoStart,r.data);for(i=0;i<this._start.length;i++)r=this._start[i],this.start(r);this._start.length=0,this._pending.length=0;return}for(i=0;i<this._queue.length;i++)r=this._queue[i],this[r.op](r.keyA,r.keyB);this._queue.length=0}},add:function(t,e,i,r){if(i===void 0&&(i=!1),r===void 0&&(r={}),this.isProcessing||!this.isBooted)return this._pending.push({key:t,scene:e,autoStart:i,data:r}),this.isBooted||(this._data[t]={data:r}),null;t=this.getKey(t,e);var n;return e instanceof Qo?n=this.createSceneFromInstance(t,e):typeof e=="object"?(e.key=t,n=this.createSceneFromObject(t,e)):typeof e=="function"&&(n=this.createSceneFromFunction(t,e)),n.sys.settings.data=r,t=n.sys.settings.key,this.keys[t]=n,this.scenes.push(n),(i||n.sys.settings.active)&&(this._pending.length?this._start.push(t):this.start(t)),n},remove:function(t){if(this.isProcessing)this._queue.push({op:"remove",keyA:t,keyB:null});else{var e=this.getScene(t);if(!e||e.sys.isTransitioning())return this;var i=this.scenes.indexOf(e),r=e.sys.settings.key;i>-1&&(delete this.keys[r],this.scenes.splice(i,1),this._start.indexOf(r)>-1&&(i=this._start.indexOf(r),this._start.splice(i,1)),e.sys.destroy())}return this},bootScene:function(t){var e=t.sys,i=e.settings;t.init&&(t.init.call(t,i.data),i.status=ar.INIT,i.isTransition&&e.events.emit("transitioninit",i.transitionFrom,i.transitionDuration));var r;e.load&&(r=e.load,r.reset()),r&&t.preload?(t.preload.call(t),r.list.size===0?this.create(t):(i.status=ar.LOADING,r.once("complete",this.loadComplete,this),r.start())):this.create(t)},loadComplete:function(t){var e=t.scene;this.game.sound.onBlurPausedSounds&&this.game.sound.unlock(),this.create(e)},payloadComplete:function(t){this.bootScene(t.scene)},update:function(t,e){this.processQueue(),this.isProcessing=!0;for(var i=this.scenes.length-1;i>=0;i--){var r=this.scenes[i].sys;r.settings.status>ar.START&&r.settings.status<=ar.RUNNING&&r.step(t,e)}},resize:function(t,e){for(var i=0;i<this.scenes.length;i++){var r=this.scenes[i].sys;r.resize(t,e)}},render:function(t){for(var e=0;e<this.scenes.length;e++){var i=this.scenes[e].sys;i.settings.visible&&i.settings.status>=ar.LOADING&&i.settings.status<ar.SLEEPING&&i.render(t)}this.isProcessing=!1},create:function(t){var e=t.sys,i=e.settings;t.create&&(i.status=ar.CREATING,t.create.call(t,i.data),i.isTransition&&e.events.emit("transitionstart",i.transitionFrom,i.transitionDuration)),t.update&&(e.sceneUpdate=t.update),i.status=ar.RUNNING},createSceneFromFunction:function(t,e){var i=new e;if(i instanceof Qo){var r=i.sys.settings.key;if(r!==""&&(t=r),this.keys.hasOwnProperty(t))throw new Error("Cannot add a Scene with duplicate key: "+t);return this.createSceneFromInstance(t,i)}else return i.sys=new Dtt(i),i.sys.settings.key=t,i.sys.init(this.game),i},createSceneFromInstance:function(t,e){var i=e.sys.settings.key;return i!==""?t=i:e.sys.settings.key=t,e.sys.init(this.game),e},createSceneFromObject:function(t,e){var i=new Qo(e),r=i.sys.settings.key;r!==""?t=r:i.sys.settings.key=t,i.sys.init(this.game);for(var n=["init","preload","create","update","render"],s=0;s<n.length;s++){var a=Ott(e,n[s],null);a&&(i[n[s]]=a)}if(e.hasOwnProperty("extend"))for(var o in e.extend){var h=e.extend[o];o==="data"&&i.hasOwnProperty("data")&&typeof h=="object"?i.data.merge(h):o!=="sys"&&(i[o]=h)}return i},getKey:function(t,e){if(t||(t="default"),typeof e=="function")return t;if(e instanceof Qo?t=e.sys.settings.key:typeof e=="object"&&e.hasOwnProperty("key")&&(t=e.key),this.keys.hasOwnProperty(t))throw new Error("Cannot add a Scene with duplicate key: "+t);return t},getScene:function(t){if(typeof t=="string"){if(this.keys[t])return this.keys[t]}else for(var e=0;e<this.scenes.length;e++)if(t===this.scenes[e])return t;return null},isActive:function(t){var e=this.getScene(t);return e?e.sys.isActive():null},isVisible:function(t){var e=this.getScene(t);return e?e.sys.isVisible():null},isSleeping:function(t){var e=this.getScene(t);return e?e.sys.isSleeping():null},pause:function(t,e){var i=this.getScene(t);return i&&i.sys.pause(e),this},resume:function(t,e){var i=this.getScene(t);return i&&i.sys.resume(e),this},sleep:function(t,e){var i=this.getScene(t);return i&&!i.sys.isTransitioning()&&i.sys.sleep(e),this},wake:function(t,e){var i=this.getScene(t);return i&&i.sys.wake(e),this},run:function(t,e){var i=this.getScene(t);if(!i){for(var r=0;r<this._pending.length;r++)if(this._pending[r].key===t){this.queueOp("start",t,e);break}return this}i.sys.isSleeping()?i.sys.wake(e):i.sys.isBooted&&!i.sys.isActive()?i.sys.resume(e):this.start(t,e)},start:function(t,e){if(!this.isBooted)return this._data[t]={autoStart:!0,data:e},this;var i=this.getScene(t);if(i){if(i.sys.isActive()||i.sys.isPaused())i.sys.shutdown(),i.sys.start(e);else{i.sys.start(e);var r;if(i.sys.load&&(r=i.sys.load),r&&i.sys.settings.hasOwnProperty("pack")&&(r.reset(),r.addPack({payload:i.sys.settings.pack})))return i.sys.settings.status=ar.LOADING,r.once("complete",this.payloadComplete,this),r.start(),this}this.bootScene(i)}return this},stop:function(t){var e=this.getScene(t);return e&&!e.sys.isTransitioning()&&e.sys.shutdown(),this},switch:function(t,e){var i=this.getScene(t),r=this.getScene(e);return i&&r&&i!==r&&(this.sleep(t),this.isSleeping(e)?this.wake(e):this.start(e)),this},getAt:function(t){return this.scenes[t]},getIndex:function(t){var e=this.getScene(t);return this.scenes.indexOf(e)},bringToTop:function(t){if(this.isProcessing)this._queue.push({op:"bringToTop",keyA:t,keyB:null});else{var e=this.getIndex(t);if(e!==-1&&e<this.scenes.length){var i=this.getScene(t);this.scenes.splice(e,1),this.scenes.push(i)}}return this},sendToBack:function(t){if(this.isProcessing)this._queue.push({op:"sendToBack",keyA:t,keyB:null});else{var e=this.getIndex(t);if(e!==-1&&e>0){var i=this.getScene(t);this.scenes.splice(e,1),this.scenes.unshift(i)}}return this},moveDown:function(t){if(this.isProcessing)this._queue.push({op:"moveDown",keyA:t,keyB:null});else{var e=this.getIndex(t);if(e>0){var i=e-1,r=this.getScene(t),n=this.getAt(i);this.scenes[e]=n,this.scenes[i]=r}}return this},moveUp:function(t){if(this.isProcessing)this._queue.push({op:"moveUp",keyA:t,keyB:null});else{var e=this.getIndex(t);if(e<this.scenes.length-1){var i=e+1,r=this.getScene(t),n=this.getAt(i);this.scenes[e]=n,this.scenes[i]=r}}return this},moveAbove:function(t,e){if(t===e)return this;if(this.isProcessing)this._queue.push({op:"moveAbove",keyA:t,keyB:e});else{var i=this.getIndex(t),r=this.getIndex(e);if(i!==-1&&r!==-1){var n=this.getAt(r);this.scenes.splice(r,1),this.scenes.splice(i+1,0,n)}}return this},moveBelow:function(t,e){if(t===e)return this;if(this.isProcessing)this._queue.push({op:"moveBelow",keyA:t,keyB:e});else{var i=this.getIndex(t),r=this.getIndex(e);if(i!==-1&&r!==-1){var n=this.getAt(r);this.scenes.splice(r,1),i===0?this.scenes.unshift(n):this.scenes.splice(i,0,n)}}return this},queueOp:function(t,e,i){return this._queue.push({op:t,keyA:e,keyB:i}),this},swapPosition:function(t,e){if(t===e)return this;if(this.isProcessing)this._queue.push({op:"swapPosition",keyA:t,keyB:e});else{var i=this.getIndex(t),r=this.getIndex(e);if(i!==r&&i!==-1&&r!==-1){var n=this.getAt(i);this.scenes[i]=this.scenes[r],this.scenes[r]=n}}return this},dump:function(){for(var t=[],e=["pending","init","start","loading","creating","running","paused","sleeping","shutdown","destroyed"],i=0;i<this.scenes.length;i++){var r=this.scenes[i].sys,n=r.settings.visible&&(r.settings.status===ar.RUNNING||r.settings.status===ar.PAUSED)?"[*] ":"[-] ";n+=r.settings.key+" ("+e[r.settings.status]+")",t.push(n)}console.log(t.join(`
`))},destroy:function(){for(var t=0;t<this.scenes.length;t++){var e=this.scenes[t].sys;e.destroy()}this.update=Itt,this.scenes=[],this._pending=[],this._start=[],this._queue=[],this.game=null}}),q2=Btt;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var ktt=b,Gtt=ya,pT=Bt.exports,Mu=W,ztt=new ktt({Extends:pT,initialize:function(e){pT.call(this),this.game=e,this.jsonCache=e.cache.json,this.sounds=[],this.mute=!1,this.volume=1,this.pauseOnBlur=!0,this._rate=1,this._detune=0,this.locked=this.locked||!1,this.unlocked=!1,e.events.on("blur",function(){this.pauseOnBlur&&this.onBlur()},this),e.events.on("focus",function(){this.pauseOnBlur&&this.onFocus()},this),e.events.on("prestep",this.update,this),e.events.once("destroy",this.destroy,this)},add:Mu,addAudioSprite:function(t,e){e===void 0&&(e={});var i=this.add(t,e);i.spritemap=this.jsonCache.get(t).spritemap;for(var r in i.spritemap)if(!!i.spritemap.hasOwnProperty(r)){var n=Gtt(e),s=i.spritemap[r];n.loop=s.hasOwnProperty("loop")?s.loop:!1,i.addMarker({name:r,start:s.start,duration:s.end-s.start,config:n})}return i},play:function(t,e){var i=this.add(t);return i.once("ended",i.destroy,i),e?e.name?(i.addMarker(e),i.play(e.name)):i.play(e):i.play()},playAudioSprite:function(t,e,i){var r=this.addAudioSprite(t);return r.once("ended",r.destroy,r),r.play(e,i)},remove:function(t){var e=this.sounds.indexOf(t);return e!==-1?(t.destroy(),this.sounds.splice(e,1),!0):!1},removeByKey:function(t){for(var e=0,i=this.sounds.length-1;i>=0;i--){var r=this.sounds[i];r.key===t&&(r.destroy(),this.sounds.splice(i,1),e++)}return e},pauseAll:function(){this.forEachActiveSound(function(t){t.pause()}),this.emit("pauseall",this)},resumeAll:function(){this.forEachActiveSound(function(t){t.resume()}),this.emit("resumeall",this)},stopAll:function(){this.forEachActiveSound(function(t){t.stop()}),this.emit("stopall",this)},unlock:Mu,onBlur:Mu,onFocus:Mu,update:function(t,e){this.unlocked&&(this.unlocked=!1,this.locked=!1,this.emit("unlocked",this));for(var i=this.sounds.length-1;i>=0;i--)this.sounds[i].pendingRemove&&this.sounds.splice(i,1);this.sounds.forEach(function(r){r.update(t,e)})},destroy:function(){this.removeAllListeners(),this.forEachActiveSound(function(t){t.destroy()}),this.sounds.length=0,this.sounds=null,this.game=null},forEachActiveSound:function(t,e){var i=this;this.sounds.forEach(function(r,n){r.pendingRemove||t.call(e||i,r,n,i.sounds)})},setRate:function(t){return this.rate=t,this},rate:{get:function(){return this._rate},set:function(t){this._rate=t,this.forEachActiveSound(function(e){e.calculateRate()}),this.emit("rate",this,t)}},setDetune:function(t){return this.detune=t,this},detune:{get:function(){return this._detune},set:function(t){this._detune=t,this.forEachActiveSound(function(e){e.calculateRate()}),this.emit("detune",this,t)}}}),Nc=ztt;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var Ntt=b,gT=Bt.exports,Pu=Ae,Ytt=W,Vtt=new Ntt({Extends:gT,initialize:function(e,i,r){gT.call(this),this.manager=e,this.key=i,this.isPlaying=!1,this.isPaused=!1,this.totalRate=1,this.duration=this.duration||0,this.totalDuration=this.totalDuration||0,this.config={mute:!1,volume:1,rate:1,detune:0,seek:0,loop:!1,delay:0},this.currentConfig=this.config,this.config=Pu(this.config,r),this.markers={},this.currentMarker=null,this.pendingRemove=!1},addMarker:function(t){return!t||!t.name||typeof t.name!="string"?!1:this.markers[t.name]?(console.error("addMarker "+t.name+" already exists in Sound"),!1):(t=Pu(!0,{name:"",start:0,duration:this.totalDuration-(t.start||0),config:{mute:!1,volume:1,rate:1,detune:0,seek:0,loop:!1,delay:0}},t),this.markers[t.name]=t,!0)},updateMarker:function(t){return!t||!t.name||typeof t.name!="string"?!1:this.markers[t.name]?(this.markers[t.name]=Pu(!0,this.markers[t.name],t),!0):(console.warn("Audio Marker: "+t.name+" missing in Sound: "+this.key),!1)},removeMarker:function(t){var e=this.markers[t];return e?(this.markers[t]=null,e):null},play:function(t,e){if(t===void 0&&(t=""),typeof t=="object"&&(e=t,t=""),typeof t!="string")return!1;if(!t)this.currentMarker=null,this.currentConfig=this.config,this.duration=this.totalDuration;else{if(!this.markers[t])return console.warn("Marker: "+t+" missing in Sound: "+this.key),!1;this.currentMarker=this.markers[t],this.currentConfig=this.currentMarker.config,this.duration=this.currentMarker.duration}return this.resetConfig(),this.currentConfig=Pu(this.currentConfig,e),this.isPlaying=!0,this.isPaused=!1,!0},pause:function(){return this.isPaused||!this.isPlaying?!1:(this.isPlaying=!1,this.isPaused=!0,!0)},resume:function(){return!this.isPaused||this.isPlaying?!1:(this.isPlaying=!0,this.isPaused=!1,!0)},stop:function(){return!this.isPaused&&!this.isPlaying?!1:(this.isPlaying=!1,this.isPaused=!1,this.resetConfig(),!0)},applyConfig:function(){this.mute=this.currentConfig.mute,this.volume=this.currentConfig.volume,this.rate=this.currentConfig.rate,this.detune=this.currentConfig.detune,this.loop=this.currentConfig.loop},resetConfig:function(){this.currentConfig.seek=0,this.currentConfig.delay=0},update:Ytt,calculateRate:function(){var t=1.0005777895065548,e=this.currentConfig.detune+this.manager.detune,i=Math.pow(t,e);this.totalRate=this.currentConfig.rate*this.manager.rate*i},destroy:function(){this.pendingRemove||(this.emit("destroy",this),this.pendingRemove=!0,this.manager=null,this.key="",this.removeAllListeners(),this.isPlaying=!1,this.isPaused=!1,this.config=null,this.currentConfig=null,this.markers=null,this.currentMarker=null)}}),Yc=Vtt;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var Kr=Yc,Wtt=b,Xtt=new Wtt({Extends:Kr,initialize:function(e,i,r){if(r===void 0&&(r={}),this.tags=e.game.cache.audio.get(i),!this.tags){console.warn("Audio cache entry missing: "+i);return}this.audio=null,this.startTime=0,this.previousTime=0,this.duration=this.tags[0].duration,this.totalDuration=this.tags[0].duration,Kr.call(this,e,i,r)},play:function(t,e){return this.manager.isLocked(this,"play",[t,e])||!Kr.prototype.play.call(this,t,e)||!this.pickAndPlayAudioTag()?!1:(this.emit("play",this),!0)},pause:function(){return this.manager.isLocked(this,"pause")||this.startTime>0||!Kr.prototype.pause.call(this)?!1:(this.currentConfig.seek=this.audio.currentTime-(this.currentMarker?this.currentMarker.start:0),this.stopAndReleaseAudioTag(),this.emit("pause",this),!0)},resume:function(){return this.manager.isLocked(this,"resume")||this.startTime>0||!Kr.prototype.resume.call(this)||!this.pickAndPlayAudioTag()?!1:(this.emit("resume",this),!0)},stop:function(){return this.manager.isLocked(this,"stop")||!Kr.prototype.stop.call(this)?!1:(this.stopAndReleaseAudioTag(),this.emit("stop",this),!0)},pickAndPlayAudioTag:function(){if(!this.pickAudioTag())return this.reset(),!1;var t=this.currentConfig.seek,e=this.currentConfig.delay,i=(this.currentMarker?this.currentMarker.start:0)+t;return this.previousTime=i,this.audio.currentTime=i,this.applyConfig(),e===0?(this.startTime=0,this.audio.paused&&this.playCatchPromise()):(this.startTime=window.performance.now()+e*1e3,this.audio.paused||this.audio.pause()),this.resetConfig(),!0},pickAudioTag:function(){if(this.audio)return!0;for(var t=0;t<this.tags.length;t++){var e=this.tags[t];if(e.dataset.used==="false")return e.dataset.used="true",this.audio=e,!0}if(!this.manager.override)return!1;var i=[];this.manager.forEachActiveSound(function(n){n.key===this.key&&n.audio&&i.push(n)},this),i.sort(function(n,s){return n.loop===s.loop?s.seek/s.duration-n.seek/n.duration:n.loop?1:-1});var r=i[0];return this.audio=r.audio,r.reset(),r.audio=null,r.startTime=0,r.previousTime=0,!0},playCatchPromise:function(){var t=this.audio.play();t&&t.catch(function(e){console.warn(e)})},stopAndReleaseAudioTag:function(){this.audio.pause(),this.audio.dataset.used="false",this.audio=null,this.startTime=0,this.previousTime=0},reset:function(){Kr.prototype.stop.call(this)},onBlur:function(){this.isPlaying=!1,this.isPaused=!0,this.currentConfig.seek=this.audio.currentTime-(this.currentMarker?this.currentMarker.start:0),this.currentConfig.delay=Math.max(0,(this.startTime-window.performance.now())/1e3),this.stopAndReleaseAudioTag()},onFocus:function(){this.isPlaying=!0,this.isPaused=!1,this.pickAndPlayAudioTag()},update:function(t,e){if(!!this.isPlaying){if(this.startTime>0){this.startTime<t-this.manager.audioPlayDelay&&(this.audio.currentTime+=Math.max(0,t-this.startTime)/1e3,this.startTime=0,this.previousTime=this.audio.currentTime,this.playCatchPromise());return}var i=this.currentMarker?this.currentMarker.start:0,r=i+this.duration,n=this.audio.currentTime;if(this.currentConfig.loop)n>=r-this.manager.loopEndOffset?(this.audio.currentTime=i+Math.max(0,n-r),n=this.audio.currentTime):n<i&&(this.audio.currentTime+=i,n=this.audio.currentTime),n<this.previousTime&&this.emit("looped",this);else if(n>=r){this.reset(),this.stopAndReleaseAudioTag(),this.emit("ended",this);return}this.previousTime=n}},destroy:function(){Kr.prototype.destroy.call(this),this.tags=null,this.audio&&this.stopAndReleaseAudioTag()},updateMute:function(){this.audio&&(this.audio.muted=this.currentConfig.mute||this.manager.mute)},updateVolume:function(){this.audio&&(this.audio.volume=this.currentConfig.volume*this.manager.volume)},calculateRate:function(){Kr.prototype.calculateRate.call(this),this.audio&&(this.audio.playbackRate=this.totalRate)},mute:{get:function(){return this.currentConfig.mute},set:function(t){this.currentConfig.mute=t,!this.manager.isLocked(this,"mute",t)&&this.emit("mute",this,t)}},setMute:function(t){return this.mute=t,this},volume:{get:function(){return this.currentConfig.volume},set:function(t){this.currentConfig.volume=t,!this.manager.isLocked(this,"volume",t)&&this.emit("volume",this,t)}},setVolume:function(t){return this.volume=t,this},rate:{get:function(){return this.currentConfig.rate},set:function(t){this.currentConfig.rate=t,!this.manager.isLocked(this,"rate",t)&&(this.calculateRate(),this.emit("rate",this,t))}},setRate:function(t){return this.rate=t,this},detune:{get:function(){return this.currentConfig.detune},set:function(t){this.currentConfig.detune=t,!this.manager.isLocked(this,"detune",t)&&(this.calculateRate(),this.emit("detune",this,t))}},setDetune:function(t){return this.detune=t,this},seek:{get:function(){return this.isPlaying?this.audio.currentTime-(this.currentMarker?this.currentMarker.start:0):this.isPaused?this.currentConfig.seek:0},set:function(t){this.manager.isLocked(this,"seek",t)||this.startTime>0||(this.isPlaying||this.isPaused)&&(t=Math.min(Math.max(0,t),this.duration),this.isPlaying?(this.previousTime=t,this.audio.currentTime=t):this.isPaused&&(this.currentConfig.seek=t),this.emit("seek",this,t))}},setSeek:function(t){return this.seek=t,this},loop:{get:function(){return this.currentConfig.loop},set:function(t){this.currentConfig.loop=t,!this.manager.isLocked(this,"loop",t)&&(this.audio&&(this.audio.loop=t),this.emit("loop",this,t))}},setLoop:function(t){return this.loop=t,this}}),K2=Xtt;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var Ud=Nc,Utt=b,Htt=K2,qtt=new Utt({Extends:Ud,initialize:function(e){this.override=!0,this.audioPlayDelay=.1,this.loopEndOffset=.05,this.onBlurPausedSounds=[],this.locked="ontouchstart"in window,this.lockedActionsQueue=this.locked?[]:null,this._mute=!1,this._volume=1,Ud.call(this,e)},add:function(t,e){var i=new Htt(this,t,e);return this.sounds.push(i),i},unlock:function(){this.locked=!1;var t=this;if(this.game.cache.audio.entries.each(function(n,s){for(var a=0;a<s.length;a++)if(s[a].dataset.locked==="true")return t.locked=!0,!1;return!0}),!!this.locked){var e=!1,i=function(){e=!0},r=function(){if(e){e=!1;return}document.body.removeEventListener("touchmove",i),document.body.removeEventListener("touchend",r);var n=[];if(t.game.cache.audio.entries.each(function(a,o){for(var h=0;h<o.length;h++){var l=o[h];l.dataset.locked==="true"&&n.push(l)}return!0}),n.length!==0){var s=n[n.length-1];s.oncanplaythrough=function(){s.oncanplaythrough=null,n.forEach(function(a){a.dataset.locked="false"}),t.unlocked=!0},n.forEach(function(a){a.load()})}};this.once("unlocked",function(){for(this.forEachActiveSound(function(s){s.currentMarker===null&&s.duration===0&&(s.duration=s.tags[0].duration),s.totalDuration=s.tags[0].duration});this.lockedActionsQueue.length;){var n=this.lockedActionsQueue.shift();n.sound[n.prop].apply?n.sound[n.prop].apply(n.sound,n.value||[]):n.sound[n.prop]=n.value}},this),document.body.addEventListener("touchmove",i,!1),document.body.addEventListener("touchend",r,!1)}},onBlur:function(){this.forEachActiveSound(function(t){t.isPlaying&&(this.onBlurPausedSounds.push(t),t.onBlur())})},onFocus:function(){this.onBlurPausedSounds.forEach(function(t){t.onFocus()}),this.onBlurPausedSounds.length=0},destroy:function(){Ud.prototype.destroy.call(this),this.onBlurPausedSounds.length=0,this.onBlurPausedSounds=null},isLocked:function(t,e,i){return t.tags[0].dataset.locked==="true"?(this.lockedActionsQueue.push({sound:t,prop:e,value:i}),!0):!1},setMute:function(t){return this.mute=t,this},mute:{get:function(){return this._mute},set:function(t){this._mute=t,this.forEachActiveSound(function(e){e.updateMute()}),this.emit("mute",this,t)}},setVolume:function(t){return this.volume=t,this},volume:{get:function(){return this._volume},set:function(t){this._volume=t,this.forEachActiveSound(function(e){e.updateVolume()}),this.emit("volume",this,t)}}}),J2=qtt;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var Ktt=Yc,Jtt=b,mT=Bt.exports,jtt=Ae,Ztt=new Jtt({Extends:mT,initialize:function(e,i,r){r===void 0&&(r={}),mT.call(this),this.manager=e,this.key=i,this.isPlaying=!1,this.isPaused=!1,this.totalRate=1,this.duration=0,this.totalDuration=0,this.config=jtt({mute:!1,volume:1,rate:1,detune:0,seek:0,loop:!1,delay:0},r),this.currentConfig=this.config,this.mute=!1,this.volume=1,this.rate=1,this.detune=0,this.seek=0,this.loop=!1,this.markers={},this.currentMarker=null,this.pendingRemove=!1},addMarker:function(t){return!1},updateMarker:function(t){return!1},removeMarker:function(t){return null},play:function(t,e){return!1},pause:function(){return!1},resume:function(){return!1},stop:function(){return!1},destroy:function(){this.manager.remove(this),Ktt.prototype.destroy.call(this)}}),j2=Ztt;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var Au=Nc,Qtt=b,yT=Bt.exports,tet=j2,Dn=W,eet=new Qtt({Extends:yT,initialize:function(e){yT.call(this),this.game=e,this.sounds=[],this.mute=!1,this.volume=1,this.rate=1,this.detune=0,this.pauseOnBlur=!0,this.locked=!1},add:function(t,e){var i=new tet(this,t,e);return this.sounds.push(i),i},addAudioSprite:function(t,e){var i=this.add(t,e);return i.spritemap={},i},play:function(t,e){return!1},playAudioSprite:function(t,e,i){return!1},remove:function(t){return Au.prototype.remove.call(this,t)},removeByKey:function(t){return Au.prototype.removeByKey.call(this,t)},pauseAll:Dn,resumeAll:Dn,stopAll:Dn,update:Dn,setRate:Dn,setDetune:Dn,setMute:Dn,setVolume:Dn,forEachActiveSound:function(t,e){Au.prototype.forEachActiveSound.call(this,t,e)},destroy:function(){Au.prototype.destroy.call(this)}}),Z2=eet;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var yr=Yc,iet=b,ret=new iet({Extends:yr,initialize:function(e,i,r){if(r===void 0&&(r={}),this.audioBuffer=e.game.cache.audio.get(i),!this.audioBuffer){console.warn("Audio cache entry missing: "+i);return}this.source=null,this.loopSource=null,this.muteNode=e.context.createGain(),this.volumeNode=e.context.createGain(),this.playTime=0,this.startTime=0,this.loopTime=0,this.rateUpdates=[],this.hasEnded=!1,this.hasLooped=!1,this.muteNode.connect(this.volumeNode),this.volumeNode.connect(e.destination),this.duration=this.audioBuffer.duration,this.totalDuration=this.audioBuffer.duration,yr.call(this,e,i,r)},play:function(t,e){return yr.prototype.play.call(this,t,e)?(this.stopAndRemoveBufferSource(),this.createAndStartBufferSource(),this.emit("play",this),!0):!1},pause:function(){return this.manager.context.currentTime<this.startTime||!yr.prototype.pause.call(this)?!1:(this.currentConfig.seek=this.getCurrentTime(),this.stopAndRemoveBufferSource(),this.emit("pause",this),!0)},resume:function(){return this.manager.context.currentTime<this.startTime||!yr.prototype.resume.call(this)?!1:(this.createAndStartBufferSource(),this.emit("resume",this),!0)},stop:function(){return yr.prototype.stop.call(this)?(this.stopAndRemoveBufferSource(),this.emit("stop",this),!0):!1},createAndStartBufferSource:function(){var t=this.currentConfig.seek,e=this.currentConfig.delay,i=this.manager.context.currentTime+e,r=(this.currentMarker?this.currentMarker.start:0)+t,n=this.duration-t;this.playTime=i-t,this.startTime=i,this.source=this.createBufferSource(),this.applyConfig(),this.source.start(Math.max(0,i),Math.max(0,r),Math.max(0,n)),this.resetConfig()},createAndStartLoopBufferSource:function(){var t=this.getLoopTime(),e=this.currentMarker?this.currentMarker.start:0,i=this.duration;this.loopTime=t,this.loopSource=this.createBufferSource(),this.loopSource.playbackRate.setValueAtTime(this.totalRate,0),this.loopSource.start(Math.max(0,t),Math.max(0,e),Math.max(0,i))},createBufferSource:function(){var t=this,e=this.manager.context.createBufferSource();return e.buffer=this.audioBuffer,e.connect(this.muteNode),e.onended=function(i){i.target===t.source&&(t.currentConfig.loop?t.hasLooped=!0:t.hasEnded=!0)},e},stopAndRemoveBufferSource:function(){this.source&&(this.source.stop(),this.source.disconnect(),this.source=null),this.playTime=0,this.startTime=0,this.stopAndRemoveLoopBufferSource()},stopAndRemoveLoopBufferSource:function(){this.loopSource&&(this.loopSource.stop(),this.loopSource.disconnect(),this.loopSource=null),this.loopTime=0},applyConfig:function(){this.rateUpdates.length=0,this.rateUpdates.push({time:0,rate:1}),yr.prototype.applyConfig.call(this)},update:function(t,e){this.hasEnded?(this.hasEnded=!1,yr.prototype.stop.call(this),this.stopAndRemoveBufferSource(),this.emit("ended",this)):this.hasLooped&&(this.hasLooped=!1,this.source=this.loopSource,this.loopSource=null,this.playTime=this.startTime=this.loopTime,this.rateUpdates.length=0,this.rateUpdates.push({time:0,rate:this.totalRate}),this.createAndStartLoopBufferSource(),this.emit("looped",this))},destroy:function(){yr.prototype.destroy.call(this),this.audioBuffer=null,this.stopAndRemoveBufferSource(),this.muteNode.disconnect(),this.muteNode=null,this.volumeNode.disconnect(),this.volumeNode=null,this.rateUpdates.length=0,this.rateUpdates=null},calculateRate:function(){yr.prototype.calculateRate.call(this);var t=this.manager.context.currentTime;this.source&&typeof this.totalRate=="number"&&this.source.playbackRate.setValueAtTime(this.totalRate,t),this.isPlaying&&(this.rateUpdates.push({time:Math.max(this.startTime,t)-this.playTime,rate:this.totalRate}),this.loopSource&&(this.stopAndRemoveLoopBufferSource(),this.createAndStartLoopBufferSource()))},getCurrentTime:function(){for(var t=0,e=0;e<this.rateUpdates.length;e++){var i=0;e<this.rateUpdates.length-1?i=this.rateUpdates[e+1].time:i=this.manager.context.currentTime-this.playTime,t+=(i-this.rateUpdates[e].time)*this.rateUpdates[e].rate}return t},getLoopTime:function(){for(var t=0,e=0;e<this.rateUpdates.length-1;e++)t+=(this.rateUpdates[e+1].time-this.rateUpdates[e].time)*this.rateUpdates[e].rate;var i=this.rateUpdates[this.rateUpdates.length-1];return this.playTime+i.time+(this.duration-t)/i.rate},rate:{get:function(){return this.currentConfig.rate},set:function(t){this.currentConfig.rate=t,this.calculateRate(),this.emit("rate",this,t)}},setRate:function(t){return this.rate=t,this},detune:{get:function(){return this.currentConfig.detune},set:function(t){this.currentConfig.detune=t,this.calculateRate(),this.emit("detune",this,t)}},setDetune:function(t){return this.detune=t,this},mute:{get:function(){return this.muteNode.gain.value===0},set:function(t){this.currentConfig.mute=t,this.muteNode.gain.setValueAtTime(t?0:1,0),this.emit("mute",this,t)}},setMute:function(t){return this.mute=t,this},volume:{get:function(){return this.volumeNode.gain.value},set:function(t){this.currentConfig.volume=t,this.volumeNode.gain.setValueAtTime(t,0),this.emit("volume",this,t)}},setVolume:function(t){return this.volume=t,this},seek:{get:function(){return this.isPlaying?this.manager.context.currentTime<this.startTime?this.startTime-this.playTime:this.getCurrentTime():this.isPaused?this.currentConfig.seek:0},set:function(t){this.manager.context.currentTime<this.startTime||(this.isPlaying||this.isPaused)&&(t=Math.min(Math.max(0,t),this.duration),this.currentConfig.seek=t,this.isPlaying&&(this.stopAndRemoveBufferSource(),this.createAndStartBufferSource()),this.emit("seek",this,t))}},setSeek:function(t){return this.seek=t,this},loop:{get:function(){return this.currentConfig.loop},set:function(t){this.currentConfig.loop=t,this.isPlaying&&(this.stopAndRemoveLoopBufferSource(),t&&this.createAndStartLoopBufferSource()),this.emit("loop",this,t)}},setLoop:function(t){return this.loop=t,this}}),Q2=ret;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var Hd=Nc,net=b,set=Q2,aet=new net({Extends:Hd,initialize:function(e){this.context=this.createAudioContext(e),this.masterMuteNode=this.context.createGain(),this.masterVolumeNode=this.context.createGain(),this.masterMuteNode.connect(this.masterVolumeNode),this.masterVolumeNode.connect(this.context.destination),this.destination=this.masterMuteNode,this.locked=this.context.state==="suspended"&&("ontouchstart"in window||"onclick"in window),Hd.call(this,e),this.locked&&this.unlock()},createAudioContext:function(t){var e=t.config.audio;return e&&e.context?(e.context.resume(),e.context):new AudioContext},add:function(t,e){var i=new set(this,t,e);return this.sounds.push(i),i},unlock:function(){var t=this,e=function(){t.context.resume().then(function(){document.body.removeEventListener("touchstart",e),document.body.removeEventListener("touchend",e),document.body.removeEventListener("click",e),t.unlocked=!0})};document.body&&(document.body.addEventListener("touchstart",e,!1),document.body.addEventListener("touchend",e,!1),document.body.addEventListener("click",e,!1))},onBlur:function(){this.context.suspend()},onFocus:function(){this.context.resume()},destroy:function(){if(this.destination=null,this.masterVolumeNode.disconnect(),this.masterVolumeNode=null,this.masterMuteNode.disconnect(),this.masterMuteNode=null,this.game.config.audio&&this.game.config.audio.context)this.context.suspend();else{var t=this;this.context.close().then(function(){t.context=null})}Hd.prototype.destroy.call(this)},setMute:function(t){return this.mute=t,this},mute:{get:function(){return this.masterMuteNode.gain.value===0},set:function(t){this.masterMuteNode.gain.setValueAtTime(t?0:1,0),this.emit("mute",this,t)}},setVolume:function(t){return this.volume=t,this},volume:{get:function(){return this.masterVolumeNode.gain.value},set:function(t){this.masterVolumeNode.gain.setValueAtTime(t,0),this.emit("volume",this,t)}}}),tF=aet;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var oet=J2,het=Z2,uet=tF,fet={create:function(t){var e=t.config.audio,i=t.device.audio;return e&&e.noAudio||!i.webAudio&&!i.audioData?new het(t):i.webAudio&&!(e&&e.disableWebAudio)?new uet(t):new oet(t)}},eF=fet;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var cet=b,Ba=ei,det=Ae,iF=new cet({initialize:function(e,i,r,n,s,a,o){this.texture=e,this.name=i,this.source=e.source[r],this.sourceIndex=r,this.glTexture=this.source.glTexture,this.cutX,this.cutY,this.cutWidth,this.cutHeight,this.x=0,this.y=0,this.width,this.height,this.halfWidth,this.halfHeight,this.centerX,this.centerY,this.pivotX=0,this.pivotY=0,this.customPivot=!1,this.rotated=!1,this.autoRound=-1,this.customData={},this.u0=0,this.v0=0,this.u1=0,this.v1=0,this.data={cut:{x:0,y:0,w:0,h:0,r:0,b:0},trim:!1,sourceSize:{w:0,h:0},spriteSourceSize:{x:0,y:0,w:0,h:0,r:0,b:0},radius:0,drawImage:{x:0,y:0,width:0,height:0}},this.setSize(a,o,n,s)},setSize:function(t,e,i,r){i===void 0&&(i=0),r===void 0&&(r=0),this.cutX=i,this.cutY=r,this.cutWidth=t,this.cutHeight=e,this.width=t,this.height=e,this.halfWidth=Math.floor(t*.5),this.halfHeight=Math.floor(e*.5),this.centerX=Math.floor(t/2),this.centerY=Math.floor(e/2);var n=this.data,s=n.cut;s.x=i,s.y=r,s.w=t,s.h=e,s.r=i+t,s.b=r+e,n.sourceSize.w=t,n.sourceSize.h=e,n.spriteSourceSize.w=t,n.spriteSourceSize.h=e,n.radius=.5*Math.sqrt(t*t+e*e);var a=n.drawImage;return a.x=i,a.y=r,a.width=t,a.height=e,this.updateUVs()},setTrim:function(t,e,i,r,n,s){var a=this.data,o=a.spriteSourceSize;return a.trim=!0,a.sourceSize.w=t,a.sourceSize.h=e,o.x=i,o.y=r,o.w=n,o.h=s,o.r=i+n,o.b=r+s,this.x=i,this.y=r,this.width=n,this.height=s,this.halfWidth=n*.5,this.halfHeight=s*.5,this.centerX=Math.floor(n/2),this.centerY=Math.floor(s/2),this.updateUVs()},setCropUVs:function(t,e,i,r,n,s,a){var o=this.cutX,h=this.cutY,l=this.cutWidth,u=this.cutHeight,f=this.realWidth,c=this.realHeight;e=Ba(e,0,f),i=Ba(i,0,c),r=Ba(r,0,f-e),n=Ba(n,0,c-i);var d=o+e,g=h+i,v=r,p=n,m=this.data;if(m.trim){var y=m.spriteSourceSize;r=Ba(r,0,l-e),n=Ba(n,0,u-i);var x=e+r,T=i+n,_=!(y.r<e||y.b<i||y.x>x||y.y>T);if(_){var w=Math.max(y.x,e),S=Math.max(y.y,i),C=Math.min(y.r,x)-w,R=Math.min(y.b,T)-S;v=C,p=R,s?d=o+(l-(w-y.x)-C):d=o+(w-y.x),a?g=h+(u-(S-y.y)-R):g=h+(S-y.y),e=w,i=S,r=C,n=R}else d=0,g=0,v=0,p=0}else s&&(d=o+(l-e-r)),a&&(g=h+(u-i-n));var L=this.source.width,E=this.source.height;return t.u0=Math.max(0,d/L),t.v0=Math.max(0,g/E),t.u1=Math.min(1,(d+v)/L),t.v1=Math.min(1,(g+p)/E),t.x=e,t.y=i,t.cx=d,t.cy=g,t.cw=v,t.ch=p,t.width=r,t.height=n,t.flipX=s,t.flipY=a,t},updateCropUVs:function(t,e,i){return this.setCropUVs(t,t.x,t.y,t.width,t.height,e,i)},updateUVs:function(){var t=this.cutX,e=this.cutY,i=this.cutWidth,r=this.cutHeight,n=this.data.drawImage;n.width=i,n.height=r;var s=this.source.width,a=this.source.height;return this.u0=t/s,this.v0=e/a,this.u1=(t+i)/s,this.v1=(e+r)/a,this},updateUVsInverted:function(){var t=this.source.width,e=this.source.height;return this.u0=(this.cutX+this.cutHeight)/t,this.v0=this.cutY/e,this.u1=this.cutX/t,this.v1=(this.cutY+this.cutWidth)/e,this},clone:function(){var t=new iF(this.texture,this.name,this.sourceIndex);return t.cutX=this.cutX,t.cutY=this.cutY,t.cutWidth=this.cutWidth,t.cutHeight=this.cutHeight,t.x=this.x,t.y=this.y,t.width=this.width,t.height=this.height,t.halfWidth=this.halfWidth,t.halfHeight=this.halfHeight,t.centerX=this.centerX,t.centerY=this.centerY,t.rotated=this.rotated,t.data=det(!0,t.data,this.data),t.updateUVs(),t},destroy:function(){this.texture=null,this.source=null},realWidth:{get:function(){return this.data.sourceSize.w}},realHeight:{get:function(){return this.data.sourceSize.h}},radius:{get:function(){return this.data.radius}},trimmed:{get:function(){return this.data.trim}},canvasData:{get:function(){return this.data.drawImage}}}),Vc=iF;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var vet=wi,pet=b,get=Gc,met=dl,yet=new pet({initialize:function(e,i,r,n){var s=e.manager.game;this.renderer=s.renderer,this.texture=e,this.source=i,this.image=i,this.compressionAlgorithm=null,this.resolution=1,this.width=r||i.naturalWidth||i.width||0,this.height=n||i.naturalHeight||i.height||0,this.scaleMode=met.DEFAULT,this.isCanvas=i instanceof HTMLCanvasElement,this.isRenderTexture=i.type==="RenderTexture",this.isPowerOf2=get(this.width,this.height),this.glTexture=null,this.init(s)},init:function(t){this.renderer&&(this.renderer.gl?this.isCanvas?this.glTexture=this.renderer.canvasToTexture(this.image):this.isRenderTexture?(this.image=this.source.canvas,this.glTexture=this.renderer.createTextureFromSource(null,this.width,this.height,this.scaleMode)):this.glTexture=this.renderer.createTextureFromSource(this.image,this.width,this.height,this.scaleMode):this.isRenderTexture&&(this.image=this.source.canvas)),t.config.antialias||this.setFilter(1)},setFilter:function(t){this.renderer.gl&&this.renderer.setTextureFilter(this.glTexture,t)},update:function(){this.renderer.gl&&this.isCanvas&&(this.glTexture=this.renderer.canvasToTexture(this.image,this.glTexture))},destroy:function(){this.glTexture&&this.renderer.deleteTexture(this.glTexture),this.isCanvas&&vet.remove(this.image),this.renderer=null,this.texture=null,this.source=null,this.image=null,this.glTexture=null}}),rF=yet;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var xet=b,_et=Vc,xT=rF,qd="Texture.frame missing: ",Tet=new xet({initialize:function(e,i,r,n,s){Array.isArray(r)||(r=[r]),this.manager=e,this.key=i,this.source=[],this.dataSource=[],this.frames={},this.customData={},this.firstFrame="__BASE",this.frameTotal=0;for(var a=0;a<r.length;a++)this.source.push(new xT(this,r[a],n,s))},add:function(t,e,i,r,n,s){var a=new _et(this,t,e,i,r,n,s);return this.frames[t]=a,this.frameTotal===1&&(this.firstFrame=t),this.frameTotal++,a},has:function(t){return this.frames[t]},get:function(t){t||(t=this.firstFrame);var e=this.frames[t];return e||(console.warn(qd+t),e=this.frames[this.firstFrame]),e},getTextureSourceIndex:function(t){for(var e=0;e<this.source.length;e++)if(this.source[e]===t)return e;return-1},getFramesFromTextureSource:function(t,e){e===void 0&&(e=!1);var i=[];for(var r in this.frames)if(!(r==="__BASE"&&!e)){var n=this.frames[r];n.sourceIndex===t&&i.push(n)}return i},getFrameNames:function(t){t===void 0&&(t=!1);var e=Object.keys(this.frames);if(!t){var i=e.indexOf("__BASE");i!==-1&&e.splice(i,1)}return e},getSourceImage:function(t){(t==null||this.frameTotal===1)&&(t="__BASE");var e=this.frames[t];return e?e.source.image:(console.warn(qd+t),this.frames.__BASE.source.image)},getDataSourceImage:function(t){(t==null||this.frameTotal===1)&&(t="__BASE");var e=this.frames[t],i;return e?i=e.sourceIndex:(console.warn(qd+t),i=this.frames.__BASE.sourceIndex),this.dataSource[i].image},setDataSource:function(t){Array.isArray(t)||(t=[t]);for(var e=0;e<t.length;e++){var i=this.source[e];this.dataSource.push(new xT(this,t[e],i.width,i.height))}},setFilter:function(t){var e;for(e=0;e<this.source.length;e++)this.source[e].setFilter(t);for(e=0;e<this.dataSource.length;e++)this.dataSource[e].setFilter(t)},destroy:function(){var t;for(t=0;t<this.source.length;t++)this.source[t].destroy();for(t=0;t<this.dataSource.length;t++)this.dataSource[t].destroy();for(var e in this.frames){var i=this.frames[e];i.destroy()}this.source=[],this.dataSource=[],this.frames={},this.manager=null}}),ey=Tet;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var wet=b,Cet=An,bet=Gc,_T=ey,Met=new wet({Extends:_T,initialize:function(e,i,r,n,s){_T.call(this,e,i,r,n,s),this.add("__BASE",0,0,0,n,s),this._source=this.frames.__BASE.source,this.canvas=this._source.image,this.context=this.canvas.getContext("2d"),this.width=n,this.height=s,this.imageData=this.context.getImageData(0,0,n,s),this.data=null,this.imageData&&(this.data=this.imageData.data),this.pixels=null,this.buffer,this.data&&(this.imageData.data.buffer?(this.buffer=this.imageData.data.buffer,this.pixels=new Uint32Array(this.buffer)):window.ArrayBuffer?(this.buffer=new ArrayBuffer(this.imageData.data.length),this.pixels=new Uint32Array(this.buffer)):this.pixels=this.imageData.data)},update:function(){return this.imageData=this.context.getImageData(0,0,this.width,this.height),this.data=this.imageData.data,this.imageData.data.buffer?(this.buffer=this.imageData.data.buffer,this.pixels=new Uint32Array(this.buffer)):window.ArrayBuffer?(this.buffer=new ArrayBuffer(this.imageData.data.length),this.pixels=new Uint32Array(this.buffer)):this.pixels=this.imageData.data,this},draw:function(t,e,i){return this.context.drawImage(i,t,e),this.update()},getPixel:function(t,e,i){i||(i=new Cet);var r=~~(t+e*this.width);r*=4;var n=this.data[r],s=this.data[++r],a=this.data[++r],o=this.data[++r];return i.setTo(n,s,a,o)},refresh:function(){return this._source.update(),this},getCanvas:function(){return this.canvas},getContext:function(){return this.context},clear:function(){return this.context.clearRect(0,0,this.width,this.height),this.update()},setSize:function(t,e){return e===void 0&&(e=t),(t!==this.width||e!==this.height)&&(this.canvas.width=t,this.canvas.height=e,this._source.width=t,this._source.height=e,this._source.isPowerOf2=bet(t,e),this.frames.__BASE.setSize(t,e,0,0),this.refresh()),this}}),Pet=Met;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var Aet=function(t,e,i){if(!i.getElementsByTagName("TextureAtlas")){console.warn("Invalid Texture Atlas XML given");return}var r=t.source[e];t.add("__BASE",e,0,0,r.width,r.height);for(var n=i.getElementsByTagName("SubTexture"),s,a=0;a<n.length;a++){var o=n[a].attributes,h=o.name.value,l=parseInt(o.x.value,10),u=parseInt(o.y.value,10),f=parseInt(o.width.value,10),c=parseInt(o.height.value,10);if(s=t.add(h,e,l,u,f,c),o.frameX){var d=Math.abs(parseInt(o.frameX.value,10)),g=Math.abs(parseInt(o.frameY.value,10)),v=parseInt(o.frameWidth.value,10),p=parseInt(o.frameHeight.value,10);s.setTrim(f,c,d,g,v,p)}}return t},Ret=Aet;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var Fet=function(t,e){var i=t.source[e];return t.add("__BASE",e,0,0,i.width,i.height),t},Eet=Fet;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var Let=function(t,e){var i=t.source[e];return t.add("__BASE",e,0,0,i.width,i.height),t},$et=Let;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var Oet=ya,Iet=function(t,e,i){if(!i.frames&&!i.textures){console.warn("Invalid Texture Atlas JSON Array");return}var r=t.source[e];t.add("__BASE",e,0,0,r.width,r.height);for(var n=Array.isArray(i.textures)?i.textures[e].frames:i.frames,s,a=0;a<n.length;a++){var o=n[a];s=t.add(o.filename,e,o.frame.x,o.frame.y,o.frame.w,o.frame.h),o.trimmed&&s.setTrim(o.sourceSize.w,o.sourceSize.h,o.spriteSourceSize.x,o.spriteSourceSize.y,o.spriteSourceSize.w,o.spriteSourceSize.h),o.rotated&&(s.rotated=!0,s.updateUVsInverted()),o.anchor&&(s.customPivot=!0,s.pivotX=o.anchor.x,s.pivotY=o.anchor.y),s.customData=Oet(o)}for(var h in i)h!=="frames"&&(Array.isArray(i[h])?t.customData[h]=i[h].slice(0):t.customData[h]=i[h]);return t},Det=Iet;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var Bet=ya,ket=function(t,e,i){if(!i.frames){console.warn("Invalid Texture Atlas JSON Hash given, missing 'frames' Object");return}var r=t.source[e];t.add("__BASE",e,0,0,r.width,r.height);var n=i.frames,s;for(var a in n){var o=n[a];s=t.add(a,e,o.frame.x,o.frame.y,o.frame.w,o.frame.h),o.trimmed&&s.setTrim(o.sourceSize.w,o.sourceSize.h,o.spriteSourceSize.x,o.spriteSourceSize.y,o.spriteSourceSize.w,o.spriteSourceSize.h),o.rotated&&(s.rotated=!0,s.updateUVsInverted()),s.customData=Bet(o)}for(var h in i)h!=="frames"&&(Array.isArray(i[h])?t.customData[h]=i[h].slice(0):t.customData[h]=i[h]);return t},Get=ket;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var ka=V,zet=function(t,e,i,r,n,s,a){var o=ka(a,"frameWidth",null),h=ka(a,"frameHeight",o);if(o===null)throw new Error("TextureManager.SpriteSheet: Invalid frameWidth given.");var l=t.source[e];t.add("__BASE",e,0,0,l.width,l.height);var u=ka(a,"startFrame",0),f=ka(a,"endFrame",-1),c=ka(a,"margin",0),d=ka(a,"spacing",0),g=Math.floor((n-c+d)/(o+d)),v=Math.floor((s-c+d)/(h+d)),p=g*v;p===0&&console.warn("SpriteSheet frame dimensions will result in zero frames."),(u>p||u<-p)&&(u=0),u<0&&(u=p+u),f!==-1&&(p=u+(f+1));for(var m=c,y=c,x=0,T=0,_=0;_<p;_++){x=0,T=0;var w=m+o,S=y+h;w>n&&(x=w-n),S>s&&(T=S-s),t.add(_,e,i+m,r+y,o-x,h-T),m+=o+d,m+o>n&&(m=c,y+=h+d)}return t},Net=zet;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var Ga=V,Yet=function(t,e,i){var r=Ga(i,"frameWidth",null),n=Ga(i,"frameHeight",r);if(!r)throw new Error("TextureManager.SpriteSheetFromAtlas: Invalid frameWidth given.");Ga(i,"startFrame",0),Ga(i,"endFrame",-1);for(var s=Ga(i,"margin",0),a=Ga(i,"spacing",0),o=e.cutX,h=e.cutY,l=e.cutWidth,u=e.cutHeight,f=e.realWidth,c=e.realHeight,d=Math.floor((f-s+a)/(r+a)),g=Math.floor((c-s+a)/(n+a)),v=e.x,p=r-v,m=r-(f-l-v),y=e.y,x=n-y,T=n-(c-u-y),_,w=s,S=s,C=0,R=e.sourceIndex,L=0;L<g;L++){for(var E=L===0,O=L===g-1,A=0;A<d;A++){var F=A===0,M=A===d-1;if(_=t.add(C,R,o+w,h+S,r,n),F||E||M||O){var P=F?v:0,$=E?y:0,I=r,D=n;F?I=p:M&&(I=m),E?D=x:O&&(D=T),_.cutWidth=I,_.cutHeight=D,_.setTrim(r,n,P,$,I,D)}w+=a,F?w+=p:M?w+=M:w+=r,C++}w=s,S+=a,E?S+=x:O?S+=T:S+=n}return t},Vet=Yet;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var nF=0,TT=function(t,e,i,r){var n=nF-r.y-r.height;t.add(i,e,r.x,n,r.width,r.height)},Wet=function(t,e,i){var r=t.source[e];t.add("__BASE",e,0,0,r.width,r.height),nF=r.height;for(var n=i.split(`
`),s=/^[ ]*(- )*(\w+)+[: ]+(.*)/,a="",o="",h={x:0,y:0,width:0,height:0},l=0;l<n.length;l++){var u=n[l].match(s);if(!!u){var f=u[1]==="- ",c=u[2],d=u[3];if(f&&(o!==a&&(TT(t,e,o,h),a=o),h={x:0,y:0,width:0,height:0}),c==="name"){o=d;continue}switch(c){case"x":case"y":case"width":case"height":h[c]=parseInt(d,10);break}}}return o!==a&&TT(t,e,o,h),t},Xet=Wet;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var sF={AtlasXML:Ret,Canvas:Eet,Image:$et,JSONArray:Det,JSONHash:Get,SpriteSheet:Net,SpriteSheetFromAtlas:Vet,UnityYAML:Xet};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var za=wi,wT=Pet,Uet=b,Het=An,qet=_i,ST=Bt.exports,Ket=s2,CT=ut,or=sF,Jet=ey,jet=new Uet({Extends:ST,initialize:function(e){ST.call(this),this.game=e,this.name="TextureManager",this.list={},this._tempCanvas=za.create2D(this,1,1),this._tempContext=this._tempCanvas.getContext("2d"),this._pending=0,e.events.once("boot",this.boot,this)},boot:function(){this._pending=2,this.on("onload",this.updatePending,this),this.on("onerror",this.updatePending,this),this.addBase64("__DEFAULT",this.game.config.defaultImage),this.addBase64("__MISSING",this.game.config.missingImage),this.game.events.once("destroy",this.destroy,this)},updatePending:function(){this._pending--,this._pending===0&&(this.off("onload"),this.off("onerror"),this.game.events.emit("texturesready"))},checkKey:function(t){return this.exists(t)?(console.error("Texture key already in use: "+t),!1):!0},remove:function(t){if(typeof t=="string")if(this.exists(t))t=this.get(t);else return console.warn("No texture found matching key: "+t),this;return this.list.hasOwnProperty(t.key)&&(delete this.list[t.key],t.destroy(),this.emit("removetexture",t.key)),this},addBase64:function(t,e){if(this.checkKey(t)){var i=this,r=new Image;r.onerror=function(){i.emit("onerror",t)},r.onload=function(){var n=i.create(t,r);or.Image(n,0),i.emit("addtexture",t,n),i.emit("onload",t,n)},r.src=e}return this},getBase64:function(t,e,i,r){i===void 0&&(i="image/png"),r===void 0&&(r=.92);var n="",s=this.getFrame(t,e);if(s){var a=s.canvasData,o=za.create2D(this,a.width,a.height),h=o.getContext("2d");h.drawImage(s.source.image,a.x,a.y,a.width,a.height,0,0,a.width,a.height),n=o.toDataURL(i,r),za.remove(o)}return n},addImage:function(t,e,i){var r=null;return this.checkKey(t)&&(r=this.create(t,e),or.Image(r,0),i&&r.setDataSource(i),this.emit("addtexture",t,r)),r},addRenderTexture:function(t,e){var i=null;return this.checkKey(t)&&(i=this.create(t,e),i.add("__BASE",0,0,0,e.width,e.height),this.emit("addtexture",t,i)),i},generate:function(t,e){if(this.checkKey(t)){var i=za.create(this,1,1);return e.canvas=i,Ket(e),this.addCanvas(t,i)}else return null},createCanvas:function(t,e,i){if(e===void 0&&(e=256),i===void 0&&(i=256),this.checkKey(t)){var r=za.create(this,e,i,qet.CANVAS,!0);return this.addCanvas(t,r)}return null},addCanvas:function(t,e,i){i===void 0&&(i=!1);var r=null;return i?r=new wT(this,t,e,e.width,e.height):this.checkKey(t)&&(r=new wT(this,t,e,e.width,e.height),this.list[t]=r,this.emit("addtexture",t,r)),r},addAtlas:function(t,e,i,r){return Array.isArray(i.textures)||Array.isArray(i.frames)?this.addAtlasJSONArray(t,e,i,r):this.addAtlasJSONHash(t,e,i,r)},addAtlasJSONArray:function(t,e,i,r){var n=null;if(this.checkKey(t)){if(n=this.create(t,e),Array.isArray(i))for(var s=i.length===1,a=0;a<n.source.length;a++){var o=s?i[0]:i[a];or.JSONArray(n,a,o)}else or.JSONArray(n,0,i);r&&n.setDataSource(r),this.emit("addtexture",t,n)}return n},addAtlasJSONHash:function(t,e,i,r){var n=null;if(this.checkKey(t)){if(n=this.create(t,e),Array.isArray(i))for(var s=0;s<i.length;s++)or.JSONHash(n,s,i[s]);else or.JSONHash(n,0,i);r&&n.setDataSource(r),this.emit("addtexture",t,n)}return n},addAtlasXML:function(t,e,i,r){var n=null;return this.checkKey(t)&&(n=this.create(t,e),or.AtlasXML(n,0,i),r&&n.setDataSource(r),this.emit("addtexture",t,n)),n},addUnityAtlas:function(t,e,i,r){var n=null;return this.checkKey(t)&&(n=this.create(t,e),or.UnityYAML(n,0,i),r&&n.setDataSource(r),this.emit("addtexture",t,n)),n},addSpriteSheet:function(t,e,i){var r=null;if(this.checkKey(t)){r=this.create(t,e);var n=r.source[0].width,s=r.source[0].height;or.SpriteSheet(r,0,0,0,n,s,i),this.emit("addtexture",t,r)}return r},addSpriteSheetFromAtlas:function(t,e){if(!this.checkKey(t))return null;var i=CT(e,"atlas",null),r=CT(e,"frame",null);if(!(!i||!r)){var n=this.get(i),s=n.get(r);if(s){var a=this.create(t,s.source.image);return s.trimmed?or.SpriteSheetFromAtlas(a,s,e):or.SpriteSheet(a,0,s.cutX,s.cutY,s.cutWidth,s.cutHeight,e),this.emit("addtexture",t,a),a}}},create:function(t,e,i,r){var n=null;return this.checkKey(t)&&(n=new Jet(this,t,e,i,r),this.list[t]=n),n},exists:function(t){return this.list.hasOwnProperty(t)},get:function(t){return t===void 0&&(t="__DEFAULT"),this.list[t]?this.list[t]:this.list.__MISSING},cloneFrame:function(t,e){if(this.list[t])return this.list[t].get(e).clone()},getFrame:function(t,e){if(this.list[t])return this.list[t].get(e)},getTextureKeys:function(){var t=[];for(var e in this.list)e!=="__DEFAULT"&&e!=="__MISSING"&&t.push(e);return t},getPixel:function(t,e,i,r){var n=this.getFrame(i,r);if(n){t-=n.x,e-=n.y;var s=n.data.cut;if(t+=s.x,e+=s.y,t>=s.x&&t<s.r&&e>=s.y&&e<s.b){var a=this._tempContext;a.clearRect(0,0,1,1),a.drawImage(n.source.image,t,e,1,1,0,0,1,1);var o=a.getImageData(0,0,1,1);return new Het(o.data[0],o.data[1],o.data[2],o.data[3])}}return null},getPixelAlpha:function(t,e,i,r){var n=this.getFrame(i,r);if(n){t-=n.x,e-=n.y;var s=n.data.cut;if(t+=s.x,e+=s.y,t>=s.x&&t<s.r&&e>=s.y&&e<s.b){var a=this._tempContext;a.clearRect(0,0,1,1),a.drawImage(n.source.image,t,e,1,1,0,0,1,1);var o=a.getImageData(0,0,1,1);return o.data[3]}}return null},setTexture:function(t,e,i){return this.list[e]&&(t.texture=this.list[e],t.frame=t.texture.get(i)),t},renameTexture:function(t,e){var i=this.get(t);return i&&t!==e?(i.key=e,this.list[e]=i,delete this.list[t],!0):!1},each:function(t,e){for(var i=[null],r=1;r<arguments.length;r++)i.push(arguments[r]);for(var n in this.list)i[0]=this.list[n],t.apply(e,i)},destroy:function(){for(var t in this.list)this.list[t].destroy();this.list={},this.game=null,za.remove(this._tempCanvas)}}),aF=jet;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var Zet=b,th=ut,bT=W,Qet=T2,tit=new Zet({initialize:function(e,i){this.game=e,this.raf=new Qet,this.started=!1,this.running=!1,this.minFps=th(i,"min",5),this.targetFps=th(i,"target",60),this._min=1e3/this.minFps,this._target=1e3/this.targetFps,this.actualFps=this.targetFps,this.nextFpsUpdate=0,this.framesThisSecond=0,this.callback=bT,this.forceSetTimeOut=th(i,"forceSetTimeOut",!1),this.time=0,this.startTime=0,this.lastTime=0,this.frame=0,this.inFocus=!0,this._pauseTime=0,this._coolDown=0,this.delta=0,this.deltaIndex=0,this.deltaHistory=[],this.deltaSmoothingMax=th(i,"deltaHistory",10),this.panicMax=th(i,"panicMax",120),this.rawDelta=0},blur:function(){this.inFocus=!1},focus:function(){this.inFocus=!0,this.resetDelta()},pause:function(){this._pauseTime=window.performance.now()},resume:function(){this.resetDelta(),this.startTime+=this.time-this._pauseTime},resetDelta:function(){var t=window.performance.now();this.time=t,this.lastTime=t,this.nextFpsUpdate=t+1e3,this.framesThisSecond=0,this.frame=0;for(var e=0;e<this.deltaSmoothingMax;e++)this.deltaHistory[e]=Math.min(this._target,this.deltaHistory[e]);this.delta=0,this.deltaIndex=0,this._coolDown=this.panicMax},start:function(t){if(this.started)return this;this.started=!0,this.running=!0;for(var e=0;e<this.deltaSmoothingMax;e++)this.deltaHistory[e]=this._target;this.resetDelta(),this.startTime=window.performance.now(),this.callback=t,this.raf.start(this.step.bind(this),this.forceSetTimeOut)},step:function(t){this.frame++;var e=t-this.lastTime;e<0&&(e=0),this.rawDelta=e;var i=this.deltaIndex,r=this.deltaHistory,n=this.deltaSmoothingMax,s=e;(this._coolDown>0||!this.inFocus)&&(this._coolDown--,s=Math.min(s,this._target)),s>this._min&&(s=r[i],s=Math.min(s,this._min)),r[i]=s,this.deltaIndex++,this.deltaIndex>n&&(this.deltaIndex=0);for(var a=0,o=0;o<n;o++)a+=r[o];a/=n,this.delta=a,this.time+=this.rawDelta,t>this.nextFpsUpdate&&(this.actualFps=.25*this.framesThisSecond+.75*this.actualFps,this.nextFpsUpdate=t+1e3,this.framesThisSecond=0),this.framesThisSecond++;var h=a/this._target;this.callback(t,a,h),this.lastTime=t},tick:function(){this.step(window.performance.now())},sleep:function(){this.running&&(this.raf.stop(),this.running=!1)},wake:function(t){this.running?this.sleep():t&&(this.startTime+=-this.lastTime+(this.lastTime=window.performance.now())),this.raf.start(this.step.bind(this),this.useRAF),this.running=!0,this.step(window.performance.now())},stop:function(){return this.running=!1,this.started=!1,this.raf.stop(),this},destroy:function(){this.stop(),this.callback=bT,this.raf=null,this.game=null}}),eit=tit;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var iit=function(t){var e,i=t.events;if(document.hidden!==void 0)e="visibilitychange";else{var r=["webkit","moz","ms"];r.forEach(function(s){document[s+"Hidden"]!==void 0&&(document.hidden=function(){return document[s+"Hidden"]},e=s+"visibilitychange")})}var n=function(s){document.hidden||s.type==="pause"?i.emit("hidden"):i.emit("visible")};e&&document.addEventListener(e,n,!1),window.onblur=function(){i.emit("blur")},window.onfocus=function(){i.emit("focus")},window.focus&&t.config.autoFocus&&(window.focus(),t.canvas.addEventListener("mousedown",function(){window.focus()},{passive:!0})),t.canvas&&(t.canvas.onmouseout=function(){t.isOver=!1,i.emit("mouseout")},t.canvas.onmouseover=function(){t.isOver=!0,i.emit("mouseover")})},rit=iit;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var Kd,MT;function nit(){if(MT)return Kd;MT=1;var t=Bc,e=function(i){var r=i.config;if(!(!r.parent||!r.domCreateContainer)){var n=document.createElement("div");n.style=["display: block;","width: "+i.canvas.width+"px;","height: "+i.canvas.height+"px;","padding: 0; margin: 0;","position: absolute;","overflow: hidden;","pointer-events: none;"].join(" "),i.domContainer=n,t(n,r.parent)}};return Kd=e,Kd}/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var Jd,PT;function sit(){if(PT)return Jd;PT=1;var t=function(e,i){return{instance:e,placementID:e.getPlacementID(),shown:!1,video:i}};return Jd=t,Jd}/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var jd,AT;function ait(){if(AT)return jd;AT=1;var t=function(e){return{score:e.getScore(),scoreFormatted:e.getFormattedScore(),timestamp:e.getTimestamp(),rank:e.getRank(),data:e.getExtraData(),playerName:e.getPlayer().getName(),playerPhotoURL:e.getPlayer().getPhoto(),playerID:e.getPlayer().getID()}};return jd=t,jd}/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var Zd,RT;function oit(){if(RT)return Zd;RT=1;var t=b,e=Bt.exports,i=ait(),r=new t({Extends:e,initialize:function(s,a){e.call(this),this.plugin=s,this.ref=a,this.name=a.getName(),this.contextID=a.getContextID(),this.entryCount=0,this.playerScore=null,this.scores=[],this.getEntryCount()},getEntryCount:function(){var n=this;return this.ref.getEntryCountAsync().then(function(s){n.entryCount=s,n.emit("getentrycount",s,n.name)}).catch(function(s){console.warn(s)}),this},setScore:function(n,s){s===void 0&&(s="");var a=this;return this.ref.setScoreAsync(n,s).then(function(o){a.emit("setscore",o.getScore(),o.getExtraData(),a.name)}).catch(function(o){console.warn(o)}),this},getPlayerScore:function(){var n=this;return this.ref.getPlayerEntryAsync().then(function(s){var a=i(s);n.playerScore=a,n.emit("getplayerscore",a,n.name)}).catch(function(s){console.warn(s)}),this},getScores:function(n,s){var a=this;return this.ref.getEntriesAsync().then(function(o){a.scores=[],o.forEach(function(h){a.scores.push(i(h))}),a.emit("getscores",a.scores,a.name)}).catch(function(o){console.warn(o)}),this}});return Zd=r,Zd}/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var Qd,FT;function hit(){if(FT)return Qd;FT=1;var t=V,e=function(i){return{title:t(i,"title",""),productID:t(i,"productID",""),description:t(i,"description",""),imageURI:t(i,"imageURI",""),price:t(i,"price",""),priceCurrencyCode:t(i,"priceCurrencyCode","")}};return Qd=e,Qd}/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var tv,ET;function lit(){if(ET)return tv;ET=1;var t=V,e=function(i){return{developerPayload:t(i,"developerPayload",""),paymentID:t(i,"paymentID",""),productID:t(i,"productID",""),purchaseTime:t(i,"purchaseTime",""),purchaseToken:t(i,"purchaseToken",""),signedRequest:t(i,"signedRequest","")}};return tv=e,tv}var ev,LT;function oF(){if(LT)return ev;LT=1;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var t=sit(),e=b,i=gl,r=Bt.exports,n=oit(),s=hit(),a=lit(),o=new e({Extends:r,initialize:function(l){r.call(this),this.game=l,this.data=new i(this),this.on("setdata",this.setDataHandler,this),this.on("changedata",this.changeDataHandler,this),this.hasLoaded=!1,this.dataLocked=!1,this.supportedAPIs=[],this.entryPoint="",this.entryPointData=null,this.contextID=null,this.contextType=null,this.locale=null,this.platform=null,this.version=null,this.playerID=null,this.playerName=null,this.playerPhotoURL=null,this.playerCanSubscribeBot=!1,this.paymentsReady=!1,this.catalog=[],this.purchases=[],this.leaderboards={},this.ads=[]},setDataHandler:function(h,l,u){if(!this.dataLocked){var f={};f[l]=u;var c=this;FBInstant.player.setDataAsync(f).then(function(){c.emit("savedata",f)})}},changeDataHandler:function(h,l,u){if(!this.dataLocked){var f={};f[l]=u;var c=this;FBInstant.player.setDataAsync(f).then(function(){c.emit("savedata",f)})}},showLoadProgress:function(h){return h.load.on("progress",function(l){this.hasLoaded||FBInstant.setLoadingProgress(l*100)},this),h.load.on("complete",function(){this.hasLoaded||(this.hasLoaded=!0,FBInstant.startGameAsync().then(this.gameStarted.bind(this)))},this),this},gameStarted:function(){var h=FBInstant.getSupportedAPIs(),l={},u=function(c){return c[1].toUpperCase()};h.forEach(function(c){c=c.replace(/\../g,u),l[c]=!0}),this.supportedAPIs=l,this.getID(),this.getType(),this.getLocale(),this.getPlatform(),this.getSDKVersion(),this.getPlayerID(),this.getPlayerName(),this.getPlayerPhotoURL();var f=this;FBInstant.onPause(function(){f.emit("pause")}),FBInstant.getEntryPointAsync().then(function(c){f.entryPoint=c,f.entryPointData=FBInstant.getEntryPointData(),f.emit("startgame")}).catch(function(c){console.warn(c)}),this.supportedAPIs.paymentsPurchaseAsync&&FBInstant.payments.onReady(function(){f.paymentsReady=!0}).catch(function(c){console.warn(c)})},checkAPI:function(h){return!!this.supportedAPIs[h]},getID:function(){return!this.contextID&&this.supportedAPIs.contextGetID&&(this.contextID=FBInstant.context.getID()),this.contextID},getType:function(){return!this.contextType&&this.supportedAPIs.contextGetType&&(this.contextType=FBInstant.context.getType()),this.contextType},getLocale:function(){return!this.locale&&this.supportedAPIs.getLocale&&(this.locale=FBInstant.getLocale()),this.locale},getPlatform:function(){return!this.platform&&this.supportedAPIs.getPlatform&&(this.platform=FBInstant.getPlatform()),this.platform},getSDKVersion:function(){return!this.version&&this.supportedAPIs.getSDKVersion&&(this.version=FBInstant.getSDKVersion()),this.version},getPlayerID:function(){return!this.playerID&&this.supportedAPIs.playerGetID&&(this.playerID=FBInstant.player.getID()),this.playerID},getPlayerName:function(){return!this.playerName&&this.supportedAPIs.playerGetName&&(this.playerName=FBInstant.player.getName()),this.playerName},getPlayerPhotoURL:function(){return!this.playerPhotoURL&&this.supportedAPIs.playerGetPhoto&&(this.playerPhotoURL=FBInstant.player.getPhoto()),this.playerPhotoURL},loadPlayerPhoto:function(h,l){return this.playerPhotoURL&&(h.load.setCORS("anonymous"),h.load.image(l,this.playerPhotoURL),h.load.once("filecomplete_image_"+l,function(){this.emit("photocomplete",l)},this),h.load.start()),this},canSubscribeBot:function(){if(this.supportedAPIs.playerCanSubscribeBotAsync){var h=this;FBInstant.player.canSubscribeBotAsync().then(function(){h.playerCanSubscribeBot=!0,h.emit("cansubscribebot")}).catch(function(l){h.emit("cansubscribebotfail",l)})}else this.emit("cansubscribebotfail");return this},subscribeBot:function(){if(this.playerCanSubscribeBot){var h=this;FBInstant.player.subscribeBotAsync().then(function(){h.emit("subscribebot")}).catch(function(l){h.emit("subscribebotfail",l)})}else this.emit("subscribebotfail");return this},getData:function(h){if(!this.checkAPI("playerGetDataAsync"))return this;Array.isArray(h)||(h=[h]);var l=this;return FBInstant.player.getDataAsync(h).then(function(u){l.dataLocked=!0;for(var f in u)l.data.set(f,u[f]);l.dataLocked=!1,l.emit("getdata",u)}),this},saveData:function(h){if(!this.checkAPI("playerSetDataAsync"))return this;var l=this;return FBInstant.player.setDataAsync(h).then(function(){l.emit("savedata",h)}).catch(function(u){l.emit("savedatafail",u)}),this},flushData:function(){if(!this.checkAPI("playerFlushDataAsync"))return this;var h=this;return FBInstant.player.flushDataAsync().then(function(){h.emit("flushdata")}).catch(function(l){h.emit("flushdatafail",l)}),this},getStats:function(h){if(!this.checkAPI("playerGetStatsAsync"))return this;var l=this;return FBInstant.player.getStatsAsync(h).then(function(u){l.emit("getstats",u)}).catch(function(u){l.emit("getstatsfail",u)}),this},saveStats:function(h){if(!this.checkAPI("playerSetStatsAsync"))return this;var l={};for(var u in h)typeof h[u]=="number"&&(l[u]=h[u]);var f=this;return FBInstant.player.setStatsAsync(l).then(function(){f.emit("savestats",l)}).catch(function(c){f.emit("savestatsfail",c)}),this},incStats:function(h){if(!this.checkAPI("playerIncrementStatsAsync"))return this;var l={};for(var u in h)typeof h[u]=="number"&&(l[u]=h[u]);var f=this;return FBInstant.player.incrementStatsAsync(l).then(function(c){f.emit("incstats",c)}).catch(function(c){f.emit("incstatsfail",c)}),this},saveSession:function(h){if(!this.checkAPI("setSessionData"))return this;var l=JSON.stringify(h);return l.length<=1e3?FBInstant.setSessionData(h):console.warn("Session data too long. Max 1000 chars."),this},openShare:function(h,l,u,f){return this._share("SHARE",h,l,u,f)},openInvite:function(h,l,u,f){return this._share("INVITE",h,l,u,f)},openRequest:function(h,l,u,f){return this._share("REQUEST",h,l,u,f)},openChallenge:function(h,l,u,f){return this._share("CHALLENGE",h,l,u,f)},_share:function(h,l,u,f,c){if(!this.checkAPI("shareAsync"))return this;if(c===void 0&&(c={}),u)var d=this.game.textures.getBase64(u,f);var g={intent:h,image:d,text:l,data:c},v=this;return FBInstant.shareAsync(g).then(function(){v.emit("resume")}),this},isSizeBetween:function(h,l){return this.checkAPI("contextIsSizeBetween")?FBInstant.context.isSizeBetween(h,l):this},switchContext:function(h){if(!this.checkAPI("contextSwitchAsync"))return this;if(h!==this.contextID){var l=this;FBInstant.context.switchAsync(h).then(function(){l.contextID=FBInstant.context.getID(),l.emit("switch",l.contextID)}).catch(function(u){l.emit("switchfail",u)})}return this},chooseContext:function(h){if(!this.checkAPI("contextChoseAsync"))return this;var l=this;return FBInstant.context.chooseAsync(h).then(function(){l.contextID=FBInstant.context.getID(),l.emit("choose",l.contextID)}).catch(function(u){l.emit("choosefail",u)}),this},createContext:function(h){if(!this.checkAPI("contextCreateAsync"))return this;var l=this;return FBInstant.context.createAsync(h).then(function(){l.contextID=FBInstant.context.getID(),l.emit("create",l.contextID)}).catch(function(u){l.emit("createfail",u)}),this},getPlayers:function(){if(!this.checkAPI("playerGetConnectedPlayersAsync"))return this;var h=this;return FBInstant.player.getConnectedPlayersAsync().then(function(l){h.emit("players",l)}).catch(function(l){h.emit("playersfail",l)}),this},getCatalog:function(){if(!this.paymentsReady)return this;var h=this,l=this.catalog;return FBInstant.payments.getCatalogAsync().then(function(u){l=[],u.forEach(function(f){l.push(s(f))}),h.emit("getcatalog",l)}).catch(function(u){h.emit("getcatalogfail",u)}),this},purchase:function(h,l){if(!this.paymentsReady)return this;var u={productID:h};l&&(u.developerPayload=l);var f=this;return FBInstant.payments.purchaseAsync(u).then(function(c){var d=a(c);f.emit("purchase",d)}).catch(function(c){f.emit("purchasefail",c)}),this},getPurchases:function(){if(!this.paymentsReady)return this;var h=this,l=this.purchases;return FBInstant.payments.getPurchasesAsync().then(function(u){l=[],u.forEach(function(f){l.push(a(f))}),h.emit("getpurchases",l)}).catch(function(u){h.emit("getpurchasesfail",u)}),this},consumePurchases:function(h){if(!this.paymentsReady)return this;var l=this;return FBInstant.payments.consumePurchaseAsync(h).then(function(){l.emit("consumepurchase",h)}).catch(function(u){l.emit("consumepurchasefail",u)}),this},update:function(h,l,u,f,c,d){return this._update("CUSTOM",h,l,u,f,c,d)},updateLeaderboard:function(h,l,u,f,c,d){return this._update("LEADERBOARD",h,l,u,f,c,d)},_update:function(h,l,u,f,c,d,g){if(!this.checkAPI("shareAsync"))return this;if(l===void 0&&(l=""),typeof u=="string"&&(u={default:u}),g===void 0&&(g={}),f)var v=this.game.textures.getBase64(f,c);var p={action:h,cta:l,image:v,text:u,template:d,data:g,strategy:"IMMEDIATE",notification:"NO_PUSH"},m=this;return FBInstant.updateAsync(p).then(function(){m.emit("update")}).catch(function(y){m.emit("updatefail",y)}),this},switchGame:function(h,l){if(!this.checkAPI("switchGameAsync"))return this;if(l){var u=JSON.stringify(l);if(u.length>1e3)return console.warn("Switch Game data too long. Max 1000 chars."),this}var f=this;return FBInstant.switchGameAsync(h,l).then(function(){f.emit("switchgame",h)}).catch(function(c){f.emit("switchgamefail",c)}),this},createShortcut:function(){var h=this;return FBInstant.canCreateShortcutAsync().then(function(l){l&&FBInstant.createShortcutAsync().then(function(){h.emit("shortcutcreated")}).catch(function(u){h.emit("shortcutfailed",u)})}),this},quit:function(){FBInstant.quit()},log:function(h,l,u){return this.checkAPI("logEvent")?(u===void 0&&(u={}),h.length>=2&&h.length<=40&&FBInstant.logEvent(h,parseFloat(l),u),this):this},preloadAds:function(h){if(!this.checkAPI("getInterstitialAdAsync"))return this;Array.isArray(h)||(h=[h]);var l,u=this,f=0;for(l=0;l<this.ads.length;l++)this.ads[l].shown||f++;if(f+h.length>=3)return console.warn("Too many AdInstances. Show an ad before loading more"),this;for(l=0;l<h.length;l++){var c=h[l];FBInstant.getInterstitialAdAsync(c).then(function(d){var g=t(d,!0);return u.ads.push(g),g.loadAsync()}).catch(function(d){console.warn(d)})}return this},preloadVideoAds:function(h){if(!this.checkAPI("getRewardedVideoAsync"))return this;Array.isArray(h)||(h=[h]);var l,u=this,f=0;for(l=0;l<this.ads.length;l++)this.ads[l].shown||f++;if(f+h.length>=3)return console.warn("Too many AdInstances. Show an ad before loading more"),this;for(l=0;l<h.length;l++){var c=h[l];FBInstant.getRewardedVideoAsync(c).then(function(d){var g=t(d,!0);return u.ads.push(g),g.loadAsync()}).catch(function(d){console.warn(d)})}return this},showAd:function(h){for(var l=this,u=0;u<this.ads.length;u++){var f=this.ads[u];f.placementID===h&&f.instance.showAsync().then(function(){f.shown=!0,l.emit("showad",f)}).catch(function(c){c.code==="ADS_NO_FILL"?l.emit("adsnofill"):console.warn(c)})}return this},showVideo:function(h){for(var l=this,u=0;u<this.ads.length;u++){var f=this.ads[u];f.placementID===h&&f.video&&f.instance.showAsync().then(function(){f.shown=!0,l.emit("showad",f)}).catch(function(c){c.code==="ADS_NO_FILL"?l.emit("adsnofill"):console.warn(c)})}return this},matchPlayer:function(h,l){if(h===void 0&&(h=null),l===void 0&&(l=!1),!this.checkAPI("matchPlayerAsync"))return this;var u=this;return FBInstant.matchPlayerAsync(h,l).then(function(){u.getID(),u.getType(),u.emit("matchplayer",u.contextID,u.contextType)}),this},getLeaderboard:function(h){if(!this.checkAPI("getLeaderboardAsync"))return this;var l=this;return FBInstant.getLeaderboardAsync(h).then(function(u){var f=new n(l,u);l.leaderboards[h]=f,l.emit("getleaderboard",f)}).catch(function(u){console.warn(u)}),this},destroy:function(){FBInstant.quit(),this.data.destroy(),this.removeAllListeners(),this.catalog=[],this.purchases=[],this.leaderboards=[],this.ads=[],this.game=null}});return ev=o,ev}/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var uit=Bc,fit=OR,cit=DR,dit=wi,vit=b,pit=PZ,git=LQ,mit=gl,yit=OQ,xit=C2,_it=x2,Tit=Bt.exports,wit=Y2,Sit=se,Cit=W2,bit=q2,Mit=eF,Pit=aF,Ait=eit,Rit=rit,Fit=nit(),Eit=oF(),Lit=new vit({initialize:function(e){this.config=new pit(e),this.renderer=null,this.domContainer=null,this.canvas=null,this.context=null,this.isBooted=!1,this.isRunning=!1,this.events=new Tit,this.anims=new fit(this),this.textures=new Pit(this),this.cache=new cit(this),this.registry=new mit(this),this.input=new wit(this,this.config),this.scene=new bit(this,this.config.sceneConfig),this.device=xit,this.sound=Mit.create(this),this.loop=new Ait(this,this.config.fps),this.plugins=new Cit(this,this.config),this.facebook=new Eit(this),this.pendingDestroy=!1,this.removeCanvas=!1,this.noReturn=!1,this.hasFocus=!1,this.isOver=!0,_it(this.boot.bind(this))},boot:function(){if(!Sit.hasCore("EventEmitter")){console.warn("Aborting. Core Plugins missing.");return}this.isBooted=!0,this.config.preBoot(this),git(this),Fit(this),yit(this),uit(this.canvas,this.config.parent),this.events.emit("boot"),this.events.once("texturesready",this.texturesReady,this)},texturesReady:function(){this.events.emit("ready"),this.start()},start:function(){this.isRunning=!0,this.config.postBoot(this),this.renderer?this.loop.start(this.step.bind(this)):this.loop.start(this.headlessStep.bind(this)),Rit(this);var t=this.events;t.on("hidden",this.onHidden,this),t.on("visible",this.onVisible,this),t.on("blur",this.onBlur,this),t.on("focus",this.onFocus,this)},step:function(t,e){if(this.pendingDestroy)return this.runDestroy();var i=this.events;i.emit("prestep",t,e),i.emit("step",t,e),this.scene.update(t,e),i.emit("poststep",t,e);var r=this.renderer;r.preRender(),i.emit("prerender",r,t,e),this.scene.render(r),r.postRender(),i.emit("postrender",r,t,e)},headlessStep:function(t,e){var i=this.events;i.emit("prestep",t,e),i.emit("step",t,e),this.scene.update(t,e),i.emit("poststep",t,e),i.emit("prerender"),i.emit("postrender")},onHidden:function(){this.loop.pause(),this.events.emit("pause")},onVisible:function(){this.loop.resume(),this.events.emit("resume")},onBlur:function(){this.hasFocus=!1,this.loop.blur()},onFocus:function(){this.hasFocus=!0,this.loop.focus()},resize:function(t,e){this.config.width=t,this.config.height=e,this.domContainer&&(this.domContainer.style.width=t+"px",this.domContainer.style.height=e+"px"),this.renderer.resize(t,e),this.input.resize(),this.scene.resize(t,e),this.events.emit("resize",t,e)},destroy:function(t,e){e===void 0&&(e=!1),this.pendingDestroy=!0,this.removeCanvas=t,this.noReturn=e},runDestroy:function(){this.events.emit("destroy"),this.events.removeAllListeners(),this.scene.destroy(),this.renderer&&this.renderer.destroy(),this.removeCanvas&&this.canvas&&(dit.remove(this.canvas),this.canvas.parentNode&&this.canvas.parentNode.removeChild(this.canvas)),this.domContainer&&this.domContainer.parentNode.removeChild(this.domContainer),this.loop.destroy(),this.pendingDestroy=!1}}),$it=Lit;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var Oit=function(t){if(!Array.isArray(t)||t.length<2||!Array.isArray(t[0]))return!1;for(var e=t[0].length,i=1;i<t.length;i++)if(t[i].length!==e)return!1;return!0},iy=Oit;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var Iit=$0,Dit=iy,Bit=function(t){var e="";if(!Dit(t))return e;for(var i=0;i<t.length;i++){for(var r=0;r<t[i].length;r++){var n=t[i][r].toString();n!=="undefined"?e+=Iit(n,2):e+="?",r<t[i].length-1&&(e+=" |")}if(i<t.length-1){e+=`
`;for(var s=0;s<t[i].length;s++)e+="---",s<t[i].length-1&&(e+="+");e+=`
`}}return e},kit=Bit;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var Git=function(t){for(var e=0;e<t.length;e++)t[e].reverse();return t},zit=Git;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var Nit=function(t){return t.reverse()},Yit=Nit;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var Vit=function(t){for(var e=t.length,i=t[0].length,r=new Array(i),n=0;n<i;n++){r[n]=new Array(e);for(var s=e-1;s>-1;s--)r[n][s]=t[s][n]}return r},hF=Vit;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var Wit=iy,$T=hF,Xit=function(t,e){if(e===void 0&&(e=90),!Wit(t))return null;if(typeof e!="string"&&(e=(e%360+360)%360),e===90||e===-270||e==="rotateLeft")t=$T(t),t.reverse();else if(e===-90||e===270||e==="rotateRight")t.reverse(),t=$T(t);else if(Math.abs(e)===180||e==="rotate180"){for(var i=0;i<t.length;i++)t[i].reverse();t.reverse()}return t},Wc=Xit;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var Uit=Wc,Hit=function(t){return Uit(t,180)},qit=Hit;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var Kit=Wc,Jit=function(t){return Kit(t,90)},jit=Jit;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var Zit=Wc,Qit=function(t){return Zit(t,-90)},trt=Qit;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var ert={CheckMatrix:iy,MatrixToString:kit,ReverseColumns:zit,ReverseRows:Yit,Rotate180:qit,RotateLeft:jit,RotateMatrix:Wc,RotateRight:trt,TransposeMatrix:hF};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var irt=function(t,e,i,r,n){if(n===void 0&&(n=t),i>0){var s=i-t.length;if(s<=0)return null}if(!Array.isArray(e))return t.indexOf(e)===-1?(t.push(e),r&&r.call(n,e),e):null;for(var a=e.length-1;a>=0;)t.indexOf(e[a])!==-1&&e.pop(),a--;if(a=e.length,a===0)return null;i>0&&a>s&&(e.splice(s),a=s);for(var o=0;o<a;o++){var h=e[o];t.push(h),r&&r.call(n,h)}return e},rrt=irt;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var nrt=function(t,e,i,r,n,s){if(i===void 0&&(i=0),s===void 0&&(s=t),r>0){var a=r-t.length;if(a<=0)return null}if(!Array.isArray(e))return t.indexOf(e)===-1?(t.splice(i,0,e),n&&n.call(s,e),e):null;for(var o=e.length-1;o>=0;)t.indexOf(e[o])!==-1&&e.pop(),o--;if(o=e.length,o===0)return null;r>0&&o>a&&(e.splice(a),o=a);for(var h=o-1;h>=0;h--){var l=e[h];t.splice(i,0,l),n&&n.call(s,l)}return e},srt=nrt;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var art=function(t,e){var i=t.indexOf(e);return i!==-1&&i<t.length&&(t.splice(i,1),t.push(e)),e},ort=art;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var hrt=function(t,e,i,r){var n=t.length;if(e<0||e>n||e>=i||i>n||e+i>n){if(r)throw new Error("Range Error: Values outside acceptable range");return!1}else return!0},xa=hrt;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var lrt=xa,urt=function(t,e,i,r,n){r===void 0&&(r=0),n===void 0&&(n=t.length);var s=0;if(lrt(t,r,n))for(var a=r;a<n;a++){var o=t[a];o[e]===i&&s++}return s},frt=urt;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var crt=function(t,e,i){var r,n=[null];for(r=3;r<arguments.length;r++)n.push(arguments[r]);for(r=0;r<t.length;r++)n[0]=t[r],e.apply(i,n);return t},drt=crt;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var vrt=xa,prt=function(t,e,i,r,n){if(r===void 0&&(r=0),n===void 0&&(n=t.length),vrt(t,r,n)){var s,a=[null];for(s=5;s<arguments.length;s++)a.push(arguments[s]);for(s=r;s<n;s++)a[0]=t[s],e.apply(i,a)}return t},grt=prt;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var mrt=xa,yrt=function(t,e,i,r,n){r===void 0&&(r=0),n===void 0&&(n=t.length);var s=[];if(mrt(t,r,n))for(var a=r;a<n;a++){var o=t[a];(!e||e&&i===void 0&&o.hasOwnProperty(e)||e&&i!==void 0&&o[e]===i)&&s.push(o)}return s},xrt=yrt;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var _rt=xa,Trt=function(t,e,i,r,n){if(r===void 0&&(r=0),n===void 0&&(n=t.length),_rt(t,r,n))for(var s=r;s<n;s++){var a=t[s];if(!e||e&&i===void 0&&a.hasOwnProperty(e)||e&&i!==void 0&&a[e]===i)return a}return null},wrt=Trt;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var Srt=function(t,e,i){e===void 0&&(e=0),i===void 0&&(i=t.length);var r=e+Math.floor(Math.random()*i);return t[r]===void 0?null:t[r]},ry=Srt;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var Crt=function(t,e){var i=t.indexOf(e);if(i>0){var r=t[i-1],n=t.indexOf(r);t[i]=r,t[n]=e}return t},brt=Crt;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var Mrt=function(t,e,i){var r=t.indexOf(e);if(r===-1||i<0||i>=t.length)throw new Error("Supplied index out of bounds");return r!==i&&(t.splice(r,1),t.splice(i,0,e)),e},Prt=Mrt;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var Art=function(t,e){var i=t.indexOf(e);if(i!==-1&&i<t.length-2){var r=t[i+1],n=t.indexOf(r);t[i]=r,t[n]=e}return t},Rrt=Art;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var Frt=function(t,e,i,r){for(var n=[],s=t;s<=e;s++)if(i||r){var a=i?i+s.toString():s.toString();r&&(a=a.concat(r)),n.push(a)}else n.push(s);return n},Ert=Frt;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var Lrt=function(t){return t>0?Math.ceil(t):Math.floor(t)},lF=Lrt;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var $rt=lF,Ort=function(t,e,i){t===void 0&&(t=0),e===void 0&&(e=null),i===void 0&&(i=1),e===null&&(e=t,t=0);for(var r=[],n=Math.max($rt((e-t)/(i||1)),0),s=0;s<n;s++)r.push(t),t+=i;return r},Irt=Ort;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var uF=function(t,e,i,r,n){for(i=i||0,r=r||t.length-1,n=n||Drt;r>i;){if(r-i>600){var s=r-i+1,a=e-i+1,o=Math.log(s),h=.5*Math.exp(2*o/3),l=.5*Math.sqrt(o*h*(s-h)/s)*(a-s/2<0?-1:1),u=Math.max(i,Math.floor(e-a*h/s+l)),f=Math.min(r,Math.floor(e+(s-a)*h/s+l));uF(t,e,u,f,n)}var c=t[e],d=i,g=r;for(eh(t,i,e),n(t[r],c)>0&&eh(t,i,r);d<g;){for(eh(t,d,g),d++,g--;n(t[d],c)<0;)d++;for(;n(t[g],c)>0;)g--}n(t[i],c)===0?eh(t,i,g):(g++,eh(t,g,r)),g<=e&&(i=g+1),e<=g&&(r=g-1)}};function eh(t,e,i){var r=t[e];t[e]=t[i],t[i]=r}function Drt(t,e){return t<e?-1:t>e?1:0}var fF=uF;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var Na=ut,OT=$c,Brt=function(t,e,i){for(var r=[],n=0;n<t.length;n++)for(var s=0;s<e.length;s++)for(var a=0;a<i;a++)r.push({a:t[n],b:e[s]});return r},krt=function(t,e,i){var r=Na(i,"max",0),n=Na(i,"qty",1),s=Na(i,"random",!1),a=Na(i,"randomB",!1),o=Na(i,"repeat",0),h=Na(i,"yoyo",!1),l=[];if(a&&OT(e),o===-1)if(r===0)o=0;else{var u=t.length*e.length*n;h&&(u*=2),o=Math.ceil(r/u)}for(var f=0;f<=o;f++){var c=Brt(t,e,n);s&&OT(c),l=l.concat(c),h&&(c.reverse(),l=l.concat(c))}return r&&l.splice(r),l},cF=krt;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var Grt=yl,zrt=function(t,e,i,r){if(r===void 0&&(r=t),e<0||e>t.length-1)throw new Error("Index out of bounds");var n=Grt(t,e);return i&&i.call(r,n),n},Nrt=zrt;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var Yrt=xa,Vrt=function(t,e,i,r,n){if(e===void 0&&(e=0),i===void 0&&(i=t.length),n===void 0&&(n=t),Yrt(t,e,i)){var s=i-e,a=t.splice(e,s);if(r)for(var o=0;o<a.length;o++){var h=a[o];r.call(n,h)}return a}else return[]},Wrt=Vrt;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var Xrt=yl,Urt=function(t,e,i){e===void 0&&(e=0),i===void 0&&(i=t.length);var r=e+Math.floor(Math.random()*i);return Xrt(t,r)},Hrt=Urt;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var qrt=function(t,e,i){var r=t.indexOf(e),n=t.indexOf(i);return r!==-1&&n===-1?(t[r]=i,!0):!1},Krt=qrt;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var Jrt=function(t,e){var i=t.indexOf(e);return i!==-1&&i>0&&(t.splice(i,1),t.unshift(e)),e},jrt=Jrt;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var Zrt=xa,Qrt=function(t,e,i,r,n){if(r===void 0&&(r=0),n===void 0&&(n=t.length),Zrt(t,r,n))for(var s=r;s<n;s++){var a=t[s];a.hasOwnProperty(e)&&(a[e]=i)}return t},tnt=Qrt,xl={exports:{}};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */(function(t){//! stable.js 0.1.6, https://github.com/Two-Screen/stable
//!  2017 Angry Bytes and contributors. MIT licensed.
(function(){var e=function(n,s){return i(n.slice(),s)};e.inplace=function(n,s){var a=i(n,s);return a!==n&&r(a,null,n.length,n),n};function i(n,s){typeof s!="function"&&(s=function(u,f){return String(u).localeCompare(f)});var a=n.length;if(a<=1)return n;for(var o=new Array(a),h=1;h<a;h*=2){r(n,s,h,o);var l=n;n=o,o=l}return n}var r=function(n,s,a,o){var h=n.length,l=0,u=a*2,f,c,d,g,v;for(f=0;f<h;f+=u)for(c=f+a,d=c+a,c>h&&(c=h),d>h&&(d=h),g=f,v=c;;)if(g<c&&v<d)s(n[g],n[v])<=0?o[l++]=n[g++]:o[l++]=n[v++];else if(g<c)o[l++]=n[g++];else if(v<d)o[l++]=n[v++];else break};t.exports=e})()})(xl);/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var ent=function(t,e,i){if(e!==i){var r=t.indexOf(e),n=t.indexOf(i);if(r<0||n<0)throw new Error("Supplied items must be elements of the same array");return t[r]=i,t[n]=e,t}},int=ent;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var ny={Matrix:ert,Add:rrt,AddAt:srt,BringToTop:ort,CountAllMatching:frt,Each:drt,EachInRange:grt,FindClosestInSorted:ER,GetAll:xrt,GetFirst:wrt,GetRandom:ry,MoveDown:brt,MoveTo:Prt,MoveUp:Rrt,NumberArray:Ert,NumberArrayStep:Irt,QuickSelect:fF,Range:cF,Remove:V2,RemoveAt:Nrt,RemoveBetween:Wrt,RemoveRandomElement:Hrt,Replace:Krt,RotateLeft:PR,RotateRight:AR,SafeRange:xa,SendToBack:jrt,SetAll:tnt,Shuffle:$c,SpliceOne:yl,StableSort:xl.exports,Swap:int};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var zt=ny,rnt=b,IT=W,nnt=xl.exports,snt=new rnt({initialize:function(e){this.parent=e,this.list=[],this.position=0,this.addCallback=IT,this.removeCallback=IT,this._sortKey=""},add:function(t,e){return e?zt.Add(this.list,t):zt.Add(this.list,t,0,this.addCallback,this)},addAt:function(t,e,i){return i?zt.AddAt(this.list,t,e):zt.AddAt(this.list,t,e,0,this.addCallback,this)},getAt:function(t){return this.list[t]},getIndex:function(t){return this.list.indexOf(t)},sort:function(t){return t&&(this._sortKey=t,nnt.inplace(this.list,this.sortHandler)),this},sortHandler:function(t,e){return t[this._sortKey]-e[this._sortKey]},getByName:function(t){return zt.GetFirst(this.list,"name",t)},getRandom:function(t,e){return zt.GetRandom(this.list,t,e)},getFirst:function(t,e,i,r){return zt.GetFirstElement(this.list,t,e,i,r)},getAll:function(t,e,i,r){return zt.GetAll(this.list,t,e,i,r)},count:function(t,e){return zt.CountAllMatching(this.list,t,e)},swap:function(t,e){zt.Swap(this.list,t,e)},moveTo:function(t,e){return zt.MoveTo(this.list,t,e)},remove:function(t,e){return e?zt.Remove(this.list,t):zt.Remove(this.list,t,this.removeCallback,this)},removeAt:function(t,e){return e?zt.RemoveAt(this.list,t):zt.RemoveAt(this.list,t,this.removeCallback,this)},removeBetween:function(t,e,i){return i?zt.RemoveBetween(this.list,t,e):zt.RemoveBetween(this.list,t,e,this.removeCallback,this)},removeAll:function(t){for(var e=this.list.length;e--;)this.remove(this.list[e],t);return this},bringToTop:function(t){return zt.BringToTop(this.list,t)},sendToBack:function(t){return zt.SendToBack(this.list,t)},moveUp:function(t){return zt.MoveUp(this.list,t),t},moveDown:function(t){return zt.MoveDown(this.list,t),t},reverse:function(){return this.list.reverse(),this},shuffle:function(){return zt.Shuffle(this.list),this},replace:function(t,e){return zt.Replace(this.list,t,e)},exists:function(t){return this.list.indexOf(t)>-1},setAll:function(t,e,i,r){return zt.SetAll(this.list,t,e,i,r),this},each:function(t,e){for(var i=[null],r=2;r<arguments.length;r++)i.push(arguments[r]);for(r=0;r<this.list.length;r++)i[0]=this.list[r],t.apply(e,i)},shutdown:function(){this.removeAll(),this.list=[]},destroy:function(){this.removeAll(),this.parent=null,this.addCallback=null,this.removeCallback=null},length:{get:function(){return this.list.length}},first:{get:function(){return this.position=0,this.list.length>0?this.list[0]:null}},last:{get:function(){return this.list.length>0?(this.position=this.list.length-1,this.list[this.position]):null}},next:{get:function(){return this.position<this.list.length?(this.position++,this.list[this.position]):null}},previous:{get:function(){return this.position>0?(this.position--,this.list[this.position]):null}}}),Xc=snt;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var ant=b,DT=Xc,ont=se,hnt=xl.exports,dF=new ant({Extends:DT,initialize:function(e){DT.call(this,e),this.sortChildrenFlag=!1,this.scene=e,this.systems=e.sys,e.sys.events.once("boot",this.boot,this),e.sys.events.on("start",this.start,this)},boot:function(){this.systems.events.once("destroy",this.destroy,this)},start:function(){this.systems.events.once("shutdown",this.shutdown,this)},queueDepthSort:function(){this.sortChildrenFlag=!0},depthSort:function(){this.sortChildrenFlag&&(hnt.inplace(this.list,this.sortByDepth),this.sortChildrenFlag=!1)},sortByDepth:function(t,e){return t._depth-e._depth},sortGameObjects:function(t){return t===void 0&&(t=this.list),this.scene.sys.depthSort(),t.sort(this.sortIndexHandler.bind(this))},getTopGameObject:function(t){return this.sortGameObjects(t),t[t.length-1]},getChildren:function(){return this.list},shutdown:function(){for(var t=this.list.length;t--;)this.list[t].destroy(!0);this.list.length=0,this.systems.events.off("shutdown",this.shutdown,this)},destroy:function(){this.shutdown(),this.scene.sys.events.off("start",this.start,this),this.scene=null,this.systems=null}});ont.register("DisplayList",dF,"displayList");var lnt=dF;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var unt=b,fnt=se,vF=new unt({initialize:function(e){this.scene=e,this.systems=e.sys,this._list=[],this._pendingInsertion=[],this._pendingRemoval=[],e.sys.events.once("boot",this.boot,this),e.sys.events.on("start",this.start,this)},boot:function(){this.systems.events.once("destroy",this.destroy,this)},start:function(){var t=this.systems.events;t.on("preupdate",this.preUpdate,this),t.on("update",this.update,this),t.once("shutdown",this.shutdown,this)},add:function(t){return this._list.indexOf(t)===-1&&this._pendingInsertion.indexOf(t)===-1&&this._pendingInsertion.push(t),t},preUpdate:function(){var t=this._pendingRemoval.length,e=this._pendingInsertion.length;if(!(t===0&&e===0)){var i,r;for(i=0;i<t;i++){r=this._pendingRemoval[i];var n=this._list.indexOf(r);n>-1&&this._list.splice(n,1)}this._list=this._list.concat(this._pendingInsertion.splice(0)),this._pendingRemoval.length=0,this._pendingInsertion.length=0}},update:function(t,e){for(var i=0;i<this._list.length;i++){var r=this._list[i];r.active&&r.preUpdate.call(r,t,e)}},remove:function(t){var e=this._list.indexOf(t);return e!==-1&&this._list.splice(e,1),t},removeAll:function(){for(var t=this._list.length;t--;)this.remove(this._list[t]);return this},shutdown:function(){for(var t=this._list.length;t--;)this._list[t].destroy(!0);for(t=this._pendingRemoval.length;t--;)this._pendingRemoval[t].destroy(!0);for(t=this._pendingInsertion.length;t--;)this._pendingInsertion[t].destroy(!0);this._list.length=0,this._pendingRemoval.length=0,this._pendingInsertion.length=0;var e=this.systems.events;e.off("preupdate",this.preUpdate,this),e.off("update",this.update,this),e.off("shutdown",this.shutdown,this)},destroy:function(){this.shutdown(),this.scene.sys.events.off("start",this.start,this),this.scene=null,this.systems=null},length:{get:function(){return this._list.length}}});fnt.register("UpdateList",vF,"updateList");var cnt=vF;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var iv=_e,dnt=ut,vnt=function(t,e,i){var r=dnt(t,e,null);if(r===null)return i;if(Array.isArray(r))return iv.RND.pick(r);if(typeof r=="object"){if(r.hasOwnProperty("randInt"))return iv.RND.integerInRange(r.randInt[0],r.randInt[1]);if(r.hasOwnProperty("randFloat"))return iv.RND.realInRange(r.randFloat[0],r.randFloat[1])}else if(typeof r=="function")return r(e);return r},te=vnt;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var pnt=pa,qt=te,gnt=dl,mnt=function(t,e,i){e.x=qt(i,"x",0),e.y=qt(i,"y",0),e.depth=qt(i,"depth",0),e.flipX=qt(i,"flipX",!1),e.flipY=qt(i,"flipY",!1);var r=qt(i,"scale",null);typeof r=="number"?e.setScale(r):r!==null&&(e.scaleX=qt(r,"x",1),e.scaleY=qt(r,"y",1));var n=qt(i,"scrollFactor",null);typeof n=="number"?e.setScrollFactor(n):n!==null&&(e.scrollFactorX=qt(n,"x",1),e.scrollFactorY=qt(n,"y",1)),e.rotation=qt(i,"rotation",0);var s=qt(i,"angle",null);s!==null&&(e.angle=s),e.alpha=qt(i,"alpha",1);var a=qt(i,"origin",null);if(typeof a=="number")e.setOrigin(a);else if(a!==null){var o=qt(a,"x",.5),h=qt(a,"y",.5);e.setOrigin(o,h)}e.scaleMode=qt(i,"scaleMode",gnt.DEFAULT),e.blendMode=qt(i,"blendMode",pnt.NORMAL),e.visible=qt(i,"visible",!0);var l=qt(i,"add",!0);return l&&t.sys.displayList.add(e),e.preUpdate&&t.sys.updateList.add(e),e},Si=mnt;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var Jr=te,ynt=function(t,e){var i=Jr(e,"anims",null);if(i===null)return t;if(typeof i=="string")t.anims.play(i);else if(typeof i=="object"){var r=t.anims,n=Jr(i,"key",void 0),s=Jr(i,"startFrame",void 0),a=Jr(i,"delay",0),o=Jr(i,"repeat",0),h=Jr(i,"repeatDelay",0),l=Jr(i,"yoyo",!1),u=Jr(i,"play",!1),f=Jr(i,"delayedPlay",0);r.setDelay(a),r.setRepeat(o),r.setRepeatDelay(h),r.setYoyo(l),u?r.play(n,s):f>0?r.delayedPlay(f,n,s):r.load(n)}return t},sy=ynt;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var xnt=function(t,e,i){i===void 0&&(i={local:{x:0,y:0,width:0,height:0},global:{x:0,y:0,width:0,height:0},lines:{shortest:0,longest:0,lengths:null}});for(var r=t.text,n=r.length,s=Number.MAX_VALUE,a=Number.MAX_VALUE,o=0,h=0,l=t.fontData.chars,u=t.fontData.lineHeight,f=t.letterSpacing,c=0,d=0,g=0,v=null,p=0,m=0,y=t.fontSize/t.fontData.size,x=y*t.scaleX,T=y*t.scaleY,_=null,w=0,S=[],C=Number.MAX_VALUE,R=0,L=0,E=0,O=0;O<n;O++){if(g=r.charCodeAt(O),g===10){c=0,d+=u,_=null,S[L]=E,E>R&&(R=E),E<C&&(C=E),L++,E=0;continue}if(v=l[g],!!v){if(p=c,m=d,_!==null){var A=v.kerning[w];p+=A!==void 0?A:0}s>p&&(s=p),a>m&&(a=m);var F=p+v.xAdvance,M=m+u;o<F&&(o=F),h<M&&(h=M),c+=v.xAdvance+f,_=v,w=g,E=F*y}}S[L]=E,E>R&&(R=E),E<C&&(C=E);var P=i.local,$=i.global,I=i.lines;return P.x=s*y,P.y=a*y,P.width=o*y,P.height=h*y,$.x=t.x-t.displayOriginX+s*x,$.y=t.y-t.displayOriginY+a*T,$.width=o*x,$.height=h*T,I.shortest=C,I.longest=R,I.lengths=S,e&&(P.x=Math.round(P.x),P.y=Math.round(P.y),P.width=Math.round(P.width),P.height=Math.round(P.height),$.x=Math.round($.x),$.y=Math.round($.y),$.width=Math.round($.width),$.height=Math.round($.height),I.shortest=Math.round(C),I.longest=Math.round(R)),i},_nt=xnt;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */function di(t,e){return parseInt(t.getAttribute(e),10)}var Tnt=function(t,e,i,r){e===void 0&&(e=0),i===void 0&&(i=0);var n={},s=t.getElementsByTagName("info")[0],a=t.getElementsByTagName("common")[0];n.font=s.getAttribute("face"),n.size=di(s,"size"),n.lineHeight=di(a,"lineHeight")+i,n.chars={};var o=t.getElementsByTagName("char"),h=r!==void 0&&r.trimmed;if(h)var l=r.height,u=r.width;for(var f=0;f<o.length;f++){var c=o[f],d=di(c,"id"),g=di(c,"x"),v=di(c,"y"),p=di(c,"width"),m=di(c,"height");h&&(g<u&&(u=g),v<l&&(l=v)),n.chars[d]={x:g,y:v,width:p,height:m,centerX:Math.floor(p/2),centerY:Math.floor(m/2),xOffset:di(c,"xoffset"),yOffset:di(c,"yoffset"),xAdvance:di(c,"xadvance")+e,data:{},kerning:{}}}if(h&&l!==0&&u!==0)for(var y in n.chars){var x=n.chars[y];x.x-=r.x,x.y-=r.y}var T=t.getElementsByTagName("kerning");for(f=0;f<T.length;f++){var _=T[f],w=di(_,"first"),S=di(_,"second"),C=di(_,"amount");n.chars[S].kerning[w]=C}return n},pF=Tnt;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var wnt=pF,Snt=function(t,e,i,r,n,s,a){var o=t.sys.textures.getFrame(i,r),h=t.sys.cache.xml.get(n);if(o&&h){var l=wnt(h,s,a,o);return t.sys.cache.bitmapFont.add(e,{data:l,texture:i,frame:r}),!0}else return!1},Cnt=Snt;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var rv,BT;function bnt(){if(BT)return rv;BT=1;var t=kt,e=function(i,r,n,s,a){var o=r._text,h=o.length;if(h!==0){var l=this.pipeline;i.setPipeline(l,r);var u=l._tempMatrix1,f=l._tempMatrix2,c=l._tempMatrix3;f.applyITRS(r.x,r.y,r.rotation,r.scaleX,r.scaleY),u.copyFrom(s.matrix),a?(u.multiplyWithOffset(a,-s.scrollX*r.scrollFactorX,-s.scrollY*r.scrollFactorY),f.e=r.x,f.f=r.y,u.multiply(f,c)):(f.e-=s.scrollX*r.scrollFactorX,f.f-=s.scrollY*r.scrollFactorY,u.multiply(f,c));var d=r.frame,g=d.glTexture,v=d.cutX,p=d.cutY,m=g.width,y=g.height,x=r._isTinted&&r.tintFill,T=t.getTintAppendFloatAlpha(r._tintTL,s.alpha*r._alphaTL),_=t.getTintAppendFloatAlpha(r._tintTR,s.alpha*r._alphaTR),w=t.getTintAppendFloatAlpha(r._tintBL,s.alpha*r._alphaBL),S=t.getTintAppendFloatAlpha(r._tintBR,s.alpha*r._alphaBR);l.setTexture2D(g,0);var C=0,R=0,L=0,E=0,O=r._letterSpacing,A,F=0,M=0,P=0,$=0,I,D=r.fontData,G=D.chars,et=D.lineHeight,q=r._fontSize/D.size,j=r._align,Z=0,Q=0;r.getTextBounds(!1);var N=r._bounds.lines;j===1?Q=(N.longest-N.lengths[0])/2:j===2&&(Q=N.longest-N.lengths[0]);for(var vt=s.roundPixels,ft=0;ft<h;ft++){if(L=o.charCodeAt(ft),L===10){Z++,j===1?Q=(N.longest-N.lengths[Z])/2:j===2&&(Q=N.longest-N.lengths[Z]),C=0,R+=et,I=null;continue}if(A=G[L],!!A){F=v+A.x,M=p+A.y,P=A.width,$=A.height;var tt=A.xOffset+C,K=A.yOffset+R;if(I!==null){var ct=A.kerning[E];tt+=ct!==void 0?ct:0}if(C+=A.xAdvance+O,I=A,E=L,!(P===0||$===0||L===32)){tt*=q,K*=q,tt-=r.displayOriginX,K-=r.displayOriginY,tt+=Q;var Ee=F/m,ri=M/y,Vt=(F+P)/m,Ci=(M+$)/y,ce=tt+P*q,Le=K+$*q,er=c.getX(tt,K),$e=c.getY(tt,K),Dl=c.getX(tt,Le),Bl=c.getY(tt,Le),kl=c.getX(ce,Le),Gl=c.getY(ce,Le),Ps=c.getX(ce,K),As=c.getY(ce,K);vt&&(er|=0,$e|=0,Dl|=0,Bl|=0,kl|=0,Gl|=0,Ps|=0,As|=0),l.batchQuad(er,$e,Dl,Bl,kl,Gl,Ps,As,Ee,ri,Vt,Ci,T,_,w,S,x)}}}}};return rv=e,rv}/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var Mnt=function(t,e,i,r,n){var s=r.alpha*i.alpha;if(s<=0)return!1;var a=t._tempMatrix1.copyFromArray(r.matrix.matrix),o=t._tempMatrix2.applyITRS(i.x,i.y,i.rotation,i.scaleX,i.scaleY),h=t._tempMatrix3;return n?(a.multiplyWithOffset(n,-r.scrollX*i.scrollFactorX,-r.scrollY*i.scrollFactorY),o.e=i.x,o.f=i.y,a.multiply(o,h)):(o.e-=r.scrollX*i.scrollFactorX,o.f-=r.scrollY*i.scrollFactorY,a.multiply(o,h)),e.globalCompositeOperation=t.blendModes[i.blendMode],e.globalAlpha=s,e.save(),h.setToContext(e),!0},ii=Mnt;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var nv,kT;function Pnt(){if(kT)return nv;kT=1;var t=ii,e=function(i,r,n,s,a){var o=r._text,h=o.length,l=i.currentContext;if(!(h===0||!t(i,l,r,s,a))){var u=r.frame,f=r.fontData.chars,c=r.fontData.lineHeight,d=r._letterSpacing,g=0,v=0,p=0,m=null,y=0,x=0,T=0,_=0,w=0,S=0,C=null,R=0,L=r.frame.source.image,E=u.cutX,O=u.cutY,A=r._fontSize/r.fontData.size,F=r._align,M=0,P=0;r.getTextBounds(!1);var $=r._bounds.lines;F===1?P=($.longest-$.lengths[0])/2:F===2&&(P=$.longest-$.lengths[0]),l.translate(-r.displayOriginX,-r.displayOriginY);for(var I=s.roundPixels,D=0;D<h;D++){if(p=o.charCodeAt(D),p===10){M++,F===1?P=($.longest-$.lengths[M])/2:F===2&&(P=$.longest-$.lengths[M]),g=0,v+=c,C=null;continue}if(m=f[p],!!m){if(y=E+m.x,x=O+m.y,T=m.width,_=m.height,w=m.xOffset+g,S=m.yOffset+v,C!==null){var G=m.kerning[R];w+=G!==void 0?G:0}w*=A,S*=A,w+=P,g+=m.xAdvance+d,C=m,R=p,!(T===0||_===0||p===32)&&(I&&(w|=0,S|=0),l.save(),l.translate(w,S),l.scale(A,A),l.drawImage(L,y,x,T,_,0,0,T,_),l.restore())}}l.restore()}};return nv=e,nv}/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var gF=W,mF=W;gF=bnt();mF=Pnt();var Ant={renderWebGL:gF,renderCanvas:mF};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var Rnt=b,vi=ne,GT=Qt,sv=_nt,Fnt=Cnt,Ent=Ant,ps=new Rnt({Extends:GT,Mixins:[vi.Alpha,vi.BlendMode,vi.Depth,vi.Mask,vi.Origin,vi.Pipeline,vi.ScaleMode,vi.ScrollFactor,vi.Texture,vi.Tint,vi.Transform,vi.Visible,Ent],initialize:function(e,i,r,n,s,a,o){s===void 0&&(s=""),o===void 0&&(o=0),GT.call(this,e,"BitmapText"),this.font=n;var h=this.scene.sys.cache.bitmapFont.get(n);this.fontData=h.data,this._text="",this._fontSize=a||this.fontData.size,this._letterSpacing=0,this._align=o,this._bounds=sv(this,!1,this._bounds),this._dirty=!1,this.setTexture(h.texture,h.frame),this.setPosition(i,r),this.setOrigin(0,0),this.initPipeline(),this.setText(s)},setLeftAlign:function(){return this._align=ps.ALIGN_LEFT,this._dirty=!0,this},setCenterAlign:function(){return this._align=ps.ALIGN_CENTER,this._dirty=!0,this},setRightAlign:function(){return this._align=ps.ALIGN_RIGHT,this._dirty=!0,this},setFontSize:function(t){return this._fontSize=t,this._dirty=!0,this},setLetterSpacing:function(t){return t===void 0&&(t=0),this._letterSpacing=t,this._dirty=!0,this},setText:function(t){return!t&&t!==0&&(t=""),Array.isArray(t)&&(t=t.join(`
`)),t!==this.text&&(this._text=t.toString(),this._dirty=!0,this.updateDisplayOrigin()),this},getTextBounds:function(t){return this._dirty&&sv(this,t,this._bounds),this._bounds},setFont:function(t,e,i){if(e===void 0&&(e=this._fontSize),i===void 0&&(i=this._align),t!==this.font){var r=this.scene.sys.cache.bitmapFont.get(t);r&&(this.font=t,this.fontData=r.data,this._fontSize=e,this._align=i,this.setTexture(r.texture,r.frame),sv(this,!1,this._bounds))}return this},align:{set:function(t){this._align=t,this._dirty=!0},get:function(){return this._align}},text:{set:function(t){this.setText(t)},get:function(){return this._text}},fontSize:{set:function(t){this._fontSize=t,this._dirty=!0},get:function(){return this._fontSize}},letterSpacing:{set:function(t){this._letterSpacing=t,this._dirty=!0},get:function(){return this._letterSpacing}},width:{get:function(){return this.getTextBounds(!1),this._bounds.global.width}},height:{get:function(){return this.getTextBounds(!1),this._bounds.global.height}},toJSON:function(){var t=vi.ToJSON(this),e={font:this.font,text:this.text,fontSize:this.fontSize,letterSpacing:this.letterSpacing,align:this.align};return t.data=e,t}});ps.ALIGN_LEFT=0;ps.ALIGN_CENTER=1;ps.ALIGN_RIGHT=2;ps.ParseFromAtlas=Fnt;var Uc=ps;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var av,zT;function Lnt(){if(zT)return av;zT=1;var t=kt,e=function(i,r,n,s,a){var o=r.getRenderList();if(o.length!==0){var h=this.pipeline;i.setPipeline(h,r);var l=s.scrollX*r.scrollFactorX,u=s.scrollY*r.scrollFactorY,f=h._tempMatrix1;f.copyFrom(s.matrix),a&&(f.multiplyWithOffset(a,-l,-u),l=0,u=0);for(var c=r.x-l,d=r.y-u,g=-1,v=!1,p=s.alpha*r.alpha,m=s.roundPixels,y=0;y<o.length;y++){var x=o[y],T=x.frame,_=x.alpha*p;if(_!==0){var w=T.width,S=T.height,C=c+x.x+T.x,R=d+x.y+T.y;x.flipX&&(w*=-1,C+=T.width),x.flipY&&(S*=-1,R+=T.height);var L=C+w,E=R+S,O=f.getX(C,R),A=f.getY(C,R),F=f.getX(L,E),M=f.getY(L,E),P=t.getTintAppendFloatAlpha(16777215,_);T.sourceIndex!==g&&(h.setTexture2D(T.glTexture,0),g=T.sourceIndex),m&&(O|=0,A|=0,F|=0,M|=0),h.batchQuad(O,A,O,M,F,M,F,A,T.u0,T.v0,T.u1,T.v1,P,P,P,P,v)&&(g=-1)}}}};return av=e,av}/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var ov,NT;function $nt(){if(NT)return ov;NT=1;var t=function(e,i,r,n,s){var a=i.getRenderList();if(a.length!==0){var o=e.currentContext,h=n.alpha*i.alpha;if(h!==0){o.globalCompositeOperation=e.blendModes[i.blendMode];var l=i.x-n.scrollX*i.scrollFactorX,u=i.y-n.scrollY*i.scrollFactorY;o.save(),s&&s.copyToContext(o);for(var f=n.roundPixels,c=0;c<a.length;c++){var d=a[c],g=d.flipX||d.flipY,v=d.frame,p=v.canvasData,m=v.x,y=v.y,x=1,T=1,_=d.alpha*h;_!==0&&(o.globalAlpha=_,g?(d.flipX&&(x=-1,m-=p.width),d.flipY&&(T=-1,y-=p.height),o.save(),o.translate(d.x+l,d.y+u),o.scale(x,T),o.drawImage(v.source.image,p.x,p.y,p.width,p.height,m,y,p.width,p.height),o.restore()):(f&&(m|=0,y|=0),o.drawImage(v.source.image,p.x,p.y,p.width,p.height,m+d.x+l,y+d.y+u,p.width,p.height)))}o.restore()}}};return ov=t,ov}/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var yF=W,xF=W;yF=Lnt();xF=$nt();var Ont={renderWebGL:yF,renderCanvas:xF};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var Int=b,Dnt=new Int({initialize:function(e,i,r,n,s){this.parent=e,this.x=i,this.y=r,this.frame=n,this.data={},this._visible=s,this._alpha=1,this.flipX=!1,this.flipY=!1},setFrame:function(t){return t===void 0?this.frame=this.parent.frame:this.frame=this.parent.texture.get(t),this},resetFlip:function(){return this.flipX=!1,this.flipY=!1,this},reset:function(t,e,i){return this.x=t,this.y=e,this.flipX=!1,this.flipY=!1,this._alpha=1,this._visible=!0,this.parent.dirty=!0,i&&this.setFrame(i),this},setFlipX:function(t){return this.flipX=t,this},setFlipY:function(t){return this.flipY=t,this},setFlip:function(t,e){return this.flipX=t,this.flipY=e,this},setVisible:function(t){return this.visible=t,this},setAlpha:function(t){return this.alpha=t,this},destroy:function(){this.parent.dirty=!0,this.parent.children.remove(this),this.parent=void 0,this.frame=void 0,this.data=void 0},visible:{get:function(){return this._visible},set:function(t){this._visible=t,this.parent.dirty=!0}},alpha:{get:function(){return this._alpha},set:function(t){this._alpha=t,this.parent.dirty=!0}}}),Bnt=Dnt;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var knt=Ont,Gnt=Bnt,znt=b,hr=ne,Nnt=Vc,YT=Qt,Ynt=Xc,Vnt=new znt({Extends:YT,Mixins:[hr.Alpha,hr.BlendMode,hr.Depth,hr.Mask,hr.Pipeline,hr.ScaleMode,hr.ScrollFactor,hr.Size,hr.Texture,hr.Transform,hr.Visible,knt],initialize:function(e,i,r,n,s){YT.call(this,e,"Blitter"),this.setTexture(n,s),this.setPosition(i,r),this.initPipeline(),this.children=new Ynt,this.renderList=[],this.dirty=!1},create:function(t,e,i,r,n){r===void 0&&(r=!0),n===void 0&&(n=this.children.length),i===void 0?i=this.frame:i instanceof Nnt||(i=this.texture.get(i));var s=new Gnt(this,t,e,i,r);return this.children.addAt(s,n,!1),this.dirty=!0,s},createFromCallback:function(t,e,i,r){for(var n=this.createMultiple(e,i,r),s=0;s<n.length;s++){var a=n[s];t.call(this,a,s)}return n},createMultiple:function(t,e,i){e===void 0&&(e=this.frame.name),i===void 0&&(i=!0),Array.isArray(e)||(e=[e]);var r=[],n=this;return e.forEach(function(s){for(var a=0;a<t;a++)r.push(n.create(0,0,s,i))}),r},childCanRender:function(t){return t.visible&&t.alpha>0},getRenderList:function(){return this.dirty&&(this.renderList=this.children.list.filter(this.childCanRender,this),this.dirty=!1),this.renderList},clear:function(){this.children.removeAll(),this.dirty=!0},preDestroy:function(){this.children.destroy(),this.renderList=[]}}),ay=Vnt;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var hv,VT;function Wnt(){if(VT)return hv;VT=1;var t=function(e,i,r,n,s){var a=i.list;if(a.length!==0){var o=i.localTransform;s?(o.loadIdentity(),o.multiply(s),o.translate(i.x,i.y),o.rotate(i.rotation),o.scale(i.scaleX,i.scaleY)):o.applyITRS(i.x,i.y,i.rotation,i.scaleX,i.scaleY);var h=i.blendMode!==-1;h||e.setBlendMode(0);for(var l=i._alpha,u=i.scrollFactorX,f=i.scrollFactorY,c=0;c<a.length;c++){var d=a[c];if(!!d.willRender(n)){var g=d._alpha,v=d.scrollFactorX,p=d.scrollFactorY;!h&&d.blendMode!==e.currentBlendMode&&e.setBlendMode(d.blendMode),d.setScrollFactor(v*u,p*f),d.setAlpha(g*l),d.renderWebGL(e,d,r,n,o),d.setAlpha(g),d.setScrollFactor(v,p)}}}};return hv=t,hv}/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var lv,WT;function Xnt(){if(WT)return lv;WT=1;var t=function(e,i,r,n,s){var a=i.list;if(a.length!==0){var o=i.localTransform;s?(o.loadIdentity(),o.multiply(s),o.translate(i.x,i.y),o.rotate(i.rotation),o.scale(i.scaleX,i.scaleY)):o.applyITRS(i.x,i.y,i.rotation,i.scaleX,i.scaleY);var h=i.blendMode!==-1;h||e.setBlendMode(0);for(var l=i._alpha,u=i.scrollFactorX,f=i.scrollFactorY,c=0;c<a.length;c++){var d=a[c];if(!!d.willRender(n)){var g=d._alpha,v=d._blendMode,p=d.scrollFactorX,m=d.scrollFactorY;d.setScrollFactor(p*u,m*f),d.setAlpha(g*l),h&&d.setBlendMode(i._blendMode),d.renderCanvas(e,d,r,n,o),d.setAlpha(g),d.setScrollFactor(p,m),d.setBlendMode(v)}}}};return lv=t,lv}/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var _F=W,TF=W;_F=Wnt();TF=Xnt();var Unt={renderWebGL:_F,renderCanvas:TF};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var Hnt=Dt,qnt=function(t,e,i){i===void 0&&(i=new Hnt);var r=Math.min(t.x,e.x),n=Math.min(t.y,e.y),s=Math.max(t.right,e.right)-r,a=Math.max(t.bottom,e.bottom)-n;return i.setTo(r,n,s,a)},wF=qnt;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var Kt=ny,Knt=pa,Jnt=b,xr=ne,XT=Qt,UT=Dt,jnt=Unt,Znt=wF,Qnt=at,tst=new Jnt({Extends:XT,Mixins:[xr.Alpha,xr.BlendMode,xr.ComputedSize,xr.Depth,xr.Mask,xr.ScrollFactor,xr.Transform,xr.Visible,jnt],initialize:function(e,i,r,n){XT.call(this,e,"Container"),this.list=[],this.exclusive=!0,this.maxSize=-1,this.position=0,this.localTransform=new xr.TransformMatrix,this.tempTransformMatrix=new xr.TransformMatrix,this._displayList=e.sys.displayList,this._sortKey="",this._sysEvents=e.sys.events,this.setPosition(i,r),this.clearAlpha(),this.setBlendMode(Knt.SKIP_CHECK),n&&this.add(n)},originX:{get:function(){return .5}},originY:{get:function(){return .5}},displayOriginX:{get:function(){return this.width*.5}},displayOriginY:{get:function(){return this.height*.5}},setExclusive:function(t){return t===void 0&&(t=!0),this.exclusive=t,this},getBounds:function(t){if(t===void 0&&(t=new UT),t.setTo(this.x,this.y,0,0),this.list.length>0)for(var e=this.list,i=new UT,r=0;r<e.length;r++){var n=e[r];n.getBounds&&(n.getBounds(i),Znt(i,t,t))}return t},addHandler:function(t){t.once("destroy",this.remove,this),this.exclusive&&(this._displayList.remove(t),t.parentContainer&&t.parentContainer.remove(t),t.parentContainer=this)},removeHandler:function(t){t.off("destroy",this.remove),this.exclusive&&(t.parentContainer=null)},pointToContainer:function(t,e){if(e===void 0&&(e=new Qnt),this.parentContainer)return this.parentContainer.pointToContainer(t,e);var i=this.tempTransformMatrix;return i.applyITRS(this.x,this.y,this.rotation,this.scaleX,this.scaleY),i.invert(),i.transformPoint(t.x,t.y,e),e},getBoundsTransformMatrix:function(){return this.getWorldTransformMatrix(this.tempTransformMatrix,this.localTransform)},add:function(t){return Kt.Add(this.list,t,this.maxSize,this.addHandler,this),this},addAt:function(t,e){return Kt.AddAt(this.list,t,e,this.maxSize,this.addHandler,this),this},getAt:function(t){return this.list[t]},getIndex:function(t){return this.list.indexOf(t)},sort:function(t){return t&&(this._sortKey=t,Kt.StableSort.inplace(this.list,this.sortHandler)),this},sortHandler:function(t,e){return t[this._sortKey]-e[this._sortKey]},getByName:function(t){return Kt.GetFirst(this.list,"name",t)},getRandom:function(t,e){return Kt.GetRandom(this.list,t,e)},getFirst:function(t,e,i,r){return Kt.GetFirstElement(this.list,t,e,i,r)},getAll:function(t,e,i,r){return Kt.GetAll(this.list,t,e,i,r)},count:function(t,e,i,r){return Kt.CountAllMatching(this.list,t,e,i,r)},swap:function(t,e){return Kt.Swap(this.list,t,e),this},moveTo:function(t,e){return Kt.MoveTo(this.list,t,e),this},remove:function(t,e){var i=Kt.Remove(this.list,t,this.removeHandler,this);if(e&&i){Array.isArray(i)||(i=[i]);for(var r=0;r<i.length;r++)i[r].destroy()}return this},removeAt:function(t,e){var i=Kt.RemoveAt(this.list,t,this.removeHandler,this);return e&&i&&i.destroy(),this},removeBetween:function(t,e,i){var r=Kt.RemoveBetween(this.list,t,e,this.removeHandler,this);if(i)for(var n=0;n<r.length;n++)r[n].destroy();return this},removeAll:function(t){var e=Kt.RemoveBetween(this.list,0,this.list.length,this.removeHandler,this);if(t)for(var i=0;i<e.length;i++)e[i].destroy();return this},bringToTop:function(t){return Kt.BringToTop(this.list,t),this},sendToBack:function(t){return Kt.SendToBack(this.list,t),this},moveUp:function(t){return Kt.MoveUp(this.list,t),this},moveDown:function(t){return Kt.MoveDown(this.list,t),this},reverse:function(){return this.list.reverse(),this},shuffle:function(){return Kt.Shuffle(this.list),this},replace:function(t,e,i){var r=Kt.Replace(this.list,t,e);return r&&(this.addHandler(e),this.removeHandler(t),i&&t.destroy()),this},exists:function(t){return this.list.indexOf(t)>-1},setAll:function(t,e,i,r){return Kt.SetAll(this.list,t,e,i,r),this},each:function(t,e){var i=[null],r,n=this.list.slice(),s=n.length;for(r=2;r<arguments.length;r++)i.push(arguments[r]);for(r=0;r<s;r++)i[0]=n[r],t.apply(e,i);return this},iterate:function(t,e){var i=[null],r;for(r=2;r<arguments.length;r++)i.push(arguments[r]);for(r=0;r<this.list.length;r++)i[0]=this.list[r],t.apply(e,i);return this},length:{get:function(){return this.list.length}},first:{get:function(){return this.position=0,this.list.length>0?this.list[0]:null}},last:{get:function(){return this.list.length>0?(this.position=this.list.length-1,this.list[this.position]):null}},next:{get:function(){return this.position<this.list.length?(this.position++,this.list[this.position]):null}},previous:{get:function(){return this.position>0?(this.position--,this.list[this.position]):null}},preDestroy:function(){this.removeAll(!!this.exclusive),this.localTransform.destroy(),this.tempTransformMatrix.destroy(),this.list=[],this._displayList=null}}),oy=tst;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var uv,HT;function est(){if(HT)return uv;HT=1;var t=kt,e=function(i,r,n,s,a){var o=r.text,h=o.length;if(h!==0){var l=this.pipeline;i.setPipeline(l,r);var u=r.cropWidth>0||r.cropHeight>0;u&&(l.flush(),i.pushScissor(r.x,r.y,r.cropWidth*r.scaleX,r.cropHeight*r.scaleY));var f=l._tempMatrix1,c=l._tempMatrix2,d=l._tempMatrix3,g=l._tempMatrix4;c.applyITRS(r.x,r.y,r.rotation,r.scaleX,r.scaleY),f.copyFrom(s.matrix),a?(f.multiplyWithOffset(a,-s.scrollX*r.scrollFactorX,-s.scrollY*r.scrollFactorY),c.e=r.x,c.f=r.y,f.multiply(c,d)):(c.e-=s.scrollX*r.scrollFactorX,c.f-=s.scrollY*r.scrollFactorY,f.multiply(c,d));var v=r.frame,p=v.glTexture,m=v.cutX,y=v.cutY,x=p.width,T=p.height,_=r._isTinted&&r.tintFill,w=t.getTintAppendFloatAlpha(r._tintTL,s.alpha*r._alphaTL),S=t.getTintAppendFloatAlpha(r._tintTR,s.alpha*r._alphaTR),C=t.getTintAppendFloatAlpha(r._tintBL,s.alpha*r._alphaBL),R=t.getTintAppendFloatAlpha(r._tintBR,s.alpha*r._alphaBR);l.setTexture2D(p,0);var L=0,E=0,O=0,A=0,F=r.letterSpacing,M,P=0,$=0,I=0,D=0,G,et=r.scrollX,q=r.scrollY,j=r.fontData,Z=j.chars,Q=j.lineHeight,N=r.fontSize/j.size,vt=0,ft=r._align,tt=0,K=0;r.getTextBounds(!1);var ct=r._bounds.lines;ft===1?K=(ct.longest-ct.lengths[0])/2:ft===2&&(K=ct.longest-ct.lengths[0]);for(var Ee=s.roundPixels,ri=r.displayCallback,Vt=r.callbackData,Ci=0;Ci<h;Ci++){if(O=o.charCodeAt(Ci),O===10){tt++,ft===1?K=(ct.longest-ct.lengths[tt])/2:ft===2&&(K=ct.longest-ct.lengths[tt]),L=0,E+=Q,G=null;continue}if(M=Z[O],!!M){P=m+M.x,$=y+M.y,I=M.width,D=M.height;var ce=M.xOffset+L-et,Le=M.yOffset+E-q;if(G!==null){var er=M.kerning[A];ce+=er!==void 0?er:0}if(L+=M.xAdvance+F,G=M,A=O,!(I===0||D===0||O===32)){if(N=r.fontSize/r.fontData.size,vt=0,ri){Vt.color=0,Vt.tint.topLeft=w,Vt.tint.topRight=S,Vt.tint.bottomLeft=C,Vt.tint.bottomRight=R,Vt.index=Ci,Vt.charCode=O,Vt.x=ce,Vt.y=Le,Vt.scale=N,Vt.rotation=vt,Vt.data=M.data;var $e=ri(Vt);ce=$e.x,Le=$e.y,N=$e.scale,vt=$e.rotation,$e.color?(w=$e.color,S=$e.color,C=$e.color,R=$e.color):(w=$e.tint.topLeft,S=$e.tint.topRight,C=$e.tint.bottomLeft,R=$e.tint.bottomRight),w=t.getTintAppendFloatAlpha(w,s.alpha*r._alphaTL),S=t.getTintAppendFloatAlpha(S,s.alpha*r._alphaTR),C=t.getTintAppendFloatAlpha(C,s.alpha*r._alphaBL),R=t.getTintAppendFloatAlpha(R,s.alpha*r._alphaBR)}ce*=N,Le*=N,ce-=r.displayOriginX,Le-=r.displayOriginY,ce+=K,g.applyITRS(ce,Le,vt,N,N),d.multiply(g,c);var Dl=P/x,Bl=$/T,kl=(P+I)/x,Gl=($+D)/T,Ps=I,As=D,ex=c.e,ix=c.f,rx=As*c.c+c.e,nx=As*c.d+c.f,sx=Ps*c.a+As*c.c+c.e,ax=Ps*c.b+As*c.d+c.f,ox=Ps*c.a+c.e,hx=Ps*c.b+c.f;Ee&&(ex|=0,ix|=0,rx|=0,nx|=0,sx|=0,ax|=0,ox|=0,hx|=0),l.batchQuad(ex,ix,rx,nx,sx,ax,ox,hx,Dl,Bl,kl,Gl,w,S,C,R,_)}}}u&&(l.flush(),i.popScissor())}};return uv=e,uv}/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var fv,qT;function ist(){if(qT)return fv;qT=1;var t=ii,e=function(i,r,n,s,a){var o=r.text,h=o.length,l=i.currentContext;if(!(h===0||!t(i,l,r,s,a))){var u=r.frame,f=r.displayCallback,c=s.scrollX*r.scrollFactorX,d=s.scrollY*r.scrollFactorY,g=r.fontData.chars,v=r.fontData.lineHeight,p=0,m=0,y=0,x=0,T=null,_=0,w=0,S=0,C=0,R=0,L=0,E=null,O=0,A=r.frame.source.image,F=u.cutX,M=u.cutY,P=0,$=r.fontSize/r.fontData.size;r.cropWidth>0&&r.cropHeight>0&&(l.save(),l.beginPath(),l.rect(0,0,r.cropWidth,r.cropHeight),l.clip());for(var I=0;I<h;++I){if($=r.fontSize/r.fontData.size,P=0,x=o.charCodeAt(I),x===10){p=0,y=0,m+=v,E=null;continue}if(T=g[x],!!T){if(_=F+T.x,w=M+T.y,S=T.width,C=T.height,R=y+T.xOffset+p-r.scrollX,L=T.yOffset+m-r.scrollY,E!==null){var D=T.kerning[O];R+=D!==void 0?D:0}if(f){var G=f({tint:{topLeft:0,topRight:0,bottomLeft:0,bottomRight:0},index:I,charCode:x,x:R,y:L,scale:$,rotation:0,data:T.data});R=G.x,L=G.y,$=G.scale,P=G.rotation}R*=$,L*=$,R-=c,L-=d,s.roundPixels&&(R|=0,L|=0),l.save(),l.translate(R,L),l.rotate(P),l.scale($,$),l.drawImage(A,_,w,S,C,0,0,S,C),l.restore(),p+=T.xAdvance,y+=1,E=T,O=x}}r.cropWidth>0&&r.cropHeight>0&&l.restore(),l.restore()}};return fv=e,fv}/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var SF=W,CF=W;SF=est();CF=ist();var rst={renderWebGL:SF,renderCanvas:CF};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var KT=Uc,nst=b,sst=rst,ast=new nst({Extends:KT,Mixins:[sst],initialize:function(e,i,r,n,s,a,o){KT.call(this,e,i,r,n,s,a,o),this.type="DynamicBitmapText",this.scrollX=0,this.scrollY=0,this.cropWidth=0,this.cropHeight=0,this.displayCallback,this.callbackData={color:0,tint:{topLeft:0,topRight:0,bottomLeft:0,bottomRight:0},index:0,charCode:0,x:0,y:0,scale:0,rotation:0,data:0}},setSize:function(t,e){return this.cropWidth=t,this.cropHeight=e,this},setDisplayCallback:function(t){return this.displayCallback=t,this},setScrollX:function(t){return this.scrollX=t,this},setScrollY:function(t){return this.scrollY=t,this}}),hy=ast;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var ly={ARC:0,BEGIN_PATH:1,CLOSE_PATH:2,FILL_RECT:3,LINE_TO:4,MOVE_TO:5,LINE_STYLE:6,FILL_STYLE:7,FILL_PATH:8,STROKE_PATH:9,FILL_TRIANGLE:10,STROKE_TRIANGLE:11,LINE_FX_TO:12,MOVE_FX_TO:13,SAVE:14,RESTORE:15,TRANSLATE:16,SCALE:17,ROTATE:18,SET_TEXTURE:19,CLEAR_TEXTURE:20,GRADIENT_FILL_STYLE:21,GRADIENT_LINE_STYLE:22};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var ost=function(t,e,i){if(t.width<=0||t.height<=0)return!1;var r=(e-t.x)/t.width,n=(i-t.y)/t.height;return r*=r,n*=n,r+n<.25},_l=ost;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var hst=gt,lst=function(t,e,i){i===void 0&&(i=new hst);var r=t.width/2,n=t.height/2;return i.x=t.x+r*Math.cos(e),i.y=t.y+n*Math.sin(e),i},uy=lst;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var ust=uy,fst=pl,cst=_e,dst=gt,vst=function(t,e,i){i===void 0&&(i=new dst);var r=fst(e,0,cst.PI2);return ust(t,r,i)},bF=vst;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var pst=function(t){var e=t.width/2,i=t.height/2,r=Math.pow(e-i,2)/Math.pow(e+i,2);return Math.PI*(e+i)*(1+3*r/(10+Math.sqrt(4-3*r)))},MF=pst;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var gst=MF,mst=uy,yst=pl,xst=_e,_st=function(t,e,i,r){r===void 0&&(r=[]),e||(e=gst(t)/i);for(var n=0;n<e;n++){var s=yst(n/e,0,xst.PI2);r.push(mst(t,s))}return r},PF=_st;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var Tst=b,wst=_l,Sst=bF,Cst=PF,bst=P0,Mst=new Tst({initialize:function(e,i,r,n){e===void 0&&(e=0),i===void 0&&(i=0),r===void 0&&(r=0),n===void 0&&(n=0),this.x=e,this.y=i,this.width=r,this.height=n},contains:function(t,e){return wst(this,t,e)},getPoint:function(t,e){return Sst(this,t,e)},getPoints:function(t,e,i){return Cst(this,t,e,i)},getRandomPoint:function(t){return bst(this,t)},setTo:function(t,e,i,r){return this.x=t,this.y=e,this.width=i,this.height=r,this},setEmpty:function(){return this.width=0,this.height=0,this},setPosition:function(t,e){return e===void 0&&(e=t),this.x=t,this.y=e,this},setSize:function(t,e){return e===void 0&&(e=t),this.width=t,this.height=e,this},isEmpty:function(){return this.width<=0||this.height<=0},getMinorRadius:function(){return Math.min(this.width,this.height)/2},getMajorRadius:function(){return Math.max(this.width,this.height)/2},left:{get:function(){return this.x-this.width/2},set:function(t){this.x=t+this.width/2}},right:{get:function(){return this.x+this.width/2},set:function(t){this.x=t-this.width/2}},top:{get:function(){return this.y-this.height/2},set:function(t){this.y=t+this.height/2}},bottom:{get:function(){return this.y+this.height/2},set:function(t){this.y=t-this.height/2}}}),Tl=Mst;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var cv,JT;function Pst(){if(JT)return cv;JT=1;var t=ly,e=kt,i=function(a,o,h){this.x=a,this.y=o,this.width=h},r=function(a,o,h){this.points=[],this.pointsLength=1,this.points[0]=new i(a,o,h)},n=[],s=function(a,o,h,l,u){if(o.commandBuffer.length!==0){var f=this.pipeline,c=f._tempMatrix1,d=f._tempMatrix2,g=f._tempMatrix4;a.setPipeline(f),g.loadIdentity(),d.applyITRS(o.x,o.y,o.rotation,o.scaleX,o.scaleY),c.copyFrom(l.matrix),u?(c.multiplyWithOffset(u,-l.scrollX*o.scrollFactorX,-l.scrollY*o.scrollFactorY),d.e=o.x,d.f=o.y,c.multiply(d)):(d.e-=l.scrollX*o.scrollFactorX,d.f-=l.scrollY*o.scrollFactorY,c.multiply(d));for(var v=o.commandBuffer,p=l.alpha*o.alpha,m=1,y=f.fillTint,x=f.strokeTint,T=0,_=0,w=0,S=.01,C=Math.PI*2,R,L=[],E=0,O=!1,A=null,F=e.getTintAppendFloatAlphaAndSwap,M=a.blankTexture.glTexture,P=0;P<v.length;P++)switch(R=v[P],R){case t.BEGIN_PATH:L.length=0,A=null,O=!0;break;case t.CLOSE_PATH:O=!1,A&&A.points.length&&A.points.push(A.points[0]);break;case t.FILL_PATH:for(E=0;E<L.length;E++)f.setTexture2D(M),f.batchFillPath(L[E].points,g,c);break;case t.STROKE_PATH:for(E=0;E<L.length;E++)f.setTexture2D(M),f.batchStrokePath(L[E].points,m,O,g,c);break;case t.LINE_STYLE:m=v[++P];var $=v[++P],I=v[++P]*p,D=F($,I);x.TL=D,x.TR=D,x.BL=D,x.BR=D;break;case t.FILL_STYLE:var G=v[++P],et=v[++P]*p,q=F(G,et);y.TL=q,y.TR=q,y.BL=q,y.BR=q;break;case t.GRADIENT_FILL_STYLE:var j=v[++P]*p;y.TL=F(v[++P],j),y.TR=F(v[++P],j),y.BL=F(v[++P],j),y.BR=F(v[++P],j);break;case t.GRADIENT_LINE_STYLE:m=v[++P];var Z=v[++P]*p;x.TL=F(v[++P],Z),x.TR=F(v[++P],Z),x.BL=F(v[++P],Z),x.BR=F(v[++P],Z);break;case t.ARC:var Q=0,N=v[++P],vt=v[++P],ft=v[++P],tt=v[++P],K=v[++P],ct=v[++P],Ee=v[++P];for(K-=tt,ct?K<-C?K=-C:K>0&&(K=-C+K%C):K>C?K=C:K<0&&(K=C+K%C),A===null&&(A=new r(N+Math.cos(tt)*ft,vt+Math.sin(tt)*ft,m),L.push(A),Q+=S);Q<1+Ee;)w=K*Q+tt,T=N+Math.cos(w)*ft,_=vt+Math.sin(w)*ft,A.points.push(new i(T,_,m)),Q+=S;w=K+tt,T=N+Math.cos(w)*ft,_=vt+Math.sin(w)*ft,A.points.push(new i(T,_,m));break;case t.FILL_RECT:f.setTexture2D(M),f.batchFillRect(v[++P],v[++P],v[++P],v[++P],g,c);break;case t.FILL_TRIANGLE:f.setTexture2D(M),f.batchFillTriangle(v[++P],v[++P],v[++P],v[++P],v[++P],v[++P],g,c);break;case t.STROKE_TRIANGLE:f.setTexture2D(M),f.batchStrokeTriangle(v[++P],v[++P],v[++P],v[++P],v[++P],v[++P],m,g,c);break;case t.LINE_TO:A!==null?A.points.push(new i(v[++P],v[++P],m)):(A=new r(v[++P],v[++P],m),L.push(A));break;case t.MOVE_TO:A=new r(v[++P],v[++P],m),L.push(A);break;case t.SAVE:n.push(g.copyToArray());break;case t.RESTORE:g.copyFromArray(n.pop());break;case t.TRANSLATE:N=v[++P],vt=v[++P],g.translate(N,vt);break;case t.SCALE:N=v[++P],vt=v[++P],g.scale(N,vt);break;case t.ROTATE:g.rotate(v[++P]);break;case t.SET_TEXTURE:var ri=v[++P],Vt=v[++P];f.currentFrame=ri,f.setTexture2D(ri.glTexture,0),f.tintEffect=Vt,M=ri.glTexture;break;case t.CLEAR_TEXTURE:f.currentFrame=a.blankTexture,f.tintEffect=2,M=a.blankTexture.glTexture;break}}};return cv=s,cv}/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var dv,jT;function AF(){if(jT)return dv;jT=1;var t=ly,e=ii,i=function(r,n,s,a,o,h,l){var u=n.commandBuffer,f=u.length,c=h||r.currentContext;if(!(f===0||!e(r,c,n,a,o))){var d=1,g=1,v=0,p=0,m=1,y=0,x=0,T=0;c.save(),c.beginPath();for(var _=0;_<f;++_){var w=u[_];switch(w){case t.ARC:c.arc(u[_+1],u[_+2],u[_+3],u[_+4],u[_+5],u[_+6]),_+=7;break;case t.LINE_STYLE:m=u[_+1],v=u[_+2],d=u[_+3],y=(v&16711680)>>>16,x=(v&65280)>>>8,T=v&255,c.strokeStyle="rgba("+y+","+x+","+T+","+d+")",c.lineWidth=m,_+=3;break;case t.FILL_STYLE:p=u[_+1],g=u[_+2],y=(p&16711680)>>>16,x=(p&65280)>>>8,T=p&255,c.fillStyle="rgba("+y+","+x+","+T+","+g+")",_+=2;break;case t.BEGIN_PATH:c.beginPath();break;case t.CLOSE_PATH:c.closePath();break;case t.FILL_PATH:l||c.fill();break;case t.STROKE_PATH:l||c.stroke();break;case t.FILL_RECT:l?c.rect(u[_+1],u[_+2],u[_+3],u[_+4]):c.fillRect(u[_+1],u[_+2],u[_+3],u[_+4]),_+=4;break;case t.FILL_TRIANGLE:c.beginPath(),c.moveTo(u[_+1],u[_+2]),c.lineTo(u[_+3],u[_+4]),c.lineTo(u[_+5],u[_+6]),c.closePath(),l||c.fill(),_+=6;break;case t.STROKE_TRIANGLE:c.beginPath(),c.moveTo(u[_+1],u[_+2]),c.lineTo(u[_+3],u[_+4]),c.lineTo(u[_+5],u[_+6]),c.closePath(),l||c.stroke(),_+=6;break;case t.LINE_TO:c.lineTo(u[_+1],u[_+2]),_+=2;break;case t.MOVE_TO:c.moveTo(u[_+1],u[_+2]),_+=2;break;case t.LINE_FX_TO:c.lineTo(u[_+1],u[_+2]),_+=5;break;case t.MOVE_FX_TO:c.moveTo(u[_+1],u[_+2]),_+=5;break;case t.SAVE:c.save();break;case t.RESTORE:c.restore();break;case t.TRANSLATE:c.translate(u[_+1],u[_+2]),_+=2;break;case t.SCALE:c.scale(u[_+1],u[_+2]),_+=2;break;case t.ROTATE:c.rotate(u[_+1]),_+=1;break;case t.GRADIENT_FILL_STYLE:_+=5;break;case t.GRADIENT_LINE_STYLE:_+=6;break;case t.SET_TEXTURE:_+=2;break}}c.restore()}};return dv=i,dv}/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var RF=W,fy=W;RF=Pst(),fy=AF();fy=AF();var Ast={renderWebGL:RF,renderCanvas:fy};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var Rst=Oc,Fst=b,Tt=ly,Est=cR,Lst=vR,$st=pR,Ost=TR,Ist=Ec,Dst=CR,Bst=bR,kst=wR,ZT=Tl,QT=Qt,Bn=V,jr=ut,_r=_e,Gst=Ast,js=new Fst({Extends:QT,Mixins:[Est,Lst,$st,Ost,Ist,Dst,Bst,kst,Gst],initialize:function(e,i){var r=jr(i,"x",0),n=jr(i,"y",0);QT.call(this,e,"Graphics"),this.setPosition(r,n),this.initPipeline(),this.displayOriginX=0,this.displayOriginY=0,this.commandBuffer=[],this.defaultFillColor=-1,this.defaultFillAlpha=1,this.defaultStrokeWidth=1,this.defaultStrokeColor=-1,this.defaultStrokeAlpha=1,this._lineWidth=1,this.setDefaultStyles(i)},setDefaultStyles:function(t){return jr(t,"lineStyle",null)&&(this.defaultStrokeWidth=jr(t,"lineStyle.width",1),this.defaultStrokeColor=jr(t,"lineStyle.color",16777215),this.defaultStrokeAlpha=jr(t,"lineStyle.alpha",1),this.lineStyle(this.defaultStrokeWidth,this.defaultStrokeColor,this.defaultStrokeAlpha)),jr(t,"fillStyle",null)&&(this.defaultFillColor=jr(t,"fillStyle.color",16777215),this.defaultFillAlpha=jr(t,"fillStyle.alpha",1),this.fillStyle(this.defaultFillColor,this.defaultFillAlpha)),this},lineStyle:function(t,e,i){return i===void 0&&(i=1),this.commandBuffer.push(Tt.LINE_STYLE,t,e,i),this._lineWidth=t,this},fillStyle:function(t,e){return e===void 0&&(e=1),this.commandBuffer.push(Tt.FILL_STYLE,t,e),this},fillGradientStyle:function(t,e,i,r,n){return n===void 0&&(n=1),this.commandBuffer.push(Tt.GRADIENT_FILL_STYLE,n,t,e,i,r),this},lineGradientStyle:function(t,e,i,r,n,s){return s===void 0&&(s=1),this.commandBuffer.push(Tt.GRADIENT_LINE_STYLE,t,s,e,i,r,n),this},setTexture:function(t,e,i){if(i===void 0&&(i=0),t===void 0)this.commandBuffer.push(Tt.CLEAR_TEXTURE);else{var r=this.scene.sys.textures.getFrame(t,e);r&&(i===2&&(i=3),this.commandBuffer.push(Tt.SET_TEXTURE,r,i))}return this},beginPath:function(){return this.commandBuffer.push(Tt.BEGIN_PATH),this},closePath:function(){return this.commandBuffer.push(Tt.CLOSE_PATH),this},fillPath:function(){return this.commandBuffer.push(Tt.FILL_PATH),this},strokePath:function(){return this.commandBuffer.push(Tt.STROKE_PATH),this},fillCircleShape:function(t){return this.fillCircle(t.x,t.y,t.radius)},strokeCircleShape:function(t){return this.strokeCircle(t.x,t.y,t.radius)},fillCircle:function(t,e,i){return this.beginPath(),this.arc(t,e,i,0,_r.PI2),this.fillPath(),this},strokeCircle:function(t,e,i){return this.beginPath(),this.arc(t,e,i,0,_r.PI2),this.strokePath(),this},fillRectShape:function(t){return this.fillRect(t.x,t.y,t.width,t.height)},strokeRectShape:function(t){return this.strokeRect(t.x,t.y,t.width,t.height)},fillRect:function(t,e,i,r){return this.commandBuffer.push(Tt.FILL_RECT,t,e,i,r),this},strokeRect:function(t,e,i,r){var n=this._lineWidth/2,s=t-n,a=t+n;return this.beginPath(),this.moveTo(t,e),this.lineTo(t,e+r),this.strokePath(),this.beginPath(),this.moveTo(t+i,e),this.lineTo(t+i,e+r),this.strokePath(),this.beginPath(),this.moveTo(s,e),this.lineTo(a+i,e),this.strokePath(),this.beginPath(),this.moveTo(s,e+r),this.lineTo(a+i,e+r),this.strokePath(),this},fillRoundedRect:function(t,e,i,r,n){n===void 0&&(n=20);var s=n,a=n,o=n,h=n;return typeof n!="number"&&(s=Bn(n,"tl",20),a=Bn(n,"tr",20),o=Bn(n,"bl",20),h=Bn(n,"br",20)),this.beginPath(),this.moveTo(t+s,e),this.lineTo(t+i-a,e),this.arc(t+i-a,e+a,a,-_r.TAU,0),this.lineTo(t+i,e+r-h),this.arc(t+i-h,e+r-h,h,0,_r.TAU),this.lineTo(t+o,e+r),this.arc(t+o,e+r-o,o,_r.TAU,Math.PI),this.lineTo(t,e+s),this.arc(t+s,e+s,s,-Math.PI,-_r.TAU),this.fillPath(),this},strokeRoundedRect:function(t,e,i,r,n){n===void 0&&(n=20);var s=n,a=n,o=n,h=n;return typeof n!="number"&&(s=Bn(n,"tl",20),a=Bn(n,"tr",20),o=Bn(n,"bl",20),h=Bn(n,"br",20)),this.beginPath(),this.moveTo(t+s,e),this.lineTo(t+i-a,e),this.arc(t+i-a,e+a,a,-_r.TAU,0),this.lineTo(t+i,e+r-h),this.arc(t+i-h,e+r-h,h,0,_r.TAU),this.lineTo(t+o,e+r),this.arc(t+o,e+r-o,o,_r.TAU,Math.PI),this.lineTo(t,e+s),this.arc(t+s,e+s,s,-Math.PI,-_r.TAU),this.strokePath(),this},fillPointShape:function(t,e){return this.fillPoint(t.x,t.y,e)},fillPoint:function(t,e,i){return!i||i<1?i=1:(t-=i/2,e-=i/2),this.commandBuffer.push(Tt.FILL_RECT,t,e,i,i),this},fillTriangleShape:function(t){return this.fillTriangle(t.x1,t.y1,t.x2,t.y2,t.x3,t.y3)},strokeTriangleShape:function(t){return this.strokeTriangle(t.x1,t.y1,t.x2,t.y2,t.x3,t.y3)},fillTriangle:function(t,e,i,r,n,s){return this.commandBuffer.push(Tt.FILL_TRIANGLE,t,e,i,r,n,s),this},strokeTriangle:function(t,e,i,r,n,s){return this.commandBuffer.push(Tt.STROKE_TRIANGLE,t,e,i,r,n,s),this},strokeLineShape:function(t){return this.lineBetween(t.x1,t.y1,t.x2,t.y2)},lineBetween:function(t,e,i,r){return this.beginPath(),this.moveTo(t,e),this.lineTo(i,r),this.strokePath(),this},lineTo:function(t,e){return this.commandBuffer.push(Tt.LINE_TO,t,e),this},moveTo:function(t,e){return this.commandBuffer.push(Tt.MOVE_TO,t,e),this},lineFxTo:function(t,e,i,r){return this.commandBuffer.push(Tt.LINE_FX_TO,t,e,i,r,1),this},moveFxTo:function(t,e,i,r){return this.commandBuffer.push(Tt.MOVE_FX_TO,t,e,i,r,1),this},strokePoints:function(t,e,i){e===void 0&&(e=!1),i===void 0&&(i=t.length),this.beginPath(),this.moveTo(t[0].x,t[0].y);for(var r=1;r<i;r++)this.lineTo(t[r].x,t[r].y);return e&&this.lineTo(t[0].x,t[0].y),this.strokePath(),this},fillPoints:function(t,e,i){e===void 0&&(e=!1),i===void 0&&(i=t.length),this.beginPath(),this.moveTo(t[0].x,t[0].y);for(var r=1;r<i;r++)this.lineTo(t[r].x,t[r].y);return e&&this.lineTo(t[0].x,t[0].y),this.fillPath(),this},strokeEllipseShape:function(t,e){e===void 0&&(e=32);var i=t.getPoints(e);return this.strokePoints(i,!0)},strokeEllipse:function(t,e,i,r,n){n===void 0&&(n=32);var s=new ZT(t,e,i,r),a=s.getPoints(n);return this.strokePoints(a,!0)},fillEllipseShape:function(t,e){e===void 0&&(e=32);var i=t.getPoints(e);return this.fillPoints(i,!0)},fillEllipse:function(t,e,i,r,n){n===void 0&&(n=32);var s=new ZT(t,e,i,r),a=s.getPoints(n);return this.fillPoints(a,!0)},arc:function(t,e,i,r,n,s,a){return s===void 0&&(s=!1),a===void 0&&(a=0),this.commandBuffer.push(Tt.ARC,t,e,i,r,n,s,a),this},slice:function(t,e,i,r,n,s,a){return s===void 0&&(s=!1),a===void 0&&(a=0),this.commandBuffer.push(Tt.BEGIN_PATH),this.commandBuffer.push(Tt.MOVE_TO,t,e),this.commandBuffer.push(Tt.ARC,t,e,i,r,n,s,a),this.commandBuffer.push(Tt.CLOSE_PATH),this},save:function(){return this.commandBuffer.push(Tt.SAVE),this},restore:function(){return this.commandBuffer.push(Tt.RESTORE),this},translate:function(t,e){return this.commandBuffer.push(Tt.TRANSLATE,t,e),this},scale:function(t,e){return this.commandBuffer.push(Tt.SCALE,t,e),this},rotate:function(t){return this.commandBuffer.push(Tt.ROTATE,t),this},clear:function(){return this.commandBuffer.length=0,this.defaultFillColor>-1&&this.fillStyle(this.defaultFillColor,this.defaultFillAlpha),this.defaultStrokeColor>-1&&this.lineStyle(this.defaultStrokeWidth,this.defaultStrokeColor,this.defaultStrokeAlpha),this},generateTexture:function(t,e,i){var r=this.scene.sys,n=r.game.renderer;e===void 0&&(e=r.game.config.width),i===void 0&&(i=r.game.config.height),js.TargetCamera.setScene(this.scene),js.TargetCamera.setViewport(0,0,e,i),js.TargetCamera.scrollX=this.x,js.TargetCamera.scrollY=this.y;var s,a;if(typeof t=="string")if(r.textures.exists(t)){s=r.textures.get(t);var o=s.getSourceImage();o instanceof HTMLCanvasElement&&(a=o.getContext("2d"))}else s=r.textures.createCanvas(t,e,i),a=s.getSourceImage().getContext("2d");else t instanceof HTMLCanvasElement&&(a=t.getContext("2d"));return a&&(this.renderCanvas(n,this,0,js.TargetCamera,null,a,!1),s&&s.refresh()),this},preDestroy:function(){this.commandBuffer=[]}});js.TargetCamera=new Rst;var cy=js;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var zst=b,Gf=new zst({initialize:function(e){if(this.entries=[],Array.isArray(e))for(var i=0;i<e.length;i++)this.set(e[i])},set:function(t){return this.entries.indexOf(t)===-1&&this.entries.push(t),this},get:function(t,e){for(var i=0;i<this.entries.length;i++){var r=this.entries[i];if(r[t]===e)return r}},getArray:function(){return this.entries.slice(0)},delete:function(t){var e=this.entries.indexOf(t);return e>-1&&this.entries.splice(e,1),this},dump:function(){console.group("Set");for(var t=0;t<this.entries.length;t++){var e=this.entries[t];console.log(e)}console.groupEnd()},each:function(t,e){var i,r=this.entries.slice(),n=r.length;if(e)for(i=0;i<n&&t.call(e,r[i],i)!==!1;i++);else for(i=0;i<n&&t(r[i],i)!==!1;i++);return this},iterate:function(t,e){var i,r=this.entries.length;if(e)for(i=0;i<r&&t.call(e,this.entries[i],i)!==!1;i++);else for(i=0;i<r&&t(this.entries[i],i)!==!1;i++);return this},iterateLocal:function(t){var e,i=[];for(e=1;e<arguments.length;e++)i.push(arguments[e]);var r=this.entries.length;for(e=0;e<r;e++){var n=this.entries[e];n[t].apply(n,i)}return this},clear:function(){return this.entries.length=0,this},contains:function(t){return this.entries.indexOf(t)>-1},union:function(t){var e=new Gf;return t.entries.forEach(function(i){e.set(i)}),this.entries.forEach(function(i){e.set(i)}),e},intersect:function(t){var e=new Gf;return this.entries.forEach(function(i){t.contains(i)&&e.set(i)}),e},difference:function(t){var e=new Gf;return this.entries.forEach(function(i){t.contains(i)||e.set(i)}),e},size:{get:function(){return this.entries.length},set:function(t){return t<this.entries.length?this.entries.length=t:this.entries.length}}}),Ro=Gf;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var vv,tw;function Nst(){if(tw)return vv;tw=1;var t=function(e,i,r,n,s){this.pipeline.batchSprite(i,n,s)};return vv=t,vv}/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var pv,ew;function Yst(){if(ew)return pv;ew=1;var t=function(e,i,r,n,s){e.batchSprite(i,i.frame,n,s)};return pv=t,pv}/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var FF=W,EF=W;FF=Nst();EF=Yst();var Vst={renderWebGL:FF,renderCanvas:EF};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var Wst=b,Ce=ne,iw=Qt,Xst=Vst,Ust=new Wst({Extends:iw,Mixins:[Ce.Alpha,Ce.BlendMode,Ce.Depth,Ce.Flip,Ce.GetBounds,Ce.Mask,Ce.Origin,Ce.Pipeline,Ce.ScaleMode,Ce.ScrollFactor,Ce.Size,Ce.TextureCrop,Ce.Tint,Ce.Transform,Ce.Visible,Xst],initialize:function(e,i,r,n,s){iw.call(this,e,"Sprite"),this._crop=this.resetCropObject(),this.anims=new Ce.Animation(this),this.setTexture(n,s),this.setPosition(i,r),this.setSizeToFrame(),this.setOriginFromFrame(),this.initPipeline()},preUpdate:function(t,e){this.anims.update(t,e)},play:function(t,e,i){return this.anims.play(t,e,i),this},toJSON:function(){var t=Ce.ToJSON(this);return t},preDestroy:function(){this.anims.destroy(),this.anims=void 0}}),Rn=Ust;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var Zr=FR,Hst=b,Wt=V,Fi=ut,rw=Ct,qst=cF,Kst=Ro,Jst=Rn,jst=new Hst({initialize:function(e,i,r){r?i&&!Array.isArray(i)&&(i=[i]):Array.isArray(i)?rw(i[0])&&(r=i,i=null):rw(i)&&(r=i,i=null),this.scene=e,this.children=new Kst(i),this.isParent=!0,this.classType=Wt(r,"classType",Jst),this.active=Wt(r,"active",!0),this.maxSize=Wt(r,"maxSize",-1),this.defaultKey=Wt(r,"defaultKey",null),this.defaultFrame=Wt(r,"defaultFrame",null),this.runChildUpdate=Wt(r,"runChildUpdate",!1),this.createCallback=Wt(r,"createCallback",null),this.removeCallback=Wt(r,"removeCallback",null),this.createMultipleCallback=Wt(r,"createMultipleCallback",null),r&&this.createMultiple(r)},create:function(t,e,i,r,n,s){if(t===void 0&&(t=0),e===void 0&&(e=0),i===void 0&&(i=this.defaultKey),r===void 0&&(r=this.defaultFrame),n===void 0&&(n=!0),s===void 0&&(s=!0),this.isFull())return null;var a=new this.classType(this.scene,t,e,i,r);return this.scene.sys.displayList.add(a),a.preUpdate&&this.scene.sys.updateList.add(a),a.visible=n,a.setActive(s),this.add(a),a},createMultiple:function(t){if(this.isFull())return[];Array.isArray(t)||(t=[t]);var e=[];if(t[0].key)for(var i=0;i<t.length;i++){var r=this.createFromConfig(t[i]);e=e.concat(r)}return e},createFromConfig:function(t){if(this.isFull())return[];this.classType=Wt(t,"classType",this.classType);var e=Wt(t,"key",void 0),i=Wt(t,"frame",null),r=Wt(t,"visible",!0),n=Wt(t,"active",!0),s=[];if(e===void 0)return s;Array.isArray(e)||(e=[e]),Array.isArray(i)||(i=[i]);for(var a=Wt(t,"repeat",0),o=Wt(t,"randomKey",!1),h=Wt(t,"randomFrame",!1),l=Wt(t,"yoyo",!1),u=Wt(t,"frameQuantity",1),f=Wt(t,"max",0),c=qst(e,i,{max:f,qty:u,random:o,randomB:h,repeat:a,yoyo:l}),d=0;d<c.length;d++){var g=this.create(0,0,c[d].a,c[d].b,r,n);if(!g)break;s.push(g)}var v=Fi(t,"setXY.x",0),p=Fi(t,"setXY.y",0),m=Fi(t,"setXY.stepX",0),y=Fi(t,"setXY.stepY",0);Zr.SetXY(s,v,p,m,y);var x=Fi(t,"setRotation.value",0),T=Fi(t,"setRotation.step",0);Zr.SetRotation(s,x,T);var _=Fi(t,"setScale.x",1),w=Fi(t,"setScale.y",_),S=Fi(t,"setScale.stepX",0),C=Fi(t,"setScale.stepY",0);Zr.SetScale(s,_,w,S,C);var R=Fi(t,"setAlpha.value",1),L=Fi(t,"setAlpha.step",0);Zr.SetAlpha(s,R,L);var E=Wt(t,"hitArea",null),O=Wt(t,"hitAreaCallback",null);E&&Zr.SetHitArea(s,E,O);var A=Wt(t,"gridAlign",!1);return A&&Zr.GridAlign(s,A),this.createMultipleCallback&&this.createMultipleCallback.call(this,s),s},preUpdate:function(t,e){if(!(!this.runChildUpdate||this.children.size===0))for(var i=this.children.entries.slice(),r=0;r<i.length;r++){var n=i[r];n.active&&n.update(t,e)}},add:function(t,e){return e===void 0&&(e=!1),this.isFull()?this:(this.children.set(t),this.createCallback&&this.createCallback.call(this,t),e&&(this.scene.sys.displayList.add(t),t.preUpdate&&this.scene.sys.updateList.add(t)),t.on("destroy",this.remove,this),this)},addMultiple:function(t,e){if(e===void 0&&(e=!1),Array.isArray(t))for(var i=0;i<t.length;i++)this.add(t[i],e);return this},remove:function(t,e,i){return e===void 0&&(e=!1),i===void 0&&(i=!1),this.children.contains(t)?(this.children.delete(t),this.removeCallback&&this.removeCallback.call(this,t),t.off("destroy",this.remove,this),i?t.destroy():e&&(t.scene.sys.displayList.remove(t),t.preUpdate&&t.scene.sys.updateList.remove(t)),this):this},clear:function(t,e){t===void 0&&(t=!1),e===void 0&&(e=!1);for(var i=this.children,r=0;r<i.size;r++){var n=i.entries[r];n.off("destroy",this.remove,this),e?n.destroy():t&&(n.scene.sys.displayList.remove(n),n.preUpdate&&n.scene.sys.updateList.remove(n))}return this.children.clear(),this},contains:function(t){return this.children.contains(t)},getChildren:function(){return this.children.entries},getLength:function(){return this.children.size},getFirst:function(t,e,i,r,n,s,a){return this.getHandler(!0,1,t,e,i,r,n,s,a)},getFirstNth:function(t,e,i,r,n,s,a,o){return this.getHandler(!0,t,e,i,r,n,s,a,o)},getLast:function(t,e,i,r,n,s,a){return this.getHandler(!1,1,t,e,i,r,n,s,a)},getLastNth:function(t,e,i,r,n,s,a,o){return this.getHandler(!1,t,e,i,r,n,s,a,o)},getHandler:function(t,e,i,r,n,s,a,o,h){i===void 0&&(i=!1),r===void 0&&(r=!1);var l,u,f=0,c=this.children.entries;if(t)for(u=0;u<c.length;u++)if(l=c[u],l.active===i){if(f++,f===e)break}else l=null;else for(u=c.length-1;u>=0;u--)if(l=c[u],l.active===i){if(f++,f===e)break}else l=null;return l?(typeof n=="number"&&(l.x=n),typeof s=="number"&&(l.y=s),l):r?this.create(n,s,a,o,h):null},get:function(t,e,i,r,n){return this.getFirst(!1,!0,t,e,i,r,n)},getFirstAlive:function(t,e,i,r,n,s){return this.getFirst(!0,t,e,i,r,n,s)},getFirstDead:function(t,e,i,r,n,s){return this.getFirst(!1,t,e,i,r,n,s)},playAnimation:function(t,e){return Zr.PlayAnimation(this.children.entries,t,e),this},isFull:function(){return this.maxSize===-1?!1:this.children.size>=this.maxSize},countActive:function(t){t===void 0&&(t=!0);for(var e=0,i=0;i<this.children.size;i++)this.children.entries[i].active===t&&e++;return e},getTotalUsed:function(){return this.countActive()},getTotalFree:function(){var t=this.getTotalUsed(),e=this.maxSize===-1?999999999999:this.maxSize;return e-t},setDepth:function(t,e){return Zr.SetDepth(this.children.entries,t,e),this},kill:function(t){this.children.contains(t)&&t.setActive(!1)},killAndHide:function(t){this.children.contains(t)&&(t.setActive(!1),t.setVisible(!1))},toggleVisible:function(){return Zr.ToggleVisible(this.children.entries),this},destroy:function(t){if(t===void 0&&(t=!1),!(!this.scene||this.ignoreDestroy)){if(t)for(var e=this.children,i=0;i<e.size;i++){var r=e.entries[i];r.off("destroy",this.remove,this),r.destroy()}this.children.clear(),this.scene=void 0,this.children=void 0}}}),wl=jst;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var gv,nw;function Zst(){if(nw)return gv;nw=1;var t=function(e,i,r,n,s){this.pipeline.batchSprite(i,n,s)};return gv=t,gv}/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var mv,sw;function Qst(){if(sw)return mv;sw=1;var t=function(e,i,r,n,s){e.batchSprite(i,i.frame,n,s)};return mv=t,mv}/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var LF=W,$F=W;LF=Zst();$F=Qst();var tat={renderWebGL:LF,renderCanvas:$F};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var eat=b,Je=ne,aw=Qt,iat=tat,rat=new eat({Extends:aw,Mixins:[Je.Alpha,Je.BlendMode,Je.Depth,Je.Flip,Je.GetBounds,Je.Mask,Je.Origin,Je.Pipeline,Je.ScaleMode,Je.ScrollFactor,Je.Size,Je.TextureCrop,Je.Tint,Je.Transform,Je.Visible,iat],initialize:function(e,i,r,n,s){aw.call(this,e,"Image"),this._crop=this.resetCropObject(),this.setTexture(n,s),this.setPosition(i,r),this.setSizeToFrame(),this.setOriginFromFrame(),this.initPipeline()}}),Fo=rat;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var nat=b,ih=V,sat=new nat({initialize:function(e,i,r,n,s){if(typeof e=="object"){var a=e;e=ih(a,"x",0),i=ih(a,"y",0),r=ih(a,"power",0),n=ih(a,"epsilon",100),s=ih(a,"gravity",50)}else e===void 0&&(e=0),i===void 0&&(i=0),r===void 0&&(r=0),n===void 0&&(n=100),s===void 0&&(s=50);this.x=e,this.y=i,this.active=!0,this._gravity=s,this._power=0,this._epsilon=0,this.power=r,this.epsilon=n},update:function(t,e){var i=this.x-t.x,r=this.y-t.y,n=i*i+r*r;if(n!==0){var s=Math.sqrt(n);n<this._epsilon&&(n=this._epsilon);var a=this._power*e/(n*s)*100;t.velocityX+=i*a,t.velocityY+=r*a}},epsilon:{get:function(){return Math.sqrt(this._epsilon)},set:function(t){this._epsilon=t*t}},power:{get:function(){return this._power/this._gravity},set:function(t){this._power=t*this._gravity}},gravity:{get:function(){return this._gravity},set:function(t){var e=this.power;this._gravity=t,this.power=e}}}),OF=sat;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var aat=b,yv=Yr,oat=ws,hat=new aat({initialize:function(e){this.emitter=e,this.frame=null,this.index=0,this.x=0,this.y=0,this.velocityX=0,this.velocityY=0,this.accelerationX=0,this.accelerationY=0,this.maxVelocityX=1e4,this.maxVelocityY=1e4,this.bounce=0,this.scaleX=1,this.scaleY=1,this.alpha=1,this.angle=0,this.rotation=0,this.tint=16777215,this.life=1e3,this.lifeCurrent=1e3,this.delayCurrent=0,this.lifeT=0,this.data={tint:{min:16777215,max:16777215,current:16777215},alpha:{min:1,max:1},rotate:{min:0,max:0},scaleX:{min:1,max:1},scaleY:{min:1,max:1}}},isAlive:function(){return this.lifeCurrent>0},fire:function(t,e){var i=this.emitter;this.frame=i.getFrame(),i.emitZone&&i.emitZone.getPoint(this),t===void 0?(i.follow&&(this.x+=i.follow.x+i.followOffset.x),this.x+=i.x.onEmit(this,"x")):this.x+=t,e===void 0?(i.follow&&(this.y+=i.follow.y+i.followOffset.y),this.y+=i.y.onEmit(this,"y")):this.y+=e,this.life=i.lifespan.onEmit(this,"lifespan"),this.lifeCurrent=this.life,this.lifeT=0;var r=i.speedX.onEmit(this,"speedX"),n=i.speedY?i.speedY.onEmit(this,"speedY"):r;if(i.radial){var s=yv(i.angle.onEmit(this,"angle"));this.velocityX=Math.cos(s)*Math.abs(r),this.velocityY=Math.sin(s)*Math.abs(n)}else if(i.moveTo){var a=i.moveToX.onEmit(this,"moveToX"),o=i.moveToY?i.moveToY.onEmit(this,"moveToY"):a,h=Math.atan2(o-this.y,a-this.x),l=oat(this.x,this.y,a,o)/(this.life/1e3);this.velocityX=Math.cos(h)*l,this.velocityY=Math.sin(h)*l}else this.velocityX=r,this.velocityY=n;i.acceleration&&(this.accelerationX=i.accelerationX.onEmit(this,"accelerationX"),this.accelerationY=i.accelerationY.onEmit(this,"accelerationY")),this.maxVelocityX=i.maxVelocityX.onEmit(this,"maxVelocityX"),this.maxVelocityY=i.maxVelocityY.onEmit(this,"maxVelocityY"),this.delayCurrent=i.delay.onEmit(this,"delay"),this.scaleX=i.scaleX.onEmit(this,"scaleX"),this.scaleY=i.scaleY?i.scaleY.onEmit(this,"scaleY"):this.scaleX,this.angle=i.rotate.onEmit(this,"rotate"),this.rotation=yv(this.angle),this.bounce=i.bounce.onEmit(this,"bounce"),this.alpha=i.alpha.onEmit(this,"alpha"),this.tint=i.tint.onEmit(this,"tint"),this.index=i.alive.length},computeVelocity:function(t,e,i,r){var n=this.velocityX,s=this.velocityY,a=this.accelerationX,o=this.accelerationY,h=this.maxVelocityX,l=this.maxVelocityY;n+=t.gravityX*i,s+=t.gravityY*i,a&&(n+=a*i),o&&(s+=o*i),n>h?n=h:n<-h&&(n=-h),s>l?s=l:s<-l&&(s=-l),this.velocityX=n,this.velocityY=s;for(var u=0;u<r.length;u++)r[u].update(this,e,i)},checkBounds:function(t){var e=t.bounds,i=-this.bounce;this.x<e.x&&t.collideLeft?(this.x=e.x,this.velocityX*=i):this.x>e.right&&t.collideRight&&(this.x=e.right,this.velocityX*=i),this.y<e.y&&t.collideTop?(this.y=e.y,this.velocityY*=i):this.y>e.bottom&&t.collideBottom&&(this.y=e.bottom,this.velocityY*=i)},update:function(t,e,i){if(this.delayCurrent>0)return this.delayCurrent-=t,!1;var r=this.emitter,n=1-this.lifeCurrent/this.life;return this.lifeT=n,this.computeVelocity(r,t,e,i),this.x+=this.velocityX*e,this.y+=this.velocityY*e,r.bounds&&this.checkBounds(r),r.deathZone&&r.deathZone.willKill(this)?(this.lifeCurrent=0,!0):(this.scaleX=r.scaleX.onUpdate(this,"scaleX",n,this.scaleX),r.scaleY?this.scaleY=r.scaleY.onUpdate(this,"scaleY",n,this.scaleY):this.scaleY=this.scaleX,this.angle=r.rotate.onUpdate(this,"rotate",n,this.angle),this.rotation=yv(this.angle),this.alpha=r.alpha.onUpdate(this,"alpha",n,this.alpha),this.tint=r.tint.onUpdate(this,"tint",n,this.tint),this.lifeCurrent-=t,this.lifeCurrent<=0)}}),IF=hat;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var lat=b,uat=new lat({initialize:function(e,i){this.source=e,this.killOnEnter=i},willKill:function(t){var e=this.source.contains(t.x,t.y);return e&&this.killOnEnter||!e&&!this.killOnEnter}}),DF=uat;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var fat=b,cat=new fat({initialize:function(e,i,r,n,s){n===void 0&&(n=!1),s===void 0&&(s=!0),this.source=e,this.points=[],this.quantity=i,this.stepRate=r,this.yoyo=n,this.counter=-1,this.seamless=s,this._length=0,this._direction=0,this.updateSource()},updateSource:function(){if(this.points=this.source.getPoints(this.quantity,this.stepRate),this.seamless){var t=this.points[0],e=this.points[this.points.length-1];t.x===e.x&&t.y===e.y&&this.points.pop()}var i=this._length;return this._length=this.points.length,this._length<i&&this.counter>this._length&&(this.counter=this._length-1),this},changeSource:function(t){return this.source=t,this.updateSource()},getPoint:function(t){this._direction===0?(this.counter++,this.counter>=this._length&&(this.yoyo?(this._direction=1,this.counter=this._length-1):this.counter=0)):(this.counter--,this.counter===-1&&(this.yoyo?(this._direction=0,this.counter=0):this.counter=this._length-1));var e=this.points[this.counter];e&&(t.x=e.x,t.y=e.y)}}),BF=cat;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var dat=function(t,e){return Math.random()*(e-t)+t},kF=dat;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var Ru=z0,vat=function(t,e){if(typeof t=="string"&&Ru.hasOwnProperty(t))if(e){var i=e.slice(0);return i.unshift(0),function(r){return i[0]=r,Ru[t].apply(this,i)}}else return Ru[t];else{if(typeof t=="function")return t;Array.isArray(t)&&t.length}return Ru.Power0},Sl=vat;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var pat=b,gat=kF,mat=Sl,yat=V,xat=Ts,_at=new pat({initialize:function(e,i,r,n){n===void 0&&(n=!1),this.propertyKey=i,this.propertyValue=r,this.defaultValue=r,this.steps=0,this.counter=0,this.start=0,this.end=0,this.ease,this.emitOnly=n,this.onEmit=this.defaultEmit,this.onUpdate=this.defaultUpdate,this.loadConfig(e)},loadConfig:function(t,e){t===void 0&&(t={}),e&&(this.propertyKey=e),this.propertyValue=yat(t,this.propertyKey,this.defaultValue),this.setMethods(),this.emitOnly&&(this.onUpdate=this.defaultUpdate)},toJSON:function(){return this.propertyValue},onChange:function(t){return this.propertyValue=t,this.setMethods()},setMethods:function(){var t=this.propertyValue,e=typeof t;if(e==="number")this.onEmit=this.staticValueEmit,this.onUpdate=this.staticValueUpdate;else if(Array.isArray(t))this.onEmit=this.randomStaticValueEmit;else if(e==="function")this.emitOnly?this.onEmit=t:this.onUpdate=t;else if(e==="object"&&(this.has(t,"random")||this.hasBoth(t,"start","end")||this.hasBoth(t,"min","max"))){this.start=this.has(t,"start")?t.start:t.min,this.end=this.has(t,"end")?t.end:t.max;var i=this.hasBoth(t,"min","max")||this.has(t,"random");if(i){var r=t.random;Array.isArray(r)&&(this.start=r[0],this.end=r[1]),this.onEmit=this.randomRangedValueEmit}if(this.has(t,"steps"))this.steps=t.steps,this.counter=this.start,this.onEmit=this.steppedEmit;else{var n=this.has(t,"ease")?t.ease:"Linear";this.ease=mat(n),i||(this.onEmit=this.easedValueEmit),this.onUpdate=this.easeValueUpdate}}else e==="object"&&this.hasEither(t,"onEmit","onUpdate")&&(this.has(t,"onEmit")&&(this.onEmit=t.onEmit),this.has(t,"onUpdate")&&(this.onUpdate=t.onUpdate));return this},has:function(t,e){return t.hasOwnProperty(e)},hasBoth:function(t,e,i){return t.hasOwnProperty(e)&&t.hasOwnProperty(i)},hasEither:function(t,e,i){return t.hasOwnProperty(e)||t.hasOwnProperty(i)},defaultEmit:function(t,e,i){return i},defaultUpdate:function(t,e,i,r){return r},staticValueEmit:function(){return this.propertyValue},staticValueUpdate:function(){return this.propertyValue},randomStaticValueEmit:function(){var t=Math.floor(Math.random()*this.propertyValue.length);return this.propertyValue[t]},randomRangedValueEmit:function(t,e){var i=gat(this.start,this.end);return t&&t.data[e]&&(t.data[e].min=i),i},steppedEmit:function(){var t=this.counter,e=this.counter+(this.end-this.start)/this.steps;return this.counter=xat(e,this.start,this.end),t},easedValueEmit:function(t,e){if(t&&t.data[e]){var i=t.data[e];i.min=this.start,i.max=this.end}return this.start},easeValueUpdate:function(t,e,i){var r=t.data[e];return(r.max-r.min)*this.ease(i)+r.min}}),Tat=_at;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var wat=function(t,e){for(var i=0;i<e.length;i++)if(t.hasOwnProperty(e[i]))return!0;return!1},GF=wat;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var Sat=function(t,e){return t.hasOwnProperty(e)},Eo=Sat;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var Cat=b,bat=at,Mat=new Cat({initialize:function(e){this.source=e,this._tempVec=new bat},getPoint:function(t){var e=this._tempVec;this.source.getRandomPoint(e),t.x=e.x,t.y=e.y}}),zF=Mat;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var Pat=pa,Aat=b,Fu=ne,Rat=DF,Fat=BF,ee=Tat,ai=V,Eat=ry,Lat=GF,Ei=Eo,$at=IF,Oat=zF,Iat=Dt,ow=xl.exports,Dat=at,Bat=Ts,kat=new Aat({Mixins:[Fu.BlendMode,Fu.Mask,Fu.ScrollFactor,Fu.Visible],initialize:function(e,i){this.manager=e,this.texture=e.texture,this.frames=[e.defaultFrame],this.defaultFrame=e.defaultFrame,this.configFastMap=["active","blendMode","collideBottom","collideLeft","collideRight","collideTop","deathCallback","deathCallbackScope","emitCallback","emitCallbackScope","follow","frequency","gravityX","gravityY","maxParticles","name","on","particleBringToTop","particleClass","radial","timeScale","trackVisible","visible"],this.configOpMap=["accelerationX","accelerationY","angle","alpha","bounce","delay","lifespan","maxVelocityX","maxVelocityY","moveToX","moveToY","quantity","rotate","scaleX","scaleY","speedX","speedY","tint","x","y"],this.name="",this.particleClass=$at,this.x=new ee(i,"x",0),this.y=new ee(i,"y",0),this.radial=!0,this.gravityX=0,this.gravityY=0,this.acceleration=!1,this.accelerationX=new ee(i,"accelerationX",0,!0),this.accelerationY=new ee(i,"accelerationY",0,!0),this.maxVelocityX=new ee(i,"maxVelocityX",1e4,!0),this.maxVelocityY=new ee(i,"maxVelocityY",1e4,!0),this.speedX=new ee(i,"speedX",0,!0),this.speedY=new ee(i,"speedY",0,!0),this.moveTo=!1,this.moveToX=new ee(i,"moveToX",0,!0),this.moveToY=new ee(i,"moveToY",0,!0),this.bounce=new ee(i,"bounce",0,!0),this.scaleX=new ee(i,"scaleX",1),this.scaleY=new ee(i,"scaleY",1),this.tint=new ee(i,"tint",4294967295),this.alpha=new ee(i,"alpha",1),this.lifespan=new ee(i,"lifespan",1e3),this.angle=new ee(i,"angle",{min:0,max:360}),this.rotate=new ee(i,"rotate",0),this.emitCallback=null,this.emitCallbackScope=null,this.deathCallback=null,this.deathCallbackScope=null,this.maxParticles=0,this.quantity=new ee(i,"quantity",1,!0),this.delay=new ee(i,"delay",0,!0),this.frequency=0,this.on=!0,this.particleBringToTop=!0,this.timeScale=1,this.emitZone=null,this.deathZone=null,this.bounds=null,this.collideLeft=!0,this.collideRight=!0,this.collideTop=!0,this.collideBottom=!0,this.active=!0,this.visible=!0,this.blendMode=Pat.NORMAL,this.follow=null,this.followOffset=new Dat,this.trackVisible=!1,this.currentFrame=0,this.randomFrame=!0,this.frameQuantity=1,this.dead=[],this.alive=[],this._counter=0,this._frameCounter=0,i&&this.fromJSON(i)},fromJSON:function(t){if(!t)return this;var e=0,i="";for(e=0;e<this.configFastMap.length;e++)i=this.configFastMap[e],Ei(t,i)&&(this[i]=ai(t,i));for(e=0;e<this.configOpMap.length;e++)i=this.configOpMap[e],Ei(t,i)&&this[i].loadConfig(t);if(this.acceleration=this.accelerationX.propertyValue!==0||this.accelerationY.propertyValue!==0,this.moveTo=this.moveToX.propertyValue!==0||this.moveToY.propertyValue!==0,Ei(t,"speed")&&(this.speedX.loadConfig(t,"speed"),this.speedY=null),(Lat(t,["speedX","speedY"])||this.moveTo)&&(this.radial=!1),Ei(t,"scale")&&(this.scaleX.loadConfig(t,"scale"),this.scaleY=null),Ei(t,"callbackScope")){var r=ai(t,"callbackScope",null);this.emitCallbackScope=r,this.deathCallbackScope=r}return Ei(t,"emitZone")&&this.setEmitZone(t.emitZone),Ei(t,"deathZone")&&this.setDeathZone(t.deathZone),Ei(t,"bounds")&&this.setBounds(t.bounds),Ei(t,"followOffset")&&this.followOffset.setFromObject(ai(t,"followOffset",0)),Ei(t,"frame")&&this.setFrame(t.frame),this},toJSON:function(t){t===void 0&&(t={});var e=0,i="";for(e=0;e<this.configFastMap.length;e++)i=this.configFastMap[e],t[i]=this[i];for(e=0;e<this.configOpMap.length;e++)i=this.configOpMap[e],this[i]&&(t[i]=this[i].toJSON());return this.speedY||(delete t.speedX,t.speed=this.speedX.toJSON()),this.scaleY||(delete t.scaleX,t.scale=this.scaleX.toJSON()),t},startFollow:function(t,e,i,r){return e===void 0&&(e=0),i===void 0&&(i=0),r===void 0&&(r=!1),this.follow=t,this.followOffset.set(e,i),this.trackVisible=r,this},stopFollow:function(){return this.follow=null,this.followOffset.set(0,0),this.trackVisible=!1,this},getFrame:function(){if(this.frames.length===1)return this.defaultFrame;if(this.randomFrame)return Eat(this.frames);var t=this.frames[this.currentFrame];return this._frameCounter++,this._frameCounter===this.frameQuantity&&(this._frameCounter=0,this.currentFrame=Bat(this.currentFrame+1,0,this._frameLength)),t},setFrame:function(t,e,i){e===void 0&&(e=!0),i===void 0&&(i=1),this.randomFrame=e,this.frameQuantity=i,this.currentFrame=0,this._frameCounter=0;var r=typeof t;if(Array.isArray(t)||r==="string"||r==="number")this.manager.setEmitterFrames(t,this);else if(r==="object"){var n=t;t=ai(n,"frames",null),t&&this.manager.setEmitterFrames(t,this);var s=ai(n,"cycle",!1);this.randomFrame=!s,this.frameQuantity=ai(n,"quantity",i)}return this._frameLength=this.frames.length,this._frameLength===1&&(this.frameQuantity=1,this.randomFrame=!1),this},setRadial:function(t){return t===void 0&&(t=!0),this.radial=t,this},setPosition:function(t,e){return this.x.onChange(t),this.y.onChange(e),this},setBounds:function(t,e,i,r){if(typeof t=="object"){var n=t;t=n.x,e=n.y,i=Ei(n,"w")?n.w:n.width,r=Ei(n,"h")?n.h:n.height}return this.bounds?this.bounds.setTo(t,e,i,r):this.bounds=new Iat(t,e,i,r),this},setSpeedX:function(t){return this.speedX.onChange(t),this.radial=!1,this},setSpeedY:function(t){return this.speedY&&(this.speedY.onChange(t),this.radial=!1),this},setSpeed:function(t){return this.speedX.onChange(t),this.speedY=null,this.radial=!0,this},setScaleX:function(t){return this.scaleX.onChange(t),this},setScaleY:function(t){return this.scaleY.onChange(t),this},setScale:function(t){return this.scaleX.onChange(t),this.scaleY=null,this},setGravityX:function(t){return this.gravityX=t,this},setGravityY:function(t){return this.gravityY=t,this},setGravity:function(t,e){return this.gravityX=t,this.gravityY=e,this},setAlpha:function(t){return this.alpha.onChange(t),this},setEmitterAngle:function(t){return this.angle.onChange(t),this},setAngle:function(t){return this.angle.onChange(t),this},setLifespan:function(t){return this.lifespan.onChange(t),this},setQuantity:function(t){return this.quantity.onChange(t),this},setFrequency:function(t,e){return this.frequency=t,this._counter=0,e&&this.quantity.onChange(e),this},setEmitZone:function(t){if(t===void 0)this.emitZone=null;else{var e=ai(t,"type","random"),i=ai(t,"source",null);switch(e){case"random":this.emitZone=new Oat(i);break;case"edge":var r=ai(t,"quantity",1),n=ai(t,"stepRate",0),s=ai(t,"yoyo",!1),a=ai(t,"seamless",!0);this.emitZone=new Fat(i,r,n,s,a);break}}return this},setDeathZone:function(t){if(t===void 0)this.deathZone=null;else{var e=ai(t,"type","onEnter"),i=ai(t,"source",null);if(i&&typeof i.contains=="function"){var r=e==="onEnter";this.deathZone=new Rat(i,r)}}return this},reserve:function(t){for(var e=this.dead,i=0;i<t;i++)e.push(new this.particleClass(this));return this},getAliveParticleCount:function(){return this.alive.length},getDeadParticleCount:function(){return this.dead.length},getParticleCount:function(){return this.getAliveParticleCount()+this.getDeadParticleCount()},atLimit:function(){return this.maxParticles>0&&this.getParticleCount()===this.maxParticles},onParticleEmit:function(t,e){return t===void 0?(this.emitCallback=null,this.emitCallbackScope=null):typeof t=="function"&&(this.emitCallback=t,e&&(this.emitCallbackScope=e)),this},onParticleDeath:function(t,e){return t===void 0?(this.deathCallback=null,this.deathCallbackScope=null):typeof t=="function"&&(this.deathCallback=t,e&&(this.deathCallbackScope=e)),this},killAll:function(){for(var t=this.dead,e=this.alive;e.length>0;)t.push(e.pop());return this},forEachAlive:function(t,e){for(var i=this.alive,r=i.length,n=0;n<r;++n)t.call(e,i[n],this);return this},forEachDead:function(t,e){for(var i=this.dead,r=i.length,n=0;n<r;++n)t.call(e,i[n],this);return this},start:function(){return this.on=!0,this._counter=0,this},stop:function(){return this.on=!1,this},pause:function(){return this.active=!1,this},resume:function(){return this.active=!0,this},depthSort:function(){return ow.inplace(this.alive,this.depthSortCallback),this},flow:function(t,e){return e===void 0&&(e=1),this.frequency=t,this.quantity.onChange(e),this.start()},explode:function(t,e,i){return this.frequency=-1,this.emitParticle(t,e,i)},emitParticleAt:function(t,e,i){return this.emitParticle(i,t,e)},emitParticle:function(t,e,i){if(!this.atLimit()){t===void 0&&(t=this.quantity.onEmit());for(var r=this.dead,n=0;n<t;n++){var s;if(r.length>0?s=r.pop():s=new this.particleClass(this),s.fire(e,i),this.particleBringToTop?this.alive.push(s):this.alive.unshift(s),this.emitCallback&&this.emitCallback.call(this.emitCallbackScope,s,this),this.atLimit())break}return s}},preUpdate:function(t,e){e*=this.timeScale;var i=e/1e3;this.trackVisible&&(this.visible=this.follow.visible);for(var r=this.manager.getProcessors(),n=this.alive,s=n.length,a=0;a<s;a++){var o=n[a];if(o.update(e,i,r)){var h=n[s-1];n[s-1]=o,n[a]=h,a-=1,s-=1}}var l=n.length-s;if(l>0){var u=n.splice(n.length-l,l),f=this.deathCallback,c=this.deathCallbackScope;if(f)for(var d=0;d<u.length;d++)f.call(c,u[d]);this.dead.concat(u),ow.inplace(n,this.indexSortCallback)}!this.on||(this.frequency===0?this.emitParticle():this.frequency>0&&(this._counter-=e,this._counter<=0&&(this.emitParticle(),this._counter=this.frequency-Math.abs(this._counter))))},depthSortCallback:function(t,e){return t.y-e.y},indexSortCallback:function(t,e){return t.index-e.index}}),NF=kat;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var xv,hw;function Gat(){if(hw)return xv;hw=1;var t=kt,e=function(i,r,n,s,a){var o=r.emitters.list,h=o.length;if(h!==0){var l=this.pipeline,u=l._tempMatrix1.copyFrom(s.matrix),f=l._tempMatrix2,c=l._tempMatrix3,d=l._tempMatrix4.applyITRS(r.x,r.y,r.rotation,r.scaleX,r.scaleY);u.multiply(d),i.setPipeline(l);var g=s.roundPixels,v=r.defaultFrame.glTexture,p=t.getTintAppendFloatAlphaAndSwap;l.setTexture2D(v,0);for(var m=0;m<h;m++){var y=o[m],x=y.alive,T=x.length;if(!(!y.visible||T===0)){var _=s.scrollX*y.scrollFactorX,w=s.scrollY*y.scrollFactorY;a&&(u.multiplyWithOffset(a,-_,-w),_=0,w=0),i.setBlendMode(y.blendMode)&&l.setTexture2D(v,0);for(var S=0,C=0;C<T;C++){var R=x[C],L=R.alpha*s.alpha;if(!(L<=0)){var E=R.frame,O=-E.halfWidth,A=-E.halfHeight,F=O+E.width,M=A+E.height;c.applyITRS(0,0,R.rotation,R.scaleX,R.scaleY),c.e=R.x-_,c.f=R.y-w,u.multiply(c,f);var P=f.getX(O,A),$=f.getY(O,A),I=f.getX(O,M),D=f.getY(O,M),G=f.getX(F,M),et=f.getY(F,M),q=f.getX(F,A),j=f.getY(F,A);g&&(P|=0,$|=0,I|=0,D|=0,G|=0,et|=0,q|=0,j|=0);var Z=p(R.tint,L);l.batchQuad(P,$,I,D,G,et,q,j,E.u0,E.v0,E.u1,E.v1,Z,Z,Z,Z,S)&&l.setTexture2D(v,0)}}}}}};return xv=e,xv}/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var _v,lw;function zat(){if(lw)return _v;lw=1;var t=function(e,i,r,n,s){var a=i.emitters.list,o=a.length;if(o!==0){var h=e._tempMatrix1.copyFrom(n.matrix),l=e._tempMatrix2,u=e._tempMatrix3,f=e._tempMatrix4.applyITRS(i.x,i.y,i.rotation,i.scaleX,i.scaleY);h.multiply(f);var c=n.roundPixels,d=e.currentContext;d.save();for(var g=0;g<o;g++){var v=a[g],p=v.alive,m=p.length;if(!(!v.visible||m===0)){var y=n.scrollX*v.scrollFactorX,x=n.scrollY*v.scrollFactorY;s&&(h.multiplyWithOffset(s,-y,-x),y=0,x=0),d.globalCompositeOperation=e.blendModes[v.blendMode];for(var T=0;T<m;T++){var _=p[T],w=_.alpha*n.alpha;if(!(w<=0)){var S=_.frame,C=S.canvasData,R=-S.halfWidth,L=-S.halfHeight;u.applyITRS(0,0,_.rotation,_.scaleX,_.scaleY),u.e=_.x-y,u.f=_.y-x,h.multiply(u,l),d.globalAlpha=w,d.save(),l.copyToContext(d),c&&(R|=0,L|=0),d.drawImage(S.source.image,C.x,C.y,C.width,C.height,R,L,C.width,C.height),d.restore()}}}}d.restore()}};return _v=t,_v}/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var YF=W,VF=W;YF=Gat();VF=zat();var Nat={renderWebGL:YF,renderCanvas:VF};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var Yat=b,Eu=ne,uw=Qt,Vat=OF,fw=Xc,Wat=NF,Xat=Nat,Uat=new Yat({Extends:uw,Mixins:[Eu.Depth,Eu.Pipeline,Eu.Transform,Eu.Visible,Xat],initialize:function(e,i,r,n){if(uw.call(this,e,"ParticleEmitterManager"),this.blendMode=-1,this.timeScale=1,this.texture=null,this.frame=null,this.frameNames=[],r!==null&&(typeof r=="object"||Array.isArray(r))&&(n=r,r=null),this.setTexture(i,r),this.initPipeline(),this.emitters=new fw(this),this.wells=new fw(this),n){Array.isArray(n)||(n=[n]);for(var s=0;s<n.length;s++)this.createEmitter(n[s])}},setTexture:function(t,e){return this.texture=this.scene.sys.textures.get(t),this.setFrame(e)},setFrame:function(t){this.frame=this.texture.get(t);var e=this.texture.getFramesFromTextureSource(this.frame.sourceIndex),i=[];return e.forEach(function(r){i.push(r.name)}),this.frameNames=i,this.defaultFrame=this.frame,this},setEmitterFrames:function(t,e){Array.isArray(t)||(t=[t]);var i=e.frames;i.length=0;for(var r=0;r<t.length;r++){var n=t[r];this.frameNames.indexOf(n)!==-1&&i.push(this.texture.get(n))}return i.length>0?e.defaultFrame=i[0]:e.defaultFrame=this.defaultFrame,this},addEmitter:function(t){return this.emitters.add(t)},createEmitter:function(t){return this.addEmitter(new Wat(this,t))},addGravityWell:function(t){return this.wells.add(t)},createGravityWell:function(t){return this.addGravityWell(new Vat(t))},emitParticle:function(t,e,i){for(var r=this.emitters.list,n=0;n<r.length;n++){var s=r[n];s.active&&s.emitParticle(t,e,i)}return this},emitParticleAt:function(t,e,i){return this.emitParticle(i,t,e)},pause:function(){return this.active=!1,this},resume:function(){return this.active=!0,this},getProcessors:function(){return this.wells.getAll("active",!0)},preUpdate:function(t,e){e*=this.timeScale;for(var i=this.emitters.list,r=0;r<i.length;r++){var n=i[r];n.active&&n.preUpdate(t,e)}},setAlpha:function(){},setScrollFactor:function(){},setBlendMode:function(){}}),dy=Uat;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var Hat={DeathZone:DF,EdgeZone:BF,RandomZone:zF};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var qat={GravityWell:OF,Particle:IF,ParticleEmitter:NF,ParticleEmitterManager:dy,Zones:Hat};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var Kat=function(t,e,i){return t&&t.hasOwnProperty(e)?t[e]:i},Cl=Kat;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var Jat={CREATED:0,INIT:1,DELAY:2,OFFSET_DELAY:3,PENDING_RENDER:4,PLAYING_FORWARD:5,PLAYING_BACKWARD:6,HOLD_DELAY:7,REPEAT_DELAY:8,COMPLETE:9,PENDING_ADD:20,PAUSED:21,LOOP_DELAY:22,ACTIVE:23,COMPLETE_DELAY:24,PENDING_REMOVE:25,REMOVED:26},bl=Jat;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var jat=b,cw=Yr,Tv=Cl,Zat=ut,dw=Rn,rh=bl,vw=at,Qat=new jat({Extends:dw,initialize:function(e,i,r,n,s,a){dw.call(this,e,r,n,s,a),this.path=i,this.rotateToPath=!1,this.pathRotationVerticalAdjust=!1,this.pathRotationOffset=0,this.pathOffset=new vw(r,n),this.pathVector=new vw,this.pathTween,this.pathConfig=null,this._prevDirection=rh.PLAYING_FORWARD},setPath:function(t,e){e===void 0&&(e=this.pathConfig);var i=this.pathTween;return i&&i.isPlaying()&&i.stop(),this.path=t,e&&this.startFollow(e),this},setRotateToPath:function(t,e,i){return e===void 0&&(e=0),i===void 0&&(i=!1),this.rotateToPath=t,this.pathRotationOffset=e,this.pathRotationVerticalAdjust=i,this},isFollowing:function(){var t=this.pathTween;return t&&t.isPlaying()},startFollow:function(t,e){t===void 0&&(t={});var i=this.pathTween;i&&i.isPlaying()&&i.stop(),typeof t=="number"&&(t={duration:t}),t.from=0,t.to=1;var r=Tv(t,"positionOnPath",!1);if(this.rotateToPath=Tv(t,"rotateToPath",!1),this.pathRotationOffset=Zat(t,"rotationOffset",0),this.pathRotationVerticalAdjust=Tv(t,"verticalAdjust",!1),this.pathTween=this.scene.sys.tweens.addCounter(t),this.path.getStartPoint(this.pathOffset),r&&(this.x=this.pathOffset.x,this.y=this.pathOffset.y),this.pathOffset.x=this.x-this.pathOffset.x,this.pathOffset.y=this.y-this.pathOffset.y,this._prevDirection=rh.PLAYING_FORWARD,this.rotateToPath){var n=this.path.getPoint(.1);this.rotation=Math.atan2(n.y-this.y,n.x-this.x)+cw(this.pathRotationOffset)}return this.pathConfig=t,this},pauseFollow:function(){var t=this.pathTween;return t&&t.isPlaying()&&t.pause(),this},resumeFollow:function(){var t=this.pathTween;return t&&t.isPaused()&&t.resume(),this},stopFollow:function(){var t=this.pathTween;return t&&t.isPlaying()&&t.stop(),this},preUpdate:function(t,e){this.anims.update(t,e);var i=this.pathTween;if(i){var r=i.data[0];if(r.state!==rh.PLAYING_FORWARD&&r.state!==rh.PLAYING_BACKWARD)return;var n=this.pathVector;this.path.getPoint(i.getValue(),n),n.add(this.pathOffset);var s=this.x,a=this.y;this.setPosition(n.x,n.y);var o=this.x-s,h=this.y-a;if(o===0&&h===0)return;if(r.state!==this._prevDirection){this._prevDirection=r.state;return}this.rotateToPath&&(this.rotation=Math.atan2(h,o)+cw(this.pathRotationOffset),this.pathRotationVerticalAdjust&&(this.flipY=this.rotation!==0&&r.state===rh.PLAYING_BACKWARD))}}}),WF=Qat;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var wv,pw;function tot(){if(pw)return wv;pw=1;var t=kt,e=function(i,r,n,s,a){var o=r.frame,h=o.width,l=o.height,u=t.getTintAppendFloatAlpha;this.pipeline.batchTexture(r,o.glTexture,h,l,r.x,r.y,h,l,r.scaleX,r.scaleY,r.rotation,r.flipX,!r.flipY,r.scrollFactorX,r.scrollFactorY,r.displayOriginX,r.displayOriginY,0,0,h,l,u(r._tintTL,s.alpha*r._alphaTL),u(r._tintTR,s.alpha*r._alphaTR),u(r._tintBL,s.alpha*r._alphaBL),u(r._tintBR,s.alpha*r._alphaBR),r._isTinted&&r.tintFill,0,0,s,a),i.setBlankTexture(!0)};return wv=e,wv}/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var Sv,gw;function eot(){if(gw)return Sv;gw=1;var t=function(e,i,r,n,s){e.batchSprite(i,i.frame,n,s)};return Sv=t,Sv}/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var XF=W,UF=W;XF=tot();UF=eot();var iot={renderWebGL:XF,renderCanvas:UF};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var rot=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var e=Math.random()*16|0,i=t==="x"?e:e&3|8;return i.toString(16)})},HF=rot;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var not=Oc,mw=wi,sot=b,je=ne,yw=_i,aot=Vc,xw=Qt,oot=iot,hot=HF,lot=new sot({Extends:xw,Mixins:[je.Alpha,je.BlendMode,je.ComputedSize,je.Crop,je.Depth,je.Flip,je.GetBounds,je.Mask,je.Origin,je.Pipeline,je.ScaleMode,je.ScrollFactor,je.Tint,je.Transform,je.Visible,oot],initialize:function(e,i,r,n,s){i===void 0&&(i=0),r===void 0&&(r=0),n===void 0&&(n=32),s===void 0&&(s=32),xw.call(this,e,"RenderTexture"),this.renderer=e.sys.game.renderer,this.textureManager=e.sys.textures,this.globalTint=16777215,this.globalAlpha=1,this.canvas=mw.create2D(this,n,s),this.context=this.canvas.getContext("2d"),this.framebuffer=null,this._crop=this.resetCropObject(),this.texture=e.sys.textures.addCanvas(hot(),this.canvas),this.frame=this.texture.get(),this._saved=!1,this.camera=new not(0,0,n,s),this.dirty=!1,this.gl=null;var a=this.renderer;if(a.type===yw.WEBGL){var o=a.gl;this.gl=o,this.drawGameObject=this.batchGameObjectWebGL,this.framebuffer=a.createFramebuffer(n,s,this.frame.source.glTexture,!1)}else a.type===yw.CANVAS&&(this.drawGameObject=this.batchGameObjectCanvas);this.camera.setScene(e),this.setPosition(i,r),this.setSize(n,s),this.setOrigin(0,0),this.initPipeline()},setSize:function(t,e){return this.resize(t,e)},resize:function(t,e){if(e===void 0&&(e=t),t!==this.width||e!==this.height){if(this.canvas.width=t,this.canvas.height=e,this.gl){var i=this.gl;this.renderer.deleteTexture(this.frame.source.glTexture),this.renderer.deleteFramebuffer(this.framebuffer),this.frame.source.glTexture=this.renderer.createTexture2D(0,i.NEAREST,i.NEAREST,i.CLAMP_TO_EDGE,i.CLAMP_TO_EDGE,i.RGBA,null,t,e,!1),this.framebuffer=this.renderer.createFramebuffer(t,e,this.frame.source.glTexture,!1),this.frame.glTexture=this.frame.source.glTexture}this.frame.source.width=t,this.frame.source.height=e,this.camera.setSize(t,e),this.frame.setSize(t,e),this.width=t,this.height=e}return this},setGlobalTint:function(t){return this.globalTint=t,this},setGlobalAlpha:function(t){return this.globalAlpha=t,this},saveTexture:function(t){return this.textureManager.renameTexture(this.texture.key,t),this._saved=!0,this.texture},fill:function(t,e){e===void 0&&(e=1);var i=(t>>16|0)&255,r=(t>>8|0)&255,n=(t|0)&255;if(this.gl){this.renderer.setFramebuffer(this.framebuffer);var s=this.gl;s.clearColor(i/255,r/255,n/255,e),s.clear(s.COLOR_BUFFER_BIT),this.renderer.setFramebuffer(null)}else this.context.fillStyle="rgb("+i+","+r+","+n+")",this.context.fillRect(0,0,this.canvas.width,this.canvas.height);return this},clear:function(){if(this.dirty){if(this.gl){this.renderer.setFramebuffer(this.framebuffer);var t=this.gl;t.clearColor(0,0,0,0),t.clear(t.COLOR_BUFFER_BIT),this.renderer.setFramebuffer(null)}else{var e=this.context;e.save(),e.setTransform(1,0,0,1,0,0),e.clearRect(0,0,this.canvas.width,this.canvas.height),e.restore()}this.dirty=!1}return this},draw:function(t,e,i,r,n){r===void 0&&(r=this.globalAlpha),n===void 0?n=(this.globalTint>>16)+(this.globalTint&65280)+((this.globalTint&255)<<16):n=(n>>16)+(n&65280)+((n&255)<<16),Array.isArray(t)||(t=[t]);var s=this.gl;if(this.camera.preRender(1,1,1),s){this.renderer.setFramebuffer(this.framebuffer);var a=this.pipeline;a.projOrtho(0,this.width,0,this.height,-1e3,1e3),this.batchList(t,e,i,r,n),a.flush(),this.renderer.setFramebuffer(null),a.projOrtho(0,a.width,a.height,0,-1e3,1e3)}else this.renderer.setContext(this.context),this.batchList(t,e,i,r,n),this.renderer.setContext();return this.dirty=!0,this},drawFrame:function(t,e,i,r,n,s){i===void 0&&(i=0),r===void 0&&(r=0),n===void 0&&(n=this.globalAlpha),s===void 0?s=(this.globalTint>>16)+(this.globalTint&65280)+((this.globalTint&255)<<16):s=(s>>16)+(s&65280)+((s&255)<<16);var a=this.gl,o=this.textureManager.getFrame(t,e);if(o){if(this.camera.preRender(1,1,1),a){this.renderer.setFramebuffer(this.framebuffer);var h=this.pipeline;h.projOrtho(0,this.width,0,this.height,-1e3,1e3),h.batchTextureFrame(o,i,r,s,n,this.camera.matrix,null),h.flush(),this.renderer.setFramebuffer(null),h.projOrtho(0,h.width,h.height,0,-1e3,1e3)}else this.batchTextureFrame(o,i,r,n,s);this.dirty=!0}return this},batchList:function(t,e,i,r,n){for(var s=0;s<t.length;s++){var a=t[s];!a||a===this||(a.renderWebGL||a.renderCanvas?this.drawGameObject(a,e,i):a.isParent||a.list?this.batchGroup(a.getChildren(),e,i):typeof a=="string"?this.batchTextureFrameKey(a,null,e,i,r,n):a instanceof aot?this.batchTextureFrame(a,e,i,r,n):Array.isArray(a)&&this.batchList(a,e,i,r,n))}},batchGroup:function(t,e,i){e===void 0&&(e=0),i===void 0&&(i=0);for(var r=0;r<t.length;r++){var n=t[r];if(n.willRender()){var s=n.x+e,a=n.y+i;this.drawGameObject(n,s,a)}}},batchGameObjectWebGL:function(t,e,i){e===void 0&&(e=t.x),i===void 0&&(i=t.y);var r=t.x,n=t.y;this.renderer.setBlendMode(t.blendMode),t.setPosition(e,i),t.renderWebGL(this.renderer,t,0,this.camera,null),t.setPosition(r,n)},batchGameObjectCanvas:function(t,e,i){e===void 0&&(e=t.x),i===void 0&&(i=t.y);var r=t.x,n=t.y;t.setPosition(e,i),t.renderCanvas(this.renderer,t,0,this.camera,null),t.setPosition(r,n)},batchTextureFrameKey:function(t,e,i,r,n,s){var a=this.textureManager.getFrame(t,e);a&&this.batchTextureFrame(a,i,r,n,s)},batchTextureFrame:function(t,e,i,r,n){if(e===void 0&&(e=0),i===void 0&&(i=0),this.gl)this.pipeline.batchTextureFrame(t,e,i,n,r,this.camera.matrix,null);else{var s=this.context,a=t.canvasData,o=t.source.image,h=this.camera.matrix;s.globalAlpha=this.globalAlpha,s.setTransform(h[0],h[1],h[2],h[3],h[4],h[5]),s.drawImage(o,a.x,a.y,a.width,a.height,e,i,a.width,a.height)}},preDestroy:function(){this._saved||(mw.remove(this.canvas),this.gl&&this.renderer.deleteFramebuffer(this.framebuffer),this.texture.destroy())}}),vy=lot;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var uot={TEXT_SET1:" !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~",TEXT_SET2:` !"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ`,TEXT_SET3:"ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789 ",TEXT_SET4:"ABCDEFGHIJKLMNOPQRSTUVWXYZ 0123456789",TEXT_SET5:"ABCDEFGHIJKLMNOPQRSTUVWXYZ.,/() '!?-*:0123456789",TEXT_SET6:`ABCDEFGHIJKLMNOPQRSTUVWXYZ!?:;0123456789"(),-.' `,TEXT_SET7:`AGMSY+:4BHNTZ!;5CIOU.?06DJPV,(17EKQW")28FLRX-'39`,TEXT_SET8:"0123456789 .ABCDEFGHIJKLMNOPQRSTUVWXYZ",TEXT_SET9:`ABCDEFGHIJKLMNOPQRSTUVWXYZ()-0123456789.:,'"?!`,TEXT_SET10:"ABCDEFGHIJKLMNOPQRSTUVWXYZ",TEXT_SET11:`ABCDEFGHIJKLMNOPQRSTUVWXYZ.,"-+!?()':;0123456789`},fot=uot;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var kn=ut,cot=function(t,e){var i=e.width,r=e.height,n=Math.floor(i/2),s=Math.floor(r/2),a=kn(e,"chars","");if(a!==""){var o=kn(e,"image",""),h=kn(e,"offset.x",0),l=kn(e,"offset.y",0),u=kn(e,"spacing.x",0),f=kn(e,"spacing.y",0),c=kn(e,"lineSpacing",0),d=kn(e,"charsPerRow",null);d===null&&(d=t.sys.textures.getFrame(o).width/i,d>a.length&&(d=a.length));for(var g=h,v=l,p={retroFont:!0,font:o,size:i,lineHeight:r+c,chars:{}},m=0,y=0;y<a.length;y++){var x=a.charCodeAt(y);p.chars[x]={x:g,y:v,width:i,height:r,centerX:n,centerY:s,xOffset:0,yOffset:0,xAdvance:i,data:{},kerning:{}},m++,m===d?(m=0,g=h,v+=r+f):g+=i+u}var T={data:p,frame:null,texture:o};return T}},dot=cot;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var vot=fot,pot=Ae,jg={Parse:dot};jg=pot(!1,jg,vot);var got=jg;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var mot=function(t,e,i){var r=t.canvas,n=t.context,s=t.style,a=[],o=0,h=i.length;s.maxLines>0&&s.maxLines<i.length&&(h=s.maxLines),s.syncFont(r,n);for(var l=0;l<h;l++){var u=s.strokeThickness;u+=n.measureText(i[l]).width,s.wordWrap&&(u-=n.measureText(" ").width),a[l]=Math.ceil(u),o=Math.max(o,a[l])}var f=e.fontSize+s.strokeThickness,c=f*h,d=t.lineSpacing;return i.length>1&&(c+=d*(i.length-1)),{width:o,height:c,lines:h,lineWidths:a,lineSpacing:d,lineHeight:f}},yot=mot;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var Cv,_w;function xot(){if(_w)return Cv;_w=1;var t=kt,e=function(i,r,n,s,a){if(r.text!==""){var o=r.frame,h=o.width,l=o.height,u=t.getTintAppendFloatAlpha;this.pipeline.batchTexture(r,o.glTexture,h,l,r.x,r.y,h/r.style.resolution,l/r.style.resolution,r.scaleX,r.scaleY,r.rotation,r.flipX,r.flipY,r.scrollFactorX,r.scrollFactorY,r.displayOriginX,r.displayOriginY,0,0,h,l,u(r._tintTL,s.alpha*r._alphaTL),u(r._tintTR,s.alpha*r._alphaTR),u(r._tintBL,s.alpha*r._alphaBL),u(r._tintBR,s.alpha*r._alphaBR),r._isTinted&&r.tintFill,0,0,s,a)}};return Cv=e,Cv}/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var bv,Tw;function _ot(){if(Tw)return bv;Tw=1;var t=function(e,i,r,n,s){i.text!==""&&e.batchSprite(i,i.frame,n,s)};return bv=t,bv}/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var qF=W,KF=W;qF=xot();KF=_ot();var Tot={renderWebGL:qF,renderCanvas:KF};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var Mv=wi,wot=function(t){var e=Mv.create(this),i=e.getContext("2d");t.syncFont(e,i);var r=Math.ceil(i.measureText(t.testString).width*t.baselineX),n=r,s=2*n;n=n*t.baselineY|0,e.width=r,e.height=s,i.fillStyle="#f00",i.fillRect(0,0,r,s),i.font=t._font,i.textBaseline="alphabetic",i.fillStyle="#000",i.fillText(t.testString,0,n);var a={ascent:0,descent:0,fontSize:0};if(!i.getImageData(0,0,r,s))return a.ascent=n,a.descent=n+6,a.fontSize=a.ascent+a.descent,Mv.remove(e),a;var o=i.getImageData(0,0,r,s).data,h=o.length,l=r*4,u,f,c=0,d=!1;for(u=0;u<n;u++){for(f=0;f<l;f+=4)if(o[c+f]!==255){d=!0;break}if(!d)c+=l;else break}for(a.ascent=n-u,c=h-l,d=!1,u=s;u>n;u--){for(f=0;f<l;f+=4)if(o[c+f]!==255){d=!0;break}if(!d)c-=l;else break}return a.descent=u-n,a.fontSize=a.ascent+a.descent,Mv.remove(e),a},Sot=wot;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var Cot=b,bot=te,Tr=ut,ww=Sot,nh={fontFamily:["fontFamily","Courier"],fontSize:["fontSize","16px"],fontStyle:["fontStyle",""],backgroundColor:["backgroundColor",null],color:["color","#fff"],stroke:["stroke","#fff"],strokeThickness:["strokeThickness",0],shadowOffsetX:["shadow.offsetX",0],shadowOffsetY:["shadow.offsetY",0],shadowColor:["shadow.color","#000"],shadowBlur:["shadow.blur",0],shadowStroke:["shadow.stroke",!1],shadowFill:["shadow.fill",!1],align:["align","left"],maxLines:["maxLines",0],fixedWidth:["fixedWidth",0],fixedHeight:["fixedHeight",0],resolution:["resolution",0],rtl:["rtl",!1],testString:["testString","|M\xC3\u2030qgy"],baselineX:["baselineX",1.2],baselineY:["baselineY",1.4],wordWrapWidth:["wordWrap.width",null],wordWrapCallback:["wordWrap.callback",null],wordWrapCallbackScope:["wordWrap.callbackScope",null],wordWrapUseAdvanced:["wordWrap.useAdvancedWrap",!1]},Mot=new Cot({initialize:function(e,i){this.parent=e,this.fontFamily,this.fontSize,this.fontStyle,this.backgroundColor,this.color,this.stroke,this.strokeThickness,this.shadowOffsetX,this.shadowOffsetY,this.shadowColor,this.shadowBlur,this.shadowStroke,this.shadowFill,this.align,this.maxLines,this.fixedWidth,this.fixedHeight,this.resolution,this.rtl,this.testString,this.baselineX,this.baselineY,this._font,this.setStyle(i,!1,!0);var r=Tr(i,"metrics",!1);r?this.metrics={ascent:Tr(r,"ascent",0),descent:Tr(r,"descent",0),fontSize:Tr(r,"fontSize",0)}:this.metrics=ww(this)},setStyle:function(t,e,i){e===void 0&&(e=!0),i===void 0&&(i=!1),t&&t.hasOwnProperty("fontSize")&&typeof t.fontSize=="number"&&(t.fontSize=t.fontSize.toString()+"px");for(var r in nh){var n=i?nh[r][1]:this[r];r==="wordWrapCallback"||r==="wordWrapCallbackScope"?this[r]=Tr(t,nh[r][0],n):this[r]=bot(t,nh[r][0],n)}var s=Tr(t,"font",null);s===null?this._font=[this.fontStyle,this.fontSize,this.fontFamily].join(" ").trim():this._font=s;var a=Tr(t,"fill",null);return a!==null&&(this.color=a),e?this.update(!0):this.parent},syncFont:function(t,e){e.font=this._font},syncStyle:function(t,e){e.textBaseline="alphabetic",e.fillStyle=this.color,e.strokeStyle=this.stroke,e.lineWidth=this.strokeThickness,e.lineCap="round",e.lineJoin="round"},syncShadow:function(t,e){e?(t.shadowOffsetX=this.shadowOffsetX,t.shadowOffsetY=this.shadowOffsetY,t.shadowColor=this.shadowColor,t.shadowBlur=this.shadowBlur):(t.shadowOffsetX=0,t.shadowOffsetY=0,t.shadowColor=0,t.shadowBlur=0)},update:function(t){return t&&(this._font=[this.fontStyle,this.fontSize,this.fontFamily].join(" ").trim(),this.metrics=ww(this)),this.parent.updateText()},setFont:function(t){var e=t,i="",r="";return typeof t!="string"&&(e=Tr(t,"fontFamily","Courier"),i=Tr(t,"fontSize","16px"),r=Tr(t,"fontStyle","")),(e!==this.fontFamily||i!==this.fontSize||r!==this.fontStyle)&&(this.fontFamily=e,this.fontSize=i,this.fontStyle=r,this.update(!0)),this.parent},setFontFamily:function(t){return this.fontFamily!==t&&(this.fontFamily=t,this.update(!0)),this.parent},setFontStyle:function(t){return this.fontStyle!==t&&(this.fontStyle=t,this.update(!0)),this.parent},setFontSize:function(t){return typeof t=="number"&&(t=t.toString()+"px"),this.fontSize!==t&&(this.fontSize=t,this.update(!0)),this.parent},setTestString:function(t){return this.testString=t,this.update(!0)},setFixedSize:function(t,e){return this.fixedWidth=t,this.fixedHeight=e,t&&(this.parent.width=t),e&&(this.parent.height=e),this.update(!1)},setBackgroundColor:function(t){return this.backgroundColor=t,this.update(!1)},setFill:function(t){return this.color=t,this.update(!1)},setColor:function(t){return this.color=t,this.update(!1)},setResolution:function(t){return this.resolution=t,this.update(!1)},setStroke:function(t,e){return e===void 0&&(e=this.strokeThickness),t===void 0&&this.strokeThickness!==0?(this.strokeThickness=0,this.update(!0)):(this.stroke!==t||this.strokeThickness!==e)&&(this.stroke=t,this.strokeThickness=e,this.update(!0)),this.parent},setShadow:function(t,e,i,r,n,s){return t===void 0&&(t=0),e===void 0&&(e=0),i===void 0&&(i="#000"),r===void 0&&(r=0),n===void 0&&(n=!1),s===void 0&&(s=!0),this.shadowOffsetX=t,this.shadowOffsetY=e,this.shadowColor=i,this.shadowBlur=r,this.shadowStroke=n,this.shadowFill=s,this.update(!1)},setShadowOffset:function(t,e){return t===void 0&&(t=0),e===void 0&&(e=t),this.shadowOffsetX=t,this.shadowOffsetY=e,this.update(!1)},setShadowColor:function(t){return t===void 0&&(t="#000"),this.shadowColor=t,this.update(!1)},setShadowBlur:function(t){return t===void 0&&(t=0),this.shadowBlur=t,this.update(!1)},setShadowStroke:function(t){return this.shadowStroke=t,this.update(!1)},setShadowFill:function(t){return this.shadowFill=t,this.update(!1)},setWordWrapWidth:function(t,e){return e===void 0&&(e=!1),this.wordWrapWidth=t,this.wordWrapUseAdvanced=e,this.update(!1)},setWordWrapCallback:function(t,e){return e===void 0&&(e=null),this.wordWrapCallback=t,this.wordWrapCallbackScope=e,this.update(!1)},setAlign:function(t){return t===void 0&&(t="left"),this.align=t,this.update(!1)},setMaxLines:function(t){return t===void 0&&(t=0),this.maxLines=t,this.update(!1)},getTextMetrics:function(){var t=this.metrics;return{ascent:t.ascent,descent:t.descent,fontSize:t.fontSize}},toJSON:function(){var t={};for(var e in nh)t[e]=this[e];return t.metrics=this.getTextMetrics(),t},destroy:function(){this.parent=void 0}}),Pot=Mot;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var Aot=Bc,Sw=wi,Rot=b,Ie=ne,Fot=_i,Cw=Qt,Eot=yot,Ya=ut,Lot=U0,$ot=Tot,Oot=Pot,Iot=new Rot({Extends:Cw,Mixins:[Ie.Alpha,Ie.BlendMode,Ie.ComputedSize,Ie.Crop,Ie.Depth,Ie.Flip,Ie.GetBounds,Ie.Mask,Ie.Origin,Ie.Pipeline,Ie.ScaleMode,Ie.ScrollFactor,Ie.Tint,Ie.Transform,Ie.Visible,$ot],initialize:function(e,i,r,n,s){i===void 0&&(i=0),r===void 0&&(r=0),Cw.call(this,e,"Text"),this.renderer=e.sys.game.renderer,this.setPosition(i,r),this.setOrigin(0,0),this.initPipeline(),this.canvas=Sw.create(this),this.context=this.canvas.getContext("2d"),this.style=new Oot(this,s),this.autoRound=!0,this.splitRegExp=/(?:\r\n|\r|\n)/,this._text="",this.padding={left:0,right:0,top:0,bottom:0},this.width=1,this.height=1,this.lineSpacing=0,this.dirty=!1,this.style.resolution===0&&(this.style.resolution=e.sys.game.config.resolution),this._crop=this.resetCropObject(),this.texture=e.sys.textures.addCanvas(null,this.canvas,!0),this.frame=this.texture.get(),this.frame.source.resolution=this.style.resolution,this.renderer&&this.renderer.gl&&(this.renderer.deleteTexture(this.frame.source.glTexture),this.frame.source.glTexture=null),this.initRTL(),s&&s.padding&&this.setPadding(s.padding),s&&s.lineSpacing&&(this.lineSpacing=s.lineSpacing),this.setText(n),e.sys.game.config.renderType===Fot.WEBGL&&e.sys.game.renderer.onContextRestored(function(){this.dirty=!0},this)},initRTL:function(){!this.style.rtl||(this.canvas.dir="rtl",this.context.direction="rtl",this.canvas.style.display="none",Aot(this.canvas,this.scene.sys.canvas),this.originX=1)},runWordWrap:function(t){var e=this.style;if(e.wordWrapCallback){var i=e.wordWrapCallback.call(e.wordWrapCallbackScope,t,this);return Array.isArray(i)&&(i=i.join(`
`)),i}else return e.wordWrapWidth?e.wordWrapUseAdvanced?this.advancedWordWrap(t,this.context,this.style.wordWrapWidth):this.basicWordWrap(t,this.context,this.style.wordWrapWidth):t},advancedWordWrap:function(t,e,i){for(var r="",n=t.replace(/ +/gi," ").split(this.splitRegExp),s=n.length,a=0;a<s;a++){var o=n[a],h="";o=o.replace(/^ *|\s*$/gi,"");var l=e.measureText(o).width;if(l<i){r+=o+`
`;continue}for(var u=i,f=o.split(" "),c=0;c<f.length;c++){var d=f[c],g=d+" ",v=e.measureText(g).width;if(v>u){if(c===0){for(var p=g;p.length&&(p=p.slice(0,-1),v=e.measureText(p).width,!(v<=u)););if(!p.length)throw new Error("This text's wordWrapWidth setting is less than a single character!");var m=d.substr(p.length);f[c]=m,h+=p}var y=f[c].length?c:c+1,x=f.slice(y).join(" ").replace(/[ \n]*$/gi,"");n[a+1]=x+" "+(n[a+1]||""),s=n.length;break}else h+=g,u-=v}r+=h.replace(/[ \n]*$/gi,"")+`
`}return r=r.replace(/[\s|\n]*$/gi,""),r},basicWordWrap:function(t,e,i){for(var r="",n=t.split(this.splitRegExp),s=0;s<n.length;s++){for(var a=i,o=n[s].split(" "),h=0;h<o.length;h++){var l=e.measureText(o[h]).width,u=l+e.measureText(" ").width;u>a?(h>0&&(r+=`
`),r+=o[h]+" ",a=i-l):(a-=u,r+=o[h],h<o.length-1&&(r+=" "))}s<n.length-1&&(r+=`
`)}return r},getWrappedText:function(t){t===void 0&&(t=this._text),this.style.syncFont(this.canvas,this.context);var e=this.runWordWrap(t);return e.split(this.splitRegExp)},setText:function(t){return!t&&t!==0&&(t=""),Array.isArray(t)&&(t=t.join(`
`)),t!==this._text&&(this._text=t.toString(),this.updateText()),this},setStyle:function(t){return this.style.setStyle(t)},setFont:function(t){return this.style.setFont(t)},setFontFamily:function(t){return this.style.setFontFamily(t)},setFontSize:function(t){return this.style.setFontSize(t)},setFontStyle:function(t){return this.style.setFontStyle(t)},setFixedSize:function(t,e){return this.style.setFixedSize(t,e)},setBackgroundColor:function(t){return this.style.setBackgroundColor(t)},setFill:function(t){return this.style.setFill(t)},setColor:function(t){return this.style.setColor(t)},setStroke:function(t,e){return this.style.setStroke(t,e)},setShadow:function(t,e,i,r,n,s){return this.style.setShadow(t,e,i,r,n,s)},setShadowOffset:function(t,e){return this.style.setShadowOffset(t,e)},setShadowColor:function(t){return this.style.setShadowColor(t)},setShadowBlur:function(t){return this.style.setShadowBlur(t)},setShadowStroke:function(t){return this.style.setShadowStroke(t)},setShadowFill:function(t){return this.style.setShadowFill(t)},setWordWrapWidth:function(t,e){return this.style.setWordWrapWidth(t,e)},setWordWrapCallback:function(t,e){return this.style.setWordWrapCallback(t,e)},setAlign:function(t){return this.style.setAlign(t)},setResolution:function(t){return this.style.setResolution(t)},setLineSpacing:function(t){return this.lineSpacing=t,this.updateText()},setPadding:function(t,e,i,r){if(typeof t=="object"){var n=t,s=Ya(n,"x",null);s!==null?(t=s,i=s):(t=Ya(n,"left",0),i=Ya(n,"right",t));var a=Ya(n,"y",null);a!==null?(e=a,r=a):(e=Ya(n,"top",0),r=Ya(n,"bottom",e))}else t===void 0&&(t=0),e===void 0&&(e=t),i===void 0&&(i=t),r===void 0&&(r=e);return this.padding.left=t,this.padding.top=e,this.padding.right=i,this.padding.bottom=r,this.updateText()},setMaxLines:function(t){return this.style.setMaxLines(t)},updateText:function(){var t=this.canvas,e=this.context,i=this.style,r=i.resolution,n=i.metrics;i.syncFont(t,e);var s=this._text;(i.wordWrapWidth||i.wordWrapCallback)&&(s=this.runWordWrap(this._text));var a=s.split(this.splitRegExp),o=Eot(this,n,a),h=this.padding,l=o.width+h.left+h.right,u=o.height+h.top+h.bottom;i.fixedWidth===0&&(this.width=l),i.fixedHeight===0&&(this.height=u),this.updateDisplayOrigin(),l*=r,u*=r,l=Math.max(l,1),u=Math.max(u,1),t.width!==l||t.height!==u?(t.width=l,t.height=u,this.frame.setSize(l,u),i.syncFont(t,e)):e.clearRect(0,0,l,u),e.save(),e.scale(r,r),i.backgroundColor&&(e.fillStyle=i.backgroundColor,e.fillRect(0,0,l,u)),i.syncStyle(t,e),e.textBaseline="alphabetic",e.translate(h.left,h.top);for(var f,c,d=0;d<o.lines;d++)f=i.strokeThickness/2,c=i.strokeThickness/2+d*o.lineHeight+n.ascent,d>0&&(c+=o.lineSpacing*d),i.rtl?f=l-f:i.align==="right"?f+=o.width-o.lineWidths[d]:i.align==="center"&&(f+=(o.width-o.lineWidths[d])/2),this.autoRound&&(f=Math.round(f),c=Math.round(c)),i.strokeThickness&&(this.style.syncShadow(e,i.shadowStroke),e.strokeText(a[d],f,c)),i.color&&(this.style.syncShadow(e,i.shadowFill),e.fillText(a[d],f,c));return e.restore(),this.renderer.gl&&(this.frame.source.glTexture=this.renderer.canvasToTexture(t,this.frame.source.glTexture,!0),this.frame.glTexture=this.frame.source.glTexture),this.dirty=!0,this},getTextMetrics:function(){return this.style.getTextMetrics()},text:{get:function(){return this._text},set:function(t){this.setText(t)}},toJSON:function(){var t=Ie.ToJSON(this),e={autoRound:this.autoRound,text:this._text,style:this.style.toJSON(),padding:{left:this.padding.left,right:this.padding.right,top:this.padding.top,bottom:this.padding.bottom}};return t.data=e,t},preDestroy:function(){this.style.rtl&&Lot(this.canvas),Sw.remove(this.canvas),this.texture.destroy()}}),py=Iot;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var Dot=function(t){var e=Math.log(t)/.6931471805599453;return 1<<Math.ceil(e)},JF=Dot;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var Pv,bw;function Bot(){if(bw)return Pv;bw=1;var t=kt,e=function(i,r,n,s,a){r.updateCanvas();var o=t.getTintAppendFloatAlpha;this.pipeline.batchTexture(r,r.fillPattern,r.displayFrame.width*r.tileScaleX,r.displayFrame.height*r.tileScaleY,r.x,r.y,r.width,r.height,r.scaleX,r.scaleY,r.rotation,r.flipX,r.flipY,r.scrollFactorX,r.scrollFactorY,r.originX*r.width,r.originY*r.height,0,0,r.width,r.height,o(r._tintTL,s.alpha*r._alphaTL),o(r._tintTR,s.alpha*r._alphaTR),o(r._tintBL,s.alpha*r._alphaBL),o(r._tintBR,s.alpha*r._alphaBR),r._isTinted&&r.tintFill,r.tilePositionX%r.displayFrame.width/r.displayFrame.width,r.tilePositionY%r.displayFrame.height/r.displayFrame.height,s,a)};return Pv=e,Pv}/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var Av,Mw;function kot(){if(Mw)return Av;Mw=1;var t=function(e,i,r,n,s){i.updateCanvas(),e.batchSprite(i,i.frame,n,s)};return Av=t,Av}/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var jF=W,ZF=W;jF=Bot();ZF=kot();var Got={renderWebGL:jF,renderCanvas:ZF};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var Lu=wi,zot=b,Ze=ne,Not=_i,Pw=Qt,Aw=JF,Yot=Ic,Vot=Got,Rw=at,Fw=8,Wot=new zot({Extends:Pw,Mixins:[Ze.Alpha,Ze.BlendMode,Ze.ComputedSize,Ze.Crop,Ze.Depth,Ze.Flip,Ze.GetBounds,Ze.Mask,Ze.Origin,Ze.Pipeline,Ze.ScaleMode,Ze.ScrollFactor,Ze.Tint,Ze.Transform,Ze.Visible,Vot],initialize:function(e,i,r,n,s,a,o){var h=e.sys.game.renderer;Pw.call(this,e,"TileSprite");var l=e.sys.textures.get(a),u=l.get(o);!n||!s?(n=u.width,s=u.height):(n=Math.floor(n),s=Math.floor(s)),this._tilePosition=new Rw,this._tileScale=new Rw(1,1),this.dirty=!1,this.renderer=h,this.canvas=Lu.create(this,n,s),this.context=this.canvas.getContext("2d"),this.displayTexture=l,this.displayFrame=u,this._crop=this.resetCropObject(),this.texture=e.sys.textures.addCanvas(null,this.canvas,!0),this.frame=this.texture.get(),this.potWidth=Aw(u.width),this.potHeight=Aw(u.height),this.fillCanvas=Lu.create2D(this,this.potWidth,this.potHeight),this.fillContext=this.fillCanvas.getContext("2d"),this.fillPattern=null,this.setPosition(i,r),this.setSize(n,s),this.setFrame(o),this.setOriginFromFrame(),this.initPipeline(),e.sys.game.config.renderType===Not.WEBGL&&e.sys.game.renderer.onContextRestored(function(f){var c=f.gl;this.dirty=!0,this.fillPattern=null,this.fillPattern=f.createTexture2D(0,c.LINEAR,c.LINEAR,c.REPEAT,c.REPEAT,c.RGBA,this.fillCanvas,this.potWidth,this.potHeight)},this)},setTexture:function(t,e){return this.displayTexture=this.scene.sys.textures.get(t),this.setFrame(e)},setFrame:function(t){return this.displayFrame=this.displayTexture.get(t),!this.displayFrame.cutWidth||!this.displayFrame.cutHeight?this.renderFlags&=~Fw:this.renderFlags|=Fw,this.dirty=!0,this.updateTileTexture(),this},setTilePosition:function(t,e){return t!==void 0&&(this.tilePositionX=t),e!==void 0&&(this.tilePositionY=e),this},setTileScale:function(t,e){return t!==void 0&&(this.tileScaleX=t),e!==void 0&&(this.tileScaleY=e),this},updateTileTexture:function(){if(!!this.dirty){var t=this.displayFrame,e=this.fillContext,i=this.fillCanvas,r=this.potWidth,n=this.potHeight;this.renderer.gl||(r=t.cutWidth,n=t.cutHeight),e.clearRect(0,0,r,n),i.width=r,i.height=n,e.drawImage(t.source.image,t.cutX,t.cutY,t.cutWidth,t.cutHeight,0,0,r,n),this.renderer.gl?this.fillPattern=this.renderer.canvasToTexture(i,this.fillPattern):this.fillPattern=e.createPattern(i,"repeat"),this.updateCanvas(),this.dirty=!1}},updateCanvas:function(){var t=this.canvas;if((t.width!==this.width||t.height!==this.height)&&(t.width=this.width,t.height=this.height,this.frame.setSize(this.width,this.height)),!this.dirty||this.renderer&&this.renderer.gl){this.dirty=!1;return}var e=this.context;this.scene.sys.game.config.antialias||Yot.disable(e);var i=this._tileScale.x,r=this._tileScale.y,n=this._tilePosition.x,s=this._tilePosition.y;e.clearRect(0,0,this.width,this.height),e.save(),e.scale(i,r),e.translate(-n,-s),e.fillStyle=this.fillPattern,e.fillRect(n,s,this.width/i,this.height/r),e.restore(),this.dirty=!1},preDestroy:function(){this.renderer&&this.renderer.gl&&this.renderer.deleteTexture(this.fillPattern),Lu.remove(this.canvas),Lu.remove(this.fillCanvas),this.fillPattern=null,this.fillContext=null,this.fillCanvas=null,this.displayTexture=null,this.displayFrame=null,this.texture.destroy(),this.renderer=null},tilePositionX:{get:function(){return this._tilePosition.x},set:function(t){this._tilePosition.x=t,this.dirty=!0}},tilePositionY:{get:function(){return this._tilePosition.y},set:function(t){this._tilePosition.y=t,this.dirty=!0}},tileScaleX:{get:function(){return this._tileScale.x},set:function(t){this._tileScale.x=t,this.dirty=!0}},tileScaleY:{get:function(){return this._tileScale.y},set:function(t){this._tileScale.y=t,this.dirty=!0}}}),gy=Wot;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var Xot=b,Li=ne,Ew=Qt,Uot=_s,Hot=new Xot({Extends:Ew,Mixins:[Li.Alpha,Li.BlendMode,Li.ComputedSize,Li.Depth,Li.GetBounds,Li.Mask,Li.Origin,Li.Pipeline,Li.ScaleMode,Li.ScrollFactor,Li.Transform,Li.Visible],initialize:function(e,i,r){i===void 0&&(i="Shape"),Ew.call(this,e,i),this.geom=r,this.pathData=[],this.pathIndexes=[],this.fillColor=16777215,this.fillAlpha=1,this.strokeColor=16777215,this.strokeAlpha=1,this.lineWidth=1,this.isFilled=!1,this.isStroked=!1,this.closePath=!0,this._tempLine=new Uot,this.initPipeline()},setFillStyle:function(t,e){return e===void 0&&(e=1),t===void 0?this.isFilled=!1:(this.fillColor=t,this.fillAlpha=e,this.isFilled=!0),this},setStrokeStyle:function(t,e,i){return i===void 0&&(i=1),t===void 0?this.isStroked=!1:(this.lineWidth=t,this.strokeColor=e,this.strokeAlpha=i,this.isStroked=!0),this},setClosePath:function(t){return this.closePath=t,this},preDestroy:function(){this.geom=null,this._tempLine=null,this.pathData=[],this.pathIndexes=[]}}),Zi=Hot;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var Rv,Lw;function Ml(){if(Lw)return Rv;Lw=1;var t=kt,e=function(i,r,n,s,a,o){for(var h=t.getTintAppendFloatAlphaAndSwap(n.fillColor,n.fillAlpha*s),l=n.pathData,u=n.pathIndexes,f=0;f<u.length;f+=3){var c=u[f]*2,d=u[f+1]*2,g=u[f+2]*2,v=l[c+0]-a,p=l[c+1]-o,m=l[d+0]-a,y=l[d+1]-o,x=l[g+0]-a,T=l[g+1]-o,_=r.getX(v,p),w=r.getY(v,p),S=r.getX(m,y),C=r.getY(m,y),R=r.getX(x,T),L=r.getY(x,T);i.setTexture2D(),i.batchTri(_,w,S,C,R,L,0,0,1,1,h,h,h,i.tintEffect)}};return Rv=e,Rv}/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var Fv,$w;function _a(){if($w)return Fv;$w=1;var t=kt,e=function(i,r,n,s,a){var o=i.strokeTint,h=t.getTintAppendFloatAlphaAndSwap(r.strokeColor,r.strokeAlpha*n);o.TL=h,o.TR=h,o.BL=h,o.BR=h;var l=r.pathData,u=l.length-1,f=r.lineWidth,c=f/2,d=l[0]-s,g=l[1]-a;r.closePath||(u-=2);for(var v=2;v<u;v+=2){var p=l[v]-s,m=l[v+1]-a;i.setTexture2D(),i.batchLine(d,g,p,m,c,c,f,v-2,r.closePath?v===u-1:!1),d=p,g=m}};return Fv=e,Fv}/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var Ev,Ow;function qot(){if(Ow)return Ev;Ow=1;var t=Ml(),e=_a(),i=function(r,n,s,a,o){var h=this.pipeline,l=h._tempMatrix1,u=h._tempMatrix2,f=h._tempMatrix3;r.setPipeline(h),u.applyITRS(n.x,n.y,n.rotation,n.scaleX,n.scaleY),l.copyFrom(a.matrix),o?(l.multiplyWithOffset(o,-a.scrollX*n.scrollFactorX,-a.scrollY*n.scrollFactorY),u.e=n.x,u.f=n.y):(u.e-=a.scrollX*n.scrollFactorX,u.f-=a.scrollY*n.scrollFactorY),l.multiply(u,f);var c=n._displayOriginX,d=n._displayOriginY,g=a.alpha*n.alpha;n.isFilled&&t(h,f,n,g,c,d),n.isStroked&&e(h,n,g,c,d)};return Ev=i,Ev}/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var Lv,Iw;function Vr(){if(Iw)return Lv;Iw=1;var t=function(e,i,r){var n=r||i.fillColor,s=i.fillAlpha,a=(n&16711680)>>>16,o=(n&65280)>>>8,h=n&255;e.fillStyle="rgba("+a+","+o+","+h+","+s+")"};return Lv=t,Lv}/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var $v,Dw;function Fn(){if(Dw)return $v;Dw=1;var t=function(e,i){var r=i.strokeColor,n=i.strokeAlpha,s=(r&16711680)>>>16,a=(r&65280)>>>8,o=r&255;e.strokeStyle="rgba("+s+","+a+","+o+","+n+")",e.lineWidth=i.lineWidth};return $v=t,$v}/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var Ov,Bw;function Kot(){if(Bw)return Ov;Bw=1;var t=Yr,e=Vr(),i=Fn(),r=ii,n=function(s,a,o,h,l){var u=s.currentContext;if(r(s,u,a,h,l)){var f=a.radius;u.beginPath(),u.arc(f-a.originX*(f*2),f-a.originY*(f*2),f,t(a._startAngle),t(a._endAngle),a.anticlockwise),a.closePath&&u.closePath(),a.isFilled&&(e(u,a),u.fill()),a.isStroked&&(i(u,a),u.stroke())}};return Ov=n,Ov}/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var QF=W,tE=W;QF=qot();tE=Kot();var Jot={renderWebGL:QF,renderCanvas:tE};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var jot=Jot,Zot=b,kw=Yr,Qot=ma,tht=Mo,Gn=_e,Gw=Zi,eht=new Zot({Extends:Gw,Mixins:[jot],initialize:function(e,i,r,n,s,a,o,h,l){i===void 0&&(i=0),r===void 0&&(r=0),n===void 0&&(n=128),s===void 0&&(s=0),a===void 0&&(a=360),o===void 0&&(o=!1),Gw.call(this,e,"Arc",new tht(0,0,n)),this._startAngle=s,this._endAngle=a,this._anticlockwise=o,this._iterations=.01,this.setPosition(i,r),this.setSize(this.geom.radius,this.geom.radius),h!==void 0&&this.setFillStyle(h,l),this.updateDisplayOrigin(),this.updateData()},iterations:{get:function(){return this._iterations},set:function(t){this._iterations=t,this.updateData()}},radius:{get:function(){return this.geom.radius},set:function(t){this.geom.radius=t,this.updateData()}},startAngle:{get:function(){return this._startAngle},set:function(t){this._startAngle=t,this.updateData()}},endAngle:{get:function(){return this._endAngle},set:function(t){this._endAngle=t,this.updateData()}},anticlockwise:{get:function(){return this._anticlockwise},set:function(t){this._anticlockwise=t,this.updateData()}},setRadius:function(t){return this.radius=t,this},setIterations:function(t){return t===void 0&&(t=.01),this.iterations=t,this},setStartAngle:function(t,e){return this._startAngle=t,e!==void 0&&(this._anticlockwise=e),this.updateData()},setEndAngle:function(t,e){return this._endAngle=t,e!==void 0&&(this._anticlockwise=e),this.updateData()},updateData:function(){var t=this._iterations,e=t,i=this.geom.radius,r=kw(this._startAngle),n=kw(this._endAngle),s=this._anticlockwise,a=i/2,o=i/2;n-=r,s?n<-Gn.PI2?n=-Gn.PI2:n>0&&(n=-Gn.PI2+n%Gn.PI2):n>Gn.PI2?n=Gn.PI2:n<0&&(n=Gn.PI2+n%Gn.PI2);for(var h=[a+Math.cos(r)*i,o+Math.sin(r)*i],l;e<1;)l=n*e+r,h.push(a+Math.cos(l)*i,o+Math.sin(l)*i),e+=t;return l=n+r,h.push(a+Math.cos(l)*i,o+Math.sin(l)*i),h.push(a+Math.cos(r)*i,o+Math.sin(r)*i),this.pathIndexes=Qot(h),this.pathData=h,this}}),eE=eht;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var Iv,zw;function iht(){if(zw)return Iv;zw=1;var t=Ml(),e=_a(),i=function(r,n,s,a,o){var h=this.pipeline,l=h._tempMatrix1,u=h._tempMatrix2,f=h._tempMatrix3;r.setPipeline(h),u.applyITRS(n.x,n.y,n.rotation,n.scaleX,n.scaleY),l.copyFrom(a.matrix),o?(l.multiplyWithOffset(o,-a.scrollX*n.scrollFactorX,-a.scrollY*n.scrollFactorY),u.e=n.x,u.f=n.y):(u.e-=a.scrollX*n.scrollFactorX,u.f-=a.scrollY*n.scrollFactorY),l.multiply(u,f);var c=n._displayOriginX+n._curveBounds.x,d=n._displayOriginY+n._curveBounds.y,g=a.alpha*n.alpha;n.isFilled&&t(h,f,n,g,c,d),n.isStroked&&e(h,n,g,c,d)};return Iv=i,Iv}/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var Dv,Nw;function rht(){if(Nw)return Dv;Nw=1;var t=Vr(),e=Fn(),i=ii,r=function(n,s,a,o,h){var l=n.currentContext;if(i(n,l,s,o,h)){var u=s._displayOriginX+s._curveBounds.x,f=s._displayOriginY+s._curveBounds.y,c=s.pathData,d=c.length-1,g=c[0]-u,v=c[1]-f;l.beginPath(),l.moveTo(g,v),s.closePath||(d-=2);for(var p=2;p<d;p+=2){var m=c[p]-u,y=c[p+1]-f;l.lineTo(m,y)}s.closePath&&l.closePath(),s.isFilled&&(t(l,s),l.fill()),s.isStroked&&(e(l,s),l.stroke())}};return Dv=r,Dv}/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var iE=W,rE=W;iE=iht();rE=rht();var nht={renderWebGL:iE,renderCanvas:rE};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var sht=b,aht=nht,oht=ma,hht=Dt,Yw=Zi,lht=new sht({Extends:Yw,Mixins:[aht],initialize:function(e,i,r,n,s,a){i===void 0&&(i=0),r===void 0&&(r=0),Yw.call(this,e,"Curve",n),this._smoothness=32,this._curveBounds=new hht,this.closePath=!1,this.setPosition(i,r),s!==void 0&&this.setFillStyle(s,a),this.updateData()},smoothness:{get:function(){return this._smoothness},set:function(t){this._smoothness=t,this.updateData()}},setSmoothness:function(t){return this._smoothness=t,this.updateData()},updateData:function(){var t=this._curveBounds,e=this._smoothness;this.geom.getBounds(t,e),this.setSize(t.width,t.height),this.updateDisplayOrigin();for(var i=[],r=this.geom.getPoints(e),n=0;n<r.length;n++)i.push(r[n].x,r[n].y);return i.push(r[0].x,r[0].y),this.pathIndexes=oht(i),this.pathData=i,this}}),nE=lht;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var Bv,Vw;function uht(){if(Vw)return Bv;Vw=1;var t=Ml(),e=_a(),i=function(r,n,s,a,o){var h=this.pipeline,l=h._tempMatrix1,u=h._tempMatrix2,f=h._tempMatrix3;r.setPipeline(h),u.applyITRS(n.x,n.y,n.rotation,n.scaleX,n.scaleY),l.copyFrom(a.matrix),o?(l.multiplyWithOffset(o,-a.scrollX*n.scrollFactorX,-a.scrollY*n.scrollFactorY),u.e=n.x,u.f=n.y):(u.e-=a.scrollX*n.scrollFactorX,u.f-=a.scrollY*n.scrollFactorY),l.multiply(u,f);var c=n._displayOriginX,d=n._displayOriginY,g=a.alpha*n.alpha;n.isFilled&&t(h,f,n,g,c,d),n.isStroked&&e(h,n,g,c,d)};return Bv=i,Bv}/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var kv,Ww;function fht(){if(Ww)return kv;Ww=1;var t=Vr(),e=Fn(),i=ii,r=function(n,s,a,o,h){var l=n.currentContext;if(i(n,l,s,o,h)){var u=s._displayOriginX,f=s._displayOriginY,c=s.pathData,d=c.length-1,g=c[0]-u,v=c[1]-f;l.beginPath(),l.moveTo(g,v),s.closePath||(d-=2);for(var p=2;p<d;p+=2){var m=c[p]-u,y=c[p+1]-f;l.lineTo(m,y)}l.closePath(),s.isFilled&&(t(l,s),l.fill()),s.isStroked&&(e(l,s),l.stroke())}};return kv=r,kv}/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var sE=W,aE=W;sE=uht();aE=fht();var cht={renderWebGL:sE,renderCanvas:aE};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var dht=b,vht=ma,pht=cht,ght=Tl,Xw=Zi,mht=new dht({Extends:Xw,Mixins:[pht],initialize:function(e,i,r,n,s,a,o){i===void 0&&(i=0),r===void 0&&(r=0),n===void 0&&(n=128),s===void 0&&(s=128),Xw.call(this,e,"Ellipse",new ght(n/2,s/2,n,s)),this._smoothness=64,this.setPosition(i,r),this.width=n,this.height=s,a!==void 0&&this.setFillStyle(a,o),this.updateDisplayOrigin(),this.updateData()},smoothness:{get:function(){return this._smoothness},set:function(t){this._smoothness=t,this.updateData()}},setSize:function(t,e){return this.geom.setSize(t,e),this.updateData()},setSmoothness:function(t){return this._smoothness=t,this.updateData()},updateData:function(){for(var t=[],e=this.geom.getPoints(this._smoothness),i=0;i<e.length;i++)t.push(e[i].x,e[i].y);return t.push(e[0].x,e[0].y),this.pathIndexes=vht(t),this.pathData=t,this}}),oE=mht;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var Gv,Uw;function yht(){if(Uw)return Gv;Uw=1;var t=kt,e=function(i,r,n,s,a){var o=this.pipeline,h=o._tempMatrix1,l=o._tempMatrix2,u=o._tempMatrix3;i.setPipeline(o),l.applyITRS(r.x,r.y,r.rotation,r.scaleX,r.scaleY),h.copyFrom(s.matrix),a?(h.multiplyWithOffset(a,-s.scrollX*r.scrollFactorX,-s.scrollY*r.scrollFactorY),l.e=r.x,l.f=r.y):(l.e-=s.scrollX*r.scrollFactorX,l.f-=s.scrollY*r.scrollFactorY),h.multiply(l,u),u.translate(-r._displayOriginX,-r._displayOriginY);var f=s.alpha*r.alpha,c=r.width,d=r.height,g=r.cellWidth,v=r.cellHeight,p=Math.ceil(c/g),m=Math.ceil(d/v),y=g,x=v,T=g-(p*g-c),_=v-(m*v-d),w,S,C=r.showCells,R=r.showAltCells,L=r.showOutline,E=0,O=0,A=0,F=0,M=0;if(L&&(y--,x--,T===g&&T--,_===v&&_--),C&&r.fillAlpha>0)for(w=o.fillTint,S=t.getTintAppendFloatAlphaAndSwap(r.fillColor,r.fillAlpha*f),w.TL=S,w.TR=S,w.BL=S,w.BR=S,O=0;O<m;O++)for(R&&(A=O%2),E=0;E<p;E++){if(R&&A){A=0;continue}A++,F=E<p-1?y:T,M=O<m-1?x:_,o.setTexture2D(),o.batchFillRect(E*g,O*v,F,M)}if(R&&r.altFillAlpha>0)for(w=o.fillTint,S=t.getTintAppendFloatAlphaAndSwap(r.altFillColor,r.altFillAlpha*f),w.TL=S,w.TR=S,w.BL=S,w.BR=S,O=0;O<m;O++)for(R&&(A=O%2),E=0;E<p;E++){if(R&&!A){A=1;continue}A=0,F=E<p-1?y:T,M=O<m-1?x:_,o.setTexture2D(),o.batchFillRect(E*g,O*v,F,M)}if(L&&r.outlineFillAlpha>0){var P=o.strokeTint,$=t.getTintAppendFloatAlphaAndSwap(r.outlineFillColor,r.outlineFillAlpha*f);for(P.TL=$,P.TR=$,P.BL=$,P.BR=$,E=1;E<p;E++){var I=E*g;o.setTexture2D(),o.batchLine(I,0,I,d,1,1,1,0,!1)}for(O=1;O<m;O++){var D=O*v;o.setTexture2D(),o.batchLine(0,D,c,D,1,1,1,0,!1)}}};return Gv=e,Gv}/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var zv,Hw;function xht(){if(Hw)return zv;Hw=1;var t=Vr(),e=Fn(),i=ii,r=function(n,s,a,o,h){var l=n.currentContext;if(i(n,l,s,o,h)){var u=s._displayOriginX,f=s._displayOriginY;s.isFilled&&(t(l,s),l.fillRect(-u,-f,s.width,s.height)),s.isStroked&&(e(l,s),l.beginPath(),l.rect(-u,-f,s.width,s.height),l.stroke())}};return zv=r,zv}/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var hE=W,lE=W;hE=yht();lE=xht();var _ht={renderWebGL:hE,renderCanvas:lE};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var Tht=b,qw=Zi,wht=_ht,Sht=new Tht({Extends:qw,Mixins:[wht],initialize:function(e,i,r,n,s,a,o,h,l,u,f){i===void 0&&(i=0),r===void 0&&(r=0),n===void 0&&(n=128),s===void 0&&(s=128),a===void 0&&(a=32),o===void 0&&(o=32),qw.call(this,e,"Grid",null),this.cellWidth=a,this.cellHeight=o,this.showCells=!0,this.outlineFillColor=0,this.outlineFillAlpha=0,this.showOutline=!0,this.showAltCells=!1,this.altFillColor,this.altFillAlpha,this.setPosition(i,r),this.setSize(n,s),h!==void 0&&this.setFillStyle(h,l),u!==void 0&&this.setOutlineStyle(u,f),this.updateDisplayOrigin()},setFillStyle:function(t,e){return e===void 0&&(e=1),t===void 0?this.showCells=!1:(this.fillColor=t,this.fillAlpha=e,this.showCells=!0),this},setAltFillStyle:function(t,e){return e===void 0&&(e=1),t===void 0?this.showAltCells=!1:(this.altFillColor=t,this.altFillAlpha=e,this.showAltCells=!0),this},setOutlineStyle:function(t,e){return e===void 0&&(e=1),t===void 0?this.showOutline=!1:(this.outlineFillColor=t,this.outlineFillAlpha=e,this.showOutline=!0),this}}),uE=Sht;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var Nv,Kw;function Cht(){if(Kw)return Nv;Kw=1;var t=kt,e=function(i,r,n,s,a){var o=this.pipeline,h=o._tempMatrix1,l=o._tempMatrix2,u=o._tempMatrix3;i.setPipeline(o),l.applyITRS(r.x,r.y,r.rotation,r.scaleX,r.scaleY),h.copyFrom(s.matrix),a?(h.multiplyWithOffset(a,-s.scrollX*r.scrollFactorX,-s.scrollY*r.scrollFactorY),l.e=r.x,l.f=r.y):(l.e-=s.scrollX*r.scrollFactorX,l.f-=s.scrollY*r.scrollFactorY),h.multiply(l,u);var f=r.width,c=r.height,d=f/2,g=f/r.projection,v=s.alpha*r.alpha;if(!!r.isFilled){var p,m,y,x,T,_,w,S,C;r.showTop&&(p=t.getTintAppendFloatAlphaAndSwap(r.fillTop,v),m=u.getX(-d,-c),y=u.getY(-d,-c),x=u.getX(0,-g-c),T=u.getY(0,-g-c),_=u.getX(d,-c),w=u.getY(d,-c),S=u.getX(0,g-c),C=u.getY(0,g-c),o.setTexture2D(),o.batchQuad(m,y,x,T,_,w,S,C,0,0,1,1,p,p,p,p,2)),r.showLeft&&(p=t.getTintAppendFloatAlphaAndSwap(r.fillLeft,v),m=u.getX(-d,0),y=u.getY(-d,0),x=u.getX(0,g),T=u.getY(0,g),_=u.getX(0,g-c),w=u.getY(0,g-c),S=u.getX(-d,-c),C=u.getY(-d,-c),o.setTexture2D(),o.batchQuad(m,y,x,T,_,w,S,C,0,0,1,1,p,p,p,p,2)),r.showRight&&(p=t.getTintAppendFloatAlphaAndSwap(r.fillRight,v),m=u.getX(d,0),y=u.getY(d,0),x=u.getX(0,g),T=u.getY(0,g),_=u.getX(0,g-c),w=u.getY(0,g-c),S=u.getX(d,-c),C=u.getY(d,-c),o.setTexture2D(),o.batchQuad(m,y,x,T,_,w,S,C,0,0,1,1,p,p,p,p,2))}};return Nv=e,Nv}/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var Yv,Jw;function bht(){if(Jw)return Yv;Jw=1;var t=Vr(),e=ii,i=function(r,n,s,a,o){var h=r.currentContext;if(e(r,h,n,a,o)&&n.isFilled){var l=n.width,u=n.height,f=l/2,c=l/n.projection;n.showTop&&(t(h,n,n.fillTop),h.beginPath(),h.moveTo(-f,-u),h.lineTo(0,-c-u),h.lineTo(f,-u),h.lineTo(f,-1),h.lineTo(0,c-1),h.lineTo(-f,-1),h.lineTo(-f,-u),h.fill()),n.showLeft&&(t(h,n,n.fillLeft),h.beginPath(),h.moveTo(-f,0),h.lineTo(0,c),h.lineTo(0,c-u),h.lineTo(-f,-u),h.lineTo(-f,0),h.fill()),n.showRight&&(t(h,n,n.fillRight),h.beginPath(),h.moveTo(f,0),h.lineTo(0,c),h.lineTo(0,c-u),h.lineTo(f,-u),h.lineTo(f,0),h.fill())}};return Yv=i,Yv}/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var fE=W,cE=W;fE=Cht();cE=bht();var Mht={renderWebGL:fE,renderCanvas:cE};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var Pht=Mht,Aht=b,jw=Zi,Rht=new Aht({Extends:jw,Mixins:[Pht],initialize:function(e,i,r,n,s,a,o,h){i===void 0&&(i=0),r===void 0&&(r=0),n===void 0&&(n=48),s===void 0&&(s=32),a===void 0&&(a=15658734),o===void 0&&(o=10066329),h===void 0&&(h=13421772),jw.call(this,e,"IsoBox",null),this.projection=4,this.fillTop=a,this.fillLeft=o,this.fillRight=h,this.showTop=!0,this.showLeft=!0,this.showRight=!0,this.isFilled=!0,this.setPosition(i,r),this.setSize(n,s),this.updateDisplayOrigin()},setProjection:function(t){return this.projection=t,this},setFaces:function(t,e,i){return t===void 0&&(t=!0),e===void 0&&(e=!0),i===void 0&&(i=!0),this.showTop=t,this.showLeft=e,this.showRight=i,this},setFillStyle:function(t,e,i){return this.fillTop=t,this.fillLeft=e,this.fillRight=i,this.isFilled=!0,this}}),dE=Rht;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var Vv,Zw;function Fht(){if(Zw)return Vv;Zw=1;var t=kt,e=function(i,r,n,s,a){var o=this.pipeline,h=o._tempMatrix1,l=o._tempMatrix2,u=o._tempMatrix3;i.setPipeline(o),l.applyITRS(r.x,r.y,r.rotation,r.scaleX,r.scaleY),h.copyFrom(s.matrix),a?(h.multiplyWithOffset(a,-s.scrollX*r.scrollFactorX,-s.scrollY*r.scrollFactorY),l.e=r.x,l.f=r.y):(l.e-=s.scrollX*r.scrollFactorX,l.f-=s.scrollY*r.scrollFactorY),h.multiply(l,u);var f=r.width,c=r.height,d=f/2,g=f/r.projection,v=r.isReversed,p=s.alpha*r.alpha;if(!!r.isFilled){var m,y,x,T,_,w,S;if(r.showTop&&v){m=t.getTintAppendFloatAlphaAndSwap(r.fillTop,p),y=u.getX(-d,-c),x=u.getY(-d,-c),T=u.getX(0,-g-c),_=u.getY(0,-g-c),w=u.getX(d,-c),S=u.getY(d,-c);var C=u.getX(0,g-c),R=u.getY(0,g-c);o.setTexture2D(),o.batchQuad(y,x,T,_,w,S,C,R,0,0,1,1,m,m,m,m,2)}r.showLeft&&(m=t.getTintAppendFloatAlphaAndSwap(r.fillLeft,p),v?(y=u.getX(-d,-c),x=u.getY(-d,-c),T=u.getX(0,g),_=u.getY(0,g),w=u.getX(0,g-c),S=u.getY(0,g-c)):(y=u.getX(-d,0),x=u.getY(-d,0),T=u.getX(0,g),_=u.getY(0,g),w=u.getX(0,g-c),S=u.getY(0,g-c)),o.batchTri(y,x,T,_,w,S,0,0,1,1,m,m,m,2)),r.showRight&&(m=t.getTintAppendFloatAlphaAndSwap(r.fillRight,p),v?(y=u.getX(d,-c),x=u.getY(d,-c),T=u.getX(0,g),_=u.getY(0,g),w=u.getX(0,g-c),S=u.getY(0,g-c)):(y=u.getX(d,0),x=u.getY(d,0),T=u.getX(0,g),_=u.getY(0,g),w=u.getX(0,g-c),S=u.getY(0,g-c)),o.setTexture2D(),o.batchTri(y,x,T,_,w,S,0,0,1,1,m,m,m,2))}};return Vv=e,Vv}/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var Wv,Qw;function Eht(){if(Qw)return Wv;Qw=1;var t=Vr(),e=ii,i=function(r,n,s,a,o){var h=r.currentContext;if(e(r,h,n,a,o)&&n.isFilled){var l=n.width,u=n.height,f=l/2,c=l/n.projection,d=n.isReversed;n.showTop&&d&&(t(h,n,n.fillTop),h.beginPath(),h.moveTo(-f,-u),h.lineTo(0,-c-u),h.lineTo(f,-u),h.lineTo(0,c-u),h.fill()),n.showLeft&&(t(h,n,n.fillLeft),h.beginPath(),d?(h.moveTo(-f,-u),h.lineTo(0,c),h.lineTo(0,c-u)):(h.moveTo(-f,0),h.lineTo(0,c),h.lineTo(0,c-u)),h.fill()),n.showRight&&(t(h,n,n.fillRight),h.beginPath(),d?(h.moveTo(f,-u),h.lineTo(0,c),h.lineTo(0,c-u)):(h.moveTo(f,0),h.lineTo(0,c),h.lineTo(0,c-u)),h.fill())}};return Wv=i,Wv}/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var vE=W,pE=W;vE=Fht();pE=Eht();var Lht={renderWebGL:vE,renderCanvas:pE};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var $ht=b,Oht=Lht,tS=Zi,Iht=new $ht({Extends:tS,Mixins:[Oht],initialize:function(e,i,r,n,s,a,o,h,l){i===void 0&&(i=0),r===void 0&&(r=0),n===void 0&&(n=48),s===void 0&&(s=32),a===void 0&&(a=!1),o===void 0&&(o=15658734),h===void 0&&(h=10066329),l===void 0&&(l=13421772),tS.call(this,e,"IsoTriangle",null),this.projection=4,this.fillTop=o,this.fillLeft=h,this.fillRight=l,this.showTop=!0,this.showLeft=!0,this.showRight=!0,this.isReversed=a,this.isFilled=!0,this.setPosition(i,r),this.setSize(n,s),this.updateDisplayOrigin()},setProjection:function(t){return this.projection=t,this},setReversed:function(t){return this.isReversed=t,this},setFaces:function(t,e,i){return t===void 0&&(t=!0),e===void 0&&(e=!0),i===void 0&&(i=!0),this.showTop=t,this.showLeft=e,this.showRight=i,this},setFillStyle:function(t,e,i){return this.fillTop=t,this.fillLeft=e,this.fillRight=i,this.isFilled=!0,this}}),gE=Iht;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var Xv,eS;function Dht(){if(eS)return Xv;eS=1;var t=kt,e=function(i,r,n,s,a){var o=this.pipeline,h=o._tempMatrix1,l=o._tempMatrix2;i.setPipeline(o),l.applyITRS(r.x,r.y,r.rotation,r.scaleX,r.scaleY),h.copyFrom(s.matrix),a?(h.multiplyWithOffset(a,-s.scrollX*r.scrollFactorX,-s.scrollY*r.scrollFactorY),l.e=r.x,l.f=r.y):(l.e-=s.scrollX*r.scrollFactorX,l.f-=s.scrollY*r.scrollFactorY);var u=r._displayOriginX,f=r._displayOriginY,c=s.alpha*r.alpha;if(r.isStroked){var d=o.strokeTint,g=t.getTintAppendFloatAlphaAndSwap(r.strokeColor,r.strokeAlpha*c);d.TL=g,d.TR=g,d.BL=g,d.BR=g;var v=r._startWidth,p=r._endWidth;o.setTexture2D(),o.batchLine(r.geom.x1-u,r.geom.y1-f,r.geom.x2-u,r.geom.y2-f,v,p,1,0,!1,l,h)}};return Xv=e,Xv}/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var Uv,iS;function Bht(){if(iS)return Uv;iS=1;var t=Fn(),e=ii,i=function(r,n,s,a,o){var h=r.currentContext;if(e(r,h,n,a,o)){var l=n._displayOriginX,u=n._displayOriginY;n.isStroked&&(t(h,n),h.beginPath(),h.moveTo(n.geom.x1-l,n.geom.y1-u),h.lineTo(n.geom.x2-l,n.geom.y2-u),h.stroke())}};return Uv=i,Uv}/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var mE=W,yE=W;mE=Dht();yE=Bht();var kht={renderWebGL:mE,renderCanvas:yE};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var Ght=b,rS=Zi,zht=_s,Nht=kht,Yht=new Ght({Extends:rS,Mixins:[Nht],initialize:function(e,i,r,n,s,a,o,h,l){i===void 0&&(i=0),r===void 0&&(r=0),n===void 0&&(n=0),s===void 0&&(s=0),a===void 0&&(a=128),o===void 0&&(o=0),rS.call(this,e,"Line",new zht(n,s,a,o));var u=this.geom.right-this.geom.left,f=this.geom.bottom-this.geom.top;this.lineWidth=1,this._startWidth=1,this._endWidth=1,this.setPosition(i,r),this.setSize(u,f),h!==void 0&&this.setStrokeStyle(1,h,l),this.updateDisplayOrigin()},setLineWidth:function(t,e){return e===void 0&&(e=t),this._startWidth=t,this._endWidth=e,this.lineWidth=t,this},setTo:function(t,e,i,r){return this.geom.setTo(t,e,i,r),this}}),xE=Yht;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var Hv,nS;function Vht(){if(nS)return Hv;nS=1;var t=Ml(),e=_a(),i=function(r,n,s,a,o){var h=this.pipeline,l=h._tempMatrix1,u=h._tempMatrix2,f=h._tempMatrix3;r.setPipeline(h),u.applyITRS(n.x,n.y,n.rotation,n.scaleX,n.scaleY),l.copyFrom(a.matrix),o?(l.multiplyWithOffset(o,-a.scrollX*n.scrollFactorX,-a.scrollY*n.scrollFactorY),u.e=n.x,u.f=n.y):(u.e-=a.scrollX*n.scrollFactorX,u.f-=a.scrollY*n.scrollFactorY),l.multiply(u,f);var c=n._displayOriginX,d=n._displayOriginY,g=a.alpha*n.alpha;n.isFilled&&t(h,f,n,g,c,d),n.isStroked&&e(h,n,g,c,d)};return Hv=i,Hv}/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var qv,sS;function Wht(){if(sS)return qv;sS=1;var t=Vr(),e=Fn(),i=ii,r=function(n,s,a,o,h){var l=n.currentContext;if(i(n,l,s,o,h)){var u=s._displayOriginX,f=s._displayOriginY,c=s.pathData,d=c.length-1,g=c[0]-u,v=c[1]-f;l.beginPath(),l.moveTo(g,v),s.closePath||(d-=2);for(var p=2;p<d;p+=2){var m=c[p]-u,y=c[p+1]-f;l.lineTo(m,y)}l.closePath(),s.isFilled&&(t(l,s),l.fill()),s.isStroked&&(e(l,s),l.stroke())}};return qv=r,qv}/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var _E=W,TE=W;_E=Vht();TE=Wht();var Xht={renderWebGL:_E,renderCanvas:TE};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var Uht=Dt,Hht=function(t,e){e===void 0&&(e=new Uht);for(var i=1/0,r=1/0,n=-i,s=-r,a,o=0;o<t.points.length;o++)a=t.points[o],i=Math.min(i,a.x),r=Math.min(r,a.y),n=Math.max(n,a.x),s=Math.max(s,a.y);return e.x=i,e.y=r,e.width=n-i,e.height=s-r,e},wE=Hht;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var qht=function(t,e,i){for(var r=!1,n=-1,s=t.points.length-1;++n<t.points.length;s=n){var a=t.points[n].x,o=t.points[n].y,h=t.points[s].x,l=t.points[s].y;(o<=i&&i<l||l<=i&&i<o)&&e<(h-a)*(i-o)/(l-o)+a&&(r=!r)}return r},my=qht;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var Kht=ga,Jht=_s,jht=function(t){for(var e=t.points,i=0,r=0;r<e.length;r++){var n=e[r],s=e[(r+1)%e.length],a=new Jht(n.x,n.y,s.x,s.y);i+=Kht(a)}return i},SE=jht;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var Zht=ga,Qht=_s,tlt=SE,elt=function(t,e,i,r){r===void 0&&(r=[]);var n=t.points,s=tlt(t);e||(e=s/i);for(var a=0;a<e;a++)for(var o=s*(a/e),h=0,l=0;l<n.length;l++){var u=n[l],f=n[(l+1)%n.length],c=new Qht(u.x,u.y,f.x,f.y),d=Zht(c);if(o<h||o>h+d){h+=d;continue}var g=c.getPoint((o-h)/d);r.push(g);break}return r},CE=elt;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var ilt=b,rlt=my,nlt=CE,slt=new ilt({initialize:function(e){this.area=0,this.points=[],e&&this.setTo(e)},contains:function(t,e){return rlt(this,t,e)},setTo:function(t){if(this.area=0,this.points=[],typeof t=="string"&&(t=t.split(" ")),!Array.isArray(t))return this;for(var e,i=Number.MAX_VALUE,r=0;r<t.length;r++)e={x:0,y:0},typeof t[r]=="number"||typeof t[r]=="string"?(e.x=parseFloat(t[r]),e.y=parseFloat(t[r+1]),r++):Array.isArray(t[r])?(e.x=t[r][0],e.y=t[r][1]):(e.x=t[r].x,e.y=t[r].y),this.points.push(e),e.y<i&&(i=e.y);return this.calculateArea(i),this},calculateArea:function(){if(this.points.length<3)return this.area=0,this.area;for(var t=0,e,i,r=0;r<this.points.length-1;r++)e=this.points[r],i=this.points[r+1],t+=(i.x-e.x)*(e.y+i.y);return e=this.points[0],i=this.points[this.points.length-1],t+=(e.x-i.x)*(i.y+e.y),this.area=-t*.5,this.area},getPoints:function(t,e,i){return nlt(this,t,e,i)}}),yy=slt;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Igor Ognichenko <ognichenko.igor@gmail.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var aS=function(t,e){return t[0]=e[0],t[1]=e[1],t},alt=function(t){var e,i=[],r=t.points;for(e=0;e<r.length;e++)i.push([r[e].x,r[e].y]);var n=[];for(i.length>0&&n.push(aS([0,0],i[0])),e=0;e<i.length-1;e++){var s=i[e],a=i[e+1],o=s[0],h=s[1],l=a[0],u=a[1];n.push([.85*o+.15*l,.85*h+.15*u]),n.push([.15*o+.85*l,.15*h+.85*u])}return i.length>1&&n.push(aS([0,0],i[i.length-1])),t.setTo(n)},bE=alt;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var olt=Xht,hlt=b,llt=ma,ult=wE,flt=yy,oS=Zi,clt=bE,dlt=new hlt({Extends:oS,Mixins:[olt],initialize:function(e,i,r,n,s,a){i===void 0&&(i=0),r===void 0&&(r=0),oS.call(this,e,"Polygon",new flt(n));var o=ult(this.geom);this.setPosition(i,r),this.setSize(o.width,o.height),s!==void 0&&this.setFillStyle(s,a),this.updateDisplayOrigin(),this.updateData()},smooth:function(t){t===void 0&&(t=1);for(var e=0;e<t;e++)clt(this.geom);return this.updateData()},updateData:function(){for(var t=[],e=this.geom.points,i=0;i<e.length;i++)t.push(e[i].x,e[i].y);return t.push(e[0].x,e[0].y),this.pathIndexes=llt(t),this.pathData=t,this}}),ME=dlt;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var Kv,hS;function vlt(){if(hS)return Kv;hS=1;var t=_a(),e=kt,i=function(r,n,s,a,o){var h=this.pipeline,l=h._tempMatrix1,u=h._tempMatrix2,f=h._tempMatrix3;r.setPipeline(h),u.applyITRS(n.x,n.y,n.rotation,n.scaleX,n.scaleY),l.copyFrom(a.matrix),o?(l.multiplyWithOffset(o,-a.scrollX*n.scrollFactorX,-a.scrollY*n.scrollFactorY),u.e=n.x,u.f=n.y):(u.e-=a.scrollX*n.scrollFactorX,u.f-=a.scrollY*n.scrollFactorY),l.multiply(u,f);var c=n._displayOriginX,d=n._displayOriginY,g=a.alpha*n.alpha;if(n.isFilled){var v=h.fillTint,p=e.getTintAppendFloatAlphaAndSwap(n.fillColor,n.fillAlpha*g);v.TL=p,v.TR=p,v.BL=p,v.BR=p,h.batchFillRect(-c,-d,n.width,n.height)}n.isStroked&&t(h,n,g,c,d)};return Kv=i,Kv}/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var Jv,lS;function plt(){if(lS)return Jv;lS=1;var t=Vr(),e=Fn(),i=ii,r=function(n,s,a,o,h){var l=n.currentContext;if(i(n,l,s,o,h)){var u=s._displayOriginX,f=s._displayOriginY;s.isFilled&&(t(l,s),l.fillRect(-u,-f,s.width,s.height)),s.isStroked&&(e(l,s),l.beginPath(),l.rect(-u,-f,s.width,s.height),l.stroke())}};return Jv=r,Jv}/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var PE=W,AE=W;PE=vlt();AE=plt();var glt={renderWebGL:PE,renderCanvas:AE};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var mlt=b,ylt=Dt,uS=Zi,xlt=glt,_lt=new mlt({Extends:uS,Mixins:[xlt],initialize:function(e,i,r,n,s,a,o){i===void 0&&(i=0),r===void 0&&(r=0),n===void 0&&(n=128),s===void 0&&(s=128),uS.call(this,e,"Rectangle",new ylt(0,0,n,s)),this.setPosition(i,r),this.setSize(n,s),a!==void 0&&this.setFillStyle(a,o),this.updateDisplayOrigin(),this.updateData()},updateData:function(){var t=[],e=this.geom,i=this._tempLine;return e.getLineA(i),t.push(i.x1,i.y1,i.x2,i.y2),e.getLineB(i),t.push(i.x2,i.y2),e.getLineC(i),t.push(i.x2,i.y2),e.getLineD(i),t.push(i.x2,i.y2),this.pathData=t,this}}),RE=_lt;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var jv,fS;function Tlt(){if(fS)return jv;fS=1;var t=Ml(),e=_a(),i=function(r,n,s,a,o){var h=this.pipeline,l=h._tempMatrix1,u=h._tempMatrix2,f=h._tempMatrix3;r.setPipeline(h),u.applyITRS(n.x,n.y,n.rotation,n.scaleX,n.scaleY),l.copyFrom(a.matrix),o?(l.multiplyWithOffset(o,-a.scrollX*n.scrollFactorX,-a.scrollY*n.scrollFactorY),u.e=n.x,u.f=n.y):(u.e-=a.scrollX*n.scrollFactorX,u.f-=a.scrollY*n.scrollFactorY),l.multiply(u,f);var c=n._displayOriginX,d=n._displayOriginY,g=a.alpha*n.alpha;n.isFilled&&t(h,f,n,g,c,d),n.isStroked&&e(h,n,g,c,d)};return jv=i,jv}/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var Zv,cS;function wlt(){if(cS)return Zv;cS=1;var t=Vr(),e=Fn(),i=ii,r=function(n,s,a,o,h){var l=n.currentContext;if(i(n,l,s,o,h)){var u=s._displayOriginX,f=s._displayOriginY,c=s.pathData,d=c.length-1,g=c[0]-u,v=c[1]-f;l.beginPath(),l.moveTo(g,v),s.closePath||(d-=2);for(var p=2;p<d;p+=2){var m=c[p]-u,y=c[p+1]-f;l.lineTo(m,y)}l.closePath(),s.isFilled&&(t(l,s),l.fill()),s.isStroked&&(e(l,s),l.stroke())}};return Zv=r,Zv}/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var FE=W,EE=W;FE=Tlt();EE=wlt();var Slt={renderWebGL:FE,renderCanvas:EE};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var Clt=Slt,blt=b,Mlt=ma,dS=Zi,Plt=new blt({Extends:dS,Mixins:[Clt],initialize:function(e,i,r,n,s,a,o,h){i===void 0&&(i=0),r===void 0&&(r=0),n===void 0&&(n=5),s===void 0&&(s=32),a===void 0&&(a=64),dS.call(this,e,"Star",null),this._points=n,this._innerRadius=s,this._outerRadius=a,this.setPosition(i,r),this.setSize(a*2,a*2),o!==void 0&&this.setFillStyle(o,h),this.updateDisplayOrigin(),this.updateData()},setPoints:function(t){return this._points=t,this.updateData()},setInnerRadius:function(t){return this._innerRadius=t,this.updateData()},setOuterRadius:function(t){return this._outerRadius=t,this.updateData()},points:{get:function(){return this._points},set:function(t){this._points=t,this.updateData()}},innerRadius:{get:function(){return this._innerRadius},set:function(t){this._innerRadius=t,this.updateData()}},outerRadius:{get:function(){return this._outerRadius},set:function(t){this._outerRadius=t,this.updateData()}},updateData:function(){var t=[],e=this._points,i=this._innerRadius,r=this._outerRadius,n=Math.PI/2*3,s=Math.PI/e,a=r,o=r;t.push(a,o+-r);for(var h=0;h<e;h++)t.push(a+Math.cos(n)*r,o+Math.sin(n)*r),n+=s,t.push(a+Math.cos(n)*i,o+Math.sin(n)*i),n+=s;return t.push(a,o+-r),this.pathIndexes=Mlt(t),this.pathData=t,this}}),LE=Plt;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var Alt=function(t,e,i){var r=t.x3-t.x1,n=t.y3-t.y1,s=t.x2-t.x1,a=t.y2-t.y1,o=e-t.x1,h=i-t.y1,l=r*r+n*n,u=r*s+n*a,f=r*o+n*h,c=s*s+a*a,d=s*o+a*h,g=l*c-u*u,v=g===0?0:1/g,p=(c*f-u*d)*v,m=(l*d-u*f)*v;return p>=0&&m>=0&&p+m<1},Lo=Alt;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var Rlt=gt,Qv=ga,Flt=function(t,e,i){i===void 0&&(i=new Rlt);var r=t.getLineA(),n=t.getLineB(),s=t.getLineC();if(e<=0||e>=1)return i.x=r.x1,i.y=r.y1,i;var a=Qv(r),o=Qv(n),h=Qv(s),l=a+o+h,u=l*e,f=0;return u<a?(f=u/a,i.x=r.x1+(r.x2-r.x1)*f,i.y=r.y1+(r.y2-r.y1)*f):u>a+o?(u-=a+o,f=u/h,i.x=s.x1+(s.x2-s.x1)*f,i.y=s.y1+(s.y2-s.y1)*f):(u-=a,f=u/o,i.x=n.x1+(n.x2-n.x1)*f,i.y=n.y1+(n.y2-n.y1)*f),i},$E=Flt;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var tp=ga,Elt=gt,Llt=function(t,e,i,r){r===void 0&&(r=[]);var n=t.getLineA(),s=t.getLineB(),a=t.getLineC(),o=tp(n),h=tp(s),l=tp(a),u=o+h+l;e||(e=u/i);for(var f=0;f<e;f++){var c=u*(f/e),d=0,g=new Elt;c<o?(d=c/o,g.x=n.x1+(n.x2-n.x1)*d,g.y=n.y1+(n.y2-n.y1)*d):c>o+h?(c-=o+h,d=c/l,g.x=a.x1+(a.x2-a.x1)*d,g.y=a.y1+(a.y2-a.y1)*d):(c-=o,d=c/h,g.x=s.x1+(s.x2-s.x1)*d,g.y=s.y1+(s.y2-s.y1)*d),r.push(g)}return r},OE=Llt;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var $lt=b,Olt=Lo,Ilt=$E,Dlt=OE,ep=_s,Blt=A0,klt=new $lt({initialize:function(e,i,r,n,s,a){e===void 0&&(e=0),i===void 0&&(i=0),r===void 0&&(r=0),n===void 0&&(n=0),s===void 0&&(s=0),a===void 0&&(a=0),this.x1=e,this.y1=i,this.x2=r,this.y2=n,this.x3=s,this.y3=a},contains:function(t,e){return Olt(this,t,e)},getPoint:function(t,e){return Ilt(this,t,e)},getPoints:function(t,e,i){return Dlt(this,t,e,i)},getRandomPoint:function(t){return Blt(this,t)},setTo:function(t,e,i,r,n,s){return t===void 0&&(t=0),e===void 0&&(e=0),i===void 0&&(i=0),r===void 0&&(r=0),n===void 0&&(n=0),s===void 0&&(s=0),this.x1=t,this.y1=e,this.x2=i,this.y2=r,this.x3=n,this.y3=s,this},getLineA:function(t){return t===void 0&&(t=new ep),t.setTo(this.x1,this.y1,this.x2,this.y2),t},getLineB:function(t){return t===void 0&&(t=new ep),t.setTo(this.x2,this.y2,this.x3,this.y3),t},getLineC:function(t){return t===void 0&&(t=new ep),t.setTo(this.x3,this.y3,this.x1,this.y1),t},left:{get:function(){return Math.min(this.x1,this.x2,this.x3)},set:function(t){var e=0;this.x1<=this.x2&&this.x1<=this.x3?e=this.x1-t:this.x2<=this.x1&&this.x2<=this.x3?e=this.x2-t:e=this.x3-t,this.x1-=e,this.x2-=e,this.x3-=e}},right:{get:function(){return Math.max(this.x1,this.x2,this.x3)},set:function(t){var e=0;this.x1>=this.x2&&this.x1>=this.x3?e=this.x1-t:this.x2>=this.x1&&this.x2>=this.x3?e=this.x2-t:e=this.x3-t,this.x1-=e,this.x2-=e,this.x3-=e}},top:{get:function(){return Math.min(this.y1,this.y2,this.y3)},set:function(t){var e=0;this.y1<=this.y2&&this.y1<=this.y3?e=this.y1-t:this.y2<=this.y1&&this.y2<=this.y3?e=this.y2-t:e=this.y3-t,this.y1-=e,this.y2-=e,this.y3-=e}},bottom:{get:function(){return Math.max(this.y1,this.y2,this.y3)},set:function(t){var e=0;this.y1>=this.y2&&this.y1>=this.y3?e=this.y1-t:this.y2>=this.y1&&this.y2>=this.y3?e=this.y2-t:e=this.y3-t,this.y1-=e,this.y2-=e,this.y3-=e}}}),Ta=klt;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var ip,vS;function Glt(){if(vS)return ip;vS=1;var t=_a(),e=kt,i=function(r,n,s,a,o){var h=this.pipeline,l=h._tempMatrix1,u=h._tempMatrix2,f=h._tempMatrix3;r.setPipeline(h),u.applyITRS(n.x,n.y,n.rotation,n.scaleX,n.scaleY),l.copyFrom(a.matrix),o?(l.multiplyWithOffset(o,-a.scrollX*n.scrollFactorX,-a.scrollY*n.scrollFactorY),u.e=n.x,u.f=n.y):(u.e-=a.scrollX*n.scrollFactorX,u.f-=a.scrollY*n.scrollFactorY),l.multiply(u,f);var c=n._displayOriginX,d=n._displayOriginY,g=a.alpha*n.alpha;if(n.isFilled){var v=h.fillTint,p=e.getTintAppendFloatAlphaAndSwap(n.fillColor,n.fillAlpha*g);v.TL=p,v.TR=p,v.BL=p,v.BR=p;var m=n.geom.x1-c,y=n.geom.y1-d,x=n.geom.x2-c,T=n.geom.y2-d,_=n.geom.x3-c,w=n.geom.y3-d;h.setTexture2D(),h.batchFillTriangle(m,y,x,T,_,w,u,l)}n.isStroked&&t(h,n,g,c,d)};return ip=i,ip}/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var rp,pS;function zlt(){if(pS)return rp;pS=1;var t=Vr(),e=Fn(),i=ii,r=function(n,s,a,o,h){var l=n.currentContext;if(i(n,l,s,o,h)){var u=s._displayOriginX,f=s._displayOriginY,c=s.geom.x1-u,d=s.geom.y1-f,g=s.geom.x2-u,v=s.geom.y2-f,p=s.geom.x3-u,m=s.geom.y3-f;l.beginPath(),l.moveTo(c,d),l.lineTo(g,v),l.lineTo(p,m),l.closePath(),s.isFilled&&(t(l,s),l.fill()),s.isStroked&&(e(l,s),l.stroke())}};return rp=r,rp}/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var IE=W,DE=W;IE=Glt();DE=zlt();var Nlt={renderWebGL:IE,renderCanvas:DE};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var Ylt=b,gS=Zi,Vlt=Ta,Wlt=Nlt,Xlt=new Ylt({Extends:gS,Mixins:[Wlt],initialize:function(e,i,r,n,s,a,o,h,l,u,f){i===void 0&&(i=0),r===void 0&&(r=0),n===void 0&&(n=0),s===void 0&&(s=128),a===void 0&&(a=64),o===void 0&&(o=0),h===void 0&&(h=128),l===void 0&&(l=128),gS.call(this,e,"Triangle",new Vlt(n,s,a,o,h,l));var c=this.geom.right-this.geom.left,d=this.geom.bottom-this.geom.top;this.setPosition(i,r),this.setSize(c,d),u!==void 0&&this.setFillStyle(u,f),this.updateDisplayOrigin(),this.updateData()},setTo:function(t,e,i,r,n,s){return this.geom.setTo(t,e,i,r,n,s),this.updateData()},updateData:function(){var t=[],e=this.geom,i=this._tempLine;return e.getLineA(i),t.push(i.x1,i.y1,i.x2,i.y2),e.getLineB(i),t.push(i.x2,i.y2),e.getLineC(i),t.push(i.x2,i.y2),this.pathData=t,this}}),BE=Xlt,Ult={};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var Hlt=ay,qlt=dt;qlt.register("blitter",function(t,e,i,r){return this.displayList.add(new Hlt(this.scene,t,e,i,r))});var Klt={};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var Jlt=oy,jlt=dt;jlt.register("container",function(t,e,i){return this.displayList.add(new Jlt(this.scene,t,e,i))});var Zlt={};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var Qlt=hy,tut=dt;tut.register("dynamicBitmapText",function(t,e,i,r,n){return this.displayList.add(new Qlt(this.scene,t,e,i,r,n))});var eut={};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var iut=cy,rut=dt;rut.register("graphics",function(t){return this.displayList.add(new iut(this.scene,t))});var nut={};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var sut=wl,aut=dt;aut.register("group",function(t,e){return this.updateList.add(new sut(this.scene,t,e))});var out={};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var hut=Fo,lut=dt;lut.register("image",function(t,e,i,r){return this.displayList.add(new hut(this.scene,t,e,i,r))});var uut={};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var fut=dt,cut=dy;fut.register("particles",function(t,e,i){var r=new cut(this.scene,t,e,i);return this.displayList.add(r),this.updateList.add(r),r});var dut={};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var vut=dt,put=WF;vut.register("follower",function(t,e,i,r,n){var s=new put(this.scene,t,e,i,r,n);return this.displayList.add(s),this.updateList.add(s),s});var gut={};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var mut=dt,yut=vy;mut.register("renderTexture",function(t,e,i,r){return this.displayList.add(new yut(this.scene,t,e,i,r))});var xut={};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var _ut=dt,Tut=Rn;_ut.register("sprite",function(t,e,i,r){var n=new Tut(this.scene,t,e,i,r);return this.displayList.add(n),this.updateList.add(n),n});var wut={};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var Sut=Uc,Cut=dt;Cut.register("bitmapText",function(t,e,i,r,n,s){return this.displayList.add(new Sut(this.scene,t,e,i,r,n,s))});var but={};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var Mut=py,Put=dt;Put.register("text",function(t,e,i,r){return this.displayList.add(new Mut(this.scene,t,e,i,r))});var Aut={};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var Rut=gy,Fut=dt;Fut.register("tileSprite",function(t,e,i,r,n,s){return this.displayList.add(new Rut(this.scene,t,e,i,r,n,s))});var Eut={};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var Lut=Lc,$ut=dt;$ut.register("zone",function(t,e,i,r){return this.displayList.add(new Lut(this.scene,t,e,i,r))});var Out={};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var kE=eE,GE=dt;GE.register("arc",function(t,e,i,r,n,s,a,o){return this.displayList.add(new kE(this.scene,t,e,i,r,n,s,a,o))});GE.register("circle",function(t,e,i,r,n){return this.displayList.add(new kE(this.scene,t,e,i,0,360,!1,r,n))});var Iut={};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var Dut=dt,But=nE;Dut.register("curve",function(t,e,i,r,n){return this.displayList.add(new But(this.scene,t,e,i,r,n))});var kut={};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var Gut=oE,zut=dt;zut.register("ellipse",function(t,e,i,r,n,s){return this.displayList.add(new Gut(this.scene,t,e,i,r,n,s))});var Nut={};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var Yut=dt,Vut=uE;Yut.register("grid",function(t,e,i,r,n,s,a,o,h,l){return this.displayList.add(new Vut(this.scene,t,e,i,r,n,s,a,o,h,l))});var Wut={};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var Xut=dt,Uut=dE;Xut.register("isobox",function(t,e,i,r,n,s,a){return this.displayList.add(new Uut(this.scene,t,e,i,r,n,s,a))});var Hut={};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var qut=dt,Kut=gE;qut.register("isotriangle",function(t,e,i,r,n,s,a,o){return this.displayList.add(new Kut(this.scene,t,e,i,r,n,s,a,o))});var Jut={};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var jut=dt,Zut=xE;jut.register("line",function(t,e,i,r,n,s,a,o){return this.displayList.add(new Zut(this.scene,t,e,i,r,n,s,a,o))});var Qut={};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var tft=dt,eft=ME;tft.register("polygon",function(t,e,i,r,n){return this.displayList.add(new eft(this.scene,t,e,i,r,n))});var ift={};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var rft=dt,nft=RE;rft.register("rectangle",function(t,e,i,r,n,s){return this.displayList.add(new nft(this.scene,t,e,i,r,n,s))});var sft={};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var aft=LE,oft=dt;oft.register("star",function(t,e,i,r,n,s,a){return this.displayList.add(new aft(this.scene,t,e,i,r,n,s,a))});var hft={};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var lft=dt,uft=BE;lft.register("triangle",function(t,e,i,r,n,s,a,o,h,l){return this.displayList.add(new uft(this.scene,t,e,i,r,n,s,a,o,h,l))});var fft={};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var cft=ay,dft=Si,vft=ae,mS=te;vft.register("blitter",function(t,e){t===void 0&&(t={});var i=mS(t,"key",null),r=mS(t,"frame",null),n=new cft(this.scene,0,0,i,r);return e!==void 0&&(t.add=e),dft(this.scene,n,t),n});var pft={};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var gft=Si,mft=oy,yft=ae,yS=te;yft.register("container",function(t,e){t===void 0&&(t={});var i=yS(t,"x",0),r=yS(t,"y",0),n=new mft(this.scene,i,r);return e!==void 0&&(t.add=e),gft(this.scene,n,t),n});var xft={};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var _ft=hy,Tft=Si,wft=ae,np=te;wft.register("dynamicBitmapText",function(t,e){t===void 0&&(t={});var i=np(t,"font",""),r=np(t,"text",""),n=np(t,"size",!1),s=new _ft(this.scene,0,0,i,r,n);return e!==void 0&&(t.add=e),Tft(this.scene,s,t),s});var Sft={};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var Cft=ae,bft=cy;Cft.register("graphics",function(t,e){t===void 0&&(t={}),e!==void 0&&(t.add=e);var i=new bft(this.scene,t);return t.add&&this.scene.sys.displayList.add(i),i});var Mft={};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var Pft=ae,Aft=wl;Pft.register("group",function(t){return new Aft(this.scene,null,t)});var Rft={};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var Fft=Si,Eft=ae,xS=te,Lft=Fo;Eft.register("image",function(t,e){t===void 0&&(t={});var i=xS(t,"key",null),r=xS(t,"frame",null),n=new Lft(this.scene,0,0,i,r);return e!==void 0&&(t.add=e),Fft(this.scene,n,t),n});var $ft={};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var Oft=ae,_S=te,TS=V,Ift=dy;Oft.register("particles",function(t,e){t===void 0&&(t={});var i=_S(t,"key",null),r=_S(t,"frame",null),n=TS(t,"emitters",null),s=new Ift(this.scene,i,r,n);e!==void 0&&(t.add=e);var a=TS(t,"add",!1);return a&&this.displayList.add(s),this.updateList.add(s),s});var Dft={};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var Bft=Si,kft=ae,$u=te,Gft=vy;kft.register("renderTexture",function(t,e){t===void 0&&(t={});var i=$u(t,"x",0),r=$u(t,"y",0),n=$u(t,"width",32),s=$u(t,"height",32),a=new Gft(this.scene,i,r,n,s);return e!==void 0&&(t.add=e),Bft(this.scene,a,t),a});var zft={};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var Nft=Si,Yft=sy,Vft=ae,wS=te,Wft=Rn;Vft.register("sprite",function(t,e){t===void 0&&(t={});var i=wS(t,"key",null),r=wS(t,"frame",null),n=new Wft(this.scene,0,0,i,r);return e!==void 0&&(t.add=e),Nft(this.scene,n,t),Yft(n,t),n});var Xft={};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var Uft=Uc,Hft=Si,qft=ae,SS=te,CS=ut;qft.register("bitmapText",function(t,e){t===void 0&&(t={});var i=CS(t,"font",""),r=SS(t,"text",""),n=SS(t,"size",!1),s=CS(t,"align",0),a=new Uft(this.scene,0,0,i,r,n,s);return e!==void 0&&(t.add=e),Hft(this.scene,a,t),a});var Kft={};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var Jft=Si,jft=ae,sh=te,Zft=py;jft.register("text",function(t,e){t===void 0&&(t={});var i=sh(t,"text",""),r=sh(t,"style",null),n=sh(t,"padding",null);n!==null&&(r.padding=n);var s=new Zft(this.scene,0,0,i,r);return e!==void 0&&(t.add=e),Jft(this.scene,s,t),s.autoRound=sh(t,"autoRound",!0),s.resolution=sh(t,"resolution",1),s});var Qft={};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var tct=Si,ect=ae,Va=te,ict=gy;ect.register("tileSprite",function(t,e){t===void 0&&(t={});var i=Va(t,"x",0),r=Va(t,"y",0),n=Va(t,"width",512),s=Va(t,"height",512),a=Va(t,"key",""),o=Va(t,"frame",""),h=new ict(this.scene,i,r,n,s,a,o);return e!==void 0&&(t.add=e),tct(this.scene,h,t),h});var rct={};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var nct=ae,Ou=te,sct=Lc;nct.register("zone",function(t){var e=Ou(t,"x",0),i=Ou(t,"y",0),r=Ou(t,"width",1),n=Ou(t,"height",r);return new sct(this.scene,e,i,r,n)});/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var sp,bS;function act(){return bS||(bS=1,sp=["normal","multiply","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"]),sp}/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var ap,MS;function PS(){if(MS)return ap;MS=1;var t=act(),e=Qt,i=function(r,n,s,a){var o=n.node;if(!o||e.RENDER_MASK!==n.renderFlags||n.cameraFilter>0&&n.cameraFilter&a.id){o&&(o.style.display="none");return}var h=r._tempMatrix1,l=r._tempMatrix2,u=r._tempMatrix3,f=n.originX*n.width,c=n.originY*n.height;l.applyITRS(n.x-f-a.scrollX*n.scrollFactorX,n.y-c-a.scrollY*n.scrollFactorY,n.rotation,n.scaleX,n.scaleY),h.copyFrom(a.matrix),h.multiply(l,u),o.style.display="block",o.style.opacity=n.alpha,o.style.zIndex=n._depth,o.style.pointerEvents="auto",o.style.mixBlendMode=t[n._blendMode],o.style.transform=u.getCSSMatrix()+" skew("+n.skewX+"rad, "+n.skewY+"rad) rotate3d("+n.rotate3d.x+","+n.rotate3d.y+","+n.rotate3d.z+","+n.rotate3d.w+n.rotate3dAngle+")",o.style.transformOrigin=100*n.originX+"% "+100*n.originY+"%"};return ap=i,ap}/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var op,AS;function oct(){if(AS)return op;AS=1;var t=W,e=W;return t=PS(),e=PS(),op={renderWebGL:t,renderCanvas:e},op}/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var hct=b,Ve=new hct({initialize:function(e,i,r,n){this.x=0,this.y=0,this.z=0,this.w=0,typeof e=="object"?(this.x=e.x||0,this.y=e.y||0,this.z=e.z||0,this.w=e.w||0):(this.x=e||0,this.y=i||0,this.z=r||0,this.w=n||0)},clone:function(){return new Ve(this.x,this.y,this.z,this.w)},copy:function(t){return this.x=t.x,this.y=t.y,this.z=t.z||0,this.w=t.w||0,this},equals:function(t){return this.x===t.x&&this.y===t.y&&this.z===t.z&&this.w===t.w},set:function(t,e,i,r){return typeof t=="object"?(this.x=t.x||0,this.y=t.y||0,this.z=t.z||0,this.w=t.w||0):(this.x=t||0,this.y=e||0,this.z=i||0,this.w=r||0),this},add:function(t){return this.x+=t.x,this.y+=t.y,this.z+=t.z||0,this.w+=t.w||0,this},subtract:function(t){return this.x-=t.x,this.y-=t.y,this.z-=t.z||0,this.w-=t.w||0,this},scale:function(t){return this.x*=t,this.y*=t,this.z*=t,this.w*=t,this},length:function(){var t=this.x,e=this.y,i=this.z,r=this.w;return Math.sqrt(t*t+e*e+i*i+r*r)},lengthSq:function(){var t=this.x,e=this.y,i=this.z,r=this.w;return t*t+e*e+i*i+r*r},normalize:function(){var t=this.x,e=this.y,i=this.z,r=this.w,n=t*t+e*e+i*i+r*r;return n>0&&(n=1/Math.sqrt(n),this.x=t*n,this.y=e*n,this.z=i*n,this.w=r*n),this},dot:function(t){return this.x*t.x+this.y*t.y+this.z*t.z+this.w*t.w},lerp:function(t,e){e===void 0&&(e=0);var i=this.x,r=this.y,n=this.z,s=this.w;return this.x=i+e*(t.x-i),this.y=r+e*(t.y-r),this.z=n+e*(t.z-n),this.w=s+e*(t.w-s),this},multiply:function(t){return this.x*=t.x,this.y*=t.y,this.z*=t.z||1,this.w*=t.w||1,this},divide:function(t){return this.x/=t.x,this.y/=t.y,this.z/=t.z||1,this.w/=t.w||1,this},distance:function(t){var e=t.x-this.x,i=t.y-this.y,r=t.z-this.z||0,n=t.w-this.w||0;return Math.sqrt(e*e+i*i+r*r+n*n)},distanceSq:function(t){var e=t.x-this.x,i=t.y-this.y,r=t.z-this.z||0,n=t.w-this.w||0;return e*e+i*i+r*r+n*n},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this},transformMat4:function(t){var e=this.x,i=this.y,r=this.z,n=this.w,s=t.val;return this.x=s[0]*e+s[4]*i+s[8]*r+s[12]*n,this.y=s[1]*e+s[5]*i+s[9]*r+s[13]*n,this.z=s[2]*e+s[6]*i+s[10]*r+s[14]*n,this.w=s[3]*e+s[7]*i+s[11]*r+s[15]*n,this},transformQuat:function(t){var e=this.x,i=this.y,r=this.z,n=t.x,s=t.y,a=t.z,o=t.w,h=o*e+s*r-a*i,l=o*i+a*e-n*r,u=o*r+n*i-s*e,f=-n*e-s*i-a*r;return this.x=h*o+f*-n+l*-a-u*-s,this.y=l*o+f*-s+u*-n-h*-a,this.z=u*o+f*-a+h*-s-l*-n,this},reset:function(){return this.x=0,this.y=0,this.z=0,this.w=0,this}});Ve.prototype.sub=Ve.prototype.subtract;Ve.prototype.mul=Ve.prototype.multiply;Ve.prototype.div=Ve.prototype.divide;Ve.prototype.dist=Ve.prototype.distance;Ve.prototype.distSq=Ve.prototype.distanceSq;Ve.prototype.len=Ve.prototype.length;Ve.prototype.lenSq=Ve.prototype.lengthSq;var Hc=Ve;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var hp,RS;function zE(){if(RS)return hp;RS=1;var t=b,e=ne,i=oct(),r=Qt,n=U0,s=Hc,a=new t({Extends:r,Mixins:[e.Alpha,e.BlendMode,e.ComputedSize,e.Depth,e.Origin,e.ScrollFactor,e.Transform,e.Visible,i],initialize:function(h,l,u,f){r.call(this,h,"DOMElement"),this.parent=h.sys.game.domContainer,this.cache=h.sys.cache.html,this.node,this.skewX=0,this.skewY=0,this.rotate3d=new s,this.rotate3dAngle="deg",this.handler=this.dispatchNativeEvent.bind(this),this.setPosition(l,u),f&&this.setElement(f)},setSkew:function(o,h){return o===void 0&&(o=0),h===void 0&&(h=o),this.skewX=o,this.skewY=h,this},perspective:{get:function(){return parseFloat(this.parent.style.perspective)},set:function(o){this.parent.style.perspective=o+"px"}},setPerspective:function(o){return this.parent.style.perspective=o+"px",this},addListener:function(o){if(this.node){o=o.split(" ");for(var h=0;h<o.length;h++)this.node.addEventListener(o[h],this.handler,!1)}return this},removeListener:function(o){if(this.node){o=o.split(" ");for(var h=0;h<o.length;h++)this.node.removeEventListener(o[h],this.handler)}return this},dispatchNativeEvent:function(o){this.emit(o.type,o)},setElement:function(o){var h;if(typeof o=="string"?h=document.getElementById(o):typeof o=="object"&&o.nodeType===1&&(h=o),!!h){this.node=h,h.style.zIndex="0",h.style.display="inline",h.style.position="absolute",h.phaser=this,this.parent&&this.parent.appendChild(h);var l=h.getBoundingClientRect();return this.setSize(l.width||0,l.height||0),this}},createFromCache:function(o,h){return this.createFromHTML(this.cache.get(o),h)},createFromHTML:function(o,h){h===void 0&&(h="div");var l=document.createElement(h);this.node=l,l.style.zIndex="0",l.style.display="inline",l.style.position="absolute",l.phaser=this,this.parent&&this.parent.appendChild(l),l.innerHTML=o;var u=l.getBoundingClientRect();return this.setSize(u.width||0,u.height||0),this},getChildByProperty:function(o,h){if(this.node){for(var l=this.node.querySelectorAll("*"),u=0;u<l.length;u++)if(l[u][o]===h)return l[u]}return null},getChildByID:function(o){return this.getChildByProperty("id",o)},getChildByName:function(o){return this.getChildByProperty("name",o)},setText:function(o){if(this.node){this.node.innerText=o;var h=this.node.getBoundingClientRect();this.setSize(h.width,h.height)}return this},setHTML:function(o){if(this.node){this.node.innerHTML=o;var h=this.node.getBoundingClientRect();this.setSize(h.width,h.height)}return this},willRender:function(){return!0},destroy:function(){n(this.node)}});return hp=a,hp}var FS={};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var ES;function lct(){if(ES)return FS;ES=1;var t=zE(),e=dt;return e.register("dom",function(i,r,n){return this.displayList.add(new t(this.scene,i,r,n))}),FS}/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var lp,LS;function uct(){if(LS)return lp;LS=1;var t=kt,e=function(i,r,n,s,a){var o=this.pipeline;i.setPipeline(o,r);var h=o._tempMatrix1,l=o._tempMatrix2,u=o._tempMatrix3;l.applyITRS(r.x,r.y,r.rotation,r.scaleX,r.scaleY),h.copyFrom(s.matrix),a?(h.multiplyWithOffset(a,-s.scrollX*r.scrollFactorX,-s.scrollY*r.scrollFactorY),l.e=r.x,l.f=r.y,h.multiply(l,u)):(l.e-=s.scrollX*r.scrollFactorX,l.f-=s.scrollY*r.scrollFactorY,h.multiply(l,u));var f=r.frame,c=f.glTexture,d=r.vertices,g=r.uv,v=r.colors,p=r.alphas,m=d.length,y=Math.floor(m*.5);o.vertexCount+y>=o.vertexCapacity&&o.flush(),o.setTexture2D(c,0);for(var x=o.vertexViewF32,T=o.vertexViewU32,_=o.vertexCount*o.vertexComponentCount-1,w=0,S=r.tintFill,C=0;C<m;C+=2){var R=d[C+0],L=d[C+1],E=R*u.a+L*u.c+u.e,O=R*u.b+L*u.d+u.f;s.roundPixels&&(E|=0,O|=0),x[++_]=E,x[++_]=O,x[++_]=g[C+0],x[++_]=g[C+1],x[++_]=S,T[++_]=t.getTintAppendFloatAlpha(v[w],s.alpha*p[w]),w++}o.vertexCount+=y};return lp=e,lp}/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var up,$S;function fct(){if($S)return up;$S=1;var t=function(){};return up=t,up}/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var fp,OS;function cct(){if(OS)return fp;OS=1;var t=W,e=W;return t=uct(),e=fct(),fp={renderWebGL:t,renderCanvas:e},fp}/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var cp,IS;function qc(){if(IS)return cp;IS=1;var t=b,e=ne,i=Qt,r=cct(),n=new t({Extends:i,Mixins:[e.Alpha,e.BlendMode,e.Depth,e.Flip,e.GetBounds,e.Mask,e.Origin,e.Pipeline,e.ScaleMode,e.Size,e.Texture,e.Transform,e.Visible,e.ScrollFactor,r],initialize:function(a,o,h,l,u,f,c,d,g){if(i.call(this,a,"Mesh"),l.length!==u.length)throw new Error("Mesh Vertex count must match UV count");var v=l.length/2|0;if(f.length>0&&f.length<v)throw new Error("Mesh Color count must match Vertex count");if(c.length>0&&c.length<v)throw new Error("Mesh Alpha count must match Vertex count");var p;if(f.length===0)for(p=0;p<v;++p)f[p]=16777215;if(c.length===0)for(p=0;p<v;++p)c[p]=1;this.vertices=new Float32Array(l),this.uv=new Float32Array(u),this.colors=new Uint32Array(f),this.alphas=new Float32Array(c),this.tintFill=!1,this.setTexture(d,g),this.setPosition(o,h),this.setSizeToFrame(),this.setOrigin(),this.initPipeline()}});return cp=n,cp}/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var dp,DS;function xy(){if(DS)return dp;DS=1;var t=b,e=qc(),i=new t({Extends:e,initialize:function(n,s,a,o,h){var l=[0,0,0,0,0,0,0,0,0,0,0,0],u=[0,0,0,1,1,1,0,0,1,1,1,0],f=[16777215,16777215,16777215,16777215,16777215,16777215],c=[1,1,1,1,1,1];e.call(this,n,s,a,l,u,f,c,o,h),this.resetPosition()},setFrame:function(r){return this.frame=this.texture.get(r),!this.frame.cutWidth||!this.frame.cutHeight?this.renderFlags&=-9:this.renderFlags|=8,r=this.frame,this.uv[0]=r.u0,this.uv[1]=r.v0,this.uv[2]=r.u0,this.uv[3]=r.v1,this.uv[4]=r.u1,this.uv[5]=r.v1,this.uv[6]=r.u0,this.uv[7]=r.v0,this.uv[8]=r.u1,this.uv[9]=r.v1,this.uv[10]=r.u1,this.uv[11]=r.v0,this},topLeftX:{get:function(){return this.x+this.vertices[0]},set:function(r){this.vertices[0]=r-this.x,this.vertices[6]=r-this.x}},topLeftY:{get:function(){return this.y+this.vertices[1]},set:function(r){this.vertices[1]=r-this.y,this.vertices[7]=r-this.y}},topRightX:{get:function(){return this.x+this.vertices[10]},set:function(r){this.vertices[10]=r-this.x}},topRightY:{get:function(){return this.y+this.vertices[11]},set:function(r){this.vertices[11]=r-this.y}},bottomLeftX:{get:function(){return this.x+this.vertices[2]},set:function(r){this.vertices[2]=r-this.x}},bottomLeftY:{get:function(){return this.y+this.vertices[3]},set:function(r){this.vertices[3]=r-this.y}},bottomRightX:{get:function(){return this.x+this.vertices[4]},set:function(r){this.vertices[4]=r-this.x,this.vertices[8]=r-this.x}},bottomRightY:{get:function(){return this.y+this.vertices[5]},set:function(r){this.vertices[5]=r-this.y,this.vertices[9]=r-this.y}},topLeftAlpha:{get:function(){return this.alphas[0]},set:function(r){this.alphas[0]=r,this.alphas[3]=r}},topRightAlpha:{get:function(){return this.alphas[5]},set:function(r){this.alphas[5]=r}},bottomLeftAlpha:{get:function(){return this.alphas[1]},set:function(r){this.alphas[1]=r}},bottomRightAlpha:{get:function(){return this.alphas[2]},set:function(r){this.alphas[2]=r,this.alphas[4]=r}},topLeftColor:{get:function(){return this.colors[0]},set:function(r){this.colors[0]=r,this.colors[3]=r}},topRightColor:{get:function(){return this.colors[5]},set:function(r){this.colors[5]=r}},bottomLeftColor:{get:function(){return this.colors[1]},set:function(r){this.colors[1]=r}},bottomRightColor:{get:function(){return this.colors[2]},set:function(r){this.colors[2]=r,this.colors[4]=r}},setTopLeft:function(r,n){return this.topLeftX=r,this.topLeftY=n,this},setTopRight:function(r,n){return this.topRightX=r,this.topRightY=n,this},setBottomLeft:function(r,n){return this.bottomLeftX=r,this.bottomLeftY=n,this},setBottomRight:function(r,n){return this.bottomRightX=r,this.bottomRightY=n,this},resetPosition:function(){var r=this.x,n=this.y,s=Math.floor(this.width/2),a=Math.floor(this.height/2);return this.setTopLeft(r-s,n-a),this.setTopRight(r+s,n-a),this.setBottomLeft(r-s,n+a),this.setBottomRight(r+s,n+a),this},resetAlpha:function(){var r=this.alphas;return r[0]=1,r[1]=1,r[2]=1,r[3]=1,r[4]=1,r[5]=1,this},resetColors:function(){var r=this.colors;return r[0]=16777215,r[1]=16777215,r[2]=16777215,r[3]=16777215,r[4]=16777215,r[5]=16777215,this},reset:function(){return this.resetPosition(),this.resetAlpha(),this.resetColors()}});return dp=i,dp}var BS={};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var kS;function dct(){if(kS)return BS;kS=1;var t=qc(),e=dt;return e.register("mesh",function(i,r,n,s,a,o,h,l){return this.displayList.add(new t(this.scene,i,r,n,s,a,o,h,l))}),BS}var GS={};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var zS;function vct(){if(zS)return GS;zS=1;var t=xy(),e=dt;return e.register("quad",function(i,r,n,s){return this.displayList.add(new t(this.scene,i,r,n,s))}),GS}var NS={};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var YS;function pct(){if(YS)return NS;YS=1;var t=Si,e=ae,i=te,r=ut,n=qc();return e.register("mesh",function(s,a){s===void 0&&(s={});var o=i(s,"key",null),h=i(s,"frame",null),l=r(s,"vertices",[]),u=r(s,"colors",[]),f=r(s,"alphas",[]),c=r(s,"uv",[]),d=new n(this.scene,0,0,l,c,u,f,o,h);return a!==void 0&&(s.add=a),t(this.scene,d,s),d}),NS}var VS={};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var WS;function gct(){if(WS)return VS;WS=1;var t=Si,e=ae,i=te,r=xy();return e.register("quad",function(n,s){n===void 0&&(n={});var a=i(n,"x",0),o=i(n,"y",0),h=i(n,"key",null),l=i(n,"frame",null),u=new r(this.scene,a,o,h,l);return s!==void 0&&(n.add=s),t(this.scene,u,n),u}),VS}/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var vp,XS;function NE(){if(XS)return vp;XS=1;var t=b,e=kt,i=new t({initialize:function(n,s,a,o,h,l,u){this.x=n,this.y=s,this.radius=a,this.r=o,this.g=h,this.b=l,this.intensity=u,this.scrollFactorX=1,this.scrollFactorY=1},set:function(r,n,s,a,o,h,l){return this.x=r,this.y=n,this.radius=s,this.r=a,this.g=o,this.b=h,this.intensity=l,this.scrollFactorX=1,this.scrollFactorY=1,this},setScrollFactor:function(r,n){return r===void 0&&(r=1),n===void 0&&(n=r),this.scrollFactorX=r,this.scrollFactorY=n,this},setColor:function(r){var n=e.getFloatsFromUintRGB(r);return this.r=n[0],this.g=n[1],this.b=n[2],this},setIntensity:function(r){return this.intensity=r,this},setPosition:function(r,n){return this.x=r,this.y=n,this},setRadius:function(r){return this.radius=r,this}});return vp=i,vp}/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var pp,US;function YE(){if(US)return pp;US=1;var t=b,e=NE(),i=kt,r=new t({initialize:function(){this.lightPool=[],this.lights=[],this.culledLights=[],this.ambientColor={r:.1,g:.1,b:.1},this.active=!1,this.maxLights=-1},enable:function(){return this.maxLights===-1&&(this.maxLights=this.scene.sys.game.renderer.config.maxLights),this.active=!0,this},disable:function(){return this.active=!1,this},cull:function(n){var s=this.lights,a=this.culledLights,o=s.length,h=n.x+n.width/2,l=n.y+n.height/2,u=(n.width+n.height)/2,f={x:0,y:0},c=n.matrix,d=this.systems.game.config.height;a.length=0;for(var g=0;g<o&&a.length<this.maxLights;g++){var v=s[g];c.transformPoint(v.x,v.y,f);var p=h-(f.x-n.scrollX*v.scrollFactorX*n.zoom),m=l-(d-(f.y-n.scrollY*v.scrollFactorY*n.zoom)),y=Math.sqrt(p*p+m*m);y<v.radius+u&&a.push(s[g])}return a},forEachLight:function(n){if(!!n){for(var s=this.lights,a=s.length,o=0;o<a;++o)n(s[o]);return this}},setAmbientColor:function(n){var s=i.getFloatsFromUintRGB(n);return this.ambientColor.r=s[0],this.ambientColor.g=s[1],this.ambientColor.b=s[2],this},getMaxVisibleLights:function(){return 10},getLightCount:function(){return this.lights.length},addLight:function(n,s,a,o,h){var l=null,u=null;return n=n===void 0?0:n,s=s===void 0?0:s,o=o===void 0?16777215:o,a=a===void 0?100:a,h=h===void 0?1:h,l=i.getFloatsFromUintRGB(o),u=null,this.lightPool.length>0?(u=this.lightPool.pop(),u.set(n,s,a,l[0],l[1],l[2],h)):u=new e(n,s,a,l[0],l[1],l[2],h),this.lights.push(u),u},removeLight:function(n){var s=this.lights.indexOf(n);return s>=0&&(this.lightPool.push(n),this.lights.splice(s,1)),this},shutdown:function(){for(;this.lights.length>0;)this.lightPool.push(this.lights.pop());this.ambientColor={r:.1,g:.1,b:.1},this.culledLights.length=0,this.lights.length=0},destroy:function(){this.shutdown()}});return pp=r,pp}/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var gp,HS;function mct(){if(HS)return gp;HS=1;var t=b,e=YE(),i=se,r=new t({Extends:e,initialize:function(s){this.scene=s,this.systems=s.sys,s.sys.settings.isBooted||s.sys.events.once("boot",this.boot,this),e.call(this)},boot:function(){var n=this.systems.events;n.on("shutdown",this.shutdown,this),n.on("destroy",this.destroy,this)},destroy:function(){this.shutdown(),this.scene=void 0,this.systems=void 0}});return i.register("LightsPlugin",r,"lights"),gp=r,gp}/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var Lr={DisplayList:lnt,GameObjectCreator:ae,GameObjectFactory:dt,UpdateList:cnt,Components:ne,BuildGameObject:Si,BuildGameObjectAnimation:sy,GameObject:Qt,BitmapText:Uc,Blitter:ay,Container:oy,DynamicBitmapText:hy,Graphics:cy,Group:wl,Image:Fo,Particles:qat,PathFollower:WF,RenderTexture:vy,RetroFont:got,Sprite:Rn,Text:py,TileSprite:gy,Zone:Lc,Shape:Zi,Arc:eE,Curve:nE,Ellipse:oE,Grid:uE,IsoBox:dE,IsoTriangle:gE,Line:xE,Polygon:ME,Rectangle:RE,Star:LE,Triangle:BE,Factories:{Blitter:Ult,Container:Klt,DynamicBitmapText:Zlt,Graphics:eut,Group:nut,Image:out,Particles:uut,PathFollower:dut,RenderTexture:gut,Sprite:xut,StaticBitmapText:wut,Text:but,TileSprite:Aut,Zone:Eut,Arc:Out,Curve:Iut,Ellipse:kut,Grid:Nut,IsoBox:Wut,IsoTriangle:Hut,Line:Jut,Polygon:Qut,Rectangle:ift,Star:sft,Triangle:hft},Creators:{Blitter:fft,Container:pft,DynamicBitmapText:xft,Graphics:Sft,Group:Mft,Image:Rft,Particles:$ft,RenderTexture:Dft,Sprite:zft,StaticBitmapText:Xft,Text:Kft,TileSprite:Qft,Zone:rct}};Lr.DOMElement=zE(),Lr.Factories.DOMElement=lct();Lr.Mesh=qc(),Lr.Quad=xy(),Lr.Factories.Mesh=dct(),Lr.Factories.Quad=vct(),Lr.Creators.Mesh=pct(),Lr.Creators.Quad=gct(),Lr.Light=NE(),YE(),mct();var yct=Lr;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var xct=function(t){return t.radius>0?Math.PI*t.radius*t.radius:0},_ct=xct;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var Tct=Mo,wct=function(t){return new Tct(t.x,t.y,t.radius)},Sct=wct;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var Cct=bn,bct=function(t,e){return Cct(t,e.x,e.y)},Mct=bct;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var Iu=bn,Pct=function(t,e){return Iu(t,e.x,e.y)&&Iu(t,e.right,e.y)&&Iu(t,e.x,e.bottom)&&Iu(t,e.right,e.bottom)},Act=Pct;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var Rct=function(t,e){return e.setTo(t.x,t.y,t.radius)},Fct=Rct;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var Ect=function(t,e){return t.x===e.x&&t.y===e.y&&t.radius===e.radius},Lct=Ect;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var $ct=Dt,Oct=function(t,e){return e===void 0&&(e=new $ct),e.x=t.left,e.y=t.top,e.width=t.diameter,e.height=t.diameter,e},Ict=Oct;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var Dct=function(t,e,i){return t.x+=e,t.y+=i,t},Bct=Dct;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var kct=function(t,e){return t.x+=e.x,t.y+=e.y,t},Gct=kct;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var We=Mo;We.Area=_ct;We.Circumference=uR;We.CircumferencePoint=y0;We.Clone=Sct;We.Contains=bn;We.ContainsPoint=Mct;We.ContainsRect=Act;We.CopyFrom=Fct;We.Equals=Lct;We.GetBounds=Ict;We.GetPoint=lR;We.GetPoints=fR;We.Offset=Bct;We.OffsetPoint=Gct;We.Random=x0;var zct=We;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var Nct=function(t){return t.isEmpty()?0:t.getMajorRadius()*t.getMinorRadius()*Math.PI},Yct=Nct;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var Vct=Tl,Wct=function(t){return new Vct(t.x,t.y,t.width,t.height)},Xct=Wct;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var Uct=_l,Hct=function(t,e){return Uct(t,e.x,e.y)},qct=Hct;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var Du=_l,Kct=function(t,e){return Du(t,e.x,e.y)&&Du(t,e.right,e.y)&&Du(t,e.x,e.bottom)&&Du(t,e.right,e.bottom)},Jct=Kct;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var jct=function(t,e){return e.setTo(t.x,t.y,t.width,t.height)},Zct=jct;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var Qct=function(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height},tdt=Qct;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var edt=Dt,idt=function(t,e){return e===void 0&&(e=new edt),e.x=t.left,e.y=t.top,e.width=t.width,e.height=t.height,e},rdt=idt;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var ndt=function(t,e,i){return t.x+=e,t.y+=i,t},sdt=ndt;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var adt=function(t,e){return t.x+=e.x,t.y+=e.y,t},odt=adt;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var Xe=Tl;Xe.Area=Yct;Xe.Circumference=MF;Xe.CircumferencePoint=uy;Xe.Clone=Xct;Xe.Contains=_l;Xe.ContainsPoint=qct;Xe.ContainsRect=Jct;Xe.CopyFrom=Zct;Xe.Equals=tdt;Xe.GetBounds=rdt;Xe.GetPoint=bF;Xe.GetPoints=PF;Xe.Offset=sdt;Xe.OffsetPoint=odt;Xe.Random=P0;var hdt=Xe;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var ldt=ws,udt=function(t,e){return ldt(t.x,t.y,e.x,e.y)<=t.radius+e.radius},fdt=udt;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var cdt=function(t,e){var i=e.width/2,r=e.height/2,n=Math.abs(t.x-e.x-i),s=Math.abs(t.y-e.y-r),a=i+t.radius,o=r+t.radius;if(n>a||s>o)return!1;if(n<=i||s<=r)return!0;var h=n-i,l=s-r,u=h*h,f=l*l,c=t.radius*t.radius;return u+f<=c},ddt=cdt;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var vdt=function(t,e){return t.width<=0||t.height<=0||e.width<=0||e.height<=0?!1:!(t.right<e.x||t.bottom<e.y||t.x>e.right||t.y>e.bottom)},_y=vdt;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var pdt=Dt,gdt=_y,mdt=function(t,e,i){return i===void 0&&(i=new pdt),gdt(t,e)&&(i.x=Math.max(t.x,e.x),i.y=Math.max(t.y,e.y),i.width=Math.min(t.right,e.right)-i.x,i.height=Math.min(t.bottom,e.bottom)-i.y),i},ydt=mdt;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var mp=bn,xdt=gt,_dt=new xdt,Tdt=function(t,e,i){if(i===void 0&&(i=_dt),mp(e,t.x1,t.y1))return i.x=t.x1,i.y=t.y1,!0;if(mp(e,t.x2,t.y2))return i.x=t.x2,i.y=t.y2,!0;var r=t.x2-t.x1,n=t.y2-t.y1,s=e.x-t.x1,a=e.y-t.y1,o=r*r+n*n,h=r,l=n;if(o>0){var u=(s*r+a*n)/o;h*=u,l*=u}i.x=t.x1+h,i.y=t.y1+l;var f=h*h+l*l;return f<=o&&h*r+l*n>=0&&mp(e,i.x,i.y)},VE=Tdt;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var wdt=gt,Sdt=function(t,e,i){i===void 0&&(i=new wdt);var r=t.x1,n=t.y1,s=t.x2,a=t.y2,o=e.x1,h=e.y1,l=e.x2,u=e.y2,f=(l-o)*(n-h)-(u-h)*(r-o),c=(s-r)*(n-h)-(a-n)*(r-o),d=(u-h)*(s-r)-(l-o)*(a-n);if(d===0)return!1;var g=f/d,v=c/d;return g>=0&&g<=1&&v>=0&&v<=1?(i.x=r+g*(s-r),i.y=n+g*(a-n),!0):!1},Kc=Sdt;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var Cdt=function(t,e){var i=t.x1,r=t.y1,n=t.x2,s=t.y2,a=e.x,o=e.y,h=e.right,l=e.bottom,u=0;if(i>=a&&i<=h&&r>=o&&r<=l||n>=a&&n<=h&&s>=o&&s<=l)return!0;if(i<a&&n>=a){if(u=r+(s-r)*(a-i)/(n-i),u>o&&u<=l)return!0}else if(i>h&&n<=h&&(u=r+(s-r)*(h-i)/(n-i),u>=o&&u<=l))return!0;if(r<o&&s>=o){if(u=i+(n-i)*(o-r)/(s-r),u>=a&&u<=h)return!0}else if(r>l&&s<=l&&(u=i+(n-i)*(l-r)/(s-r),u>=a&&u<=h))return!0;return!1},bdt=Cdt;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var Mdt=function(t,e){return(t.x-e.x1)*(e.y2-e.y1)===(e.x2-e.x1)*(t.y-e.y1)},WE=Mdt;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var Pdt=WE,Adt=function(t,e){if(!Pdt(t,e))return!1;var i=Math.min(e.x1,e.x2),r=Math.max(e.x1,e.x2),n=Math.min(e.y1,e.y2),s=Math.max(e.y1,e.y2);return t.x>=i&&t.x<=r&&t.y>=n&&t.y<=s},Rdt=Adt;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var Fdt=function(t,e,i,r){i===void 0&&(i=!1),r===void 0&&(r=[]);for(var n=t.x3-t.x1,s=t.y3-t.y1,a=t.x2-t.x1,o=t.y2-t.y1,h=n*n+s*s,l=n*a+s*o,u=a*a+o*o,f=h*u-l*l,c=f===0?0:1/f,d,g,v,p,m,y,x=t.x1,T=t.y1,_=0;_<e.length&&(v=e[_].x-x,p=e[_].y-T,m=n*v+s*p,y=a*v+o*p,d=(u*m-l*y)*c,g=(h*y-l*m)*c,!(d>=0&&g>=0&&d+g<1&&(r.push({x:e[_].x,y:e[_].y}),i)));_++);return r},Ty=Fdt;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var Edt=function(t,e){return e===void 0&&(e=[]),e.push({x:t.x,y:t.y}),e.push({x:t.right,y:t.y}),e.push({x:t.right,y:t.bottom}),e.push({x:t.x,y:t.bottom}),e},XE=Edt;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var $i=Kc,Wa=Mn,Ldt=Ty,$dt=XE,Odt=function(t,e){if(e.left>t.right||e.right<t.left||e.top>t.bottom||e.bottom<t.top)return!1;var i=e.getLineA(),r=e.getLineB(),n=e.getLineC();if(Wa(t,i.x1,i.y1)||Wa(t,i.x2,i.y2)||Wa(t,r.x1,r.y1)||Wa(t,r.x2,r.y2)||Wa(t,n.x1,n.y1)||Wa(t,n.x2,n.y2))return!0;var s=t.getLineA(),a=t.getLineB(),o=t.getLineC(),h=t.getLineD();if($i(i,s)||$i(i,a)||$i(i,o)||$i(i,h)||$i(r,s)||$i(r,a)||$i(r,o)||$i(r,h)||$i(n,s)||$i(n,a)||$i(n,o)||$i(n,h))return!0;var l=$dt(t),u=Ldt(e,l,!0);return u.length>0},Idt=Odt;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var Ddt=function(t,e,i,r,n,s){return s===void 0&&(s=0),!(e>t.right+s||i<t.left-s||r>t.bottom+s||n<t.top-s)},Bdt=Ddt;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var yp=VE,kdt=Lo,Gdt=function(t,e){return t.left>e.right||t.right<e.left||t.top>e.bottom||t.bottom<e.top?!1:!!(kdt(t,e.x,e.y)||yp(t.getLineA(),e)||yp(t.getLineB(),e)||yp(t.getLineC(),e))},zdt=Gdt;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var qS=Lo,xp=Kc,Ndt=function(t,e){return!!(qS(t,e.getPointA())||qS(t,e.getPointB())||xp(t.getLineA(),e)||xp(t.getLineB(),e)||xp(t.getLineC(),e))},Ydt=Ndt;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var Vdt=function(t,e){return e===void 0&&(e=[]),e.push({x:t.x1,y:t.y1}),e.push({x:t.x2,y:t.y2}),e.push({x:t.x3,y:t.y3}),e},UE=Vdt;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var KS=Ty,JS=UE,Qr=Kc,Wdt=function(t,e){if(t.left>e.right||t.right<e.left||t.top>e.bottom||t.bottom<e.top)return!1;var i=t.getLineA(),r=t.getLineB(),n=t.getLineC(),s=e.getLineA(),a=e.getLineB(),o=e.getLineC();if(Qr(i,s)||Qr(i,a)||Qr(i,o)||Qr(r,s)||Qr(r,a)||Qr(r,o)||Qr(n,s)||Qr(n,a)||Qr(n,o))return!0;var h=JS(t),l=KS(e,h,!0);return l.length>0||(h=JS(e),l=KS(t,h,!0),l.length>0)},Xdt=Wdt;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var HE={CircleToCircle:fdt,CircleToRectangle:ddt,GetRectangleIntersection:ydt,LineToCircle:VE,LineToLine:Kc,LineToRectangle:bdt,PointToLine:WE,PointToLineSegment:Rdt,RectangleToRectangle:_y,RectangleToTriangle:Idt,RectangleToValues:Bdt,TriangleToCircle:zdt,TriangleToLine:Ydt,TriangleToTriangle:Xdt};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var Udt=function(t){return Math.atan2(t.y2-t.y1,t.x2-t.x1)},$o=Udt;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var Hdt=function(t,e,i){var r=e-(t.x1+t.x2)/2,n=i-(t.y1+t.y2)/2;return t.x1+=r,t.y1+=n,t.x2+=r,t.y2+=n,t},qdt=Hdt;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var Kdt=_s,Jdt=function(t){return new Kdt(t.x1,t.y1,t.x2,t.y2)},jdt=Jdt;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var Zdt=function(t,e){return e.setTo(t.x1,t.y1,t.x2,t.y2)},Qdt=Zdt;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var tvt=function(t,e){return t.x1===e.x1&&t.y1===e.y1&&t.x2===e.x2&&t.y2===e.y2},evt=tvt;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var ivt=gt,rvt=function(t,e){return e===void 0&&(e=new ivt),e.x=(t.x1+t.x2)/2,e.y=(t.y1+t.y2)/2,e},nvt=rvt;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var svt=_e,avt=$o,ovt=gt,hvt=function(t,e){e===void 0&&(e=new ovt);var i=avt(t)-svt.TAU;return e.x=Math.cos(i),e.y=Math.sin(i),e},lvt=hvt;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var uvt=function(t){return Math.abs(t.y1-t.y2)},fvt=uvt;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var cvt=_e,dvt=Ts,vvt=$o,pvt=function(t){var e=vvt(t)-cvt.TAU;return dvt(e,-Math.PI,Math.PI)},qE=pvt;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var gvt=_e,mvt=$o,yvt=function(t){return Math.cos(mvt(t)-gvt.TAU)},xvt=yvt;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var _vt=_e,Tvt=$o,wvt=function(t){return Math.sin(Tvt(t)-_vt.TAU)},Svt=wvt;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var Cvt=function(t,e,i){return t.x1+=e,t.y1+=i,t.x2+=e,t.y2+=i,t},bvt=Cvt;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var Mvt=function(t){return-((t.x2-t.x1)/(t.y2-t.y1))},Pvt=Mvt;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var Avt=$o,Rvt=qE,Fvt=function(t,e){return 2*Rvt(e)-Math.PI-Avt(t)},Evt=Fvt;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var Lvt=function(t,e,i,r){var n=Math.cos(r),s=Math.sin(r),a=t.x1-e,o=t.y1-i;return t.x1=a*n-o*s+e,t.y1=a*s+o*n+i,a=t.x2-e,o=t.y2-i,t.x2=a*n-o*s+e,t.y2=a*s+o*n+i,t},wy=Lvt;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var $vt=wy,Ovt=function(t,e){var i=(t.x1+t.x2)/2,r=(t.y1+t.y2)/2;return $vt(t,i,r,e)},Ivt=Ovt;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var Dvt=wy,Bvt=function(t,e,i){return Dvt(t,e.x,e.y,i)},kvt=Bvt;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var Gvt=function(t,e,i,r,n){return t.x1=e,t.y1=i,t.x2=e+Math.cos(r)*n,t.y2=i+Math.sin(r)*n,t},zvt=Gvt;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var Nvt=function(t){return(t.y2-t.y1)/(t.x2-t.x1)},Yvt=Nvt;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var Vvt=function(t){return Math.abs(t.x1-t.x2)},Wvt=Vvt;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var Lt=_s;Lt.Angle=$o;Lt.BresenhamPoints=RR;Lt.CenterOn=qdt;Lt.Clone=jdt;Lt.CopyFrom=Qdt;Lt.Equals=evt;Lt.GetMidPoint=nvt;Lt.GetNormal=lvt;Lt.GetPoint=mR;Lt.GetPoints=T0;Lt.Height=fvt;Lt.Length=ga;Lt.NormalAngle=qE;Lt.NormalX=xvt;Lt.NormalY=Svt;Lt.Offset=bvt;Lt.PerpSlope=Pvt;Lt.Random=w0;Lt.ReflectAngle=Evt;Lt.Rotate=Ivt;Lt.RotateAroundPoint=kvt;Lt.RotateAroundXY=wy;Lt.SetToAngle=zvt;Lt.Slope=Yvt;Lt.Width=Wvt;var Xvt=Lt;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var Uvt=function(t){return t.setTo(Math.ceil(t.x),Math.ceil(t.y))},Hvt=Uvt;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var qvt=gt,Kvt=function(t){return new qvt(t.x,t.y)},Jvt=Kvt;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var jvt=function(t,e){return e.setTo(t.x,t.y)},Zvt=jvt;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var Qvt=function(t,e){return t.x===e.x&&t.y===e.y},tpt=Qvt;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var ept=function(t){return t.setTo(Math.floor(t.x),Math.floor(t.y))},ipt=ept;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var rpt=gt,npt=function(t,e){if(e===void 0&&(e=new rpt),!Array.isArray(t))throw new Error("GetCentroid points argument must be an array");var i=t.length;if(i<1)throw new Error("GetCentroid points array must not be empty");if(i===1)e.x=t[0].x,e.y=t[0].y;else{for(var r=0;r<i;r++)e.x+=t[r].x,e.y+=t[r].y;e.x/=i,e.y/=i}return e},spt=npt;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var apt=function(t){return Math.sqrt(t.x*t.x+t.y*t.y)},KE=apt;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var opt=function(t){return t.x*t.x+t.y*t.y},JE=opt;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var hpt=Dt,lpt=function(t,e){e===void 0&&(e=new hpt);for(var i=Number.NEGATIVE_INFINITY,r=Number.POSITIVE_INFINITY,n=Number.NEGATIVE_INFINITY,s=Number.POSITIVE_INFINITY,a=0;a<t.length;a++){var o=t[a];o.x>i&&(i=o.x),o.x<r&&(r=o.x),o.y>n&&(n=o.y),o.y<s&&(s=o.y)}return e.x=r,e.y=s,e.width=i-r,e.height=n-s,e},upt=lpt;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var fpt=gt,cpt=function(t,e,i,r){return i===void 0&&(i=0),r===void 0&&(r=new fpt),r.x=t.x+(e.x-t.x)*i,r.y=t.y+(e.y-t.y)*i,r},dpt=cpt;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var vpt=function(t){return t.setTo(t.y,t.x)},ppt=vpt;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var gpt=gt,mpt=function(t,e){return e===void 0&&(e=new gpt),e.setTo(-t.x,-t.y)},ypt=mpt;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var xpt=gt,_pt=JE,Tpt=function(t,e,i){i===void 0&&(i=new xpt);var r=t.x*e.x+t.y*e.y,n=r/_pt(e);return n!==0&&(i.x=n*e.x,i.y=n*e.y),i},wpt=Tpt;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var Spt=gt,Cpt=function(t,e,i){i===void 0&&(i=new Spt);var r=t.x*e.x+t.y*e.y;return r!==0&&(i.x=r*e.x,i.y=r*e.y),i},bpt=Cpt;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var Mpt=KE,Ppt=function(t,e){if(t.x!==0||t.y!==0){var i=Mpt(t);t.x/=i,t.y/=i}return t.x*=e,t.y*=e,t},Apt=Ppt;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var Ue=gt;Ue.Ceil=Hvt;Ue.Clone=Jvt;Ue.CopyFrom=Zvt;Ue.Equals=tpt;Ue.Floor=ipt;Ue.GetCentroid=spt;Ue.GetMagnitude=KE;Ue.GetMagnitudeSq=JE;Ue.GetRectangleFromPoints=upt;Ue.Interpolate=dpt;Ue.Invert=ppt;Ue.Negative=ypt;Ue.Project=wpt;Ue.ProjectUnit=bpt;Ue.SetMagnitude=Apt;var Rpt=Ue;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var Fpt=yy,Ept=function(t){return new Fpt(t.points)},Lpt=Ept;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var $pt=my,Opt=function(t,e){return $pt(t,e.x,e.y)},Ipt=Opt;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var Dpt=function(t,e){e===void 0&&(e=[]);for(var i=0;i<t.points.length;i++)e.push(t.points[i].x),e.push(t.points[i].y);return e},Bpt=Dpt;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var kpt=function(t){return t.points.reverse(),t},Gpt=kpt;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var Wr=yy;Wr.Clone=Lpt;Wr.Contains=my;Wr.ContainsPoint=Ipt;Wr.GetAABB=wE;Wr.GetNumberArray=Bpt;Wr.GetPoints=CE;Wr.Perimeter=SE;Wr.Reverse=Gpt;Wr.Smooth=bE;var zpt=Wr;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var Npt=function(t){return t.width*t.height},Ypt=Npt;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var Vpt=function(t){return t.x=Math.ceil(t.x),t.y=Math.ceil(t.y),t},Wpt=Vpt;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var Xpt=function(t){return t.x=Math.ceil(t.x),t.y=Math.ceil(t.y),t.width=Math.ceil(t.width),t.height=Math.ceil(t.height),t},Upt=Xpt;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var Hpt=Dt,qpt=function(t){return new Hpt(t.x,t.y,t.width,t.height)},Kpt=qpt;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var Jpt=Mn,jpt=function(t,e){return Jpt(t,e.x,e.y)},Zpt=jpt;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var Qpt=function(t,e){return e.width*e.height>t.width*t.height?!1:e.x>t.x&&e.x<t.right&&e.right>t.x&&e.right<t.right&&e.y>t.y&&e.y<t.bottom&&e.bottom>t.y&&e.bottom<t.bottom},jE=Qpt;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var tgt=function(t,e){return e.setTo(t.x,t.y,t.width,t.height)},egt=tgt;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var igt=function(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height},rgt=igt;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var ngt=function(t){return t.height===0?NaN:t.width/t.height},Sy=ngt;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var jS=Sy,sgt=function(t,e){var i=jS(t);return i<jS(e)?t.setSize(e.height*i,e.height):t.setSize(e.width,e.width/i),t.setPosition(e.centerX-t.width/2,e.centerY-t.height/2)},agt=sgt;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var ZS=Sy,ogt=function(t,e){var i=ZS(t);return i>ZS(e)?t.setSize(e.height*i,e.height):t.setSize(e.width,e.width/i),t.setPosition(e.centerX-t.width/2,e.centerY-t.height/2)},hgt=ogt;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var lgt=function(t){return t.x=Math.floor(t.x),t.y=Math.floor(t.y),t},ugt=lgt;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var fgt=function(t){return t.x=Math.floor(t.x),t.y=Math.floor(t.y),t.width=Math.floor(t.width),t.height=Math.floor(t.height),t},cgt=fgt;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var dgt=gt,vgt=function(t,e){return e===void 0&&(e=new dgt),e.x=t.centerX,e.y=t.centerY,e},pgt=vgt;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var ggt=gt,mgt=function(t,e){return e===void 0&&(e=new ggt),e.x=t.width,e.y=t.height,e},ygt=mgt;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var xgt=B0,_gt=function(t,e,i){var r=t.centerX,n=t.centerY;return t.setSize(t.width+e*2,t.height+i*2),xgt(t,r,n)},Tgt=_gt;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var wgt=Dt,Sgt=_y,Cgt=function(t,e,i){return i===void 0&&(i=new wgt),Sgt(t,e)?(i.x=Math.max(t.x,e.x),i.y=Math.max(t.y,e.y),i.width=Math.min(t.right,e.right)-i.x,i.height=Math.min(t.bottom,e.bottom)-i.y):i.setEmpty(),i},bgt=Cgt;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var Mgt=function(t,e){for(var i=t.x,r=t.right,n=t.y,s=t.bottom,a=0;a<e.length;a++)i=Math.min(i,e[a].x),r=Math.max(r,e[a].x),n=Math.min(n,e[a].y),s=Math.max(s,e[a].y);return t.x=i,t.y=n,t.width=r-i,t.height=s-n,t},Pgt=Mgt;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var Agt=function(t,e){var i=Math.min(t.x,e.x),r=Math.max(t.right,e.right);t.x=i,t.width=r-i;var n=Math.min(t.y,e.y),s=Math.max(t.bottom,e.bottom);return t.y=n,t.height=s-n,t},Rgt=Agt;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var Fgt=function(t,e,i){var r=Math.min(t.x,e),n=Math.max(t.right,e);t.x=r,t.width=n-r;var s=Math.min(t.y,i),a=Math.max(t.bottom,i);return t.y=s,t.height=a-s,t},Egt=Fgt;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var Lgt=function(t,e,i){return t.x+=e,t.y+=i,t},$gt=Lgt;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var Ogt=function(t,e){return t.x+=e.x,t.y+=e.y,t},Igt=Ogt;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var Dgt=function(t,e){return t.x<e.right&&t.right>e.x&&t.y<e.bottom&&t.bottom>e.y},Bgt=Dgt;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var kgt=gt,Ggt=Yr,zgt=function(t,e,i){i===void 0&&(i=new kgt),e=Ggt(e);var r=Math.sin(e),n=Math.cos(e),s=n>0?t.width/2:t.width/-2,a=r>0?t.height/2:t.height/-2;return Math.abs(s*r)<Math.abs(a*n)?a=s*r/n:s=a*n/r,i.x=s+t.centerX,i.y=a+t.centerY,i},Ngt=zgt;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var Ygt=X0,Vgt=jE,Wgt=gt,Xgt=function(t,e,i){if(i===void 0&&(i=new Wgt),Vgt(t,e))switch(Ygt(0,3)){case 0:i.x=t.x+Math.random()*(e.right-t.x),i.y=t.y+Math.random()*(e.top-t.y);break;case 1:i.x=e.x+Math.random()*(t.right-e.x),i.y=e.bottom+Math.random()*(t.bottom-e.bottom);break;case 2:i.x=t.x+Math.random()*(e.x-t.x),i.y=e.y+Math.random()*(t.bottom-e.y);break;case 3:i.x=e.right+Math.random()*(t.right-e.right),i.y=t.y+Math.random()*(e.bottom-t.y);break}return i},Ugt=Xgt;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var Hgt=function(t,e){return t.width===e.width&&t.height===e.height},qgt=Hgt;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var Kgt=function(t,e,i){return i===void 0&&(i=e),t.width*=e,t.height*=i,t},Jgt=Kgt;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var ot=Dt;ot.Area=Ypt;ot.Ceil=Wpt;ot.CeilAll=Upt;ot.CenterOn=B0;ot.Clone=Kpt;ot.Contains=Mn;ot.ContainsPoint=Zpt;ot.ContainsRect=jE;ot.CopyFrom=egt;ot.Decompose=XE;ot.Equals=rgt;ot.FitInside=agt;ot.FitOutside=hgt;ot.Floor=ugt;ot.FloorAll=cgt;ot.FromPoints=N0;ot.GetAspectRatio=Sy;ot.GetCenter=pgt;ot.GetPoint=_0;ot.GetPoints=gR;ot.GetSize=ygt;ot.Inflate=Tgt;ot.Intersection=bgt;ot.MarchingAnts=MR;ot.MergePoints=Pgt;ot.MergeRect=Rgt;ot.MergeXY=Egt;ot.Offset=$gt;ot.OffsetPoint=Igt;ot.Overlaps=Bgt;ot.Perimeter=Fc;ot.PerimeterPoint=Ngt;ot.Random=S0;ot.RandomOutside=Ugt;ot.SameDimensions=qgt;ot.Scale=Jgt;ot.Union=wF;var ZE=ot;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var jgt=function(t){var e=t.x1,i=t.y1,r=t.x2,n=t.y2,s=t.x3,a=t.y3;return Math.abs(((s-e)*(n-i)-(r-e)*(a-i))/2)},Zgt=jgt;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var Qgt=Ta,tmt=function(t,e,i){var r=i*(Math.sqrt(3)/2),n=t,s=e,a=t+i/2,o=e+r,h=t-i/2,l=e+r;return new Qgt(n,s,a,o,h,l)},emt=tmt;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var imt=ma,rmt=Ta,nmt=function(t,e,i,r,n){e===void 0&&(e=null),i===void 0&&(i=1),r===void 0&&(r=1),n===void 0&&(n=[]);for(var s=imt(t,e),a,o,h,l,u,f,c,d,g,v=0;v<s.length;v+=3)a=s[v],o=s[v+1],h=s[v+2],l=t[a*2]*i,u=t[a*2+1]*r,f=t[o*2]*i,c=t[o*2+1]*r,d=t[h*2]*i,g=t[h*2+1]*r,n.push(new rmt(l,u,f,c,d,g));return n},smt=nmt;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var amt=Ta,omt=function(t,e,i,r){r===void 0&&(r=i);var n=t,s=e,a=t,o=e-r,h=t+i,l=e;return new amt(n,s,a,o,h,l)},hmt=omt;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var lmt=gt,umt=function(t,e){return e===void 0&&(e=new lmt),e.x=(t.x1+t.x2+t.x3)/3,e.y=(t.y1+t.y2+t.y3)/3,e},QE=umt;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var fmt=function(t,e,i){return t.x1+=e,t.y1+=i,t.x2+=e,t.y2+=i,t.x3+=e,t.y3+=i,t},tL=fmt;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var cmt=QE,dmt=tL,vmt=function(t,e,i,r){r===void 0&&(r=cmt);var n=r(t),s=e-n.x,a=i-n.y;return dmt(t,s,a)},pmt=vmt;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var gmt=at;function _p(t,e,i,r){return t*r-e*i}var mmt=function(t,e){e===void 0&&(e=new gmt);var i=t.x3,r=t.y3,n=t.x1-i,s=t.y1-r,a=t.x2-i,o=t.y2-r,h=2*_p(n,s,a,o),l=_p(s,n*n+s*s,o,a*a+o*o),u=_p(n,n*n+s*s,a,a*a+o*o);return e.x=i-l/h,e.y=r+u/h,e},ymt=mmt;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var xmt=Mo,_mt=function(t,e){e===void 0&&(e=new xmt);var i=t.x1,r=t.y1,n=t.x2,s=t.y2,a=t.x3,o=t.y3,h=n-i,l=s-r,u=a-i,f=o-r,c=h*(i+n)+l*(r+s),d=u*(i+a)+f*(r+o),g=2*(h*(o-s)-l*(a-n)),v,p;if(Math.abs(g)<1e-6){var m=Math.min(i,n,a),y=Math.min(r,s,o);v=(Math.max(i,n,a)-m)*.5,p=(Math.max(r,s,o)-y)*.5,e.x=m+v,e.y=y+p,e.radius=Math.sqrt(v*v+p*p)}else e.x=(f*c-l*d)/g,e.y=(h*d-u*c)/g,v=e.x-i,p=e.y-r,e.radius=Math.sqrt(v*v+p*p);return e},Tmt=_mt;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var wmt=Ta,Smt=function(t){return new wmt(t.x1,t.y1,t.x2,t.y2,t.x3,t.y3)},Cmt=Smt;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var bmt=Lo,Mmt=function(t,e){return bmt(t,e.x,e.y)},Pmt=Mmt;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var Amt=function(t,e){return e.setTo(t.x1,t.y1,t.x2,t.y2,t.x3,t.y3)},Rmt=Amt;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var Fmt=function(t,e){return t.x1===e.x1&&t.y1===e.y1&&t.x2===e.x2&&t.y2===e.y2&&t.x3===e.x3&&t.y3===e.y3},Emt=Fmt;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var Lmt=gt;function Tp(t,e,i,r){var n=t-i,s=e-r,a=n*n+s*s;return Math.sqrt(a)}var $mt=function(t,e){e===void 0&&(e=new Lmt);var i=t.x1,r=t.y1,n=t.x2,s=t.y2,a=t.x3,o=t.y3,h=Tp(a,o,n,s),l=Tp(i,r,a,o),u=Tp(n,s,i,r),f=h+l+u;return e.x=(i*h+n*l+a*u)/f,e.y=(r*h+s*l+o*u)/f,e},eL=$mt;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var wp=ga,Omt=function(t){var e=t.getLineA(),i=t.getLineB(),r=t.getLineC();return wp(e)+wp(i)+wp(r)},Imt=Omt;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var Dmt=function(t,e,i,r){var n=Math.cos(r),s=Math.sin(r),a=t.x1-e,o=t.y1-i;return t.x1=a*n-o*s+e,t.y1=a*s+o*n+i,a=t.x2-e,o=t.y2-i,t.x2=a*n-o*s+e,t.y2=a*s+o*n+i,a=t.x3-e,o=t.y3-i,t.x3=a*n-o*s+e,t.y3=a*s+o*n+i,t},Cy=Dmt;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var Bmt=Cy,kmt=eL,Gmt=function(t,e){var i=kmt(t);return Bmt(t,i.x,i.y,e)},zmt=Gmt;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var Nmt=Cy,Ymt=function(t,e,i){return Nmt(t,e.x,e.y,i)},Vmt=Ymt;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var Gt=Ta;Gt.Area=Zgt;Gt.BuildEquilateral=emt;Gt.BuildFromPolygon=smt;Gt.BuildRight=hmt;Gt.CenterOn=pmt;Gt.Centroid=QE;Gt.CircumCenter=ymt;Gt.CircumCircle=Tmt;Gt.Clone=Cmt;Gt.Contains=Lo;Gt.ContainsArray=Ty;Gt.ContainsPoint=Pmt;Gt.CopyFrom=Rmt;Gt.Decompose=UE;Gt.Equals=Emt;Gt.GetPoint=$E;Gt.GetPoints=OE;Gt.InCenter=eL;Gt.Perimeter=Imt;Gt.Offset=tL;Gt.Random=A0;Gt.Rotate=zmt;Gt.RotateAroundPoint=Vmt;Gt.RotateAroundXY=Cy;var Wmt=Gt;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var iL={Circle:zct,Ellipse:hdt,Intersects:HE,Line:Xvt,Point:Rpt,Polygon:zpt,Rectangle:ZE,Triangle:Wmt};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var Xmt=function(t,e,i){return{gameObject:t,enabled:!0,draggable:!1,dropZone:!1,cursor:!1,target:null,camera:null,hitArea:e,hitAreaCallback:i,localX:0,localY:0,dragState:0,dragStartX:0,dragStartY:0,dragX:0,dragY:0}},rL=Xmt;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var Umt=b,Hmt=new Umt({initialize:function(e,i){this.pad=e,this.events=e.events,this.index=i,this.value=0,this.threshold=.1},update:function(t){this.value=t},getValue:function(){return Math.abs(this.value)<this.threshold?0:this.value},destroy:function(){this.pad=null,this.events=null}}),nL=Hmt;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var qmt=b,Kmt=new qmt({initialize:function(e,i){this.pad=e,this.events=e.manager,this.index=i,this.value=0,this.threshold=1,this.pressed=!1},update:function(t){this.value=t;var e=this.pad,i=this.index;t>=this.threshold?this.pressed||(this.pressed=!0,this.events.emit("down",e,this,t),this.pad.emit("down",i,t,this)):this.pressed&&(this.pressed=!1,this.events.emit("up",e,this,t),this.pad.emit("up",i,t,this))},destroy:function(){this.pad=null,this.events=null}}),sL=Kmt;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var Jmt=nL,jmt=sL,Zmt=b,QS=Bt.exports,tC=at,Qmt=new Zmt({Extends:QS,initialize:function(e,i){QS.call(this),this.manager=e,this.pad=i,this.id=i.id,this.index=i.index;for(var r=[],n=0;n<i.buttons.length;n++)r.push(new jmt(this,n));this.buttons=r;var s=[];for(n=0;n<i.axes.length;n++)s.push(new Jmt(this,n));this.axes=s,this.vibration=i.vibrationActuator;var a={value:0,pressed:!1};this._LCLeft=r[14]?r[14]:a,this._LCRight=r[15]?r[15]:a,this._LCTop=r[12]?r[12]:a,this._LCBottom=r[13]?r[13]:a,this._RCLeft=r[2]?r[2]:a,this._RCRight=r[1]?r[1]:a,this._RCTop=r[3]?r[3]:a,this._RCBottom=r[0]?r[0]:a,this._FBLeftTop=r[4]?r[4]:a,this._FBLeftBottom=r[6]?r[6]:a,this._FBRightTop=r[5]?r[5]:a,this._FBRightBottom=r[7]?r[7]:a;var o={value:0};this._HAxisLeft=s[0]?s[0]:o,this._VAxisLeft=s[1]?s[1]:o,this._HAxisRight=s[2]?s[2]:o,this._VAxisRight=s[3]?s[3]:o,this.leftStick=new tC,this.rightStick=new tC},getAxisTotal:function(){return this.axes.length},getAxisValue:function(t){return this.axes[t].getValue()},setAxisThreshold:function(t){for(var e=0;e<this.axes.length;e++)this.axes[e].threshold=t},getButtonTotal:function(){return this.buttons.length},getButtonValue:function(t){return this.buttons[t].value},isButtonDown:function(t){return this.buttons[t].pressed},update:function(t){var e,i=this.buttons,r=t.buttons,n=i.length;for(e=0;e<n;e++)i[e].update(r[e].value);var s=this.axes,a=t.axes;for(n=s.length,e=0;e<n;e++)s[e].update(a[e]);n>=2&&(this.leftStick.set(s[0].getValue(),s[1].getValue()),n>=4&&this.rightStick.set(s[2].getValue(),s[3].getValue()))},destroy:function(){this.removeAllListeners(),this.manager=null,this.pad=null;var t;for(t=0;t<this.buttons.length;t++)this.buttons[t].destroy();for(t=0;t<this.axes.length;t++)this.axes[t].destroy();this.buttons=[],this.axes=[]},connected:{get:function(){return this.pad.connected}},timestamp:{get:function(){return this.pad.timestamp}},left:{get:function(){return this._LCLeft.pressed}},right:{get:function(){return this._LCRight.pressed}},up:{get:function(){return this._LCTop.pressed}},down:{get:function(){return this._LCBottom.pressed}},A:{get:function(){return this._RCBottom.pressed}},Y:{get:function(){return this._RCTop.pressed}},X:{get:function(){return this._RCLeft.pressed}},B:{get:function(){return this._RCRight.pressed}},L1:{get:function(){return this._FBLeftTop.value}},L2:{get:function(){return this._FBLeftBottom.value}},R1:{get:function(){return this._FBRightTop.value}},R2:{get:function(){return this._FBRightBottom.value}}}),aL=Qmt;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var t0t=ut,ln={},Pl={};Pl.register=function(t,e,i,r,n){ln[t]={plugin:e,mapping:i,settingsKey:r,configKey:n}};Pl.getPlugin=function(t){return ln[t]};Pl.install=function(t){var e=t.scene.sys,i=e.settings.input,r=e.game.config;for(var n in ln){var s=ln[n].plugin,a=ln[n].mapping,o=ln[n].settingsKey,h=ln[n].configKey;t0t(i,o,r[h])&&(t[a]=new s(t))}};Pl.remove=function(t){ln.hasOwnProperty(t)&&delete ln[t]};var Jc=Pl;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var e0t=b,eC=Bt.exports,iC=aL,rC=ut,i0t=Jc,oL=new e0t({Extends:eC,initialize:function(e){eC.call(this),this.scene=e.scene,this.settings=this.scene.sys.settings,this.sceneInputPlugin=e,this.enabled=!0,this.target,this.gamepads=[],this.queue=[],this.onGamepadHandler,this._pad1,this._pad2,this._pad3,this._pad4,e.pluginEvents.once("boot",this.boot,this),e.pluginEvents.on("start",this.start,this)},boot:function(){var t=this.scene.sys.game,e=this.settings.input,i=t.config;this.enabled=rC(e,"gamepad",i.inputGamepad)&&t.device.input.gamepads,this.target=rC(e,"gamepad.target",i.inputGamepadEventTarget),this.sceneInputPlugin.pluginEvents.once("destroy",this.destroy,this)},start:function(){this.enabled&&this.startListeners(),this.sceneInputPlugin.pluginEvents.once("shutdown",this.shutdown,this)},isActive:function(){return this.enabled&&this.scene.sys.isActive()},startListeners:function(){var t=this,e=this.target,i=function(r){r.defaultPrevented||!t.isActive()||(t.refreshPads(),t.queue.push(r))};this.onGamepadHandler=i,e.addEventListener("gamepadconnected",i,!1),e.addEventListener("gamepaddisconnected",i,!1),this.sceneInputPlugin.pluginEvents.on("update",this.update,this)},stopListeners:function(){this.target.removeEventListener("gamepadconnected",this.onGamepadHandler),this.target.removeEventListener("gamepaddisconnected",this.onGamepadHandler),this.sceneInputPlugin.pluginEvents.off("update",this.update)},disconnectAll:function(){for(var t=0;t<this.gamepads.length;t++)this.gamepads.connected=!1},refreshPads:function(){var t=navigator.getGamepads();if(!t)this.disconnectAll();else for(var e=this.gamepads,i=0;i<t.length;i++){var r=t[i];if(!!r){var n=r.id,s=r.index,a=e[s];if(a)a.id!==n?(a.destroy(),e[s]=new iC(this,r)):a.update(r);else{var o=new iC(this,r);e[s]=o,this._pad1?this._pad2?this._pad3?this._pad4||(this._pad4=o):this._pad3=o:this._pad2=o:this._pad1=o}}}},getAll:function(){for(var t=[],e=this.gamepads,i=0;i<e.length;i++)e[i]&&t.push(e[i]);return t},getPad:function(t){for(var e=this.gamepads,i=0;i<e.length;i++)if(e[i]&&e[i].index===t)return e[i]},update:function(){if(!!this.enabled){this.refreshPads();var t=this.queue.length;if(t!==0)for(var e=this.queue.splice(0,t),i=0;i<t;i++){var r=e[i],n=this.getPad(r.gamepad.index);r.type==="gamepadconnected"?this.emit("connected",n,r):r.type==="gamepaddisconnected"&&this.emit("disconnected",n,r)}}},shutdown:function(){this.stopListeners(),this.disconnectAll(),this.removeAllListeners()},destroy:function(){this.shutdown();for(var t=0;t<this.gamepads.length;t++)this.gamepads[t]&&this.gamepads[t].destroy();this.gamepads=[],this.scene=null,this.settings=null,this.sceneInputPlugin=null,this.target=null},total:{get:function(){return this.gamepads.length}},pad1:{get:function(){return this._pad1}},pad2:{get:function(){return this._pad2}},pad3:{get:function(){return this._pad3}},pad4:{get:function(){return this._pad4}}});i0t.register("GamepadPlugin",oL,"gamepad","gamepad","inputGamepad");var r0t=oL;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var n0t={UP:12,DOWN:13,LEFT:14,RIGHT:15,SHARE:8,OPTIONS:9,PS:16,TOUCHBAR:17,X:0,CIRCLE:1,SQUARE:2,TRIANGLE:3,L1:4,R1:5,L2:6,R2:7,L3:10,R3:11,LEFT_STICK_H:0,LEFT_STICK_V:1,RIGHT_STICK_H:2,RIGHT_STICK_V:3};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var s0t={UP:12,DOWN:13,LEFT:14,RIGHT:15,SELECT:8,START:9,B:0,A:1,Y:2,X:3,LEFT_SHOULDER:4,RIGHT_SHOULDER:5};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var a0t={UP:12,DOWN:13,LEFT:14,RIGHT:15,MENU:16,A:0,B:1,X:2,Y:3,LB:4,RB:5,LT:6,RT:7,BACK:8,START:9,LS:10,RS:11,LEFT_STICK_H:0,LEFT_STICK_V:1,RIGHT_STICK_H:2,RIGHT_STICK_V:3};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var o0t={DUALSHOCK_4:n0t,SNES_USB:s0t,XBOX_360:a0t};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var h0t={Axis:nL,Button:sL,Gamepad:aL,GamepadPlugin:r0t,Configs:o0t};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var l0t=function(t,e){return function(i,r,n,s){var a=t.getPixelAlpha(r,n,s.texture.key,s.frame.name);return a&&a>=e}},u0t=l0t;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var f0t=Mo,c0t=bn,d0t=b,nC=rL,v0t=u0t,p0t=ws,g0t=Tl,m0t=_l,Sp=Bt.exports,zn=V,y0t=Jc,x0t=Ct,_0t=se,sC=Dt,aC=Mn,T0t=Ta,w0t=Lo,hL=new d0t({Extends:Sp,initialize:function(e){Sp.call(this),this.scene=e,this.systems=e.sys,this.settings=e.sys.settings,this.manager=e.sys.game.input,this.pluginEvents=new Sp,this.enabled=!0,this.displayList,this.cameras,y0t.install(this),this.mouse=this.manager.mouse,this.topOnly=!0,this.pollRate=-1,this._pollTimer=0;var i={cancelled:!1};this._eventContainer={stopPropagation:function(){i.cancelled=!0}},this._eventData=i,this.dragDistanceThreshold=0,this.dragTimeThreshold=0,this._temp=[],this._tempZones=[],this._list=[],this._pendingInsertion=[],this._pendingRemoval=[],this._draggable=[],this._drag={0:[],1:[],2:[],3:[],4:[],5:[],6:[],7:[],8:[],9:[],10:[]},this._over={0:[],1:[],2:[],3:[],4:[],5:[],6:[],7:[],8:[],9:[],10:[]},this._validTypes=["onDown","onUp","onOver","onOut","onMove","onDragStart","onDrag","onDragEnd","onDragEnter","onDragLeave","onDragOver","onDrop"],e.sys.events.once("boot",this.boot,this),e.sys.events.on("start",this.start,this)},boot:function(){this.cameras=this.systems.cameras,this.displayList=this.systems.displayList,this.systems.events.once("destroy",this.destroy,this),this.pluginEvents.emit("boot")},start:function(){var t=this.systems.events;t.on("transitionstart",this.transitionIn,this),t.on("transitionout",this.transitionOut,this),t.on("transitioncomplete",this.transitionComplete,this),t.on("preupdate",this.preUpdate,this),t.on("update",this.update,this),t.once("shutdown",this.shutdown,this),this.enabled=!0,this.pluginEvents.emit("start")},preUpdate:function(){this.pluginEvents.emit("preUpdate");var t=this._pendingRemoval,e=this._pendingInsertion,i=t.length,r=e.length;if(!(i===0&&r===0)){for(var n=this._list,s=0;s<i;s++){var a=t[s],o=n.indexOf(a);o>-1&&(n.splice(o,1),this.clear(a))}t.length=0,this._pendingRemoval.length=0,this._list=n.concat(e.splice(0))}},isActive:function(){return this.enabled&&this.scene.sys.isActive()},update:function(t,e){if(!!this.isActive()){this.pluginEvents.emit("update",t,e);var i=this.manager;if(!(i.globalTopOnly&&i.ignoreEvents)){var r=i.dirty||this.pollRate===0;if(this.pollRate>-1&&(this._pollTimer-=e,this._pollTimer<0&&(r=!0,this._pollTimer=this.pollRate)),!!r)for(var n=this.manager.pointers,s=0;s<this.manager.pointersTotal;s++){var a=n[s];this._tempZones=[],this._temp=this.hitTestPointer(a),this.sortGameObjects(this._temp),this.sortGameObjects(this._tempZones),this.topOnly&&(this._temp.length&&this._temp.splice(1),this._tempZones.length&&this._tempZones.splice(1));var o=this.processDragEvents(a,t);a.wasTouch||(o+=this.processOverOutEvents(a)),a.justDown&&(o+=this.processDownEvents(a)),a.justUp&&(o+=this.processUpEvents(a)),a.justMoved&&(o+=this.processMoveEvents(a)),o>0&&i.globalTopOnly&&(i.ignoreEvents=!0)}}}},clear:function(t){var e=t.input;if(!!e){this.queueForRemoval(t),e.gameObject=void 0,e.target=void 0,e.hitArea=void 0,e.hitAreaCallback=void 0,e.callbackContext=void 0,this.manager.resetCursor(e),t.input=null;var i=this._draggable.indexOf(t);return i>-1&&this._draggable.splice(i,1),i=this._drag[0].indexOf(t),i>-1&&this._drag[0].splice(i,1),i=this._over[0].indexOf(t),i>-1&&this._over[0].splice(i,1),t}},disable:function(t){t.input.enabled=!1},enable:function(t,e,i,r){return r===void 0&&(r=!1),t.input?t.input.enabled=!0:this.setHitArea(t,e,i),t.input&&r&&!t.input.dropZone&&(t.input.dropZone=r),this},hitTestPointer:function(t){for(var e=this.cameras.getCamerasBelowPointer(t),i=0;i<e.length;i++){for(var r=e[i],n=this.manager.hitTest(t,this._list,r),s=0;s<n.length;s++){var a=n[s];a.input.dropZone&&this._tempZones.push(a)}if(n.length>0)return t.camera=r,n}return t.camera=e[0],[]},processDownEvents:function(t){var e=0,i=this._temp,r=this._eventData,n=this._eventContainer;r.cancelled=!1;for(var s=!1,a=0;a<i.length;a++){var o=i[a];if(!!o.input){if(e++,o.emit("pointerdown",t,o.input.localX,o.input.localY,n),r.cancelled){s=!0;break}if(this.emit("gameobjectdown",t,o,n),r.cancelled){s=!0;break}}}return s||this.emit("pointerdown",t,i),e},processDragEvents:function(t,e){if(this._draggable.length===0)return 0;var i,r,n,s,a=this._temp;if(t.dragState===0&&t.primaryDown&&t.justDown&&a.length>0?t.dragState=1:t.dragState>0&&!t.primaryDown&&t.justUp&&(t.dragState=5),t.dragState===1){var o=[];for(i=0;i<a.length;i++)r=a[i],r.input.draggable&&r.input.dragState===0&&o.push(r);if(o.length===0)return t.dragState=0,0;o.length>1&&(this.sortGameObjects(o),this.topOnly&&o.splice(1)),this._drag[t.id]=o,this.dragDistanceThreshold===0&&this.dragTimeThreshold===0?t.dragState=3:t.dragState=2}if(t.dragState===2&&(this.dragDistanceThreshold>0&&p0t(t.x,t.y,t.downX,t.downY)>=this.dragDistanceThreshold&&(t.dragState=3),this.dragTimeThreshold>0&&e>=t.downTime+this.dragTimeThreshold&&(t.dragState=3)),t.dragState===3){for(n=this._drag[t.id],i=0;i<n.length;i++)r=n[i],s=r.input,s.dragState=2,s.dragX=t.x-r.x,s.dragY=t.y-r.y,s.dragStartX=r.x,s.dragStartY=r.y,r.emit("dragstart",t,s.dragX,s.dragY),this.emit("dragstart",t,r);return t.dragState=4,n.length}if(t.dragState===4&&t.justMoved&&!t.justUp){var h=this._tempZones;for(n=this._drag[t.id],i=0;i<n.length;i++){if(r=n[i],s=r.input,s.target){var l=h.indexOf(s.target);l===0?(r.emit("dragover",t,s.target),this.emit("dragover",t,r,s.target)):l>0?(r.emit("dragleave",t,s.target),this.emit("dragleave",t,r,s.target),s.target=h[0],r.emit("dragenter",t,s.target),this.emit("dragenter",t,r,s.target)):(r.emit("dragleave",t,s.target),this.emit("dragleave",t,r,s.target),h[0]?(s.target=h[0],r.emit("dragenter",t,s.target),this.emit("dragenter",t,r,s.target)):s.target=null)}else!s.target&&h[0]&&(s.target=h[0],r.emit("dragenter",t,s.target),this.emit("dragenter",t,r,s.target));var u=t.x-r.input.dragX,f=t.y-r.input.dragY;r.emit("drag",t,u,f),this.emit("drag",t,r,u,f)}return n.length}if(t.dragState===5){for(n=this._drag[t.id],i=0;i<n.length;i++)if(r=n[i],s=r.input,s.dragState===2){s.dragState=0,s.dragX=s.localX-r.displayOriginX,s.dragY=s.localY-r.displayOriginY;var c=!1;s.target&&(r.emit("drop",t,s.target),this.emit("drop",t,r,s.target),s.target=null,c=!0),r.emit("dragend",t,s.dragX,s.dragY,c),this.emit("dragend",t,r,c)}t.dragState=0,n.splice(0)}return 0},processMoveEvents:function(t){var e=0,i=this._temp,r=this._eventData,n=this._eventContainer;r.cancelled=!1;for(var s=!1,a=0;a<i.length;a++){var o=i[a];if(!!o.input){if(e++,o.emit("pointermove",t,o.input.localX,o.input.localY,n),r.cancelled){s=!0;break}if(this.emit("gameobjectmove",t,o,n),r.cancelled){s=!0;break}if(this.topOnly)break}}return s||this.emit("pointermove",t,i),e},processOverOutEvents:function(t){var e=this._temp,i,r,n=[],s=[],a=[],o=this._over[t.id],h=this._drag[t.id],l=this.manager;for(i=0;i<o.length;i++)r=o[i],e.indexOf(r)===-1&&h.indexOf(r)===-1?n.push(r):a.push(r);for(i=0;i<e.length;i++)r=e[i],o.indexOf(r)===-1&&s.push(r);var u=n.length,f=0,c=this._eventData,d=this._eventContainer;c.cancelled=!1;var g=!1;if(u>0){for(this.sortGameObjects(n),i=0;i<u;i++)if(r=n[i],!!r.input){if(r.emit("pointerout",t,d),l.resetCursor(r.input),f++,c.cancelled){g=!0;break}if(this.emit("gameobjectout",t,r,d),c.cancelled){g=!0;break}}g||this.emit("pointerout",t,n)}if(u=s.length,c.cancelled=!1,g=!1,u>0){for(this.sortGameObjects(s),i=0;i<u;i++)if(r=s[i],!!r.input){if(r.emit("pointerover",t,r.input.localX,r.input.localY,d),l.setCursor(r.input),f++,c.cancelled){g=!0;break}if(this.emit("gameobjectover",t,r,d),c.cancelled){g=!0;break}}g||this.emit("pointerover",t,s)}return o=a.concat(s),this._over[t.id]=this.sortGameObjects(o),f},processUpEvents:function(t){var e=this._temp,i=this._eventData,r=this._eventContainer;i.cancelled=!1;for(var n=!1,s=0;s<e.length;s++){var a=e[s];if(!!a.input){if(a.emit("pointerup",t,a.input.localX,a.input.localY,r),i.cancelled){n=!0;break}if(this.emit("gameobjectup",t,a,r),i.cancelled){n=!0;break}}}return n||this.emit("pointerup",t,e),e.length},queueForInsertion:function(t){return this._pendingInsertion.indexOf(t)===-1&&this._list.indexOf(t)===-1&&this._pendingInsertion.push(t),this},queueForRemoval:function(t){return this._pendingRemoval.push(t),this},setDraggable:function(t,e){e===void 0&&(e=!0),Array.isArray(t)||(t=[t]);for(var i=0;i<t.length;i++){var r=t[i];r.input.draggable=e;var n=this._draggable.indexOf(r);e&&n===-1?this._draggable.push(r):!e&&n>-1&&this._draggable.splice(n,1)}return this},makePixelPerfect:function(t){t===void 0&&(t=1);var e=this.systems.textures;return v0t(e,t)},setHitArea:function(t,e,i){if(e===void 0)return this.setHitAreaFromTexture(t);Array.isArray(t)||(t=[t]);var r=!1,n=!1,s=!1,a=!1;if(x0t(e)){var o=e;e=zn(o,"hitArea",null),i=zn(o,"hitAreaCallback",null),r=zn(o,"draggable",!1),n=zn(o,"dropZone",!1),s=zn(o,"cursor",!1),a=zn(o,"useHandCursor",!1);var h=zn(o,"pixelPerfect",!1),l=zn(o,"alphaTolerance",1);h&&(e={},i=this.makePixelPerfect(l)),(!e||!i)&&this.setHitAreaFromTexture(t)}else typeof e=="function"&&!i&&(i=e,e={});for(var u=0;u<t.length;u++){var f=t[u],c=f.input?f.input:nC(f,e,i);c.dropZone=n,c.cursor=a?"pointer":s,f.input=c,r&&this.setDraggable(f),this.queueForInsertion(f)}return this},setHitAreaCircle:function(t,e,i,r,n){n===void 0&&(n=c0t);var s=new f0t(e,i,r);return this.setHitArea(t,s,n)},setHitAreaEllipse:function(t,e,i,r,n,s){s===void 0&&(s=m0t);var a=new g0t(e,i,r,n);return this.setHitArea(t,a,s)},setHitAreaFromTexture:function(t,e){e===void 0&&(e=aC),Array.isArray(t)||(t=[t]);for(var i=0;i<t.length;i++){var r=t[i],n=r.frame,s=0,a=0;if(n?(s=n.realWidth,a=n.realHeight):r.width&&(s=r.width,a=r.height),r.type==="Container"&&(s===0||a===0)){console.warn("Container.setInteractive() must specify a Shape or call setSize() first");continue}s!==0&&a!==0&&(r.input=nC(r,new sC(0,0,s,a),e),this.queueForInsertion(r))}return this},setHitAreaRectangle:function(t,e,i,r,n,s){s===void 0&&(s=aC);var a=new sC(e,i,r,n);return this.setHitArea(t,a,s)},setHitAreaTriangle:function(t,e,i,r,n,s,a,o){o===void 0&&(o=w0t);var h=new T0t(e,i,r,n,s,a);return this.setHitArea(t,h,o)},setPollAlways:function(){return this.pollRate=0,this._pollTimer=0,this},setPollOnMove:function(){return this.pollRate=-1,this._pollTimer=0,this},setPollRate:function(t){return this.pollRate=t,this._pollTimer=0,this},setGlobalTopOnly:function(t){return this.manager.globalTopOnly=t,this},setTopOnly:function(t){return this.topOnly=t,this},sortGameObjects:function(t){return t.length<2?t:(this.scene.sys.depthSort(),t.sort(this.sortHandlerGO.bind(this)))},sortHandlerGO:function(t,e){if(!t.parentContainer&&!e.parentContainer)return this.displayList.getIndex(e)-this.displayList.getIndex(t);if(t.parentContainer===e.parentContainer)return e.parentContainer.getIndex(e)-t.parentContainer.getIndex(t);if(t.parentContainer===e)return-1;if(e.parentContainer===t)return 1;for(var i=t.getIndexList(),r=e.getIndexList(),n=Math.min(i.length,r.length),s=0;s<n;s++){var a=i[s],o=r[s];if(a!==o)return o-a}return 0},stopPropagation:function(){return this.manager.globalTopOnly&&(this.manager.ignoreEvents=!0),this},addUpCallback:function(t,e){return this.manager.addUpCallback(t,e),this},addDownCallback:function(t,e){return this.manager.addDownCallback(t,e),this},addMoveCallback:function(t,e){return this.manager.addMoveCallback(t,e),this},addPointer:function(t){return this.manager.addPointer(t)},setDefaultCursor:function(t){return this.manager.setDefaultCursor(t),this},transitionIn:function(){this.enabled=this.settings.transitionAllowInput},transitionComplete:function(){this.settings.transitionAllowInput||(this.enabled=!0)},transitionOut:function(){this.enabled=this.settings.transitionAllowInput},shutdown:function(){this.pluginEvents.emit("shutdown"),this._temp.length=0,this._list.length=0,this._draggable.length=0,this._pendingRemoval.length=0,this._pendingInsertion.length=0;for(var t=0;t<10;t++)this._drag[t]=[],this._over[t]=[];this.removeAllListeners();var e=this.systems.events;e.off("transitionstart",this.transitionIn,this),e.off("transitionout",this.transitionOut,this),e.off("transitioncomplete",this.transitionComplete,this),e.off("preupdate",this.preUpdate,this),e.off("update",this.update,this),e.off("shutdown",this.shutdown,this)},destroy:function(){this.shutdown(),this.pluginEvents.emit("destroy"),this.pluginEvents.removeAllListeners(),this.scene.sys.events.off("start",this.start,this),this.scene=null,this.cameras=null,this.manager=null,this.events=null,this.mouse=null},x:{get:function(){return this.manager.activePointer.x}},y:{get:function(){return this.manager.activePointer.y}},mousePointer:{get:function(){return this.manager.mousePointer}},activePointer:{get:function(){return this.manager.activePointer}},pointer1:{get:function(){return this.manager.pointers[1]}},pointer2:{get:function(){return this.manager.pointers[2]}},pointer3:{get:function(){return this.manager.pointers[3]}},pointer4:{get:function(){return this.manager.pointers[4]}},pointer5:{get:function(){return this.manager.pointers[5]}},pointer6:{get:function(){return this.manager.pointers[6]}},pointer7:{get:function(){return this.manager.pointers[7]}},pointer8:{get:function(){return this.manager.pointers[8]}},pointer9:{get:function(){return this.manager.pointers[9]}},pointer10:{get:function(){return this.manager.pointers[10]}}});_0t.register("InputPlugin",hL,"input");var S0t=hL;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var C0t=b,b0t=new C0t({initialize:function(e){this.keyCode=e,this.originalEvent=void 0,this.preventDefault=!0,this.enabled=!0,this.isDown=!1,this.isUp=!0,this.altKey=!1,this.ctrlKey=!1,this.shiftKey=!1,this.location=0,this.timeDown=0,this.duration=0,this.timeUp=0,this.repeats=0,this._justDown=!1,this._justUp=!1,this._tick=-1},reset:function(){return this.preventDefault=!0,this.enabled=!0,this.isDown=!1,this.isUp=!0,this.altKey=!1,this.ctrlKey=!1,this.shiftKey=!1,this.timeDown=0,this.duration=0,this.timeUp=0,this.repeats=0,this._justDown=!1,this._justUp=!1,this._tick=-1,this}}),lL=b0t;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var M0t={BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CTRL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PRINT_SCREEN:42,INSERT:45,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,NUMPAD_ZERO:96,NUMPAD_ONE:97,NUMPAD_TWO:98,NUMPAD_THREE:99,NUMPAD_FOUR:100,NUMPAD_FIVE:101,NUMPAD_SIX:102,NUMPAD_SEVEN:103,NUMPAD_EIGHT:104,NUMPAD_NINE:105,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,SEMICOLON:186,PLUS:187,COMMA:188,MINUS:189,PERIOD:190,FORWARD_SLASH:191,BACK_SLASH:220,QUOTES:222,BACKTICK:192,OPEN_BRACKET:219,CLOSED_BRACKET:221},by=M0t;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var P0t=function(t,e){return e.timeLastMatched=t.timeStamp,e.index++,e.index===e.size?!0:(e.current=e.keyCodes[e.index],!1)},A0t=P0t;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var oC=A0t,R0t=function(t,e){if(e.matched)return!0;var i=!1,r=!1;if(t.keyCode===e.current)if(e.index>0&&e.maxKeyDelay>0){var n=e.timeLastMatched+e.maxKeyDelay;t.timeStamp<=n&&(r=!0,i=oC(t,e))}else r=!0,i=oC(t,e);return!r&&e.resetOnWrongKey&&(e.index=0,e.current=e.keyCodes[0]),i&&(e.timeLastMatched=t.timeStamp,e.matched=!0,e.timeMatched=t.timeStamp),i},F0t=R0t;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var E0t=function(t){return t.current=t.keyCodes[0],t.index=0,t.timeLastMatched=0,t.matched=!1,t.timeMatched=0,t},L0t=E0t;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var $0t=b,Bu=V,O0t=F0t,I0t=L0t,D0t=new $0t({initialize:function(e,i,r){if(r===void 0&&(r={}),i.length<2)return!1;this.manager=e,this.enabled=!0,this.keyCodes=[];for(var n=0;n<i.length;n++){var s=i[n];typeof s=="string"?this.keyCodes.push(s.toUpperCase().charCodeAt(0)):typeof s=="number"?this.keyCodes.push(s):s.hasOwnProperty("keyCode")&&this.keyCodes.push(s.keyCode)}this.current=this.keyCodes[0],this.index=0,this.size=this.keyCodes.length,this.timeLastMatched=0,this.matched=!1,this.timeMatched=0,this.resetOnWrongKey=Bu(r,"resetOnWrongKey",!0),this.maxKeyDelay=Bu(r,"maxKeyDelay",0),this.resetOnMatch=Bu(r,"resetOnMatch",!1),this.deleteOnMatch=Bu(r,"deleteOnMatch",!1);var a=this,o=function(h){if(!(a.matched||!a.enabled)){var l=O0t(h,a);l&&(a.manager.emit("keycombomatch",a,h),a.resetOnMatch?I0t(a):a.deleteOnMatch&&a.destroy())}};this.onKeyDown=o,this.manager.on("keydown",o)},progress:{get:function(){return this.index/this.size}},destroy:function(){this.enabled=!1,this.keyCodes=[],this.manager.off("keydown",this.onKeyDown),this.manager=null}}),uL=D0t;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var hC=by,fL={};for(var lC in hC)fL[hC[lC]]=lC;var B0t=fL;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var k0t=function(t,e){if(t.originalEvent=e,t.preventDefault&&e.preventDefault(),!!t.enabled)return t.altKey=e.altKey,t.ctrlKey=e.ctrlKey,t.shiftKey=e.shiftKey,t.location=e.location,t.isDown===!1&&(t.isDown=!0,t.isUp=!1,t.timeDown=e.timeStamp,t.duration=0,t._justDown=!0,t._justUp=!1),t.repeats++,t},G0t=k0t;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var z0t=function(t,e){if(t.originalEvent=e,t.preventDefault&&e.preventDefault(),!!t.enabled)return t.isDown=!1,t.isUp=!0,t.timeUp=e.timeStamp,t.duration=t.timeUp-t.timeDown,t.repeats=0,t._justDown=!1,t._justUp=!0,t._tick=-1,t},N0t=z0t;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var Y0t=function(t,e,i,r){return i===void 0&&(i=0),e===0?t:(t-=i,t=e*Math.floor(t/e),r?(i+t)/e:i+t)},My=Y0t;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var V0t=b,uC=Bt.exports,fC=ut,W0t=Jc,Cp=lL,Nn=by,X0t=uL,bp=B0t,U0t=G0t,H0t=N0t,q0t=My,cL=new V0t({Extends:uC,initialize:function(e){uC.call(this),this.scene=e.scene,this.settings=this.scene.sys.settings,this.sceneInputPlugin=e,this.enabled=!0,this.target,this.keys=[],this.combos=[],this.queue=[],this.onKeyHandler,this.time=0,e.pluginEvents.once("boot",this.boot,this),e.pluginEvents.on("start",this.start,this)},boot:function(){var t=this.settings.input,e=this.scene.sys.game.config;this.enabled=fC(t,"keyboard",e.inputKeyboard),this.target=fC(t,"keyboard.target",e.inputKeyboardEventTarget),this.sceneInputPlugin.pluginEvents.once("destroy",this.destroy,this)},start:function(){this.enabled&&this.startListeners(),this.sceneInputPlugin.pluginEvents.once("shutdown",this.shutdown,this)},isActive:function(){return this.enabled&&this.scene.sys.isActive()},startListeners:function(){var t=this,e=function(i){if(!(i.defaultPrevented||!t.isActive())){t.queue.push(i);var r=t.keys[i.keyCode];r&&r.preventDefault&&i.preventDefault()}};this.onKeyHandler=e,this.target.addEventListener("keydown",e,!1),this.target.addEventListener("keyup",e,!1),this.sceneInputPlugin.pluginEvents.on("update",this.update,this)},stopListeners:function(){this.target.removeEventListener("keydown",this.onKeyHandler),this.target.removeEventListener("keyup",this.onKeyHandler),this.sceneInputPlugin.pluginEvents.off("update",this.update)},createCursorKeys:function(){return this.addKeys({up:Nn.UP,down:Nn.DOWN,left:Nn.LEFT,right:Nn.RIGHT,space:Nn.SPACE,shift:Nn.SHIFT})},addKeys:function(t){var e={};if(typeof t=="string"){t=t.split(",");for(var i=0;i<t.length;i++){var r=t[i].trim();r&&(e[r]=this.addKey(r))}}else for(var n in t)e[n]=this.addKey(t[n]);return e},addKey:function(t){var e=this.keys;if(t instanceof Cp){var i=e.indexOf(t);return i>-1?e[i]=t:e[t.keyCode]=t,t}return typeof t=="string"&&(t=Nn[t.toUpperCase()]),e[t]||(e[t]=new Cp(t)),e[t]},removeKey:function(t){var e=this.keys;if(t instanceof Cp){var i=e.indexOf(t);i>-1&&(this.keys[i]=void 0)}else typeof t=="string"&&(t=Nn[t.toUpperCase()]);e[t]&&(e[t]=void 0)},createCombo:function(t,e){return new X0t(this,t,e)},checkDown:function(t,e){if(this.enabled&&t.isDown){var i=q0t(this.time-t.timeDown,e);if(i>t._tick)return t._tick=i,!0}return!1},update:function(t){this.time=t;var e=this.queue.length;if(!(!this.enabled||e===0))for(var i=this.queue.splice(0,e),r=this.keys,n=0;n<e;n++){var s=i[n],a=s.keyCode;s.type==="keydown"?(bp[a]&&(r[a]===void 0||r[a].isDown===!1)&&(this.emit(s.type,s),this.emit("keydown_"+bp[a],s)),r[a]&&U0t(r[a],s)):(this.emit(s.type,s),this.emit("keyup_"+bp[a],s),r[a]&&H0t(r[a],s))}},resetKeys:function(){for(var t=this.keys,e=0;e<t.length;e++)t[e]&&t[e].reset();return this},shutdown:function(){this.resetKeys(),this.stopListeners(),this.removeAllListeners(),this.queue=[]},destroy:function(){this.shutdown(),this.keys=[],this.combos=[],this.queue=[],this.scene=null,this.settings=null,this.sceneInputPlugin=null,this.target=null}});W0t.register("KeyboardPlugin",cL,"keyboard","keyboard","inputKeyboard");var K0t=cL;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var J0t=function(t){return t._justDown?(t._justDown=!1,!0):!1},j0t=J0t;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var Z0t=function(t){return t._justUp?(t._justUp=!1,!0):!1},Q0t=Z0t;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var tyt=function(t,e){return e===void 0&&(e=50),t.isDown&&t.duration<e},eyt=tyt;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var iyt=function(t,e){return e===void 0&&(e=50),t.isUp&&t.duration<e},ryt=iyt;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var nyt={KeyboardPlugin:K0t,Key:lL,KeyCodes:by,KeyCombo:uL,JustDown:j0t,JustUp:Q0t,DownDuration:eyt,UpDuration:ryt};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var syt={MouseManager:B2};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var ayt={TouchManager:z2};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var oyt=D2,hyt=Ae,Zg={CreateInteractiveObject:rL,Gamepad:h0t,InputManager:Y2,InputPlugin:S0t,InputPluginCache:Jc,Keyboard:nyt,Mouse:syt,Pointer:G2,Touch:ayt};Zg=hyt(!1,Zg,oyt);var lyt=Zg;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var uyt={LOADER_IDLE:0,LOADER_LOADING:1,LOADER_PROCESSING:2,LOADER_COMPLETE:3,LOADER_SHUTDOWN:4,LOADER_DESTROYED:5,FILE_PENDING:10,FILE_LOADING:11,FILE_LOADED:12,FILE_FAILED:13,FILE_PROCESSING:14,FILE_ERRORED:16,FILE_COMPLETE:17,FILE_DESTROYED:18,FILE_POPULATED:19},Re=uyt;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var fyt=function(t,e){return t.url?t.url.match(/^(?:blob:|data:|http:\/\/|https:\/\/|\/\/)/)?t.url:e+t.url:!1},Py=fyt;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var cyt=function(t,e,i,r,n){return t===void 0&&(t=""),e===void 0&&(e=!0),i===void 0&&(i=""),r===void 0&&(r=""),n===void 0&&(n=0),{responseType:t,async:e,user:i,password:r,timeout:n,header:void 0,headerValue:void 0,requestedWith:!1,overrideMimeType:void 0}},jc=cyt;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var dyt=Ae,vyt=jc,pyt=function(t,e){var i=t===void 0?vyt():dyt({},t);if(e)for(var r in e)e[r]!==void 0&&(i[r]=e[r]);return i},Ay=pyt;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var gyt=Ay,myt=function(t,e){var i=gyt(e,t.xhrSettings),r=new XMLHttpRequest;return r.open("GET",t.src,i.async,i.user,i.password),r.responseType=t.xhrSettings.responseType,r.timeout=i.timeout,i.header&&i.headerValue&&r.setRequestHeader(i.header,i.headerValue),i.requestedWith&&r.setRequestHeader("X-Requested-With",i.requestedWith),i.overrideMimeType&&r.overrideMimeType(i.overrideMimeType),r.onload=t.onLoad.bind(t,r),r.onerror=t.onError.bind(t),r.onprogress=t.onProgress.bind(t),r.send(),r},dL=myt;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var yyt=b,Xa=Re,tn=V,xyt=Py,_yt=Ay,Tyt=dL,wyt=jc,Ry=new yyt({initialize:function(e,i){this.loader=e,this.cache=tn(i,"cache",!1),this.type=tn(i,"type",!1),this.key=tn(i,"key",!1);var r=this.key;if(e.prefix&&e.prefix!==""&&(this.key=e.prefix+r),!this.type||!this.key)throw new Error("Error calling 'Loader."+this.type+"' invalid key provided.");this.url=tn(i,"url"),this.url===void 0?this.url=e.path+r+"."+tn(i,"extension",""):typeof this.url!="function"&&(this.url=e.path+this.url),this.src="",this.xhrSettings=wyt(tn(i,"responseType",void 0)),tn(i,"xhrSettings",!1)&&(this.xhrSettings=_yt(this.xhrSettings,tn(i,"xhrSettings",{}))),this.xhrLoader=null,this.state=typeof this.url=="function"?Xa.FILE_POPULATED:Xa.FILE_PENDING,this.bytesTotal=0,this.bytesLoaded=-1,this.percentComplete=-1,this.crossOrigin=void 0,this.data=void 0,this.config=tn(i,"config",{}),this.multiFile,this.linkFile},setLink:function(t){this.linkFile=t,t.linkFile=this},resetXHR:function(){this.xhrLoader&&(this.xhrLoader.onload=void 0,this.xhrLoader.onerror=void 0,this.xhrLoader.onprogress=void 0)},load:function(){this.state===Xa.FILE_POPULATED?this.loader.nextFile(this,!0):(this.src=xyt(this,this.loader.baseURL),this.src.indexOf("data:")===0?console.warn("Local data URIs are not supported: "+this.key):this.xhrLoader=Tyt(this,this.loader.xhr))},onLoad:function(t,e){var i=!(e.target&&e.target.status!==200);t.readyState===4&&t.status>=400&&t.status<=599&&(i=!1),this.resetXHR(),this.loader.nextFile(this,i)},onError:function(){this.resetXHR(),this.loader.nextFile(this,!1)},onProgress:function(t){t.lengthComputable&&(this.bytesLoaded=t.loaded,this.bytesTotal=t.total,this.percentComplete=Math.min(this.bytesLoaded/this.bytesTotal,1),this.loader.emit("fileprogress",this,this.percentComplete))},onProcess:function(){this.state=Xa.FILE_PROCESSING,this.onProcessComplete()},onProcessComplete:function(){this.state=Xa.FILE_COMPLETE,this.multiFile&&this.multiFile.onFileComplete(this),this.loader.fileProcessComplete(this)},onProcessError:function(){this.state=Xa.FILE_ERRORED,this.multiFile&&this.multiFile.onFileFailed(this),this.loader.fileProcessComplete(this)},hasCacheConflict:function(){return this.cache&&this.cache.exists(this.key)},addToCache:function(){this.cache&&this.cache.add(this.key,this.data),this.pendingDestroy()},pendingDestroy:function(t){t===void 0&&(t=this.data);var e=this.key,i=this.type;this.loader.emit("filecomplete",e,i,t),this.loader.emit("filecomplete-"+i+"-"+e,e,i,t),this.loader.flagForRemoval(this)},destroy:function(){this.loader=null,this.cache=null,this.xhrSettings=null,this.multiFile=null,this.linkFile=null,this.data=null}});Ry.createObjectURL=function(t,e,i){if(typeof URL=="function")t.src=URL.createObjectURL(e);else{var r=new FileReader;r.onload=function(){t.removeAttribute("crossOrigin"),t.src="data:"+(e.type||i)+";base64,"+r.result.split(",")[1]},r.onerror=t.onerror,r.readAsDataURL(e)}};Ry.revokeObjectURL=function(t){typeof URL=="function"&&URL.revokeObjectURL(t.src)};var He=Ry;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var Syt=b,Mp=Re,cC=He,Cyt=bt,ah=V,dC=ut,vC=Ct,Qg=new Syt({Extends:cC,initialize:function(e,i,r,n,s){var a="json";if(vC(i)){var o=i;i=ah(o,"key"),r=ah(o,"url"),n=ah(o,"xhrSettings"),a=ah(o,"extension",a),s=ah(o,"dataKey",s)}var h={type:"json",cache:e.cacheManager.json,extension:a,responseType:"text",key:i,url:r,xhrSettings:n,config:s};cC.call(this,e,h),vC(r)&&(s?this.data=dC(r,s):this.data=r,this.state=Mp.FILE_POPULATED)},onProcess:function(){if(this.state!==Mp.FILE_POPULATED){this.state=Mp.FILE_PROCESSING;var t=JSON.parse(this.xhrLoader.responseText),e=this.config;typeof e=="string"?this.data=dC(t,e,t):this.data=t}this.onProcessComplete()}});Cyt.register("json",function(t,e,i,r){if(Array.isArray(t))for(var n=0;n<t.length;n++)this.addFile(new Qg(this,t[n]));else this.addFile(new Qg(this,t,e,r,i));return this});var Ss=Qg;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var byt=b,Myt=bt,Pp=Ss,tm=new byt({Extends:Pp,initialize:function(e,i,r,n,s){Pp.call(this,e,i,r,n,s),this.type="animationJSON"},onProcess:function(){this.loader.once("loadcomplete",this.onLoadComplete,this),Pp.prototype.onProcess.call(this)},onLoadComplete:function(){this.loader.systems.anims.fromJSON(this.data),this.pendingDestroy()}});Myt.register("animation",function(t,e,i,r){if(Array.isArray(t))for(var n=0;n<t.length;n++)this.addFile(new tm(this,t[n]));else this.addFile(new tm(this,t,e,r,i));return this});var Pyt=tm;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var Ayt=b,pC=Re,oh=He,Ryt=bt,Ua=V,Fyt=Ct,em=new Ayt({Extends:oh,initialize:function t(e,i,r,n,s){var a="png",o;if(Fyt(i)){var h=i;i=Ua(h,"key"),r=Ua(h,"url"),o=Ua(h,"normalMap"),n=Ua(h,"xhrSettings"),a=Ua(h,"extension",a),s=Ua(h,"frameConfig")}Array.isArray(r)&&(o=r[1],r=r[0]);var l={type:"image",cache:e.textureManager,extension:a,responseType:"blob",key:i,url:r,xhrSettings:n,config:s};if(oh.call(this,e,l),o){var u=new t(e,this.key,o,n,s);u.type="normalMap",this.setLink(u),e.addFile(u)}},onProcess:function(){this.state=pC.FILE_PROCESSING,this.data=new Image,this.data.crossOrigin=this.crossOrigin;var t=this;this.data.onload=function(){oh.revokeObjectURL(t.data),t.onProcessComplete()},this.data.onerror=function(){oh.revokeObjectURL(t.data),t.onProcessError()},oh.createObjectURL(this.data,this.xhrLoader.response,"image/png")},addToCache:function(){var t,e=this.linkFile;e&&e.state===pC.FILE_COMPLETE?(this.type==="image"?t=this.cache.addImage(this.key,this.data,e.data):t=this.cache.addImage(e.key,e.data,this.data),this.pendingDestroy(t),e.pendingDestroy(t)):e||(t=this.cache.addImage(this.key,this.data),this.pendingDestroy(t))}});Ryt.register("image",function(t,e,i){if(Array.isArray(t))for(var r=0;r<t.length;r++)this.addFile(new em(this,t[r]));else this.addFile(new em(this,t,e,i));return this});var wa=em;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var Eyt=b,Lyt=new Eyt({initialize:function(e,i,r,n){this.loader=e,this.type=i,this.key=r,this.files=n,this.complete=!1,this.pending=n.length,this.failed=0,this.config={};for(var s=0;s<n.length;s++)n[s].multiFile=this},isReadyToProcess:function(){return this.pending===0&&this.failed===0&&!this.complete},addToMultiFile:function(t){return this.files.push(t),t.multiFile=this,this.pending++,this.complete=!1,this},onFileComplete:function(t){var e=this.files.indexOf(t);e!==-1&&this.pending--},onFileFailed:function(t){var e=this.files.indexOf(t);e!==-1&&this.failed++}}),Sa=Lyt;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var $yt=b,Oyt=bt,Yn=V,gC=wa,Iyt=Ct,mC=Ss,Ap=Sa,im=new $yt({Extends:Ap,initialize:function(e,i,r,n,s,a){var o,h;if(Iyt(i)){var l=i;i=Yn(l,"key"),o=new gC(e,{key:i,url:Yn(l,"textureURL"),extension:Yn(l,"textureExtension","png"),normalMap:Yn(l,"normalMap"),xhrSettings:Yn(l,"textureXhrSettings")}),h=new mC(e,{key:i,url:Yn(l,"atlasURL"),extension:Yn(l,"atlasExtension","json"),xhrSettings:Yn(l,"atlasXhrSettings")})}else o=new gC(e,i,r,s),h=new mC(e,i,n,a);o.linkFile?Ap.call(this,e,"atlasjson",i,[o,h,o.linkFile]):Ap.call(this,e,"atlasjson",i,[o,h])},addToCache:function(){if(this.isReadyToProcess()){var t=this.files[0],e=this.files[1],i=this.files[2]?this.files[2].data:null;this.loader.textureManager.addAtlas(t.key,t.data,e.data,i),e.addToCache(),this.complete=!0}}});Oyt.register("atlas",function(t,e,i,r,n){var s;if(Array.isArray(t))for(var a=0;a<t.length;a++)s=new im(this,t[a]),this.addFile(s.files);else s=new im(this,t,e,i,r,n),this.addFile(s.files);return this});var Dyt=im;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var Byt=b,kyt=Re,yC=He,Gyt=bt,ku=V,zyt=Ct,Nyt=_2,rm=new Byt({Extends:yC,initialize:function(e,i,r,n){var s="xml";if(zyt(i)){var a=i;i=ku(a,"key"),r=ku(a,"url"),n=ku(a,"xhrSettings"),s=ku(a,"extension",s)}var o={type:"xml",cache:e.cacheManager.xml,extension:s,responseType:"text",key:i,url:r,xhrSettings:n};yC.call(this,e,o)},onProcess:function(){this.state=kyt.FILE_PROCESSING,this.data=Nyt(this.xhrLoader.responseText),this.data?this.onProcessComplete():(console.warn("Invalid XMLFile: "+this.key),this.onProcessError())}});Gyt.register("xml",function(t,e,i){if(Array.isArray(t))for(var r=0;r<t.length;r++)this.addFile(new rm(this,t[r]));else this.addFile(new rm(this,t,e,i));return this});var Fy=rm;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var Yyt=b,Vyt=bt,Vn=V,xC=wa,Wyt=Ct,Rp=Sa,_C=Fy,nm=new Yyt({Extends:Rp,initialize:function(e,i,r,n,s,a){var o,h;if(Wyt(i)){var l=i;i=Vn(l,"key"),o=new xC(e,{key:i,url:Vn(l,"textureURL"),extension:Vn(l,"textureExtension","png"),normalMap:Vn(l,"normalMap"),xhrSettings:Vn(l,"textureXhrSettings")}),h=new _C(e,{key:i,url:Vn(l,"atlasURL"),extension:Vn(l,"atlasExtension","xml"),xhrSettings:Vn(l,"atlasXhrSettings")})}else o=new xC(e,i,r,s),h=new _C(e,i,n,a);o.linkFile?Rp.call(this,e,"atlasxml",i,[o,h,o.linkFile]):Rp.call(this,e,"atlasxml",i,[o,h])},addToCache:function(){if(this.isReadyToProcess()){var t=this.files[0],e=this.files[1],i=this.files[2]?this.files[2].data:null;this.loader.textureManager.addAtlasXML(t.key,t.data,e.data,i),e.addToCache(),this.complete=!0}}});Vyt.register("atlasXML",function(t,e,i,r,n){var s;if(Array.isArray(t))for(var a=0;a<t.length;a++)s=new nm(this,t[a]),this.addFile(s.files);else s=new nm(this,t,e,i,r,n),this.addFile(s.files);return this});var Xyt=nm;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var Uyt=b,TC=He,wC=V,Hyt=Py,qyt=Ct,Kyt=new Uyt({Extends:TC,initialize:function(e,i,r,n){if(qyt(i)){var s=i;i=wC(s,"key"),n=wC(s,"config",n)}var a={type:"audio",cache:e.cacheManager.audio,extension:r.type,key:i,url:r.url,config:n};TC.call(this,e,a),this.locked="ontouchstart"in window,this.loaded=!1,this.filesLoaded=0,this.filesTotal=0},onLoad:function(){this.loaded||(this.loaded=!0,this.loader.nextFile(this,!0))},onError:function(){for(var t=0;t<this.data.length;t++){var e=this.data[t];e.oncanplaythrough=null,e.onerror=null}this.loader.nextFile(this,!1)},onProgress:function(t){var e=t.target;e.oncanplaythrough=null,e.onerror=null,this.filesLoaded++,this.percentComplete=Math.min(this.filesLoaded/this.filesTotal,1),this.loader.emit("fileprogress",this,this.percentComplete),this.filesLoaded===this.filesTotal&&this.onLoad()},load:function(){this.data=[];var t=this.config&&this.config.instances||1;this.filesTotal=t,this.filesLoaded=0,this.percentComplete=0;for(var e=0;e<t;e++){var i=new Audio;i.dataset.name=this.key+("0"+e).slice(-2),i.dataset.used="false",this.locked?i.dataset.locked="true":(i.dataset.locked="false",i.preload="auto",i.oncanplaythrough=this.onProgress.bind(this),i.onerror=this.onError.bind(this)),this.data.push(i)}for(e=0;e<this.data.length;e++)i=this.data[e],i.src=Hyt(this,this.loader.baseURL),this.locked||i.load();this.locked&&setTimeout(this.onLoad.bind(this))}}),vL=Kyt;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var Jyt=b,jyt=_i,SC=He,Zyt=bt,na=V,Qyt=vL,pL=Ct,sa=new Jyt({Extends:SC,initialize:function(e,i,r,n,s){if(pL(i)){var a=i;i=na(a,"key"),n=na(a,"xhrSettings"),s=na(a,"context",s)}var o={type:"audio",cache:e.cacheManager.audio,extension:r.type,responseType:"arraybuffer",key:i,url:r.url,xhrSettings:n,config:{context:s}};SC.call(this,e,o)},onProcess:function(){this.state=jyt.FILE_PROCESSING;var t=this;this.config.context.decodeAudioData(this.xhrLoader.response,function(e){t.data=e,t.onProcessComplete()},function(e){console.error("Error decoding audio: "+this.key+" - ",e?e.message:null),t.onProcessError()}),this.config.context=null}});sa.create=function(t,e,i,r,n){var s=t.systems.game,a=s.config.audio,o=s.device.audio;pL(e)&&(i=na(e,"url",[]),r=na(e,"config",{}));var h=sa.getAudioURL(s,i);return h?o.webAudio&&!(a&&a.disableWebAudio)?new sa(t,e,h,n,s.sound.context):new Qyt(t,e,h,r):null};sa.getAudioURL=function(t,e){Array.isArray(e)||(e=[e]);for(var i=0;i<e.length;i++){var r=na(e[i],"url",e[i]);if(r.indexOf("blob:")===0||r.indexOf("data:")===0)return r;var n=r.match(/\.([a-zA-Z0-9]+)($|\?)/);if(n=na(e[i],"type",n?n[1]:"").toLowerCase(),t.device.audio[n])return{url:r,type:n}}return null};Zyt.register("audio",function(t,e,i,r){var n=this.systems.game,s=n.config.audio,a=n.device.audio;if(s&&s.noAudio||!a.webAudio&&!a.audioData)return this;var o;if(Array.isArray(t))for(var h=0;h<t.length;h++)o=sa.create(this,t[h]),o&&this.addFile(o);else o=sa.create(this,t,e,i,r),o&&this.addFile(o);return this});var gL=sa,txt={};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var CC=gL,ext=b,ixt=bt,Wn=V,rxt=Ct,bC=Ss,Fp=Sa,MC=new ext({Extends:Fp,initialize:function(e,i,r,n,s,a,o){if(rxt(i)){var h=i;i=Wn(h,"key"),r=Wn(h,"jsonURL"),n=Wn(h,"audioURL"),s=Wn(h,"audioConfig"),a=Wn(h,"audioXhrSettings"),o=Wn(h,"jsonXhrSettings")}var l;if(!n)l=new bC(e,i,r,o),Fp.call(this,e,"audiosprite",i,[l]),this.config.resourceLoad=!0,this.config.audioConfig=s,this.config.audioXhrSettings=a;else{var u=CC.create(e,i,n,s,a);u&&(l=new bC(e,i,r,o),Fp.call(this,e,"audiosprite",i,[u,l]),this.config.resourceLoad=!1)}},onFileComplete:function(t){var e=this.files.indexOf(t);if(e!==-1&&(this.pending--,this.config.resourceLoad&&t.type==="json"&&t.data.hasOwnProperty("resources"))){var i=t.data.resources,r=Wn(this.config,"audioConfig"),n=Wn(this.config,"audioXhrSettings"),s=CC.create(this.loader,t.key,i,r,n);s&&(this.addToMultiFile(s),this.loader.addFile(s))}},addToCache:function(){if(this.isReadyToProcess()){var t=this.files[0],e=this.files[1];t.addToCache(),e.addToCache(),this.complete=!0}}});ixt.register("audioSprite",function(t,e,i,r,n,s){var a=this.systems.game,o=a.config.audio,h=a.device.audio;if(o&&o.noAudio||!h.webAudio&&!h.audioData)return this;var l;if(Array.isArray(t))for(var u=0;u<t.length;u++)l=new MC(this,t[u]),l.files&&this.addFile(l.files);else l=new MC(this,t,e,i,r,n,s),l.files&&this.addFile(l.files);return this});/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var nxt=b,sxt=Re,PC=He,axt=bt,hh=V,oxt=Ct,sm=new nxt({Extends:PC,initialize:function(e,i,r,n,s){var a="bin";if(oxt(i)){var o=i;i=hh(o,"key"),r=hh(o,"url"),n=hh(o,"xhrSettings"),a=hh(o,"extension",a),s=hh(o,"dataType",s)}var h={type:"binary",cache:e.cacheManager.binary,extension:a,responseType:"arraybuffer",key:i,url:r,xhrSettings:n,config:{dataType:s}};PC.call(this,e,h)},onProcess:function(){this.state=sxt.FILE_PROCESSING;var t=this.config.dataType;this.data=t?new t(this.xhrLoader.response):this.xhrLoader.response,this.onProcessComplete()}});axt.register("binary",function(t,e,i,r){if(Array.isArray(t))for(var n=0;n<t.length;n++)this.addFile(new sm(this,t[n]));else this.addFile(new sm(this,t,e,r,i));return this});var hxt=sm;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var lxt=b,uxt=bt,Xn=V,AC=wa,fxt=Ct,Ep=Sa,cxt=pF,RC=Fy,am=new lxt({Extends:Ep,initialize:function(e,i,r,n,s,a){var o,h;if(fxt(i)){var l=i;i=Xn(l,"key"),o=new AC(e,{key:i,url:Xn(l,"textureURL"),extension:Xn(l,"textureExtension","png"),normalMap:Xn(l,"normalMap"),xhrSettings:Xn(l,"textureXhrSettings")}),h=new RC(e,{key:i,url:Xn(l,"fontDataURL"),extension:Xn(l,"fontDataExtension","xml"),xhrSettings:Xn(l,"fontDataXhrSettings")})}else o=new AC(e,i,r,s),h=new RC(e,i,n,a);o.linkFile?Ep.call(this,e,"bitmapfont",i,[o,h,o.linkFile]):Ep.call(this,e,"bitmapfont",i,[o,h])},addToCache:function(){if(this.isReadyToProcess()){var t=this.files[0],e=this.files[1];t.addToCache(),e.addToCache(),this.loader.cacheManager.bitmapFont.add(t.key,{data:cxt(e.data),texture:t.key,frame:null}),this.complete=!0}}});uxt.register("bitmapFont",function(t,e,i,r,n){var s;if(Array.isArray(t))for(var a=0;a<t.length;a++)s=new am(this,t[a]),this.addFile(s.files);else s=new am(this,t,e,i,r,n),this.addFile(s.files);return this});var dxt=am;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var vxt=b,pxt=Re,FC=He,gxt=bt,Gu=V,mxt=Ct,om=new vxt({Extends:FC,initialize:function(e,i,r,n){var s="glsl";if(mxt(i)){var a=i;i=Gu(a,"key"),r=Gu(a,"url"),n=Gu(a,"xhrSettings"),s=Gu(a,"extension",s)}var o={type:"glsl",cache:e.cacheManager.shader,extension:s,responseType:"text",key:i,url:r,xhrSettings:n};FC.call(this,e,o)},onProcess:function(){this.state=pxt.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()}});gxt.register("glsl",function(t,e,i){if(Array.isArray(t))for(var r=0;r<t.length;r++)this.addFile(new om(this,t[r]));else this.addFile(new om(this,t,e,i));return this});var yxt=om;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var xxt=b,_xt=Re,EC=He,Txt=bt,zu=V,wxt=Ct,hm=new xxt({Extends:EC,initialize:function(e,i,r,n){var s="html";if(wxt(i)){var a=i;i=zu(a,"key"),r=zu(a,"url"),n=zu(a,"xhrSettings"),s=zu(a,"extension",s)}var o={type:"text",cache:e.cacheManager.html,extension:s,responseType:"text",key:i,url:r,xhrSettings:n};EC.call(this,e,o)},onProcess:function(){this.state=_xt.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()}});Txt.register("html",function(t,e,i){if(Array.isArray(t))for(var r=0;r<t.length;r++)this.addFile(new hm(this,t[r]));else this.addFile(new hm(this,t,e,i));return this});var Sxt=hm;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var Cxt=b,LC=Re,lh=He,bxt=bt,Ha=V,Mxt=Ct,lm=new Cxt({Extends:lh,initialize:function(e,i,r,n,s,a){n===void 0&&(n=512),s===void 0&&(s=512);var o="html";if(Mxt(i)){var h=i;i=Ha(h,"key"),r=Ha(h,"url"),a=Ha(h,"xhrSettings"),o=Ha(h,"extension",o),n=Ha(h,"width",n),s=Ha(h,"height",s)}var l={type:"html",cache:e.textureManager,extension:o,responseType:"text",key:i,url:r,xhrSettings:a,config:{width:n,height:s}};lh.call(this,e,l)},onProcess:function(){this.state=LC.FILE_PROCESSING;var t=this.config.width,e=this.config.height,i=[];i.push('<svg width="'+t+'px" height="'+e+'px" viewBox="0 0 '+t+" "+e+'" xmlns="http://www.w3.org/2000/svg">'),i.push('<foreignObject width="100%" height="100%">'),i.push('<body xmlns="http://www.w3.org/1999/xhtml">'),i.push(this.xhrLoader.responseText),i.push("</body>"),i.push("</foreignObject>"),i.push("</svg>");var r=[i.join(`
`)],n=this;try{var s=new window.Blob(r,{type:"image/svg+xml;charset=utf-8"})}catch{n.state=LC.FILE_ERRORED,n.onProcessComplete();return}this.data=new Image,this.data.crossOrigin=this.crossOrigin,this.data.onload=function(){lh.revokeObjectURL(n.data),n.onProcessComplete()},this.data.onerror=function(){lh.revokeObjectURL(n.data),n.onProcessError()},lh.createObjectURL(this.data,s,"image/svg+xml")},addToCache:function(){var t=this.cache.addImage(this.key,this.data);this.pendingDestroy(t)}});bxt.register("htmlTexture",function(t,e,i,r,n){if(Array.isArray(t))for(var s=0;s<t.length;s++)this.addFile(new lm(this,t[s]));else this.addFile(new lm(this,t,e,i,r,n));return this});var Pxt=lm;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var Axt=b,Rxt=bt,wr=V,$C=wa,Fxt=Ct,Ext=Ss,OC=Sa,um=new Axt({Extends:OC,initialize:function(e,i,r,n,s,a,o){if(Fxt(i)){var h=i;i=wr(h,"key"),r=wr(h,"url"),a=wr(h,"xhrSettings"),n=wr(h,"path"),s=wr(h,"baseURL"),o=wr(h,"textureXhrSettings")}var l=new Ext(e,i,r,a);OC.call(this,e,"multiatlas",i,[l]),this.config.path=n,this.config.baseURL=s,this.config.textureXhrSettings=o},onFileComplete:function(t){var e=this.files.indexOf(t);if(e!==-1&&(this.pending--,t.type==="json"&&t.data.hasOwnProperty("textures"))){var i=t.data.textures,r=this.config,n=this.loader,s=n.baseURL,a=n.path,o=n.prefix,h=wr(r,"baseURL",s),l=wr(r,"path",a),u=wr(r,"prefix",o),f=wr(r,"textureXhrSettings");n.setBaseURL(h),n.setPath(l),n.setPrefix(u);for(var c=0;c<i.length;c++){var d=i[c].image,g="_MA_"+d,v=new $C(n,g,d,f);if(this.addToMultiFile(v),n.addFile(v),i[c].normalMap){var p=new $C(n,g,i[c].normalMap,f);p.type="normalMap",v.setLink(p),this.addToMultiFile(p),n.addFile(p)}}n.setBaseURL(s),n.setPath(a),n.setPrefix(o)}},addToCache:function(){if(this.isReadyToProcess()){var t=this.files[0];t.addToCache();for(var e=[],i=[],r=[],n=1;n<this.files.length;n++){var s=this.files[n];if(s.type!=="normalMap")for(var a=s.key.substr(4),o=s.data,h=0;h<t.data.textures.length;h++){var l=t.data.textures[h];if(l.image===a){i.push(o),e.push(l),s.linkFile&&r.push(s.linkFile.data);break}}}for(r.length===0&&(r=void 0),this.loader.textureManager.addAtlasJSONArray(this.key,i,e,r),this.complete=!0,n=0;n<this.files.length;n++)this.files[n].pendingDestroy()}}});Rxt.register("multiatlas",function(t,e,i,r,n){var s;if(Array.isArray(t))for(var a=0;a<t.length;a++)s=new um(this,t[a]),this.addFile(s.files);else s=new um(this,t,e,i,r,n),this.addFile(s.files);return this});var Lxt=um;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var $xt=b,IC=Re,Oxt=bt,DC=Ss,fm=new $xt({Extends:DC,initialize:function(e,i,r,n,s){DC.call(this,e,i,r,n,s),this.type="packfile"},onProcess:function(){this.state!==IC.FILE_POPULATED&&(this.state=IC.FILE_PROCESSING,this.data=JSON.parse(this.xhrLoader.responseText)),this.loader.addPack(this.data,this.config),this.onProcessComplete()}});Oxt.register("pack",function(t,e,i,r){if(Array.isArray(t))for(var n=0;n<t.length;n++)this.addFile(new fm(this,t[n]));else this.addFile(new fm(this,t,e,r,i));return this});var Ixt=fm;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var Dxt=b,Lp=Re,BC=He,Bxt=bt,Un=V,kxt=Ct,cm=new Dxt({Extends:BC,initialize:function(e,i,r,n,s,a){var o="js";if(kxt(i)){var h=i;i=Un(h,"key"),r=Un(h,"url"),a=Un(h,"xhrSettings"),o=Un(h,"extension",o),n=Un(h,"start"),s=Un(h,"mapping")}var l={type:"plugin",cache:!1,extension:o,responseType:"text",key:i,url:r,xhrSettings:a,config:{start:n,mapping:s}};BC.call(this,e,l),typeof r=="function"&&(this.data=r,this.state=Lp.FILE_POPULATED)},onProcess:function(){var t=this.loader.systems.plugins,e=this.config,i=Un(e,"start",!1),r=Un(e,"mapping",null);this.state===Lp.FILE_POPULATED?t.install(this.key,this.data,i,r):(this.state=Lp.FILE_PROCESSING,this.data=document.createElement("script"),this.data.language="javascript",this.data.type="text/javascript",this.data.defer=!1,this.data.text=this.xhrLoader.responseText,document.head.appendChild(this.data),t.install(this.key,window[this.key],i,r)),this.onProcessComplete()}});Bxt.register("plugin",function(t,e,i,r,n){if(Array.isArray(t))for(var s=0;s<t.length;s++)this.addFile(new cm(this,t[s]));else this.addFile(new cm(this,t,e,i,r,n));return this});var Gxt=cm;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var zxt=b,$p=Re,kC=He,Nxt=bt,Hn=V,Yxt=Ct,dm=new zxt({Extends:kC,initialize:function(e,i,r,n,s,a){var o="js";if(Yxt(i)){var h=i;i=Hn(h,"key"),r=Hn(h,"url"),a=Hn(h,"xhrSettings"),o=Hn(h,"extension",o),n=Hn(h,"systemKey"),s=Hn(h,"sceneKey")}var l={type:"scenePlugin",cache:!1,extension:o,responseType:"text",key:i,url:r,xhrSettings:a,config:{systemKey:n,sceneKey:s}};kC.call(this,e,l),typeof r=="function"&&(this.data=r,this.state=$p.FILE_POPULATED)},onProcess:function(){var t=this.loader.systems.plugins,e=this.config,i=this.key,r=Hn(e,"systemKey",i),n=Hn(e,"sceneKey",i);this.state===$p.FILE_POPULATED?t.installScenePlugin(r,this.data,n,this.loader.scene):(this.state=$p.FILE_PROCESSING,this.data=document.createElement("script"),this.data.language="javascript",this.data.type="text/javascript",this.data.defer=!1,this.data.text=this.xhrLoader.responseText,document.head.appendChild(this.data),t.installScenePlugin(r,window[this.key],n,this.loader.scene)),this.onProcessComplete()}});Nxt.register("scenePlugin",function(t,e,i,r,n){if(Array.isArray(t))for(var s=0;s<t.length;s++)this.addFile(new dm(this,t[s]));else this.addFile(new dm(this,t,e,i,r,n));return this});var Vxt=dm;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var Wxt=b,Xxt=Re,GC=He,Uxt=bt,Nu=V,Hxt=Ct,vm=new Wxt({Extends:GC,initialize:function(e,i,r,n){var s="js";if(Hxt(i)){var a=i;i=Nu(a,"key"),r=Nu(a,"url"),n=Nu(a,"xhrSettings"),s=Nu(a,"extension",s)}var o={type:"script",cache:!1,extension:s,responseType:"text",key:i,url:r,xhrSettings:n};GC.call(this,e,o)},onProcess:function(){this.state=Xxt.FILE_PROCESSING,this.data=document.createElement("script"),this.data.language="javascript",this.data.type="text/javascript",this.data.defer=!1,this.data.text=this.xhrLoader.responseText,document.head.appendChild(this.data),this.onProcessComplete()}});Uxt.register("script",function(t,e,i){if(Array.isArray(t))for(var r=0;r<t.length;r++)this.addFile(new vm(this,t[r]));else this.addFile(new vm(this,t,e,i));return this});var qxt=vm;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var Kxt=b,Jxt=bt,zC=wa,pm=new Kxt({Extends:zC,initialize:function(e,i,r,n,s){zC.call(this,e,i,r,s,n),this.type="spritesheet"},addToCache:function(){var t=this.cache.addSpriteSheet(this.key,this.data,this.config);this.pendingDestroy(t)}});Jxt.register("spritesheet",function(t,e,i,r){if(Array.isArray(t))for(var n=0;n<t.length;n++)this.addFile(new pm(this,t[n]));else this.addFile(new pm(this,t,e,i,r));return this});var jxt=pm;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var Zxt=b,Qxt=Re,uh=He,t1t=bt,qn=V,e1t=Ct,gm=new Zxt({Extends:uh,initialize:function(e,i,r,n,s){var a="svg";if(e1t(i)){var o=i;i=qn(o,"key"),r=qn(o,"url"),n=qn(o,"svgConfig",{}),s=qn(o,"xhrSettings"),a=qn(o,"extension",a)}var h={type:"svg",cache:e.textureManager,extension:a,responseType:"text",key:i,url:r,xhrSettings:s,config:{width:qn(n,"width"),height:qn(n,"height"),scale:qn(n,"scale")}};uh.call(this,e,h)},onProcess:function(){this.state=Qxt.FILE_PROCESSING;var t=this.xhrLoader.responseText,e=[t],i=this.config.width,r=this.config.height,n=this.config.scale;t:if(i&&r||n){var s=null,a=new DOMParser;s=a.parseFromString(t,"text/xml");var o=s.getElementsByTagName("svg")[0],h=o.hasAttribute("viewBox"),l=parseFloat(o.getAttribute("width")),u=parseFloat(o.getAttribute("height"));if(!h&&l&&u)o.setAttribute("viewBox","0  0 "+l+" "+u);else if(h&&!l&&!u){var f=o.getAttribute("viewBox").split(/\s+|,/);l=f[2],u=f[3]}if(n)if(l&&u)i=l*n,r=u*n;else break t;o.setAttribute("width",i.toString()+"px"),o.setAttribute("height",r.toString()+"px"),e=[new XMLSerializer().serializeToString(o)]}try{var c=new window.Blob(e,{type:"image/svg+xml;charset=utf-8"})}catch{this.onProcessError();return}this.data=new Image,this.data.crossOrigin=this.crossOrigin;var d=this,g=!1;this.data.onload=function(){g||uh.revokeObjectURL(d.data),d.onProcessComplete()},this.data.onerror=function(){g?d.onProcessError():(g=!0,uh.revokeObjectURL(d.data),d.data.src="data:image/svg+xml,"+encodeURIComponent(e.join("")))},uh.createObjectURL(this.data,c,"image/svg+xml")},addToCache:function(){var t=this.cache.addImage(this.key,this.data);this.pendingDestroy(t)}});t1t.register("svg",function(t,e,i,r){if(Array.isArray(t))for(var n=0;n<t.length;n++)this.addFile(new gm(this,t[n]));else this.addFile(new gm(this,t,e,i,r));return this});var i1t=gm;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var r1t=b,n1t=Re,NC=He,s1t=bt,Yu=V,a1t=Ct,mm=new r1t({Extends:NC,initialize:function(e,i,r,n){var s="txt";if(a1t(i)){var a=i;i=Yu(a,"key"),r=Yu(a,"url"),n=Yu(a,"xhrSettings"),s=Yu(a,"extension",s)}var o={type:"text",cache:e.cacheManager.text,extension:s,responseType:"text",key:i,url:r,xhrSettings:n};NC.call(this,e,o)},onProcess:function(){this.state=n1t.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()}});s1t.register("text",function(t,e,i){if(Array.isArray(t))for(var r=0;r<t.length;r++)this.addFile(new mm(this,t[r]));else this.addFile(new mm(this,t,e,i));return this});var mL=mm;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var Qi={CSV:0,TILED_JSON:1,ARRAY_2D:2,WELTMEISTER:3};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var o1t=b,h1t=Re,YC=He,l1t=bt,Vu=V,u1t=Ct,f1t=Qi,ym=new o1t({Extends:YC,initialize:function(e,i,r,n){var s="csv";if(u1t(i)){var a=i;i=Vu(a,"key"),r=Vu(a,"url"),n=Vu(a,"xhrSettings"),s=Vu(a,"extension",s)}var o={type:"tilemapCSV",cache:e.cacheManager.tilemap,extension:s,responseType:"text",key:i,url:r,xhrSettings:n};YC.call(this,e,o),this.tilemapFormat=f1t.CSV},onProcess:function(){this.state=h1t.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()},addToCache:function(){var t={format:this.tilemapFormat,data:this.data};this.cache.add(this.key,t),this.pendingDestroy(t)}});l1t.register("tilemapCSV",function(t,e,i){if(Array.isArray(t))for(var r=0;r<t.length;r++)this.addFile(new ym(this,t[r]));else this.addFile(new ym(this,t,e,i));return this});var c1t=ym;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var d1t=b,v1t=bt,VC=Ss,p1t=Qi,xm=new d1t({Extends:VC,initialize:function(e,i,r,n){VC.call(this,e,i,r,n),this.type="tilemapJSON",this.cache=e.cacheManager.tilemap},addToCache:function(){var t={format:p1t.WELTMEISTER,data:this.data};this.cache.add(this.key,t),this.pendingDestroy(t)}});v1t.register("tilemapImpact",function(t,e,i){if(Array.isArray(t))for(var r=0;r<t.length;r++)this.addFile(new xm(this,t[r]));else this.addFile(new xm(this,t,e,i));return this});var g1t=xm;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var m1t=b,y1t=bt,WC=Ss,x1t=Qi,_m=new m1t({Extends:WC,initialize:function(e,i,r,n){WC.call(this,e,i,r,n),this.type="tilemapJSON",this.cache=e.cacheManager.tilemap},addToCache:function(){var t={format:x1t.TILED_JSON,data:this.data};this.cache.add(this.key,t),this.pendingDestroy(t)}});y1t.register("tilemapTiledJSON",function(t,e,i){if(Array.isArray(t))for(var r=0;r<t.length;r++)this.addFile(new _m(this,t[r]));else this.addFile(new _m(this,t,e,i));return this});var _1t=_m;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var T1t=b,w1t=bt,Ns=V,XC=wa,S1t=Ct,Op=Sa,UC=mL,Tm=new T1t({Extends:Op,initialize:function(e,i,r,n,s,a){var o,h;if(S1t(i)){var l=i;o=new XC(e,{key:i,url:Ns(l,"textureURL"),extension:Ns(l,"textureExtension","png"),normalMap:Ns(l,"normalMap"),xhrSettings:Ns(l,"textureXhrSettings")}),h=new UC(e,{key:i,url:Ns(l,"atlasURL"),extension:Ns(l,"atlasExtension","txt"),xhrSettings:Ns(l,"atlasXhrSettings")})}else o=new XC(e,i,r,s),h=new UC(e,i,n,a);o.linkFile?Op.call(this,e,"unityatlas",i,[o,h,o.linkFile]):Op.call(this,e,"unityatlas",i,[o,h])},addToCache:function(){if(this.failed===0&&!this.complete){var t=this.files[0],e=this.files[1],i=this.files[2]?this.files[2].data:null;this.loader.textureManager.addUnityAtlas(t.key,t.data,e.data,i),e.addToCache(),this.complete=!0}}});w1t.register("unityAtlas",function(t,e,i,r,n){var s;if(Array.isArray(t))for(var a=0;a<t.length;a++)s=new Tm(this,t[a]),this.addFile(s.files);else s=new Tm(this,t,e,i,r,n),this.addFile(s.files);return this});var C1t=Tm;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var b1t={AnimationJSONFile:Pyt,AtlasJSONFile:Dyt,AtlasXMLFile:Xyt,AudioFile:gL,AudioSpriteFile:txt,BinaryFile:hxt,BitmapFontFile:dxt,GLSLFile:yxt,HTML5AudioFile:vL,HTMLFile:Sxt,HTMLTextureFile:Pxt,ImageFile:wa,JSONFile:Ss,MultiAtlasFile:Lxt,PackFile:Ixt,PluginFile:Gxt,ScenePluginFile:Vxt,ScriptFile:qxt,SpriteSheetFile:jxt,SVGFile:i1t,TextFile:mL,TilemapCSVFile:c1t,TilemapImpactFile:g1t,TilemapJSONFile:_1t,UnityAtlasFile:C1t,XMLFile:Fy};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var M1t=b,Qe=Re,Wu=Ro,HC=Bt.exports,P1t=bt,ve=V,A1t=se,R1t=jc,yL=new M1t({Extends:HC,initialize:function(e){HC.call(this);var i=e.sys.game.config,r=e.sys.settings.loader;this.scene=e,this.systems=e.sys,this.cacheManager=e.sys.cache,this.textureManager=e.sys.textures,P1t.install(this),this.prefix="",this.path="",this.baseURL="",this.setBaseURL(ve(r,"baseURL",i.loaderBaseURL)),this.setPath(ve(r,"path",i.loaderPath)),this.setPrefix(ve(r,"prefix",i.loaderPrefix)),this.maxParallelDownloads=ve(r,"maxParallelDownloads",i.loaderMaxParallelDownloads),this.xhr=R1t(ve(r,"responseType",i.loaderResponseType),ve(r,"async",i.loaderAsync),ve(r,"user",i.loaderUser),ve(r,"password",i.loaderPassword),ve(r,"timeout",i.loaderTimeout)),this.crossOrigin=ve(r,"crossOrigin",i.loaderCrossOrigin),this.totalToLoad=0,this.progress=0,this.list=new Wu,this.inflight=new Wu,this.queue=new Wu,this._deleteQueue=new Wu,this.totalFailed=0,this.totalComplete=0,this.state=Qe.LOADER_IDLE,e.sys.events.once("boot",this.boot,this),e.sys.events.on("start",this.pluginStart,this)},boot:function(){this.systems.events.once("destroy",this.destroy,this)},pluginStart:function(){this.systems.events.once("shutdown",this.shutdown,this)},setBaseURL:function(t){return t===void 0&&(t=""),t!==""&&t.substr(-1)!=="/"&&(t=t.concat("/")),this.baseURL=t,this},setPath:function(t){return t===void 0&&(t=""),t!==""&&t.substr(-1)!=="/"&&(t=t.concat("/")),this.path=t,this},setPrefix:function(t){return t===void 0&&(t=""),this.prefix=t,this},setCORS:function(t){return this.crossOrigin=t,this},addFile:function(t){Array.isArray(t)||(t=[t]);for(var e=0;e<t.length;e++){var i=t[e];this.keyExists(i)||(this.list.set(i),this.emit("addfile",i.key,i.type,this,i),this.isLoading()&&(this.totalToLoad++,this.updateProgress()))}},keyExists:function(t){var e=t.hasCacheConflict();return e||this.list.iterate(function(i){if(i.type===t.type&&i.key===t.key)return e=!0,!1}),!e&&this.isLoading()&&(this.inflight.iterate(function(i){if(i.type===t.type&&i.key===t.key)return e=!0,!1}),this.queue.iterate(function(i){if(i.type===t.type&&i.key===t.key)return e=!0,!1})),e},addPack:function(t,e){e&&t.hasOwnProperty(e)&&(t={packKey:t[e]});var i=0,r=this.baseURL,n=this.path,s=this.prefix;for(var a in t){var o=t[a],h=ve(o,"baseURL",r),l=ve(o,"path",n),u=ve(o,"prefix",s),f=ve(o,"files",null),c=ve(o,"defaultType","void");if(Array.isArray(f)){this.setBaseURL(h),this.setPath(l),this.setPrefix(u);for(var d=0;d<f.length;d++){var g=f[d],v=g.hasOwnProperty("type")?g.type:c;this[v]&&(this[v](g),i++)}}}return this.setBaseURL(r),this.setPath(n),this.setPrefix(s),i>0},isLoading:function(){return this.state===Qe.LOADER_LOADING||this.state===Qe.LOADER_PROCESSING},isReady:function(){return this.state===Qe.LOADER_IDLE||this.state===Qe.LOADER_COMPLETE},start:function(){!this.isReady()||(this.progress=0,this.totalFailed=0,this.totalComplete=0,this.totalToLoad=this.list.size,this.emit("start",this),this.list.size===0?this.loadComplete():(this.state=Qe.LOADER_LOADING,this.inflight.clear(),this.queue.clear(),this.updateProgress(),this.checkLoadQueue(),this.systems.events.on("update",this.update,this)))},updateProgress:function(){this.progress=1-(this.list.size+this.inflight.size)/this.totalToLoad,this.emit("progress",this.progress)},update:function(){this.state===Qe.LOADER_LOADING&&this.list.size>0&&this.inflight.size<this.maxParallelDownloads&&this.checkLoadQueue()},checkLoadQueue:function(){this.list.each(function(t){if((t.state===Qe.FILE_POPULATED||t.state===Qe.FILE_PENDING&&this.inflight.size<this.maxParallelDownloads)&&(this.inflight.set(t),this.list.delete(t),t.crossOrigin||(t.crossOrigin=this.crossOrigin),t.load()),this.inflight.size===this.maxParallelDownloads)return!1},this)},nextFile:function(t,e){!this.inflight||(this.inflight.delete(t),this.updateProgress(),e?(this.totalComplete++,this.queue.set(t),this.emit("load",t),t.onProcess()):(this.totalFailed++,this._deleteQueue.set(t),this.emit("loaderror",t),this.fileProcessComplete(t)))},fileProcessComplete:function(t){!this.scene||!this.systems||!this.systems.game||this.systems.game.pendingDestroy||(t.state===Qe.FILE_ERRORED?t.multiFile&&t.multiFile.onFileFailed(t):t.state===Qe.FILE_COMPLETE&&(t.multiFile?t.multiFile.isReadyToProcess()&&t.multiFile.addToCache():t.addToCache()),this.queue.delete(t),this.list.size===0&&this.inflight.size===0&&this.queue.size===0&&this.loadComplete())},loadComplete:function(){this.emit("loadcomplete",this),this.list.clear(),this.inflight.clear(),this.queue.clear(),this.progress=1,this.state=Qe.LOADER_COMPLETE,this.systems.events.off("update",this.update,this),this._deleteQueue.iterateLocal("destroy"),this._deleteQueue.clear(),this.emit("complete",this,this.totalComplete,this.totalFailed)},flagForRemoval:function(t){this._deleteQueue.set(t)},saveJSON:function(t,e){return this.save(JSON.stringify(t),e)},save:function(t,e,i){e===void 0&&(e="file.json"),i===void 0&&(i="application/json");var r=new Blob([t],{type:i}),n=URL.createObjectURL(r),s=document.createElement("a");return s.download=e,s.textContent="Download "+e,s.href=n,s.click(),this},reset:function(){this.list.clear(),this.inflight.clear(),this.queue.clear();var t=this.systems.game.config,e=this.systems.settings.loader;this.setBaseURL(ve(e,"baseURL",t.loaderBaseURL)),this.setPath(ve(e,"path",t.loaderPath)),this.setPrefix(ve(e,"prefix",t.loaderPrefix)),this.state=Qe.LOADER_IDLE},shutdown:function(){this.reset(),this.state=Qe.LOADER_SHUTDOWN,this.systems.events.off("update",this.update,this),this.systems.events.off("shutdown",this.shutdown,this)},destroy:function(){this.shutdown(),this.state=Qe.LOADER_DESTROYED,this.systems.events.off("update",this.update,this),this.systems.events.off("start",this.pluginStart,this),this.list=null,this.inflight=null,this.queue=null,this.scene=null,this.systems=null,this.textureManager=null,this.cacheManager=null}});A1t.register("Loader",yL,"load");var F1t=yL;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var E1t=Re,L1t=Ae,wm={FileTypes:b1t,File:He,FileTypesManager:bt,GetURL:Py,LoaderPlugin:F1t,MergeXHRSettings:Ay,MultiFile:Sa,XHRLoader:dL,XHRSettings:jc};wm=L1t(!1,wm,E1t);var $1t=wm;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var O1t=function(t,e,i,r){return Math.atan2(r-e,i-t)},I1t=O1t;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var D1t=function(t,e,i,r){return Math.atan2(i-t,r-e)},B1t=D1t;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var k1t=function(t,e){return Math.atan2(e.y-t.y,e.x-t.x)},G1t=k1t;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var z1t=function(t,e){return Math.atan2(e.x-t.x,e.y-t.y)},N1t=z1t;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var Y1t=function(t){return t=t%(2*Math.PI),t>=0?t:t+2*Math.PI},xL=Y1t;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var V1t=xL,W1t=function(t){return V1t(t+Math.PI)},X1t=W1t;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var Ip=_e,U1t=function(t,e,i){return i===void 0&&(i=.05),t===e||(Math.abs(e-t)<=i||Math.abs(e-t)>=Ip.PI2-i?t=e:(Math.abs(e-t)>Math.PI&&(e<t?e+=Ip.PI2:e-=Ip.PI2),e>t?t+=i:e<t&&(t-=i))),t},H1t=U1t;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var q1t=function(t,e){var i=e-t;if(i===0)return 0;var r=Math.floor((i- -180)/360);return i-r*360},K1t=q1t;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var J1t={Between:I1t,BetweenY:B1t,BetweenPoints:G1t,BetweenPointsY:N1t,Reverse:X1t,RotateTo:H1t,ShortestBetween:K1t,Normalize:xL,Wrap:C0,WrapDegrees:b0};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var j1t=function(t,e,i,r,n){return n===void 0&&(n=2),Math.sqrt(Math.pow(i-t,n)+Math.pow(r-e,n))},Z1t=j1t;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var Q1t=function(t,e,i,r){var n=t-i,s=e-r;return n*n+s*s},_L=Q1t;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var t_t={Between:ws,Power:Z1t,Squared:_L};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var e_t={Back:XR,Bounce:UR,Circular:HR,Cubic:qR,Elastic:KR,Expo:JR,Linear:k0.exports,Quadratic:jR,Quartic:ZR,Quintic:QR,Sine:t2,Stepped:G0.exports};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var i_t=function(t,e){return e===void 0&&(e=1e-4),Math.ceil(t-e)},r_t=i_t;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var n_t=function(t,e,i){return i===void 0&&(i=1e-4),Math.abs(t-e)<i},TL=n_t;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var s_t=function(t,e){return e===void 0&&(e=1e-4),Math.floor(t+e)},a_t=s_t;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var o_t=function(t,e,i){return i===void 0&&(i=1e-4),t>e-i},wL=o_t;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var h_t=function(t,e,i){return i===void 0&&(i=1e-4),t<e+i},SL=h_t;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var l_t={Ceil:r_t,Equal:TL,Floor:a_t,GreaterThan:wL,LessThan:SL};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var u_t=function(t){if(t===0)return 1;for(var e=t;--t;)e*=t;return e},CL=u_t;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var Dp=CL,f_t=function(t,e){return Dp(t)/Dp(e)/Dp(t-e)},bL=f_t;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var c_t=bL,d_t=function(t,e){for(var i=0,r=t.length-1,n=0;n<=r;n++)i+=Math.pow(1-e,r-n)*Math.pow(e,n)*t[n]*c_t(r,n);return i},v_t=d_t;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var Xu=V0,p_t=function(t,e){var i=t.length-1,r=i*e,n=Math.floor(r);return t[0]===t[i]?(e<0&&(n=Math.floor(r=i*(1+e))),Xu(r-n,t[(n-1+i)%i],t[n],t[(n+1)%i],t[(n+2)%i])):e<0?t[0]-(Xu(-r,t[0],t[0],t[1],t[1])-t[0]):e>1?t[i]-(Xu(r-i,t[i],t[i],t[i-1],t[i-1])-t[i]):Xu(r-n,t[n?n-1:0],t[n],t[i<n+1?i:n+1],t[i<n+2?i:n+2])},g_t=p_t;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var Bp=Dc,m_t=function(t,e){var i=t.length-1,r=i*e,n=Math.floor(r);return e<0?Bp(t[0],t[1],r):e>1?Bp(t[i],t[i-1],i-r):Bp(t[n],t[n+1>i?i:n+1],r-n)},y_t=m_t;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var x_t=F0,__t=function(t,e,i){return e+(i-e)*x_t(t,0,1)},T_t=__t;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var w_t={Bezier:v_t,CatmullRom:g_t,CubicBezier:a2,Linear:y_t,QuadraticBezier:u2,SmoothStep:k2,SmootherStep:T_t};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var S_t=function(t){return t>0&&(t&t-1)===0},C_t=S_t;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var b_t={GetNext:JF,IsSize:Gc,IsValue:C_t};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var M_t=function(t,e,i,r){return i===void 0&&(i=0),e===0?t:(t-=i,t=e*Math.ceil(t/e),r?(i+t)/e:i+t)},ML=M_t;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var P_t=function(t,e,i,r){return i===void 0&&(i=0),e===0?t:(t-=i,t=e*Math.round(t/e),r?(i+t)/e:i+t)},A_t=P_t;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var R_t={Ceil:ML,Floor:My,To:A_t};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var F_t=function(t){for(var e=0,i=0;i<t.length;i++)e+=+t[i];return e/t.length},E_t=F_t;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var L_t=function(t,e,i){e===void 0&&(e=0),i===void 0&&(i=10);var r=Math.pow(i,-e);return Math.ceil(t*r)/r},$_t=L_t;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var O_t=function(t,e){return Math.abs(t-e)},I_t=O_t;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var D_t=function(t,e,i){e===void 0&&(e=0),i===void 0&&(i=10);var r=Math.pow(i,-e);return Math.floor(t*r)/r},B_t=D_t;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var k_t=function(t,e){return t/e/1e3},G_t=k_t;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var z_t=function(t){return t==parseFloat(t)?!(t%2):void 0},N_t=z_t;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var Y_t=function(t){return t===parseFloat(t)?!(t%2):void 0},V_t=Y_t;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var W_t=function(t,e,i){return Math.min(t+e,i)},X_t=W_t;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var U_t=function(t,e,i){return Math.max(t-e,i)},H_t=U_t;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var q_t=function(t,e,i,r){i===void 0&&(i=e+1);var n=(t-e)/(i-e);return n>1?r!==void 0?(n=(r-t)/(r-i),n<0&&(n=0)):n=1:n<0&&(n=0),n},K_t=q_t;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var J_t=function(t,e){e===void 0&&(e=1);var i=Math.random()*2*Math.PI;return t.x=Math.cos(i)*e,t.y=Math.sin(i)*e,t},j_t=J_t;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var Z_t=function(t,e){e===void 0&&(e=1);var i=Math.random()*2*Math.PI,r=Math.random()*2-1,n=Math.sqrt(1-r*r)*e;return t.x=Math.cos(i)*n,t.y=Math.sin(i)*n,t.z=r*e,t},PL=Z_t;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var Q_t=function(t,e){return e===void 0&&(e=1),t.x=(Math.random()*2-1)*e,t.y=(Math.random()*2-1)*e,t.z=(Math.random()*2-1)*e,t.w=(Math.random()*2-1)*e,t},AL=Q_t;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var tTt=function(t,e){var i=t.x,r=t.y;return t.x=i*Math.cos(e)-r*Math.sin(e),t.y=i*Math.sin(e)+r*Math.cos(e),t},RL=tTt;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var eTt=function(t,e,i){e===void 0&&(e=0),i===void 0&&(i=10);var r=Math.pow(i,-e);return Math.round(t*r)/r},iTt=eTt;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var rTt=function(t,e,i,r){e===void 0&&(e=1),i===void 0&&(i=1),r===void 0&&(r=1),r*=Math.PI/t;for(var n=[],s=[],a=0;a<t;a++)i-=e*r,e+=i*r,n[a]=i,s[a]=e;return{sin:s,cos:n,length:t}},nTt=rTt;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var sTt=function(t,e,i){return Math.abs(t-e)<=i},aTt=sTt;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var oTt=b,FL=new oTt({initialize:function(e,i,r){this.x=0,this.y=0,this.z=0,typeof e=="object"?(this.x=e.x||0,this.y=e.y||0,this.z=e.z||0):(this.x=e||0,this.y=i||0,this.z=r||0)},up:function(){return this.x=0,this.y=1,this.z=0,this},clone:function(){return new FL(this.x,this.y,this.z)},crossVectors:function(t,e){var i=t.x,r=t.y,n=t.z,s=e.x,a=e.y,o=e.z;return this.x=r*o-n*a,this.y=n*s-i*o,this.z=i*a-r*s,this},equals:function(t){return this.x===t.x&&this.y===t.y&&this.z===t.z},copy:function(t){return this.x=t.x,this.y=t.y,this.z=t.z||0,this},set:function(t,e,i){return typeof t=="object"?(this.x=t.x||0,this.y=t.y||0,this.z=t.z||0):(this.x=t||0,this.y=e||0,this.z=i||0),this},add:function(t){return this.x+=t.x,this.y+=t.y,this.z+=t.z||0,this},subtract:function(t){return this.x-=t.x,this.y-=t.y,this.z-=t.z||0,this},multiply:function(t){return this.x*=t.x,this.y*=t.y,this.z*=t.z||1,this},scale:function(t){return isFinite(t)?(this.x*=t,this.y*=t,this.z*=t):(this.x=0,this.y=0,this.z=0),this},divide:function(t){return this.x/=t.x,this.y/=t.y,this.z/=t.z||1,this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this},distance:function(t){var e=t.x-this.x,i=t.y-this.y,r=t.z-this.z||0;return Math.sqrt(e*e+i*i+r*r)},distanceSq:function(t){var e=t.x-this.x,i=t.y-this.y,r=t.z-this.z||0;return e*e+i*i+r*r},length:function(){var t=this.x,e=this.y,i=this.z;return Math.sqrt(t*t+e*e+i*i)},lengthSq:function(){var t=this.x,e=this.y,i=this.z;return t*t+e*e+i*i},normalize:function(){var t=this.x,e=this.y,i=this.z,r=t*t+e*e+i*i;return r>0&&(r=1/Math.sqrt(r),this.x=t*r,this.y=e*r,this.z=i*r),this},dot:function(t){return this.x*t.x+this.y*t.y+this.z*t.z},cross:function(t){var e=this.x,i=this.y,r=this.z,n=t.x,s=t.y,a=t.z;return this.x=i*a-r*s,this.y=r*n-e*a,this.z=e*s-i*n,this},lerp:function(t,e){e===void 0&&(e=0);var i=this.x,r=this.y,n=this.z;return this.x=i+e*(t.x-i),this.y=r+e*(t.y-r),this.z=n+e*(t.z-n),this},transformMat3:function(t){var e=this.x,i=this.y,r=this.z,n=t.val;return this.x=e*n[0]+i*n[3]+r*n[6],this.y=e*n[1]+i*n[4]+r*n[7],this.z=e*n[2]+i*n[5]+r*n[8],this},transformMat4:function(t){var e=this.x,i=this.y,r=this.z,n=t.val;return this.x=n[0]*e+n[4]*i+n[8]*r+n[12],this.y=n[1]*e+n[5]*i+n[9]*r+n[13],this.z=n[2]*e+n[6]*i+n[10]*r+n[14],this},transformCoordinates:function(t){var e=this.x,i=this.y,r=this.z,n=t.val,s=e*n[0]+i*n[4]+r*n[8]+n[12],a=e*n[1]+i*n[5]+r*n[9]+n[13],o=e*n[2]+i*n[6]+r*n[10]+n[14],h=e*n[3]+i*n[7]+r*n[11]+n[15];return this.x=s/h,this.y=a/h,this.z=o/h,this},transformQuat:function(t){var e=this.x,i=this.y,r=this.z,n=t.x,s=t.y,a=t.z,o=t.w,h=o*e+s*r-a*i,l=o*i+a*e-n*r,u=o*r+n*i-s*e,f=-n*e-s*i-a*r;return this.x=h*o+f*-n+l*-a-u*-s,this.y=l*o+f*-s+u*-n-h*-a,this.z=u*o+f*-a+h*-s-l*-n,this},project:function(t){var e=this.x,i=this.y,r=this.z,n=t.val,s=n[0],a=n[1],o=n[2],h=n[3],l=n[4],u=n[5],f=n[6],c=n[7],d=n[8],g=n[9],v=n[10],p=n[11],m=n[12],y=n[13],x=n[14],T=n[15],_=1/(e*h+i*c+r*p+T);return this.x=(e*s+i*l+r*d+m)*_,this.y=(e*a+i*u+r*g+y)*_,this.z=(e*o+i*f+r*v+x)*_,this},unproject:function(t,e){var i=t.x,r=t.y,n=t.z,s=t.w,a=this.x-i,o=s-this.y-1-r,h=this.z;return this.x=2*a/n-1,this.y=2*o/s-1,this.z=2*h-1,this.project(e)},reset:function(){return this.x=0,this.y=0,this.z=0,this}}),Oo=FL;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var hTt=b,EL=new hTt({initialize:function(e){this.val=new Float32Array(9),e?this.copy(e):this.identity()},clone:function(){return new EL(this)},set:function(t){return this.copy(t)},copy:function(t){var e=this.val,i=t.val;return e[0]=i[0],e[1]=i[1],e[2]=i[2],e[3]=i[3],e[4]=i[4],e[5]=i[5],e[6]=i[6],e[7]=i[7],e[8]=i[8],this},fromMat4:function(t){var e=t.val,i=this.val;return i[0]=e[0],i[1]=e[1],i[2]=e[2],i[3]=e[4],i[4]=e[5],i[5]=e[6],i[6]=e[8],i[7]=e[9],i[8]=e[10],this},fromArray:function(t){var e=this.val;return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],this},identity:function(){var t=this.val;return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1,this},transpose:function(){var t=this.val,e=t[1],i=t[2],r=t[5];return t[1]=t[3],t[2]=t[6],t[3]=e,t[5]=t[7],t[6]=i,t[7]=r,this},invert:function(){var t=this.val,e=t[0],i=t[1],r=t[2],n=t[3],s=t[4],a=t[5],o=t[6],h=t[7],l=t[8],u=l*s-a*h,f=-l*n+a*o,c=h*n-s*o,d=e*u+i*f+r*c;return d?(d=1/d,t[0]=u*d,t[1]=(-l*i+r*h)*d,t[2]=(a*i-r*s)*d,t[3]=f*d,t[4]=(l*e-r*o)*d,t[5]=(-a*e+r*n)*d,t[6]=c*d,t[7]=(-h*e+i*o)*d,t[8]=(s*e-i*n)*d,this):null},adjoint:function(){var t=this.val,e=t[0],i=t[1],r=t[2],n=t[3],s=t[4],a=t[5],o=t[6],h=t[7],l=t[8];return t[0]=s*l-a*h,t[1]=r*h-i*l,t[2]=i*a-r*s,t[3]=a*o-n*l,t[4]=e*l-r*o,t[5]=r*n-e*a,t[6]=n*h-s*o,t[7]=i*o-e*h,t[8]=e*s-i*n,this},determinant:function(){var t=this.val,e=t[0],i=t[1],r=t[2],n=t[3],s=t[4],a=t[5],o=t[6],h=t[7],l=t[8];return e*(l*s-a*h)+i*(-l*n+a*o)+r*(h*n-s*o)},multiply:function(t){var e=this.val,i=e[0],r=e[1],n=e[2],s=e[3],a=e[4],o=e[5],h=e[6],l=e[7],u=e[8],f=t.val,c=f[0],d=f[1],g=f[2],v=f[3],p=f[4],m=f[5],y=f[6],x=f[7],T=f[8];return e[0]=c*i+d*s+g*h,e[1]=c*r+d*a+g*l,e[2]=c*n+d*o+g*u,e[3]=v*i+p*s+m*h,e[4]=v*r+p*a+m*l,e[5]=v*n+p*o+m*u,e[6]=y*i+x*s+T*h,e[7]=y*r+x*a+T*l,e[8]=y*n+x*o+T*u,this},translate:function(t){var e=this.val,i=t.x,r=t.y;return e[6]=i*e[0]+r*e[3]+e[6],e[7]=i*e[1]+r*e[4]+e[7],e[8]=i*e[2]+r*e[5]+e[8],this},rotate:function(t){var e=this.val,i=e[0],r=e[1],n=e[2],s=e[3],a=e[4],o=e[5],h=Math.sin(t),l=Math.cos(t);return e[0]=l*i+h*s,e[1]=l*r+h*a,e[2]=l*n+h*o,e[3]=l*s-h*i,e[4]=l*a-h*r,e[5]=l*o-h*n,this},scale:function(t){var e=this.val,i=t.x,r=t.y;return e[0]=i*e[0],e[1]=i*e[1],e[2]=i*e[2],e[3]=r*e[3],e[4]=r*e[4],e[5]=r*e[5],this},fromQuat:function(t){var e=t.x,i=t.y,r=t.z,n=t.w,s=e+e,a=i+i,o=r+r,h=e*s,l=e*a,u=e*o,f=i*a,c=i*o,d=r*o,g=n*s,v=n*a,p=n*o,m=this.val;return m[0]=1-(f+d),m[3]=l+p,m[6]=u-v,m[1]=l-p,m[4]=1-(h+d),m[7]=c+g,m[2]=u+v,m[5]=c-g,m[8]=1-(h+f),this},normalFromMat4:function(t){var e=t.val,i=this.val,r=e[0],n=e[1],s=e[2],a=e[3],o=e[4],h=e[5],l=e[6],u=e[7],f=e[8],c=e[9],d=e[10],g=e[11],v=e[12],p=e[13],m=e[14],y=e[15],x=r*h-n*o,T=r*l-s*o,_=r*u-a*o,w=n*l-s*h,S=n*u-a*h,C=s*u-a*l,R=f*p-c*v,L=f*m-d*v,E=f*y-g*v,O=c*m-d*p,A=c*y-g*p,F=d*y-g*m,M=x*F-T*A+_*O+w*E-S*L+C*R;return M?(M=1/M,i[0]=(h*F-l*A+u*O)*M,i[1]=(l*E-o*F-u*L)*M,i[2]=(o*A-h*E+u*R)*M,i[3]=(s*A-n*F-a*O)*M,i[4]=(r*F-s*E+a*L)*M,i[5]=(n*E-r*A-a*R)*M,i[6]=(p*C-m*S+y*w)*M,i[7]=(m*_-v*C-y*T)*M,i[8]=(v*S-p*_+y*x)*M,this):null}}),LL=EL;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var lTt=b,Uu=1e-6,Zc=new lTt({initialize:function(e){this.val=new Float32Array(16),e?this.copy(e):this.identity()},clone:function(){return new Zc(this)},set:function(t){return this.copy(t)},copy:function(t){var e=this.val,i=t.val;return e[0]=i[0],e[1]=i[1],e[2]=i[2],e[3]=i[3],e[4]=i[4],e[5]=i[5],e[6]=i[6],e[7]=i[7],e[8]=i[8],e[9]=i[9],e[10]=i[10],e[11]=i[11],e[12]=i[12],e[13]=i[13],e[14]=i[14],e[15]=i[15],this},fromArray:function(t){var e=this.val;return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],this},zero:function(){var t=this.val;return t[0]=0,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=0,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=0,this},xyz:function(t,e,i){this.identity();var r=this.val;return r[12]=t,r[13]=e,r[14]=i,this},scaling:function(t,e,i){this.zero();var r=this.val;return r[0]=t,r[5]=e,r[10]=i,r[15]=1,this},identity:function(){var t=this.val;return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this},transpose:function(){var t=this.val,e=t[1],i=t[2],r=t[3],n=t[6],s=t[7],a=t[11];return t[1]=t[4],t[2]=t[8],t[3]=t[12],t[4]=e,t[6]=t[9],t[7]=t[13],t[8]=i,t[9]=n,t[11]=t[14],t[12]=r,t[13]=s,t[14]=a,this},invert:function(){var t=this.val,e=t[0],i=t[1],r=t[2],n=t[3],s=t[4],a=t[5],o=t[6],h=t[7],l=t[8],u=t[9],f=t[10],c=t[11],d=t[12],g=t[13],v=t[14],p=t[15],m=e*a-i*s,y=e*o-r*s,x=e*h-n*s,T=i*o-r*a,_=i*h-n*a,w=r*h-n*o,S=l*g-u*d,C=l*v-f*d,R=l*p-c*d,L=u*v-f*g,E=u*p-c*g,O=f*p-c*v,A=m*O-y*E+x*L+T*R-_*C+w*S;return A?(A=1/A,t[0]=(a*O-o*E+h*L)*A,t[1]=(r*E-i*O-n*L)*A,t[2]=(g*w-v*_+p*T)*A,t[3]=(f*_-u*w-c*T)*A,t[4]=(o*R-s*O-h*C)*A,t[5]=(e*O-r*R+n*C)*A,t[6]=(v*x-d*w-p*y)*A,t[7]=(l*w-f*x+c*y)*A,t[8]=(s*E-a*R+h*S)*A,t[9]=(i*R-e*E-n*S)*A,t[10]=(d*_-g*x+p*m)*A,t[11]=(u*x-l*_-c*m)*A,t[12]=(a*C-s*L-o*S)*A,t[13]=(e*L-i*C+r*S)*A,t[14]=(g*y-d*T-v*m)*A,t[15]=(l*T-u*y+f*m)*A,this):null},adjoint:function(){var t=this.val,e=t[0],i=t[1],r=t[2],n=t[3],s=t[4],a=t[5],o=t[6],h=t[7],l=t[8],u=t[9],f=t[10],c=t[11],d=t[12],g=t[13],v=t[14],p=t[15];return t[0]=a*(f*p-c*v)-u*(o*p-h*v)+g*(o*c-h*f),t[1]=-(i*(f*p-c*v)-u*(r*p-n*v)+g*(r*c-n*f)),t[2]=i*(o*p-h*v)-a*(r*p-n*v)+g*(r*h-n*o),t[3]=-(i*(o*c-h*f)-a*(r*c-n*f)+u*(r*h-n*o)),t[4]=-(s*(f*p-c*v)-l*(o*p-h*v)+d*(o*c-h*f)),t[5]=e*(f*p-c*v)-l*(r*p-n*v)+d*(r*c-n*f),t[6]=-(e*(o*p-h*v)-s*(r*p-n*v)+d*(r*h-n*o)),t[7]=e*(o*c-h*f)-s*(r*c-n*f)+l*(r*h-n*o),t[8]=s*(u*p-c*g)-l*(a*p-h*g)+d*(a*c-h*u),t[9]=-(e*(u*p-c*g)-l*(i*p-n*g)+d*(i*c-n*u)),t[10]=e*(a*p-h*g)-s*(i*p-n*g)+d*(i*h-n*a),t[11]=-(e*(a*c-h*u)-s*(i*c-n*u)+l*(i*h-n*a)),t[12]=-(s*(u*v-f*g)-l*(a*v-o*g)+d*(a*f-o*u)),t[13]=e*(u*v-f*g)-l*(i*v-r*g)+d*(i*f-r*u),t[14]=-(e*(a*v-o*g)-s*(i*v-r*g)+d*(i*o-r*a)),t[15]=e*(a*f-o*u)-s*(i*f-r*u)+l*(i*o-r*a),this},determinant:function(){var t=this.val,e=t[0],i=t[1],r=t[2],n=t[3],s=t[4],a=t[5],o=t[6],h=t[7],l=t[8],u=t[9],f=t[10],c=t[11],d=t[12],g=t[13],v=t[14],p=t[15],m=e*a-i*s,y=e*o-r*s,x=e*h-n*s,T=i*o-r*a,_=i*h-n*a,w=r*h-n*o,S=l*g-u*d,C=l*v-f*d,R=l*p-c*d,L=u*v-f*g,E=u*p-c*g,O=f*p-c*v;return m*O-y*E+x*L+T*R-_*C+w*S},multiply:function(t){var e=this.val,i=e[0],r=e[1],n=e[2],s=e[3],a=e[4],o=e[5],h=e[6],l=e[7],u=e[8],f=e[9],c=e[10],d=e[11],g=e[12],v=e[13],p=e[14],m=e[15],y=t.val,x=y[0],T=y[1],_=y[2],w=y[3];return e[0]=x*i+T*a+_*u+w*g,e[1]=x*r+T*o+_*f+w*v,e[2]=x*n+T*h+_*c+w*p,e[3]=x*s+T*l+_*d+w*m,x=y[4],T=y[5],_=y[6],w=y[7],e[4]=x*i+T*a+_*u+w*g,e[5]=x*r+T*o+_*f+w*v,e[6]=x*n+T*h+_*c+w*p,e[7]=x*s+T*l+_*d+w*m,x=y[8],T=y[9],_=y[10],w=y[11],e[8]=x*i+T*a+_*u+w*g,e[9]=x*r+T*o+_*f+w*v,e[10]=x*n+T*h+_*c+w*p,e[11]=x*s+T*l+_*d+w*m,x=y[12],T=y[13],_=y[14],w=y[15],e[12]=x*i+T*a+_*u+w*g,e[13]=x*r+T*o+_*f+w*v,e[14]=x*n+T*h+_*c+w*p,e[15]=x*s+T*l+_*d+w*m,this},multiplyLocal:function(t){var e=[],i=this.val,r=t.val;return e[0]=i[0]*r[0]+i[1]*r[4]+i[2]*r[8]+i[3]*r[12],e[1]=i[0]*r[1]+i[1]*r[5]+i[2]*r[9]+i[3]*r[13],e[2]=i[0]*r[2]+i[1]*r[6]+i[2]*r[10]+i[3]*r[14],e[3]=i[0]*r[3]+i[1]*r[7]+i[2]*r[11]+i[3]*r[15],e[4]=i[4]*r[0]+i[5]*r[4]+i[6]*r[8]+i[7]*r[12],e[5]=i[4]*r[1]+i[5]*r[5]+i[6]*r[9]+i[7]*r[13],e[6]=i[4]*r[2]+i[5]*r[6]+i[6]*r[10]+i[7]*r[14],e[7]=i[4]*r[3]+i[5]*r[7]+i[6]*r[11]+i[7]*r[15],e[8]=i[8]*r[0]+i[9]*r[4]+i[10]*r[8]+i[11]*r[12],e[9]=i[8]*r[1]+i[9]*r[5]+i[10]*r[9]+i[11]*r[13],e[10]=i[8]*r[2]+i[9]*r[6]+i[10]*r[10]+i[11]*r[14],e[11]=i[8]*r[3]+i[9]*r[7]+i[10]*r[11]+i[11]*r[15],e[12]=i[12]*r[0]+i[13]*r[4]+i[14]*r[8]+i[15]*r[12],e[13]=i[12]*r[1]+i[13]*r[5]+i[14]*r[9]+i[15]*r[13],e[14]=i[12]*r[2]+i[13]*r[6]+i[14]*r[10]+i[15]*r[14],e[15]=i[12]*r[3]+i[13]*r[7]+i[14]*r[11]+i[15]*r[15],this.fromArray(e)},translate:function(t){var e=t.x,i=t.y,r=t.z,n=this.val;return n[12]=n[0]*e+n[4]*i+n[8]*r+n[12],n[13]=n[1]*e+n[5]*i+n[9]*r+n[13],n[14]=n[2]*e+n[6]*i+n[10]*r+n[14],n[15]=n[3]*e+n[7]*i+n[11]*r+n[15],this},scale:function(t){var e=t.x,i=t.y,r=t.z,n=this.val;return n[0]=n[0]*e,n[1]=n[1]*e,n[2]=n[2]*e,n[3]=n[3]*e,n[4]=n[4]*i,n[5]=n[5]*i,n[6]=n[6]*i,n[7]=n[7]*i,n[8]=n[8]*r,n[9]=n[9]*r,n[10]=n[10]*r,n[11]=n[11]*r,this},makeRotationAxis:function(t,e){var i=Math.cos(e),r=Math.sin(e),n=1-i,s=t.x,a=t.y,o=t.z,h=n*s,l=n*a;return this.fromArray([h*s+i,h*a-r*o,h*o+r*a,0,h*a+r*o,l*a+i,l*o-r*s,0,h*o-r*a,l*o+r*s,n*o*o+i,0,0,0,0,1]),this},rotate:function(t,e){var i=this.val,r=e.x,n=e.y,s=e.z,a=Math.sqrt(r*r+n*n+s*s);if(Math.abs(a)<Uu)return null;a=1/a,r*=a,n*=a,s*=a;var o=Math.sin(t),h=Math.cos(t),l=1-h,u=i[0],f=i[1],c=i[2],d=i[3],g=i[4],v=i[5],p=i[6],m=i[7],y=i[8],x=i[9],T=i[10],_=i[11],w=r*r*l+h,S=n*r*l+s*o,C=s*r*l-n*o,R=r*n*l-s*o,L=n*n*l+h,E=s*n*l+r*o,O=r*s*l+n*o,A=n*s*l-r*o,F=s*s*l+h;return i[0]=u*w+g*S+y*C,i[1]=f*w+v*S+x*C,i[2]=c*w+p*S+T*C,i[3]=d*w+m*S+_*C,i[4]=u*R+g*L+y*E,i[5]=f*R+v*L+x*E,i[6]=c*R+p*L+T*E,i[7]=d*R+m*L+_*E,i[8]=u*O+g*A+y*F,i[9]=f*O+v*A+x*F,i[10]=c*O+p*A+T*F,i[11]=d*O+m*A+_*F,this},rotateX:function(t){var e=this.val,i=Math.sin(t),r=Math.cos(t),n=e[4],s=e[5],a=e[6],o=e[7],h=e[8],l=e[9],u=e[10],f=e[11];return e[4]=n*r+h*i,e[5]=s*r+l*i,e[6]=a*r+u*i,e[7]=o*r+f*i,e[8]=h*r-n*i,e[9]=l*r-s*i,e[10]=u*r-a*i,e[11]=f*r-o*i,this},rotateY:function(t){var e=this.val,i=Math.sin(t),r=Math.cos(t),n=e[0],s=e[1],a=e[2],o=e[3],h=e[8],l=e[9],u=e[10],f=e[11];return e[0]=n*r-h*i,e[1]=s*r-l*i,e[2]=a*r-u*i,e[3]=o*r-f*i,e[8]=n*i+h*r,e[9]=s*i+l*r,e[10]=a*i+u*r,e[11]=o*i+f*r,this},rotateZ:function(t){var e=this.val,i=Math.sin(t),r=Math.cos(t),n=e[0],s=e[1],a=e[2],o=e[3],h=e[4],l=e[5],u=e[6],f=e[7];return e[0]=n*r+h*i,e[1]=s*r+l*i,e[2]=a*r+u*i,e[3]=o*r+f*i,e[4]=h*r-n*i,e[5]=l*r-s*i,e[6]=u*r-a*i,e[7]=f*r-o*i,this},fromRotationTranslation:function(t,e){var i=this.val,r=t.x,n=t.y,s=t.z,a=t.w,o=r+r,h=n+n,l=s+s,u=r*o,f=r*h,c=r*l,d=n*h,g=n*l,v=s*l,p=a*o,m=a*h,y=a*l;return i[0]=1-(d+v),i[1]=f+y,i[2]=c-m,i[3]=0,i[4]=f-y,i[5]=1-(u+v),i[6]=g+p,i[7]=0,i[8]=c+m,i[9]=g-p,i[10]=1-(u+d),i[11]=0,i[12]=e.x,i[13]=e.y,i[14]=e.z,i[15]=1,this},fromQuat:function(t){var e=this.val,i=t.x,r=t.y,n=t.z,s=t.w,a=i+i,o=r+r,h=n+n,l=i*a,u=i*o,f=i*h,c=r*o,d=r*h,g=n*h,v=s*a,p=s*o,m=s*h;return e[0]=1-(c+g),e[1]=u+m,e[2]=f-p,e[3]=0,e[4]=u-m,e[5]=1-(l+g),e[6]=d+v,e[7]=0,e[8]=f+p,e[9]=d-v,e[10]=1-(l+c),e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,this},frustum:function(t,e,i,r,n,s){var a=this.val,o=1/(e-t),h=1/(r-i),l=1/(n-s);return a[0]=n*2*o,a[1]=0,a[2]=0,a[3]=0,a[4]=0,a[5]=n*2*h,a[6]=0,a[7]=0,a[8]=(e+t)*o,a[9]=(r+i)*h,a[10]=(s+n)*l,a[11]=-1,a[12]=0,a[13]=0,a[14]=s*n*2*l,a[15]=0,this},perspective:function(t,e,i,r){var n=this.val,s=1/Math.tan(t/2),a=1/(i-r);return n[0]=s/e,n[1]=0,n[2]=0,n[3]=0,n[4]=0,n[5]=s,n[6]=0,n[7]=0,n[8]=0,n[9]=0,n[10]=(r+i)*a,n[11]=-1,n[12]=0,n[13]=0,n[14]=2*r*i*a,n[15]=0,this},perspectiveLH:function(t,e,i,r){var n=this.val;return n[0]=2*i/t,n[1]=0,n[2]=0,n[3]=0,n[4]=0,n[5]=2*i/e,n[6]=0,n[7]=0,n[8]=0,n[9]=0,n[10]=-r/(i-r),n[11]=1,n[12]=0,n[13]=0,n[14]=i*r/(i-r),n[15]=0,this},ortho:function(t,e,i,r,n,s){var a=this.val,o=t-e,h=i-r,l=n-s;return o=o===0?o:1/o,h=h===0?h:1/h,l=l===0?l:1/l,a[0]=-2*o,a[1]=0,a[2]=0,a[3]=0,a[4]=0,a[5]=-2*h,a[6]=0,a[7]=0,a[8]=0,a[9]=0,a[10]=2*l,a[11]=0,a[12]=(t+e)*o,a[13]=(r+i)*h,a[14]=(s+n)*l,a[15]=1,this},lookAt:function(t,e,i){var r=this.val,n=t.x,s=t.y,a=t.z,o=i.x,h=i.y,l=i.z,u=e.x,f=e.y,c=e.z;if(Math.abs(n-u)<Uu&&Math.abs(s-f)<Uu&&Math.abs(a-c)<Uu)return this.identity();var d=n-u,g=s-f,v=a-c,p=1/Math.sqrt(d*d+g*g+v*v);d*=p,g*=p,v*=p;var m=h*v-l*g,y=l*d-o*v,x=o*g-h*d;p=Math.sqrt(m*m+y*y+x*x),p?(p=1/p,m*=p,y*=p,x*=p):(m=0,y=0,x=0);var T=g*x-v*y,_=v*m-d*x,w=d*y-g*m;return p=Math.sqrt(T*T+_*_+w*w),p?(p=1/p,T*=p,_*=p,w*=p):(T=0,_=0,w=0),r[0]=m,r[1]=T,r[2]=d,r[3]=0,r[4]=y,r[5]=_,r[6]=g,r[7]=0,r[8]=x,r[9]=w,r[10]=v,r[11]=0,r[12]=-(m*n+y*s+x*a),r[13]=-(T*n+_*s+w*a),r[14]=-(d*n+g*s+v*a),r[15]=1,this},yawPitchRoll:function(t,e,i){this.zero(),fh.zero(),ch.zero();var r=this.val,n=fh.val,s=ch.val,a=Math.sin(i),o=Math.cos(i);return r[10]=1,r[15]=1,r[0]=o,r[1]=a,r[4]=-a,r[5]=o,a=Math.sin(e),o=Math.cos(e),n[0]=1,n[15]=1,n[5]=o,n[10]=o,n[9]=-a,n[6]=a,a=Math.sin(t),o=Math.cos(t),s[5]=1,s[15]=1,s[0]=o,s[2]=-a,s[8]=a,s[10]=o,this.multiplyLocal(fh),this.multiplyLocal(ch),this},setWorldMatrix:function(t,e,i,r,n){return this.yawPitchRoll(t.y,t.x,t.z),fh.scaling(i.x,i.y,i.z),ch.xyz(e.x,e.y,e.z),this.multiplyLocal(fh),this.multiplyLocal(ch),r!==void 0&&this.multiplyLocal(r),n!==void 0&&this.multiplyLocal(n),this}}),fh=new Zc,ch=new Zc,Ey=Zc;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var uTt=b,Ly=Oo,fTt=LL,qC=1e-6,KC=new Int8Array([1,2,0]),qa=new Float32Array([0,0,0]),cTt=new Ly(1,0,0),dTt=new Ly(0,1,0),Kn=new Ly,JC=new fTt,vTt=new uTt({initialize:function(e,i,r,n){typeof e=="object"?(this.x=e.x||0,this.y=e.y||0,this.z=e.z||0,this.w=e.w||0):(this.x=e||0,this.y=i||0,this.z=r||0,this.w=n||0)},copy:function(t){return this.x=t.x,this.y=t.y,this.z=t.z,this.w=t.w,this},set:function(t,e,i,r){return typeof t=="object"?(this.x=t.x||0,this.y=t.y||0,this.z=t.z||0,this.w=t.w||0):(this.x=t||0,this.y=e||0,this.z=i||0,this.w=r||0),this},add:function(t){return this.x+=t.x,this.y+=t.y,this.z+=t.z,this.w+=t.w,this},subtract:function(t){return this.x-=t.x,this.y-=t.y,this.z-=t.z,this.w-=t.w,this},scale:function(t){return this.x*=t,this.y*=t,this.z*=t,this.w*=t,this},length:function(){var t=this.x,e=this.y,i=this.z,r=this.w;return Math.sqrt(t*t+e*e+i*i+r*r)},lengthSq:function(){var t=this.x,e=this.y,i=this.z,r=this.w;return t*t+e*e+i*i+r*r},normalize:function(){var t=this.x,e=this.y,i=this.z,r=this.w,n=t*t+e*e+i*i+r*r;return n>0&&(n=1/Math.sqrt(n),this.x=t*n,this.y=e*n,this.z=i*n,this.w=r*n),this},dot:function(t){return this.x*t.x+this.y*t.y+this.z*t.z+this.w*t.w},lerp:function(t,e){e===void 0&&(e=0);var i=this.x,r=this.y,n=this.z,s=this.w;return this.x=i+e*(t.x-i),this.y=r+e*(t.y-r),this.z=n+e*(t.z-n),this.w=s+e*(t.w-s),this},rotationTo:function(t,e){var i=t.x*e.x+t.y*e.y+t.z*e.z;return i<-.999999?(Kn.copy(cTt).cross(t).length()<qC&&Kn.copy(dTt).cross(t),Kn.normalize(),this.setAxisAngle(Kn,Math.PI)):i>.999999?(this.x=0,this.y=0,this.z=0,this.w=1,this):(Kn.copy(t).cross(e),this.x=Kn.x,this.y=Kn.y,this.z=Kn.z,this.w=1+i,this.normalize())},setAxes:function(t,e,i){var r=JC.val;return r[0]=e.x,r[3]=e.y,r[6]=e.z,r[1]=i.x,r[4]=i.y,r[7]=i.z,r[2]=-t.x,r[5]=-t.y,r[8]=-t.z,this.fromMat3(JC).normalize()},identity:function(){return this.x=0,this.y=0,this.z=0,this.w=1,this},setAxisAngle:function(t,e){e=e*.5;var i=Math.sin(e);return this.x=i*t.x,this.y=i*t.y,this.z=i*t.z,this.w=Math.cos(e),this},multiply:function(t){var e=this.x,i=this.y,r=this.z,n=this.w,s=t.x,a=t.y,o=t.z,h=t.w;return this.x=e*h+n*s+i*o-r*a,this.y=i*h+n*a+r*s-e*o,this.z=r*h+n*o+e*a-i*s,this.w=n*h-e*s-i*a-r*o,this},slerp:function(t,e){var i=this.x,r=this.y,n=this.z,s=this.w,a=t.x,o=t.y,h=t.z,l=t.w,u=i*a+r*o+n*h+s*l;u<0&&(u=-u,a=-a,o=-o,h=-h,l=-l);var f=1-e,c=e;if(1-u>qC){var d=Math.acos(u),g=Math.sin(d);f=Math.sin((1-e)*d)/g,c=Math.sin(e*d)/g}return this.x=f*i+c*a,this.y=f*r+c*o,this.z=f*n+c*h,this.w=f*s+c*l,this},invert:function(){var t=this.x,e=this.y,i=this.z,r=this.w,n=t*t+e*e+i*i+r*r,s=n?1/n:0;return this.x=-t*s,this.y=-e*s,this.z=-i*s,this.w=r*s,this},conjugate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this},rotateX:function(t){t*=.5;var e=this.x,i=this.y,r=this.z,n=this.w,s=Math.sin(t),a=Math.cos(t);return this.x=e*a+n*s,this.y=i*a+r*s,this.z=r*a-i*s,this.w=n*a-e*s,this},rotateY:function(t){t*=.5;var e=this.x,i=this.y,r=this.z,n=this.w,s=Math.sin(t),a=Math.cos(t);return this.x=e*a-r*s,this.y=i*a+n*s,this.z=r*a+e*s,this.w=n*a-i*s,this},rotateZ:function(t){t*=.5;var e=this.x,i=this.y,r=this.z,n=this.w,s=Math.sin(t),a=Math.cos(t);return this.x=e*a+i*s,this.y=i*a-e*s,this.z=r*a+n*s,this.w=n*a-r*s,this},calculateW:function(){var t=this.x,e=this.y,i=this.z;return this.w=-Math.sqrt(1-t*t-e*e-i*i),this},fromMat3:function(t){var e=t.val,i=e[0]+e[4]+e[8],r;if(i>0)r=Math.sqrt(i+1),this.w=.5*r,r=.5/r,this.x=(e[7]-e[5])*r,this.y=(e[2]-e[6])*r,this.z=(e[3]-e[1])*r;else{var n=0;e[4]>e[0]&&(n=1),e[8]>e[n*3+n]&&(n=2);var s=KC[n],a=KC[s];r=Math.sqrt(e[n*3+n]-e[s*3+s]-e[a*3+a]+1),qa[n]=.5*r,r=.5/r,qa[s]=(e[s*3+n]+e[n*3+s])*r,qa[a]=(e[a*3+n]+e[n*3+a])*r,this.x=qa[0],this.y=qa[1],this.z=qa[2],this.w=(e[a*3+s]-e[s*3+a])*r}return this}}),$L=vTt;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var pTt=Oo,gTt=Ey,mTt=$L,jC=new gTt,ZC=new mTt,yTt=new pTt,xTt=function(t,e,i){return ZC.setAxisAngle(e,i),jC.fromRotationTranslation(ZC,yTt.set(0,0,0)),t.transformMat4(jC)},OL=xTt;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var _Tt=_e,TTt=Ae,Sm={Angle:J1t,Distance:t_t,Easing:e_t,Fuzzy:l_t,Interpolation:w_t,Pow2:b_t,Snap:R_t,RandomDataGenerator:hR,Average:E_t,Bernstein:bL,Between:X0,CatmullRom:V0,CeilTo:$_t,Clamp:ei,DegToRad:Yr,Difference:I_t,Factorial:CL,FloatBetween:kF,FloorTo:B_t,FromPercent:pl,GetSpeed:G_t,IsEven:N_t,IsEvenStrict:V_t,Linear:Dc,MaxAdd:X_t,MinSub:H_t,Percent:K_t,RadToDeg:Y0,RandomXY:j_t,RandomXYZ:PL,RandomXYZW:AL,Rotate:RL,RotateAround:yR,RotateAroundDistance:R0,RoundAwayFromZero:lF,RoundTo:iTt,SinCosTableGenerator:nTt,SmootherStep:F0,SmoothStep:E0,TransformXY:N2,Within:aTt,Wrap:Ts,Vector2:at,Vector3:Oo,Vector4:Hc,Matrix3:LL,Matrix4:Ey,Quaternion:$L,RotateVec3:OL};Sm=TTt(!1,Sm,_Tt);var wTt=Sm;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var STt={DYNAMIC_BODY:0,STATIC_BODY:1,GROUP:2,TILEMAPLAYER:3,FACING_NONE:10,FACING_UP:11,FACING_DOWN:12,FACING_LEFT:13,FACING_RIGHT:14},En=STt;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var CTt={setAcceleration:function(t,e){return this.body.acceleration.set(t,e),this},setAccelerationX:function(t){return this.body.acceleration.x=t,this},setAccelerationY:function(t){return this.body.acceleration.y=t,this}},bTt=CTt;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var MTt={setAngularVelocity:function(t){return this.body.angularVelocity=t,this},setAngularAcceleration:function(t){return this.body.angularAcceleration=t,this},setAngularDrag:function(t){return this.body.angularDrag=t,this}},PTt=MTt;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var ATt={setBounce:function(t,e){return this.body.bounce.set(t,e),this},setBounceX:function(t){return this.body.bounce.x=t,this},setBounceY:function(t){return this.body.bounce.y=t,this},setCollideWorldBounds:function(t){return this.body.collideWorldBounds=t,this}},RTt=ATt;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var FTt={setDebug:function(t,e,i){return this.debugShowBody=t,this.debugShowVelocity=e,this.debugBodyColor=i,this},setDebugBodyColor:function(t){return this.body.debugBodyColor=t,this},debugShowBody:{get:function(){return this.body.debugShowBody},set:function(t){this.body.debugShowBody=t}},debugShowVelocity:{get:function(){return this.body.debugShowVelocity},set:function(t){this.body.debugShowVelocity=t}},debugBodyColor:{get:function(){return this.body.debugBodyColor},set:function(t){this.body.debugBodyColor=t}}},ETt=FTt;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var LTt={setDrag:function(t,e){return this.body.drag.set(t,e),this},setDragX:function(t){return this.body.drag.x=t,this},setDragY:function(t){return this.body.drag.y=t,this},setDamping:function(t){return this.body.useDamping=t,this}},$Tt=LTt;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var OTt={enableBody:function(t,e,i,r,n){return t&&this.body.reset(e,i),r&&(this.body.gameObject.active=!0),n&&(this.body.gameObject.visible=!0),this.body.enable=!0,this},disableBody:function(t,e){return t===void 0&&(t=!1),e===void 0&&(e=!1),this.body.stop(),this.body.enable=!1,t&&(this.body.gameObject.active=!1),e&&(this.body.gameObject.visible=!1),this},refreshBody:function(){return this.body.updateFromGameObject(),this}},ITt=OTt;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var DTt={setFriction:function(t,e){return this.body.friction.set(t,e),this},setFrictionX:function(t){return this.body.friction.x=t,this},setFrictionY:function(t){return this.body.friction.y=t,this}},BTt=DTt;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var kTt={setGravity:function(t,e){return this.body.gravity.set(t,e),this},setGravityX:function(t){return this.body.gravity.x=t,this},setGravityY:function(t){return this.body.gravity.y=t,this}},GTt=kTt;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var zTt={setImmovable:function(t){return t===void 0&&(t=!0),this.body.immovable=t,this}},NTt=zTt;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var YTt={setMass:function(t){return this.body.mass=t,this}},VTt=YTt;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var WTt={setOffset:function(t,e){return this.body.setOffset(t,e),this},setSize:function(t,e,i){return this.body.setSize(t,e,i),this},setCircle:function(t,e,i){return this.body.setCircle(t,e,i),this}},XTt=WTt;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var UTt={setVelocity:function(t,e){return this.body.setVelocity(t,e),this},setVelocityX:function(t){return this.body.setVelocityX(t),this},setVelocityY:function(t){return this.body.setVelocityY(t),this},setMaxVelocity:function(t,e){return this.body.maxVelocity.set(t,e),this}},HTt=UTt;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var IL={Acceleration:bTt,Angular:PTt,Bounce:RTt,Debug:ETt,Drag:$Tt,Enable:ITt,Friction:BTt,Gravity:GTt,Immovable:NTt,Mass:VTt,Size:XTt,Velocity:HTt};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var qTt=b,Oi=IL,QC=Fo,KTt=new qTt({Extends:QC,Mixins:[Oi.Acceleration,Oi.Angular,Oi.Bounce,Oi.Debug,Oi.Drag,Oi.Enable,Oi.Friction,Oi.Gravity,Oi.Immovable,Oi.Mass,Oi.Size,Oi.Velocity],initialize:function(e,i,r,n,s){QC.call(this,e,i,r,n,s),this.body=null}}),DL=KTt;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var JTt=b,Ii=IL,tb=Rn,jTt=new JTt({Extends:tb,Mixins:[Ii.Acceleration,Ii.Angular,Ii.Bounce,Ii.Debug,Ii.Drag,Ii.Enable,Ii.Friction,Ii.Gravity,Ii.Immovable,Ii.Mass,Ii.Size,Ii.Velocity],initialize:function(e,i,r,n,s){tb.call(this,e,i,r,n,s),this.body=null}}),Qc=jTt;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var ZTt=Qc,QTt=b,eb=En,Xt=V,ib=wl,rb=Ct,twt=new QTt({Extends:ib,initialize:function(e,i,r,n){!r&&!n?n={createCallback:this.createCallbackHandler,removeCallback:this.removeCallbackHandler}:rb(r)?(n=r,r=null,n.createCallback=this.createCallbackHandler,n.removeCallback=this.removeCallbackHandler):Array.isArray(r)&&rb(r[0])&&(n=r,r=null,n.forEach(function(s){s.createCallback=this.createCallbackHandler,s.removeCallback=this.removeCallbackHandler})),this.world=e,n.classType=Xt(n,"classType",ZTt),this.physicsType=eb.DYNAMIC_BODY,this.defaults={setCollideWorldBounds:Xt(n,"collideWorldBounds",!1),setAccelerationX:Xt(n,"accelerationX",0),setAccelerationY:Xt(n,"accelerationY",0),setAllowDrag:Xt(n,"allowDrag",!0),setAllowGravity:Xt(n,"allowGravity",!0),setAllowRotation:Xt(n,"allowRotation",!0),setBounceX:Xt(n,"bounceX",0),setBounceY:Xt(n,"bounceY",0),setDragX:Xt(n,"dragX",0),setDragY:Xt(n,"dragY",0),setEnable:Xt(n,"enable",!0),setGravityX:Xt(n,"gravityX",0),setGravityY:Xt(n,"gravityY",0),setFrictionX:Xt(n,"frictionX",0),setFrictionY:Xt(n,"frictionY",0),setVelocityX:Xt(n,"velocityX",0),setVelocityY:Xt(n,"velocityY",0),setAngularVelocity:Xt(n,"angularVelocity",0),setAngularAcceleration:Xt(n,"angularAcceleration",0),setAngularDrag:Xt(n,"angularDrag",0),setMass:Xt(n,"mass",1),setImmovable:Xt(n,"immovable",!1)},ib.call(this,i,r,n)},createCallbackHandler:function(t){t.body||this.world.enableBody(t,eb.DYNAMIC_BODY);var e=t.body;for(var i in this.defaults)e[i](this.defaults[i])},removeCallbackHandler:function(t){t.body&&this.world.disableBody(t)},setVelocity:function(t,e,i){i===void 0&&(i=0);for(var r=this.getChildren(),n=0;n<r.length;n++)r[n].body.velocity.set(t+n*i,e+n*i);return this},setVelocityX:function(t,e){e===void 0&&(e=0);for(var i=this.getChildren(),r=0;r<i.length;r++)i[r].body.velocity.x=t+r*e;return this},setVelocityY:function(t,e){e===void 0&&(e=0);for(var i=this.getChildren(),r=0;r<i.length;r++)i[r].body.velocity.y=t+r*e;return this}}),BL=twt;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var kp=Qc,ewt=b,nb=En,sb=wl,ab=Ct,iwt=new ewt({Extends:sb,initialize:function(e,i,r,n){!r&&!n?n={createCallback:this.createCallbackHandler,removeCallback:this.removeCallbackHandler,createMultipleCallback:this.createMultipleCallbackHandler,classType:kp}:ab(r)?(n=r,r=null,n.createCallback=this.createCallbackHandler,n.removeCallback=this.removeCallbackHandler,n.createMultipleCallback=this.createMultipleCallbackHandler,n.classType=kp):Array.isArray(r)&&ab(r[0])&&(n=r,r=null,n.forEach(function(s){s.createCallback=this.createCallbackHandler,s.removeCallback=this.removeCallbackHandler,s.createMultipleCallback=this.createMultipleCallbackHandler,s.classType=kp})),this.world=e,this.physicsType=nb.STATIC_BODY,sb.call(this,i,r,n)},createCallbackHandler:function(t){t.body||this.world.enableBody(t,nb.STATIC_BODY)},removeCallbackHandler:function(t){t.body&&this.world.disableBody(t)},createMultipleCallbackHandler:function(){this.refresh()},refresh:function(){for(var t=this.children.entries,e=0;e<t.length;e++)t[e].body.reset();return this}}),kL=iwt;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var ob=DL,hb=Qc,rwt=b,Ka=En,nwt=BL,swt=kL,awt=new rwt({initialize:function(e){this.world=e,this.scene=e.scene,this.sys=e.scene.sys},collider:function(t,e,i,r,n){return this.world.addCollider(t,e,i,r,n)},overlap:function(t,e,i,r,n){return this.world.addOverlap(t,e,i,r,n)},existing:function(t,e){var i=e?Ka.STATIC_BODY:Ka.DYNAMIC_BODY;return this.world.enableBody(t,i),t},staticImage:function(t,e,i,r){var n=new ob(this.scene,t,e,i,r);return this.sys.displayList.add(n),this.world.enableBody(n,Ka.STATIC_BODY),n},image:function(t,e,i,r){var n=new ob(this.scene,t,e,i,r);return this.sys.displayList.add(n),this.world.enableBody(n,Ka.DYNAMIC_BODY),n},staticSprite:function(t,e,i,r){var n=new hb(this.scene,t,e,i,r);return this.sys.displayList.add(n),this.sys.updateList.add(n),this.world.enableBody(n,Ka.STATIC_BODY),n},sprite:function(t,e,i,r){var n=new hb(this.scene,t,e,i,r);return this.sys.displayList.add(n),this.sys.updateList.add(n),this.world.enableBody(n,Ka.DYNAMIC_BODY),n},staticGroup:function(t,e){return this.sys.updateList.add(new swt(this.world,this.world.scene,t,e))},group:function(t,e){return this.sys.updateList.add(new nwt(this.world,this.world.scene,t,e))},destroy:function(){this.world=null,this.scene=null,this.sys=null}}),GL=awt;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var owt=bn,hwt=b,Ja=En,lwt=Y0,uwt=Dt,fwt=Mn,pi=at,cwt=new hwt({initialize:function(e,i){var r=i.width?i.width:64,n=i.height?i.height:64;this.world=e,this.gameObject=i,this.transform={x:i.x,y:i.y,rotation:i.angle,scaleX:i.scaleX,scaleY:i.scaleY,displayOriginX:i.displayOriginX,displayOriginY:i.displayOriginY},this.debugShowBody=e.defaults.debugShowBody,this.debugShowVelocity=e.defaults.debugShowVelocity,this.debugBodyColor=e.defaults.bodyDebugColor,this.enable=!0,this.isCircle=!1,this.radius=0,this.offset=new pi,this.position=new pi(i.x,i.y),this.prev=new pi(i.x,i.y),this.allowRotation=!0,this.rotation=i.angle,this.preRotation=i.angle,this.width=r,this.height=n,this.sourceWidth=r,this.sourceHeight=n,i.frame&&(this.sourceWidth=i.frame.realWidth,this.sourceHeight=i.frame.realHeight),this.halfWidth=Math.abs(r/2),this.halfHeight=Math.abs(n/2),this.center=new pi(i.x+this.halfWidth,i.y+this.halfHeight),this.velocity=new pi,this.newVelocity=new pi,this.deltaMax=new pi,this.acceleration=new pi,this.allowDrag=!0,this.drag=new pi,this.allowGravity=!0,this.gravity=new pi,this.bounce=new pi,this.worldBounce=null,this.onWorldBounds=!1,this.onCollide=!1,this.onOverlap=!1,this.maxVelocity=new pi(1e4,1e4),this.friction=new pi(1,0),this.useDamping=!1,this.angularVelocity=0,this.angularAcceleration=0,this.angularDrag=0,this.maxAngular=1e3,this.mass=1,this.angle=0,this.speed=0,this.facing=Ja.FACING_NONE,this.immovable=!1,this.moves=!0,this.customSeparateX=!1,this.customSeparateY=!1,this.overlapX=0,this.overlapY=0,this.overlapR=0,this.embedded=!1,this.collideWorldBounds=!1,this.checkCollision={none:!1,up:!0,down:!0,left:!0,right:!0},this.touching={none:!0,up:!1,down:!1,left:!1,right:!1},this.wasTouching={none:!0,up:!1,down:!1,left:!1,right:!1},this.blocked={none:!0,up:!1,down:!1,left:!1,right:!1},this.syncBounds=!1,this.isMoving=!1,this.stopVelocityOnCollide=!0,this.physicsType=Ja.DYNAMIC_BODY,this._reset=!0,this._sx=i.scaleX,this._sy=i.scaleY,this._dx=0,this._dy=0,this._bounds=new uwt},updateBounds:function(){var t=this.gameObject,e=this.transform;if(t.parentContainer){var i=t.getWorldTransformMatrix(this.world._tempMatrix,this.world._tempMatrix2);e.x=i.tx,e.y=i.ty,e.rotation=lwt(i.rotation),e.scaleX=i.scaleX,e.scaleY=i.scaleY,e.displayOriginX=t.displayOriginX,e.displayOriginY=t.displayOriginY}else e.x=t.x,e.y=t.y,e.rotation=t.angle,e.scaleX=t.scaleX,e.scaleY=t.scaleY,e.displayOriginX=t.displayOriginX,e.displayOriginY=t.displayOriginY;var r=!1;if(this.syncBounds){var n=t.getBounds(this._bounds);this.width=n.width,this.height=n.height,r=!0}else{var s=Math.abs(e.scaleX),a=Math.abs(e.scaleY);(this._sx!==s||this._sy!==a)&&(this.width=this.sourceWidth*s,this.height=this.sourceHeight*a,this._sx=s,this._sy=a,r=!0)}r&&(this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.updateCenter())},updateCenter:function(){this.center.set(this.position.x+this.halfWidth,this.position.y+this.halfHeight)},update:function(t){this.wasTouching.none=this.touching.none,this.wasTouching.up=this.touching.up,this.wasTouching.down=this.touching.down,this.wasTouching.left=this.touching.left,this.wasTouching.right=this.touching.right,this.touching.none=!0,this.touching.up=!1,this.touching.down=!1,this.touching.left=!1,this.touching.right=!1,this.blocked.none=!0,this.blocked.up=!1,this.blocked.down=!1,this.blocked.left=!1,this.blocked.right=!1,this.overlapR=0,this.overlapX=0,this.overlapY=0,this.embedded=!1,this.updateBounds();var e=this.transform;if(this.position.x=e.x+e.scaleX*(this.offset.x-e.displayOriginX),this.position.y=e.y+e.scaleY*(this.offset.y-e.displayOriginY),this.updateCenter(),this.rotation=e.rotation,this.preRotation=this.rotation,this._reset&&(this.prev.x=this.position.x,this.prev.y=this.position.y),this.moves){this.world.updateMotion(this,t);var i=this.velocity.x,r=this.velocity.y;this.newVelocity.set(i*t,r*t),this.position.add(this.newVelocity),this.updateCenter(),this.angle=Math.atan2(r,i),this.speed=Math.sqrt(i*i+r*r),this.collideWorldBounds&&this.checkWorldBounds()&&this.onWorldBounds&&this.world.emit("worldbounds",this,this.blocked.up,this.blocked.down,this.blocked.left,this.blocked.right)}this._dx=this.position.x-this.prev.x,this._dy=this.position.y-this.prev.y},postUpdate:function(){this._dx=this.position.x-this.prev.x,this._dy=this.position.y-this.prev.y,this.moves&&(this.deltaMax.x!==0&&this._dx!==0&&(this._dx<0&&this._dx<-this.deltaMax.x?this._dx=-this.deltaMax.x:this._dx>0&&this._dx>this.deltaMax.x&&(this._dx=this.deltaMax.x)),this.deltaMax.y!==0&&this._dy!==0&&(this._dy<0&&this._dy<-this.deltaMax.y?this._dy=-this.deltaMax.y:this._dy>0&&this._dy>this.deltaMax.y&&(this._dy=this.deltaMax.y)),this.gameObject.x+=this._dx,this.gameObject.y+=this._dy,this._reset=!0),this._dx<0?this.facing=Ja.FACING_LEFT:this._dx>0&&(this.facing=Ja.FACING_RIGHT),this._dy<0?this.facing=Ja.FACING_UP:this._dy>0&&(this.facing=Ja.FACING_DOWN),this.allowRotation&&(this.gameObject.angle+=this.deltaZ()),this.prev.x=this.position.x,this.prev.y=this.position.y},checkWorldBounds:function(){var t=this.position,e=this.world.bounds,i=this.world.checkCollision,r=this.worldBounce?-this.worldBounce.x:-this.bounce.x,n=this.worldBounce?-this.worldBounce.y:-this.bounce.y;return t.x<e.x&&i.left?(t.x=e.x,this.velocity.x*=r,this.blocked.left=!0,this.blocked.none=!1):this.right>e.right&&i.right&&(t.x=e.right-this.width,this.velocity.x*=r,this.blocked.right=!0,this.blocked.none=!1),t.y<e.y&&i.up?(t.y=e.y,this.velocity.y*=n,this.blocked.up=!0,this.blocked.none=!1):this.bottom>e.bottom&&i.down&&(t.y=e.bottom-this.height,this.velocity.y*=n,this.blocked.down=!0,this.blocked.none=!1),!this.blocked.none},setOffset:function(t,e){return e===void 0&&(e=t),this.offset.set(t,e),this},setSize:function(t,e,i){i===void 0&&(i=!0);var r=this.gameObject;if(!t&&r.frame&&(t=r.frame.realWidth),!e&&r.frame&&(e=r.frame.realHeight),this.sourceWidth=t,this.sourceHeight=e,this.width=this.sourceWidth*this._sx,this.height=this.sourceHeight*this._sy,this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.updateCenter(),i&&r.getCenter){var n=r.displayWidth/2,s=r.displayHeight/2;this.offset.set(n-this.halfWidth,s-this.halfHeight)}return this.isCircle=!1,this.radius=0,this},setCircle:function(t,e,i){return e===void 0&&(e=this.offset.x),i===void 0&&(i=this.offset.y),t>0?(this.isCircle=!0,this.radius=t,this.sourceWidth=t*2,this.sourceHeight=t*2,this.width=this.sourceWidth*this._sx,this.height=this.sourceHeight*this._sy,this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.offset.set(e,i),this.updateCenter()):this.isCircle=!1,this},reset:function(t,e){this.stop();var i=this.gameObject;i.setPosition(t,e),i.getTopLeft(this.position),this.prev.copy(this.position),this.rotation=i.angle,this.preRotation=i.angle,this.updateBounds(),this.updateCenter()},stop:function(){return this.velocity.set(0),this.acceleration.set(0),this.speed=0,this.angularVelocity=0,this.angularAcceleration=0,this},getBounds:function(t){return t.x=this.x,t.y=this.y,t.right=this.right,t.bottom=this.bottom,t},hitTest:function(t,e){return this.isCircle?owt(this,t,e):fwt(this,t,e)},onFloor:function(){return this.blocked.down},onCeiling:function(){return this.blocked.up},onWall:function(){return this.blocked.left||this.blocked.right},deltaAbsX:function(){return this._dx>0?this._dx:-this._dx},deltaAbsY:function(){return this._dy>0?this._dy:-this._dy},deltaX:function(){return this._dx},deltaY:function(){return this._dy},deltaZ:function(){return this.rotation-this.preRotation},destroy:function(){this.enable=!1,this.world.pendingDestroy.set(this)},drawDebug:function(t){var e=this.position,i=e.x+this.halfWidth,r=e.y+this.halfHeight;this.debugShowBody&&(t.lineStyle(1,this.debugBodyColor),this.isCircle?t.strokeCircle(i,r,this.width/2):t.strokeRect(e.x,e.y,this.width,this.height)),this.debugShowVelocity&&(t.lineStyle(1,this.world.defaults.velocityDebugColor,1),t.lineBetween(i,r,i+this.velocity.x/2,r+this.velocity.y/2))},willDrawDebug:function(){return this.debugShowBody||this.debugShowVelocity},setCollideWorldBounds:function(t){return t===void 0&&(t=!0),this.collideWorldBounds=t,this},setVelocity:function(t,e){return this.velocity.set(t,e),this.speed=Math.sqrt(t*t+e*e),this},setVelocityX:function(t){this.velocity.x=t;var e=t,i=this.velocity.y;return this.speed=Math.sqrt(e*e+i*i),this},setVelocityY:function(t){this.velocity.y=t;var e=this.velocity.x,i=t;return this.speed=Math.sqrt(e*e+i*i),this},setMaxVelocity:function(t,e){return this.maxVelocity.set(t,e),this},setBounce:function(t,e){return this.bounce.set(t,e),this},setBounceX:function(t){return this.bounce.x=t,this},setBounceY:function(t){return this.bounce.y=t,this},setAcceleration:function(t,e){return this.acceleration.set(t,e),this},setAccelerationX:function(t){return this.acceleration.x=t,this},setAccelerationY:function(t){return this.acceleration.y=t,this},setAllowDrag:function(t){return t===void 0&&(t=!0),this.allowDrag=t,this},setAllowGravity:function(t){return t===void 0&&(t=!0),this.allowGravity=t,this},setAllowRotation:function(t){return t===void 0&&(t=!0),this.allowRotation=t,this},setDrag:function(t,e){return this.drag.set(t,e),this},setDragX:function(t){return this.drag.x=t,this},setDragY:function(t){return this.drag.y=t,this},setGravity:function(t,e){return this.gravity.set(t,e),this},setGravityX:function(t){return this.gravity.x=t,this},setGravityY:function(t){return this.gravity.y=t,this},setFriction:function(t,e){return this.friction.set(t,e),this},setFrictionX:function(t){return this.friction.x=t,this},setFrictionY:function(t){return this.friction.y=t,this},setAngularVelocity:function(t){return this.angularVelocity=t,this},setAngularAcceleration:function(t){return this.angularAcceleration=t,this},setAngularDrag:function(t){return this.angularDrag=t,this},setMass:function(t){return this.mass=t,this},setImmovable:function(t){return t===void 0&&(t=!0),this.immovable=t,this},setEnable:function(t){return t===void 0&&(t=!0),this.enable=t,this},x:{get:function(){return this.position.x},set:function(t){this.position.x=t}},y:{get:function(){return this.position.y},set:function(t){this.position.y=t}},left:{get:function(){return this.position.x}},right:{get:function(){return this.position.x+this.width}},top:{get:function(){return this.position.y}},bottom:{get:function(){return this.position.y+this.height}}}),zL=cwt;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var dwt=b,vwt=new dwt({initialize:function(e,i,r,n,s,a,o){this.world=e,this.name="",this.active=!0,this.overlapOnly=i,this.object1=r,this.object2=n,this.collideCallback=s,this.processCallback=a,this.callbackContext=o},setName:function(t){return this.name=t,this},update:function(){this.world.collideObjects(this.object1,this.object2,this.collideCallback,this.processCallback,this.callbackContext,this.overlapOnly)},destroy:function(){this.world.removeCollider(this),this.active=!1,this.world=null,this.object1=null,this.object2=null,this.collideCallback=null,this.processCallback=null,this.callbackContext=null}}),NL=vwt;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var Hu=En,pwt=function(t,e,i,r){var n=0,s=t.deltaAbsX()+e.deltaAbsX()+r;return t._dx===0&&e._dx===0?(t.embedded=!0,e.embedded=!0):t._dx>e._dx?(n=t.right-e.x,n>s&&!i||t.checkCollision.right===!1||e.checkCollision.left===!1?n=0:(t.touching.none=!1,t.touching.right=!0,e.touching.none=!1,e.touching.left=!0,e.physicsType===Hu.STATIC_BODY&&(t.blocked.none=!1,t.blocked.right=!0),t.physicsType===Hu.STATIC_BODY&&(e.blocked.none=!1,e.blocked.left=!0))):t._dx<e._dx&&(n=t.x-e.width-e.x,-n>s&&!i||t.checkCollision.left===!1||e.checkCollision.right===!1?n=0:(t.touching.none=!1,t.touching.left=!0,e.touching.none=!1,e.touching.right=!0,e.physicsType===Hu.STATIC_BODY&&(t.blocked.none=!1,t.blocked.left=!0),t.physicsType===Hu.STATIC_BODY&&(e.blocked.none=!1,e.blocked.right=!0))),t.overlapX=n,e.overlapX=n,n},YL=pwt;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var qu=En,gwt=function(t,e,i,r){var n=0,s=t.deltaAbsY()+e.deltaAbsY()+r;return t._dy===0&&e._dy===0?(t.embedded=!0,e.embedded=!0):t._dy>e._dy?(n=t.bottom-e.y,n>s&&!i||t.checkCollision.down===!1||e.checkCollision.up===!1?n=0:(t.touching.none=!1,t.touching.down=!0,e.touching.none=!1,e.touching.up=!0,e.physicsType===qu.STATIC_BODY&&(t.blocked.none=!1,t.blocked.down=!0),t.physicsType===qu.STATIC_BODY&&(e.blocked.none=!1,e.blocked.up=!0))):t._dy<e._dy&&(n=t.y-e.bottom,-n>s&&!i||t.checkCollision.up===!1||e.checkCollision.down===!1?n=0:(t.touching.none=!1,t.touching.up=!0,e.touching.none=!1,e.touching.down=!0,e.physicsType===qu.STATIC_BODY&&(t.blocked.none=!1,t.blocked.up=!0),t.physicsType===qu.STATIC_BODY&&(e.blocked.none=!1,e.blocked.down=!0))),t.overlapY=n,e.overlapY=n,n},VL=gwt;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var mwt=b,ywt=new mwt({initialize:function(){this._pending=[],this._active=[],this._destroy=[],this._toProcess=0},add:function(t){return this._pending.push(t),this._toProcess++,this},remove:function(t){return this._destroy.push(t),this._toProcess++,this},update:function(){if(this._toProcess===0)return this._active;var t=this._destroy,e=this._active,i,r;for(i=0;i<t.length;i++){r=t[i];var n=e.indexOf(r);n!==-1&&e.splice(n,1)}for(t.length=0,t=this._pending,i=0;i<t.length;i++)r=t[i],this._active.push(r);return t.length=0,this._toProcess=0,this._active},getActive:function(){return this._active},destroy:function(){this._pending=[],this._active=[],this._destroy=[]}}),WL=ywt;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var xwt=function(t,e){return t.collisionCallback?!t.collisionCallback.call(t.collisionCallbackContext,e,t):t.layer.callbacks[t.index]?!t.layer.callbacks[t.index].callback.call(t.layer.callbacks[t.index].callbackContext,e,t):!0},_wt=xwt;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var Twt=fF;function uc(t){if(!(this instanceof uc))return new uc(t);this._maxEntries=Math.max(4,t||9),this._minEntries=Math.max(2,Math.ceil(this._maxEntries*.4)),this.clear()}uc.prototype={all:function(){return this._all(this.data,[])},search:function(t){var e=this.data,i=[],r=this.toBBox;if(!Ju(t,e))return i;for(var n=[],s,a,o,h;e;){for(s=0,a=e.children.length;s<a;s++)o=e.children[s],h=e.leaf?r(o):o,Ju(t,h)&&(e.leaf?i.push(o):zp(t,h)?this._all(o,i):n.push(o));e=n.pop()}return i},collides:function(t){var e=this.data,i=this.toBBox;if(!Ju(t,e))return!1;for(var r=[],n,s,a,o;e;){for(n=0,s=e.children.length;n<s;n++)if(a=e.children[n],o=e.leaf?i(a):a,Ju(t,o)){if(e.leaf||zp(t,o))return!0;r.push(a)}e=r.pop()}return!1},load:function(t){if(!(t&&t.length))return this;if(t.length<this._minEntries){for(var e=0,i=t.length;e<i;e++)this.insert(t[e]);return this}var r=this._build(t.slice(),0,t.length-1,0);if(!this.data.children.length)this.data=r;else if(this.data.height===r.height)this._splitRoot(this.data,r);else{if(this.data.height<r.height){var n=this.data;this.data=r,r=n}this._insert(r,this.data.height-r.height-1,!0)}return this},insert:function(t){return t&&this._insert(t,this.data.height-1),this},clear:function(){return this.data=ao([]),this},remove:function(t,e){if(!t)return this;for(var i=this.data,r=this.toBBox(t),n=[],s=[],a,o,h,l;i||n.length;){if(i||(i=n.pop(),o=n[n.length-1],a=s.pop(),l=!0),i.leaf&&(h=wwt(t,i.children,e),h!==-1))return i.children.splice(h,1),n.push(i),this._condense(n),this;!l&&!i.leaf&&zp(i,r)?(n.push(i),s.push(a),a=0,o=i,i=i.children[0]):o?(a++,i=o.children[a],l=!1):i=null}return this},toBBox:function(t){return t},compareMinX:lb,compareMinY:ub,toJSON:function(){return this.data},fromJSON:function(t){return this.data=t,this},_all:function(t,e){for(var i=[];t;)t.leaf?e.push.apply(e,t.children):i.push.apply(i,t.children),t=i.pop();return e},_build:function(t,e,i,r){var n=i-e+1,s=this._maxEntries,a;if(n<=s)return a=ao(t.slice(e,i+1)),ja(a,this.toBBox),a;r||(r=Math.ceil(Math.log(n)/Math.log(s)),s=Math.ceil(n/Math.pow(s,r-1))),a=ao([]),a.leaf=!1,a.height=r;var o=Math.ceil(n/s),h=o*Math.ceil(Math.sqrt(s)),l,u,f,c;for(fb(t,e,i,h,this.compareMinX),l=e;l<=i;l+=h)for(f=Math.min(l+h-1,i),fb(t,l,f,o,this.compareMinY),u=l;u<=f;u+=o)c=Math.min(u+o-1,f),a.children.push(this._build(t,u,c,r-1));return ja(a,this.toBBox),a},_chooseSubtree:function(t,e,i,r){for(var n,s,a,o,h,l,u,f;r.push(e),!(e.leaf||r.length-1===i);){for(u=f=1/0,n=0,s=e.children.length;n<s;n++)a=e.children[n],h=Gp(a),l=Swt(t,a)-h,l<f?(f=l,u=h<u?h:u,o=a):l===f&&h<u&&(u=h,o=a);e=o||e.children[0]}return e},_insert:function(t,e,i){var r=this.toBBox,n=i?t:r(t),s=[],a=this._chooseSubtree(n,this.data,e,s);for(a.children.push(t),Bh(a,n);e>=0&&s[e].children.length>this._maxEntries;)this._split(s,e),e--;this._adjustParentBBoxes(n,s,e)},_split:function(t,e){var i=t[e],r=i.children.length,n=this._minEntries;this._chooseSplitAxis(i,n,r);var s=this._chooseSplitIndex(i,n,r),a=ao(i.children.splice(s,i.children.length-s));a.height=i.height,a.leaf=i.leaf,ja(i,this.toBBox),ja(a,this.toBBox),e?t[e-1].children.push(a):this._splitRoot(i,a)},_splitRoot:function(t,e){this.data=ao([t,e]),this.data.height=t.height+1,this.data.leaf=!1,ja(this.data,this.toBBox)},_chooseSplitIndex:function(t,e,i){var r,n,s,a,o,h,l,u;for(h=l=1/0,r=e;r<=i-e;r++)n=Dh(t,0,r,this.toBBox),s=Dh(t,r,i,this.toBBox),a=Cwt(n,s),o=Gp(n)+Gp(s),a<h?(h=a,u=r,l=o<l?o:l):a===h&&o<l&&(l=o,u=r);return u},_chooseSplitAxis:function(t,e,i){var r=t.leaf?this.compareMinX:lb,n=t.leaf?this.compareMinY:ub,s=this._allDistMargin(t,e,i,r),a=this._allDistMargin(t,e,i,n);s<a&&t.children.sort(r)},_allDistMargin:function(t,e,i,r){t.children.sort(r);var n=this.toBBox,s=Dh(t,0,e,n),a=Dh(t,i-e,i,n),o=Ku(s)+Ku(a),h,l;for(h=e;h<i-e;h++)l=t.children[h],Bh(s,t.leaf?n(l):l),o+=Ku(s);for(h=i-e-1;h>=e;h--)l=t.children[h],Bh(a,t.leaf?n(l):l),o+=Ku(a);return o},_adjustParentBBoxes:function(t,e,i){for(var r=i;r>=0;r--)Bh(e[r],t)},_condense:function(t){for(var e=t.length-1,i;e>=0;e--)t[e].children.length===0?e>0?(i=t[e-1].children,i.splice(i.indexOf(t[e]),1)):this.clear():ja(t[e],this.toBBox)},compareMinX:function(t,e){return t.left-e.left},compareMinY:function(t,e){return t.top-e.top},toBBox:function(t){return{minX:t.left,minY:t.top,maxX:t.right,maxY:t.bottom}}};function wwt(t,e,i){if(!i)return e.indexOf(t);for(var r=0;r<e.length;r++)if(i(t,e[r]))return r;return-1}function ja(t,e){Dh(t,0,t.children.length,e,t)}function Dh(t,e,i,r,n){n||(n=ao(null)),n.minX=1/0,n.minY=1/0,n.maxX=-1/0,n.maxY=-1/0;for(var s=e,a;s<i;s++)a=t.children[s],Bh(n,t.leaf?r(a):a);return n}function Bh(t,e){return t.minX=Math.min(t.minX,e.minX),t.minY=Math.min(t.minY,e.minY),t.maxX=Math.max(t.maxX,e.maxX),t.maxY=Math.max(t.maxY,e.maxY),t}function lb(t,e){return t.minX-e.minX}function ub(t,e){return t.minY-e.minY}function Gp(t){return(t.maxX-t.minX)*(t.maxY-t.minY)}function Ku(t){return t.maxX-t.minX+(t.maxY-t.minY)}function Swt(t,e){return(Math.max(e.maxX,t.maxX)-Math.min(e.minX,t.minX))*(Math.max(e.maxY,t.maxY)-Math.min(e.minY,t.minY))}function Cwt(t,e){var i=Math.max(t.minX,e.minX),r=Math.max(t.minY,e.minY),n=Math.min(t.maxX,e.maxX),s=Math.min(t.maxY,e.maxY);return Math.max(0,n-i)*Math.max(0,s-r)}function zp(t,e){return t.minX<=e.minX&&t.minY<=e.minY&&e.maxX<=t.maxX&&e.maxY<=t.maxY}function Ju(t,e){return e.minX<=t.maxX&&e.minY<=t.maxY&&e.maxX>=t.minX&&e.maxY>=t.minY}function ao(t){return{children:t,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function fb(t,e,i,r,n){for(var s=[e,i],a;s.length;)i=s.pop(),e=s.pop(),!(i-e<=r)&&(a=e+Math.ceil((i-e)/r/2)*r,Twt(t,a,e,i,n),s.push(e,a,a,i))}var XL=uc;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var bwt=function(t,e){e<0?(t.blocked.none=!1,t.blocked.left=!0):e>0&&(t.blocked.none=!1,t.blocked.right=!0),t.position.x-=e,t.bounce.x===0?t.velocity.x=0:t.velocity.x=-t.velocity.x*t.bounce.x},Mwt=bwt;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var Pwt=Mwt,Awt=function(t,e,i,r,n){var s=0;return t.deltaX()<0&&!t.blocked.left&&e.collideRight&&t.checkCollision.left?e.faceRight&&t.x<r&&(s=t.x-r,s<-n&&(s=0)):t.deltaX()>0&&!t.blocked.right&&e.collideLeft&&t.checkCollision.right&&e.faceLeft&&t.right>i&&(s=t.right-i,s>n&&(s=0)),s!==0&&(t.customSeparateX?t.overlapX=s:Pwt(t,s)),s},Rwt=Awt;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var Fwt=function(t,e){e<0?(t.blocked.none=!1,t.blocked.up=!0):e>0&&(t.blocked.none=!1,t.blocked.down=!0),t.position.y-=e,t.bounce.y===0?t.velocity.y=0:t.velocity.y=-t.velocity.y*t.bounce.y},Ewt=Fwt;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var Lwt=Ewt,$wt=function(t,e,i,r,n){var s=0;return t.deltaY()<0&&!t.blocked.up&&e.collideDown&&t.checkCollision.up?e.faceBottom&&t.y<r&&(s=t.y-r,s<-n&&(s=0)):t.deltaY()>0&&!t.blocked.down&&e.collideUp&&t.checkCollision.down&&e.faceTop&&t.bottom>i&&(s=t.bottom-i,s>n&&(s=0)),s!==0&&(t.customSeparateY?t.overlapY=s:Lwt(t,s)),s},Owt=$wt;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var Iwt=function(t,e){return!(e.right<=t.left||e.bottom<=t.top||e.position.x>=t.right||e.position.y>=t.bottom)},UL=Iwt;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var cb=Rwt,db=Owt,vb=UL,Dwt=function(t,e,i,r,n,s){var a=r.left,o=r.top,h=r.right,l=r.bottom,u=i.faceLeft||i.faceRight,f=i.faceTop||i.faceBottom;if(!u&&!f)return!1;var c=0,d=0,g=0,v=1;if(e.deltaAbsX()>e.deltaAbsY()?g=-1:e.deltaAbsX()<e.deltaAbsY()&&(v=-1),e.deltaX()!==0&&e.deltaY()!==0&&u&&f&&(g=Math.min(Math.abs(e.position.x-h),Math.abs(e.right-a)),v=Math.min(Math.abs(e.position.y-l),Math.abs(e.bottom-o))),g<v){if(u&&(c=cb(e,i,a,h,s),c!==0&&!vb(r,e)))return!0;f&&(d=db(e,i,o,l,s))}else{if(f&&(d=db(e,i,o,l,s),d!==0&&!vb(r,e)))return!0;u&&(c=cb(e,i,a,h,s))}return c!==0||d!==0},Bwt=Dwt;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var kwt=YL,Gwt=function(t,e,i,r){var n=kwt(t,e,i,r);if(i||n===0||t.immovable&&e.immovable||t.customSeparateX||e.customSeparateX)return n!==0||t.embedded&&e.embedded;var s=t.velocity.x,a=e.velocity.x;if(!t.immovable&&!e.immovable){n*=.5,t.x-=n,e.x+=n;var o=Math.sqrt(a*a*e.mass/t.mass)*(a>0?1:-1),h=Math.sqrt(s*s*t.mass/e.mass)*(s>0?1:-1),l=(o+h)*.5;o-=l,h-=l,t.velocity.x=l+o*t.bounce.x,e.velocity.x=l+h*e.bounce.x}else t.immovable?(e.x+=n,e.velocity.x=s-a*e.bounce.x,t.moves&&(e.y+=(t.y-t.prev.y)*t.friction.y)):(t.x-=n,t.velocity.x=a-s*t.bounce.x,e.moves&&(t.y+=(e.y-e.prev.y)*e.friction.y));return!0},zwt=Gwt;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var Nwt=VL,Ywt=function(t,e,i,r){var n=Nwt(t,e,i,r);if(i||n===0||t.immovable&&e.immovable||t.customSeparateY||e.customSeparateY)return n!==0||t.embedded&&e.embedded;var s=t.velocity.y,a=e.velocity.y;if(!t.immovable&&!e.immovable){n*=.5,t.y-=n,e.y+=n;var o=Math.sqrt(a*a*e.mass/t.mass)*(a>0?1:-1),h=Math.sqrt(s*s*t.mass/e.mass)*(s>0?1:-1),l=(o+h)*.5;o-=l,h-=l,t.velocity.y=l+o*t.bounce.y,e.velocity.y=l+h*e.bounce.y}else t.immovable?(e.y+=n,e.velocity.y=s-a*e.bounce.y,t.moves&&(e.x+=(t.x-t.prev.x)*t.friction.x)):(t.y-=n,t.velocity.y=a-s*t.bounce.y,e.moves&&(t.x+=(e.x-e.prev.x)*e.friction.x));return!0},Vwt=Ywt;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var Wwt=bn,Xwt=b,Uwt=En,Hwt=Mn,Za=at,qwt=new Xwt({initialize:function(e,i){var r=i.width?i.width:64,n=i.height?i.height:64;this.world=e,this.gameObject=i,this.debugShowBody=e.defaults.debugShowStaticBody,this.debugBodyColor=e.defaults.staticBodyDebugColor,this.enable=!0,this.isCircle=!1,this.radius=0,this.offset=new Za,this.position=new Za(i.x-i.displayOriginX,i.y-i.displayOriginY),this.width=r,this.height=n,this.halfWidth=Math.abs(this.width/2),this.halfHeight=Math.abs(this.height/2),this.center=new Za(i.x+this.halfWidth,i.y+this.halfHeight),this.velocity=Za.ZERO,this.allowGravity=!1,this.gravity=Za.ZERO,this.bounce=Za.ZERO,this.onWorldBounds=!1,this.onCollide=!1,this.onOverlap=!1,this.mass=1,this.immovable=!0,this.customSeparateX=!1,this.customSeparateY=!1,this.overlapX=0,this.overlapY=0,this.overlapR=0,this.embedded=!1,this.collideWorldBounds=!1,this.checkCollision={none:!1,up:!0,down:!0,left:!0,right:!0},this.touching={none:!0,up:!1,down:!1,left:!1,right:!1},this.wasTouching={none:!0,up:!1,down:!1,left:!1,right:!1},this.blocked={none:!0,up:!1,down:!1,left:!1,right:!1},this.physicsType=Uwt.STATIC_BODY,this._dx=0,this._dy=0},setGameObject:function(t,e){return t&&t!==this.gameObject&&(this.gameObject.body=null,t.body=this,this.gameObject=t),e&&this.updateFromGameObject(),this},updateFromGameObject:function(){this.world.staticTree.remove(this);var t=this.gameObject;return t.getTopLeft(this.position),this.width=t.displayWidth,this.height=t.displayHeight,this.halfWidth=Math.abs(this.width/2),this.halfHeight=Math.abs(this.height/2),this.center.set(this.position.x+this.halfWidth,this.position.y+this.halfHeight),this.world.staticTree.insert(this),this},setOffset:function(t,e){return e===void 0&&(e=t),this.world.staticTree.remove(this),this.position.x-=this.offset.x,this.position.y-=this.offset.y,this.offset.set(t,e),this.position.x+=this.offset.x,this.position.y+=this.offset.y,this.updateCenter(),this.world.staticTree.insert(this),this},setSize:function(t,e,i,r){i===void 0&&(i=this.offset.x),r===void 0&&(r=this.offset.y);var n=this.gameObject;return!t&&n.frame&&(t=n.frame.realWidth),!e&&n.frame&&(e=n.frame.realHeight),this.world.staticTree.remove(this),this.width=t,this.height=e,this.halfWidth=Math.floor(t/2),this.halfHeight=Math.floor(e/2),this.offset.set(i,r),this.updateCenter(),this.isCircle=!1,this.radius=0,this.world.staticTree.insert(this),this},setCircle:function(t,e,i){return e===void 0&&(e=this.offset.x),i===void 0&&(i=this.offset.y),t>0?(this.world.staticTree.remove(this),this.isCircle=!0,this.radius=t,this.width=t*2,this.height=t*2,this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.offset.set(e,i),this.updateCenter(),this.world.staticTree.insert(this)):this.isCircle=!1,this},updateCenter:function(){this.center.set(this.position.x+this.halfWidth,this.position.y+this.halfHeight)},reset:function(t,e){var i=this.gameObject;t===void 0&&(t=i.x),e===void 0&&(e=i.y),this.world.staticTree.remove(this),i.getTopLeft(this.position),this.updateCenter(),this.world.staticTree.insert(this)},stop:function(){return this},getBounds:function(t){return t.x=this.x,t.y=this.y,t.right=this.right,t.bottom=this.bottom,t},hitTest:function(t,e){return this.isCircle?Wwt(this,t,e):Hwt(this,t,e)},postUpdate:function(){},deltaAbsX:function(){return 0},deltaAbsY:function(){return 0},deltaX:function(){return 0},deltaY:function(){return 0},deltaZ:function(){return 0},destroy:function(){this.enable=!1,this.world.pendingDestroy.set(this)},drawDebug:function(t){var e=this.position;this.debugShowBody&&(t.lineStyle(1,this.debugBodyColor,1),t.strokeRect(e.x,e.y,this.width,this.height))},willDrawDebug:function(){return this.debugShowBody},setMass:function(t){return t<=0&&(t=.1),this.mass=t,this},x:{get:function(){return this.position.x},set:function(t){this.world.staticTree.remove(this),this.position.x=t,this.world.staticTree.insert(this)}},y:{get:function(){return this.position.y},set:function(t){this.world.staticTree.remove(this),this.position.y=t,this.world.staticTree.insert(this)}},left:{get:function(){return this.position.x}},right:{get:function(){return this.position.x+this.width}},top:{get:function(){return this.position.y}},bottom:{get:function(){return this.position.y+this.height}}}),HL=qwt;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var Kwt=zL,dh=ei,Jwt=b,pb=NL,lr=En,Qa=ws,gb=Bt.exports,mb=TL,Np=wL,Yp=SL,jwt=YL,Zwt=VL,$t=ut,Qwt=WL,tSt=_wt,eSt=Dt,yb=XL,iSt=Bwt,xb=zwt,_b=Vwt,Vp=Ro,rSt=HL,nSt=UL,Tb=Pn,sSt=at,wb=Ts,aSt=new Jwt({Extends:gb,initialize:function(e,i){gb.call(this),this.scene=e,this.bodies=new Vp,this.staticBodies=new Vp,this.pendingDestroy=new Vp,this.colliders=new Qwt,this.gravity=new sSt($t(i,"gravity.x",0),$t(i,"gravity.y",0)),this.bounds=new eSt($t(i,"x",0),$t(i,"y",0),$t(i,"width",e.sys.game.config.width),$t(i,"height",e.sys.game.config.height)),this.checkCollision={up:$t(i,"checkCollision.up",!0),down:$t(i,"checkCollision.down",!0),left:$t(i,"checkCollision.left",!0),right:$t(i,"checkCollision.right",!0)},this.fps=$t(i,"fps",60),this._elapsed=0,this._frameTime=1/this.fps,this._frameTimeMS=1e3*this._frameTime,this.stepsLastFrame=0,this.timeScale=$t(i,"timeScale",1),this.OVERLAP_BIAS=$t(i,"overlapBias",4),this.TILE_BIAS=$t(i,"tileBias",16),this.forceX=$t(i,"forceX",!1),this.isPaused=$t(i,"isPaused",!1),this._total=0,this.drawDebug=$t(i,"debug",!1),this.debugGraphic,this.defaults={debugShowBody:$t(i,"debugShowBody",!0),debugShowStaticBody:$t(i,"debugShowStaticBody",!0),debugShowVelocity:$t(i,"debugShowVelocity",!0),bodyDebugColor:$t(i,"debugBodyColor",16711935),staticBodyDebugColor:$t(i,"debugStaticBodyColor",255),velocityDebugColor:$t(i,"debugVelocityColor",65280)},this.maxEntries=$t(i,"maxEntries",16),this.useTree=$t(i,"useTree",!0),this.tree=new yb(this.maxEntries),this.staticTree=new yb(this.maxEntries),this.treeMinMax={minX:0,minY:0,maxX:0,maxY:0},this._tempMatrix=new Tb,this._tempMatrix2=new Tb,this.drawDebug&&this.createDebugGraphic()},enable:function(t,e){e===void 0&&(e=lr.DYNAMIC_BODY),Array.isArray(t)||(t=[t]);for(var i=0;i<t.length;i++){var r=t[i];if(r.isParent)for(var n=r.getChildren(),s=0;s<n.length;s++){var a=n[s];a.isParent?this.enable(a,e):this.enableBody(a,e)}else this.enableBody(r,e)}},enableBody:function(t,e){return e===void 0&&(e=lr.DYNAMIC_BODY),t.body||(e===lr.DYNAMIC_BODY?t.body=new Kwt(this,t):e===lr.STATIC_BODY&&(t.body=new rSt(this,t))),this.add(t.body),t},add:function(t){return t.physicsType===lr.DYNAMIC_BODY?this.bodies.set(t):t.physicsType===lr.STATIC_BODY&&(this.staticBodies.set(t),this.staticTree.insert(t)),t.enable=!0,t},disable:function(t){Array.isArray(t)||(t=[t]);for(var e=0;e<t.length;e++){var i=t[e];if(i.isParent)for(var r=i.getChildren(),n=0;n<r.length;n++){var s=r[n];s.isParent?this.disable(s):this.disableBody(s.body)}else this.disableBody(i.body)}},disableBody:function(t){this.remove(t),t.enable=!1},remove:function(t){t.physicsType===lr.DYNAMIC_BODY?(this.tree.remove(t),this.bodies.delete(t)):t.physicsType===lr.STATIC_BODY&&(this.staticBodies.delete(t),this.staticTree.remove(t))},createDebugGraphic:function(){var t=this.scene.sys.add.graphics({x:0,y:0});return t.setDepth(Number.MAX_VALUE),this.debugGraphic=t,this.drawDebug=!0,t},setBounds:function(t,e,i,r,n,s,a,o){return this.bounds.setTo(t,e,i,r),n!==void 0&&this.setBoundsCollision(n,s,a,o),this},setBoundsCollision:function(t,e,i,r){return t===void 0&&(t=!0),e===void 0&&(e=!0),i===void 0&&(i=!0),r===void 0&&(r=!0),this.checkCollision.left=t,this.checkCollision.right=e,this.checkCollision.up=i,this.checkCollision.down=r,this},pause:function(){return this.isPaused=!0,this.emit("pause"),this},resume:function(){return this.isPaused=!1,this.emit("resume"),this},addCollider:function(t,e,i,r,n){i===void 0&&(i=null),r===void 0&&(r=null),n===void 0&&(n=i);var s=new pb(this,!1,t,e,i,r,n);return this.colliders.add(s),s},addOverlap:function(t,e,i,r,n){i===void 0&&(i=null),r===void 0&&(r=null),n===void 0&&(n=i);var s=new pb(this,!0,t,e,i,r,n);return this.colliders.add(s),s},removeCollider:function(t){return this.colliders.remove(t),this},setFPS:function(t){return this.fps=t,this._frameTime=1/this.fps,this._frameTimeMS=1e3*this._frameTime,this},update:function(t,e){if(!(this.isPaused||this.bodies.size===0)){var i=0,r=this._frameTime,n=this._frameTimeMS*this.timeScale;for(this._elapsed+=e;this._elapsed>=n;)this._elapsed-=n,i++,this.step(r);this.stepsLastFrame=i}},step:function(t){var e,i,r=this.bodies.entries,n=r.length;for(e=0;e<n;e++)i=r[e],i.enable&&i.update(t);this.useTree&&(this.tree.clear(),this.tree.load(r));var s=this.colliders.update();for(e=0;e<s.length;e++){var a=s[e];a.active&&a.update()}for(n=r.length,e=0;e<n;e++)i=r[e],i.enable&&i.postUpdate()},postUpdate:function(){var t,e,i=this.bodies,r=this.staticBodies,n=this.pendingDestroy,s=i.entries,a=s.length;if(this.drawDebug){var o=this.debugGraphic;for(o.clear(),t=0;t<a;t++)e=s[t],e.willDrawDebug()&&e.drawDebug(o);for(s=r.entries,a=s.length,t=0;t<a;t++)e=s[t],e.willDrawDebug()&&e.drawDebug(o)}if(n.size>0){var h=this.tree,l=this.staticTree;for(s=n.entries,a=s.length,t=0;t<a;t++)e=s[t],e.physicsType===lr.DYNAMIC_BODY?(h.remove(e),i.delete(e)):e.physicsType===lr.STATIC_BODY&&(l.remove(e),r.delete(e)),e.world=void 0,e.gameObject=void 0;n.clear()}},updateMotion:function(t,e){t.allowRotation&&this.computeAngularVelocity(t,e),this.computeVelocity(t,e)},computeAngularVelocity:function(t,e){var i=t.angularVelocity,r=t.angularAcceleration,n=t.angularDrag,s=t.maxAngular;r?i+=r*e:t.allowDrag&&n&&(n*=e,Np(i-n,0,.1)?i-=n:Yp(i+n,0,.1)?i+=n:i=0),i=dh(i,-s,s);var a=i-t.angularVelocity;t.angularVelocity+=a,t.rotation+=t.angularVelocity*e},computeVelocity:function(t,e){var i=t.velocity.x,r=t.acceleration.x,n=t.drag.x,s=t.maxVelocity.x,a=t.velocity.y,o=t.acceleration.y,h=t.drag.y,l=t.maxVelocity.y,u=t.speed,f=t.allowDrag,c=t.useDamping;t.allowGravity&&(i+=(this.gravity.x+t.gravity.x)*e,a+=(this.gravity.y+t.gravity.y)*e),r?i+=r*e:f&&n&&(c?(i*=n,mb(u,0,.001)&&(i=0)):(n*=e,Np(i-n,0,.01)?i-=n:Yp(i+n,0,.01)?i+=n:i=0)),o?a+=o*e:f&&h&&(c?(a*=h,mb(u,0,.001)&&(a=0)):(h*=e,Np(a-h,0,.01)?a-=h:Yp(a+h,0,.01)?a+=h:a=0)),i=dh(i,-s,s),a=dh(a,-l,l),t.velocity.set(i,a)},separate:function(t,e,i,r,n){if(!t.enable||!e.enable||t.checkCollision.none||e.checkCollision.none||!this.intersects(t,e)||i&&i.call(r,t.gameObject,e.gameObject)===!1)return!1;if(t.isCircle&&e.isCircle)return this.separateCircle(t,e,n);if(t.isCircle!==e.isCircle){var s=t.isCircle?e:t,a=t.isCircle?t:e,o={x:s.x,y:s.y,right:s.right,bottom:s.bottom},h=a.center;if((h.y<o.y||h.y>o.bottom)&&(h.x<o.x||h.x>o.right))return this.separateCircle(t,e,n)}var l=!1,u=!1;this.forceX||Math.abs(this.gravity.y+t.gravity.y)<Math.abs(this.gravity.x+t.gravity.x)?(l=xb(t,e,n,this.OVERLAP_BIAS),this.intersects(t,e)&&(u=_b(t,e,n,this.OVERLAP_BIAS))):(u=_b(t,e,n,this.OVERLAP_BIAS),this.intersects(t,e)&&(l=xb(t,e,n,this.OVERLAP_BIAS)));var f=l||u;return f&&(n&&(t.onOverlap||e.onOverlap)?this.emit("overlap",t.gameObject,e.gameObject,t,e):(t.postUpdate(),e.postUpdate(),(t.onCollide||e.onCollide)&&this.emit("collide",t.gameObject,e.gameObject,t,e))),f},separateCircle:function(t,e,i,r){jwt(t,e,!1,r),Zwt(t,e,!1,r);var n=e.center.x-t.center.x,s=e.center.y-t.center.y,a=Math.atan2(s,n),o=0;if(t.isCircle!==e.isCircle){var h={x:e.isCircle?t.position.x:e.position.x,y:e.isCircle?t.position.y:e.position.y,right:e.isCircle?t.right:e.right,bottom:e.isCircle?t.bottom:e.bottom},l={x:t.isCircle?t.center.x:e.center.x,y:t.isCircle?t.center.y:e.center.y,radius:t.isCircle?t.halfWidth:e.halfWidth};l.y<h.y?l.x<h.x?o=Qa(l.x,l.y,h.x,h.y)-l.radius:l.x>h.right&&(o=Qa(l.x,l.y,h.right,h.y)-l.radius):l.y>h.bottom&&(l.x<h.x?o=Qa(l.x,l.y,h.x,h.bottom)-l.radius:l.x>h.right&&(o=Qa(l.x,l.y,h.right,h.bottom)-l.radius)),o*=-1}else o=t.halfWidth+e.halfWidth-Qa(t.center.x,t.center.y,e.center.x,e.center.y);if(i||o===0||t.immovable&&e.immovable||t.customSeparateX||e.customSeparateX)return o!==0&&(t.onOverlap||e.onOverlap)&&this.emit("overlap",t.gameObject,e.gameObject,t,e),o!==0;var u=t.velocity.x,f=t.velocity.y,c=t.mass,d=e.velocity.x,g=e.velocity.y,v=e.mass,p={x:u*Math.cos(a)+f*Math.sin(a),y:u*Math.sin(a)-f*Math.cos(a)},m={x:d*Math.cos(a)+g*Math.sin(a),y:d*Math.sin(a)-g*Math.cos(a)},y=((c-v)*p.x+2*v*m.x)/(c+v),x=(2*c*p.x+(v-c)*m.x)/(c+v);t.immovable||(t.velocity.x=(y*Math.cos(a)-p.y*Math.sin(a))*t.bounce.x,t.velocity.y=(p.y*Math.cos(a)+y*Math.sin(a))*t.bounce.y,u=t.velocity.x,f=t.velocity.y),e.immovable||(e.velocity.x=(x*Math.cos(a)-m.y*Math.sin(a))*e.bounce.x,e.velocity.y=(m.y*Math.cos(a)+x*Math.sin(a))*e.bounce.y,d=e.velocity.x,g=e.velocity.y),Math.abs(a)<Math.PI/2?u>0&&!t.immovable&&d>u?t.velocity.x*=-1:d<0&&!e.immovable&&u<d?e.velocity.x*=-1:f>0&&!t.immovable&&g>f?t.velocity.y*=-1:g<0&&!e.immovable&&f<g&&(e.velocity.y*=-1):Math.abs(a)>Math.PI/2&&(u<0&&!t.immovable&&d<u?t.velocity.x*=-1:d>0&&!e.immovable&&u>d?e.velocity.x*=-1:f<0&&!t.immovable&&g<f?t.velocity.y*=-1:g>0&&!e.immovable&&u>g&&(e.velocity.y*=-1));var T=this._frameTime;return t.immovable||(t.x+=t.velocity.x*T-o*Math.cos(a),t.y+=t.velocity.y*T-o*Math.sin(a)),e.immovable||(e.x+=e.velocity.x*T+o*Math.cos(a),e.y+=e.velocity.y*T+o*Math.sin(a)),(t.onCollide||e.onCollide)&&this.emit("collide",t.gameObject,e.gameObject,t,e),t.postUpdate(),e.postUpdate(),!0},intersects:function(t,e){return t===e?!1:!t.isCircle&&!e.isCircle?!(t.right<=e.position.x||t.bottom<=e.position.y||t.position.x>=e.right||t.position.y>=e.bottom):t.isCircle?e.isCircle?Qa(t.center.x,t.center.y,e.center.x,e.center.y)<=t.halfWidth+e.halfWidth:this.circleBodyIntersects(t,e):this.circleBodyIntersects(e,t)},circleBodyIntersects:function(t,e){var i=dh(t.center.x,e.left,e.right),r=dh(t.center.y,e.top,e.bottom),n=(t.center.x-i)*(t.center.x-i),s=(t.center.y-r)*(t.center.y-r);return n+s<=t.halfWidth*t.halfWidth},overlap:function(t,e,i,r,n){return i===void 0&&(i=null),r===void 0&&(r=null),n===void 0&&(n=i),this.collideObjects(t,e,i,r,n,!0)},collide:function(t,e,i,r,n){return i===void 0&&(i=null),r===void 0&&(r=null),n===void 0&&(n=i),this.collideObjects(t,e,i,r,n,!1)},collideObjects:function(t,e,i,r,n,s){var a;t.isParent&&t.physicsType===void 0&&(t=t.children.entries),e&&e.isParent&&e.physicsType===void 0&&(e=e.children.entries);var o=Array.isArray(t),h=Array.isArray(e);if(this._total=0,!o&&!h)this.collideHandler(t,e,i,r,n,s);else if(!o&&h)for(a=0;a<e.length;a++)this.collideHandler(t,e[a],i,r,n,s);else if(o&&!h)for(a=0;a<t.length;a++)this.collideHandler(t[a],e,i,r,n,s);else for(a=0;a<t.length;a++)for(var l=0;l<e.length;l++)this.collideHandler(t[a],e[l],i,r,n,s);return this._total>0},collideHandler:function(t,e,i,r,n,s){if(e===void 0&&t.isParent)return this.collideGroupVsGroup(t,t,i,r,n,s);if(!t||!e)return!1;if(t.body){if(e.body)return this.collideSpriteVsSprite(t,e,i,r,n,s);if(e.isParent)return this.collideSpriteVsGroup(t,e,i,r,n,s);if(e.isTilemap)return this.collideSpriteVsTilemapLayer(t,e,i,r,n,s)}else if(t.isParent){if(e.body)return this.collideSpriteVsGroup(e,t,i,r,n,s);if(e.isParent)return this.collideGroupVsGroup(t,e,i,r,n,s);if(e.isTilemap)return this.collideGroupVsTilemapLayer(t,e,i,r,n,s)}else if(t.isTilemap){if(e.body)return this.collideSpriteVsTilemapLayer(e,t,i,r,n,s);if(e.isParent)return this.collideGroupVsTilemapLayer(e,t,i,r,n,s)}},collideSpriteVsSprite:function(t,e,i,r,n,s){return!t.body||!e.body?!1:(this.separate(t.body,e.body,r,n,s)&&(i&&i.call(n,t,e),this._total++),!0)},collideSpriteVsGroup:function(t,e,i,r,n,s){var a=t.body;if(!(e.length===0||!a||!a.enable)){var o,h,l;if(this.useTree){var u=this.treeMinMax;u.minX=a.left,u.minY=a.top,u.maxX=a.right,u.maxY=a.bottom;var f=e.physicsType===lr.DYNAMIC_BODY?this.tree.search(u):this.staticTree.search(u);for(h=f.length,o=0;o<h;o++)l=f[o],!(a===l||!e.contains(l.gameObject))&&this.separate(a,l,r,n,s)&&(i&&i.call(n,a.gameObject,l.gameObject),this._total++)}else{var c=e.getChildren(),d=e.children.entries.indexOf(t);for(h=c.length,o=0;o<h;o++)l=c[o].body,!(!l||o===d||!l.enable)&&this.separate(a,l,r,n,s)&&(i&&i.call(n,a.gameObject,l.gameObject),this._total++)}}},collideGroupVsTilemapLayer:function(t,e,i,r,n,s){var a=t.getChildren();if(a.length===0)return!1;for(var o=!1,h=0;h<a.length;h++)a[h].body&&this.collideSpriteVsTilemapLayer(a[h],e,i,r,n,s)&&(o=!0);return o},collideSpriteVsTilemapLayer:function(t,e,i,r,n,s){var a=t.body;if(!a.enable)return!1;var o=a.position.x,h=a.position.y,l=a.width,u=a.height,f=e.layer;if(f.tileWidth>f.baseTileWidth){var c=(f.tileWidth-f.baseTileWidth)*e.scaleX;o-=c,l+=c}if(f.tileHeight>f.baseTileHeight){var d=(f.tileHeight-f.baseTileHeight)*e.scaleY;u+=d}var g=e.getTilesWithinWorldXY(o,h,l,u);if(g.length===0)return!1;for(var v,p={left:0,right:0,top:0,bottom:0},m=0;m<g.length;m++)v=g[m],p.left=e.tileToWorldX(v.x),p.top=e.tileToWorldY(v.y),v.baseHeight!==v.height&&(p.top-=(v.height-v.baseHeight)*e.scaleY),p.right=p.left+v.width*e.scaleX,p.bottom=p.top+v.height*e.scaleY,nSt(p,a)&&(!r||r.call(n,t,v))&&tSt(v,t)&&(s||iSt(m,a,v,p,e,this.TILE_BIAS))&&(this._total++,i&&i.call(n,t,v),s&&a.onOverlap?t.emit("overlap",a.gameObject,v,a,null):a.onCollide&&t.emit("collide",a.gameObject,v,a,null),a.postUpdate())},collideGroupVsGroup:function(t,e,i,r,n,s){if(!(t.length===0||e.length===0))for(var a=t.getChildren(),o=0;o<a.length;o++)this.collideSpriteVsGroup(a[o],e,i,r,n,s)},wrap:function(t,e){t.body?this.wrapObject(t,e):t.getChildren?this.wrapArray(t.getChildren(),e):Array.isArray(t)?this.wrapArray(t,e):this.wrapObject(t,e)},wrapArray:function(t,e){for(var i=0;i<t.length;i++)this.wrapObject(t[i],e)},wrapObject:function(t,e){e===void 0&&(e=0),t.x=wb(t.x,this.bounds.left-e,this.bounds.right+e),t.y=wb(t.y,this.bounds.top-e,this.bounds.bottom+e)},shutdown:function(){this.tree.clear(),this.staticTree.clear(),this.bodies.clear(),this.staticBodies.clear(),this.colliders.destroy(),this.removeAllListeners()},destroy:function(){this.shutdown(),this.scene=null}}),qL=aSt;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var oSt=b,hSt=Yr,lSt=ws,Sb=_L,Cb=GL,bb=V,uSt=Ao,fSt=se,Mb=at,Pb=qL,KL=new oSt({initialize:function(e){this.scene=e,this.systems=e.sys,this.config=this.getConfig(),this.world,this.add,e.sys.events.once("boot",this.boot,this),e.sys.events.on("start",this.start,this)},boot:function(){this.world=new Pb(this.scene,this.config),this.add=new Cb(this.world),this.systems.events.once("destroy",this.destroy,this)},start:function(){this.world||(this.world=new Pb(this.scene,this.config),this.add=new Cb(this.world));var t=this.systems.events;t.on("update",this.world.update,this.world),t.on("postupdate",this.world.postUpdate,this.world),t.once("shutdown",this.shutdown,this)},getConfig:function(){var t=this.systems.game.config.physics,e=this.systems.settings.physics,i=uSt(bb(e,"arcade",{}),bb(t,"arcade",{}));return i},overlap:function(t,e,i,r,n){return i===void 0&&(i=null),r===void 0&&(r=null),n===void 0&&(n=i),this.world.collideObjects(t,e,i,r,n,!0)},collide:function(t,e,i,r,n){return i===void 0&&(i=null),r===void 0&&(r=null),n===void 0&&(n=i),this.world.collideObjects(t,e,i,r,n,!1)},pause:function(){return this.world.pause()},resume:function(){return this.world.resume()},accelerateTo:function(t,e,i,r,n,s){r===void 0&&(r=60);var a=Math.atan2(i-t.y,e-t.x);return t.body.acceleration.setToPolar(a,r),n!==void 0&&s!==void 0&&t.body.maxVelocity.set(n,s),a},accelerateToObject:function(t,e,i,r,n){return this.accelerateTo(t,e.x,e.y,i,r,n)},closest:function(t){for(var e=this.world.tree.all(),i=Number.MAX_VALUE,r=null,n=t.x,s=t.y,a=e.length-1;a>=0;a--){var o=e[a],h=Sb(n,s,o.x,o.y);h<i&&(r=o,i=h)}return r},furthest:function(t){for(var e=this.world.tree.all(),i=-1,r=null,n=t.x,s=t.y,a=e.length-1;a>=0;a--){var o=e[a],h=Sb(n,s,o.x,o.y);h>i&&(r=o,i=h)}return r},moveTo:function(t,e,i,r,n){r===void 0&&(r=60),n===void 0&&(n=0);var s=Math.atan2(i-t.y,e-t.x);return n>0&&(r=lSt(t.x,t.y,e,i)/(n/1e3)),t.body.velocity.setToPolar(s,r),s},moveToObject:function(t,e,i,r){return this.moveTo(t,e.x,e.y,i,r)},velocityFromAngle:function(t,e,i){return e===void 0&&(e=60),i===void 0&&(i=new Mb),i.setToPolar(hSt(t),e)},velocityFromRotation:function(t,e,i){return e===void 0&&(e=60),i===void 0&&(i=new Mb),i.setToPolar(t,e)},shutdown:function(){if(!!this.world){var t=this.systems.events;t.off("update",this.world.update,this.world),t.off("postupdate",this.world.postUpdate,this.world),t.off("shutdown",this.shutdown,this),this.add.destroy(),this.world.destroy(),this.add=null,this.world=null}},destroy:function(){this.shutdown(),this.scene.sys.events.off("start",this.start,this),this.scene=null,this.systems=null}});fSt.register("ArcadePhysics",KL,"arcadePhysics");var cSt=KL;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var dSt=En,vSt=Ae,Cm={ArcadePhysics:cSt,Body:zL,Collider:NL,Factory:GL,Group:BL,Image:DL,Sprite:Qc,StaticBody:HL,StaticGroup:kL,World:qL};Cm=vSt(!1,Cm,dSt);var pSt=Cm;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var Al={NEVER:0,LITE:1,PASSIVE:2,ACTIVE:4,FIXED:8};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var Ab=ei,gSt=function(t,e,i,r,n){if(i)return Ab(e+i*t,-n,n);if(r){var s=r*t;return e-s>0?e-s:e+s<0?e+s:0}return Ab(e,-n,n)},mSt=gSt;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var Rl={NONE:0,A:1,B:2,BOTH:3};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var ySt=function(t,e){if(t.standing=!1,e.collision.y&&(t.bounciness>0&&Math.abs(t.vel.y)>t.minBounceVelocity?t.vel.y*=-t.bounciness:(t.vel.y>0&&(t.standing=!0),t.vel.y=0)),e.collision.x&&(t.bounciness>0&&Math.abs(t.vel.x)>t.minBounceVelocity?t.vel.x*=-t.bounciness:t.vel.x=0),e.collision.slope){var i=e.collision.slope;if(t.bounciness>0){var r=t.vel.x*i.nx+t.vel.y*i.ny;t.vel.x=(t.vel.x-i.nx*r*2)*t.bounciness,t.vel.y=(t.vel.y-i.ny*r*2)*t.bounciness}else{var n=i.x*i.x+i.y*i.y,s=(t.vel.x*i.x+t.vel.y*i.y)/n;t.vel.x=i.x*s,t.vel.y=i.y*s;var a=Math.atan2(i.x,i.y);a>t.slopeStanding.min&&a<t.slopeStanding.max&&(t.standing=!0)}}t.pos.x=e.pos.x,t.pos.y=e.pos.y},xSt=ySt;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var _St=b,Rb=Al,Fb=mSt,ju=Rl,TSt=xSt,wSt=new _St({initialize:function(e,i,r,n,s){n===void 0&&(n=16),s===void 0&&(s=n),this.world=e,this.gameObject=null,this.enabled=!0,this.parent,this.id=e.getNextID(),this.name="",this.size={x:n,y:s},this.offset={x:0,y:0},this.pos={x:i,y:r},this.last={x:i,y:r},this.vel={x:0,y:0},this.accel={x:0,y:0},this.friction={x:0,y:0},this.maxVel={x:e.defaults.maxVelocityX,y:e.defaults.maxVelocityY},this.standing=!1,this.gravityFactor=e.defaults.gravityFactor,this.bounciness=e.defaults.bounciness,this.minBounceVelocity=e.defaults.minBounceVelocity,this.accelGround=0,this.accelAir=0,this.jumpSpeed=0,this.type=ju.NONE,this.checkAgainst=ju.NONE,this.collides=Rb.NEVER,this.debugShowBody=e.defaults.debugShowBody,this.debugShowVelocity=e.defaults.debugShowVelocity,this.debugBodyColor=e.defaults.bodyDebugColor,this.updateCallback,this.slopeStanding={min:.767944870877505,max:2.3736477827122884}},reset:function(t,e){this.pos={x:t,y:e},this.last={x:t,y:e},this.vel={x:0,y:0},this.accel={x:0,y:0},this.friction={x:0,y:0},this.maxVel={x:100,y:100},this.standing=!1,this.gravityFactor=1,this.bounciness=0,this.minBounceVelocity=40,this.accelGround=0,this.accelAir=0,this.jumpSpeed=0,this.type=ju.NONE,this.checkAgainst=ju.NONE,this.collides=Rb.NEVER},update:function(t){var e=this.pos;this.last.x=e.x,this.last.y=e.y,this.vel.y+=this.world.gravity*t*this.gravityFactor,this.vel.x=Fb(t,this.vel.x,this.accel.x,this.friction.x,this.maxVel.x),this.vel.y=Fb(t,this.vel.y,this.accel.y,this.friction.y,this.maxVel.y);var i=this.vel.x*t,r=this.vel.y*t,n=this.world.collisionMap.trace(e.x,e.y,i,r,this.size.x,this.size.y);this.handleMovementTrace(n)&&TSt(this,n);var s=this.gameObject;s&&(s.x=e.x-this.offset.x+s.displayOriginX*s.scaleX,s.y=e.y-this.offset.y+s.displayOriginY*s.scaleY),this.updateCallback&&this.updateCallback(this)},drawDebug:function(t){var e=this.pos;if(this.debugShowBody&&(t.lineStyle(1,this.debugBodyColor,1),t.strokeRect(e.x,e.y,this.size.x,this.size.y)),this.debugShowVelocity){var i=e.x+this.size.x/2,r=e.y+this.size.y/2;t.lineStyle(1,this.world.defaults.velocityDebugColor,1),t.lineBetween(i,r,i+this.vel.x,r+this.vel.y)}},willDrawDebug:function(){return this.debugShowBody||this.debugShowVelocity},skipHash:function(){return!this.enabled||this.type===0&&this.checkAgainst===0&&this.collides===0},touches:function(t){return!(this.pos.x>=t.pos.x+t.size.x||this.pos.x+this.size.x<=t.pos.x||this.pos.y>=t.pos.y+t.size.y||this.pos.y+this.size.y<=t.pos.y)},resetSize:function(t,e,i,r){return this.pos.x=t,this.pos.y=e,this.size.x=i,this.size.y=r,this},toJSON:function(){var t={name:this.name,size:{x:this.size.x,y:this.size.y},pos:{x:this.pos.x,y:this.pos.y},vel:{x:this.vel.x,y:this.vel.y},accel:{x:this.accel.x,y:this.accel.y},friction:{x:this.friction.x,y:this.friction.y},maxVel:{x:this.maxVel.x,y:this.maxVel.y},gravityFactor:this.gravityFactor,bounciness:this.bounciness,minBounceVelocity:this.minBounceVelocity,type:this.type,checkAgainst:this.checkAgainst,collides:this.collides};return t},fromJSON:function(){},check:function(){},collideWith:function(t,e){this.parent&&this.parent._collideCallback&&this.parent._collideCallback.call(this.parent._callbackScope,this,t,e)},handleMovementTrace:function(){return!0},destroy:function(){this.world.remove(this),this.enabled=!1,this.world=null,this.gameObject=null,this.parent=null}}),JL=wSt;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var De=.5,Be=1/3,ke=2/3,SSt={2:[0,1,1,0,!0],3:[0,1,1,De,!0],4:[0,De,1,0,!0],5:[0,1,1,ke,!0],6:[0,ke,1,Be,!0],7:[0,Be,1,0,!0],8:[De,1,0,0,!0],9:[1,0,De,1,!0],10:[De,1,1,0,!0],11:[0,0,De,1,!0],12:[0,0,1,0,!1],13:[1,1,0,0,!0],14:[1,De,0,0,!0],15:[1,1,0,De,!0],16:[1,Be,0,0,!0],17:[1,ke,0,Be,!0],18:[1,1,0,ke,!0],19:[1,1,De,0,!0],20:[De,0,0,1,!0],21:[0,1,De,0,!0],22:[De,0,1,1,!0],23:[1,1,0,1,!1],24:[0,0,1,1,!0],25:[0,0,1,De,!0],26:[0,De,1,1,!0],27:[0,0,1,Be,!0],28:[0,Be,1,ke,!0],29:[0,ke,1,1,!0],30:[Be,1,0,0,!0],31:[1,0,ke,1,!0],32:[ke,1,1,0,!0],33:[0,0,Be,1,!0],34:[1,0,1,1,!1],35:[1,0,0,1,!0],36:[1,De,0,1,!0],37:[1,0,0,De,!0],38:[1,ke,0,1,!0],39:[1,Be,0,ke,!0],40:[1,0,0,Be,!0],41:[ke,1,Be,0,!0],42:[ke,0,Be,1,!0],43:[Be,1,ke,0,!0],44:[Be,0,ke,1,!0],45:[0,1,0,0,!1],52:[1,1,ke,0,!0],53:[Be,0,0,1,!0],54:[0,1,Be,0,!0],55:[ke,0,1,1,!0]};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var CSt=b,bSt=SSt,MSt=new CSt({initialize:function(e,i){e===void 0&&(e=32),this.tilesize=e,this.data=Array.isArray(i)?i:[],this.width=Array.isArray(i)?i[0].length:0,this.height=Array.isArray(i)?i.length:0,this.lastSlope=55,this.tiledef=bSt},trace:function(t,e,i,r,n,s){var a={collision:{x:!1,y:!1,slope:!1},pos:{x:t+i,y:e+r},tile:{x:0,y:0}};if(!this.data)return a;var o=Math.ceil(Math.max(Math.abs(i),Math.abs(r))/this.tilesize);if(o>1)for(var h=i/o,l=r/o,u=0;u<o&&(h||l)&&(this.step(a,t,e,h,l,n,s,i,r,u),t=a.pos.x,e=a.pos.y,a.collision.x&&(h=0,i=0),a.collision.y&&(l=0,r=0),!a.collision.slope);u++);else this.step(a,t,e,i,r,n,s,i,r,0);return a},step:function(t,e,i,r,n,s,a,o,h,l){var u=0,f,c,d=this.tilesize,g=this.width,v=this.height;if(r){var p=r>0?s:0,m=r<0?d:0,y=Math.max(Math.floor(i/d),0),x=Math.min(Math.ceil((i+a)/d),v);f=Math.floor((t.pos.x+p)/d);var T=Math.floor((e+p)/d);if((l>0||f===T||T<0||T>=g)&&(T=-1),f>=0&&f<g){for(c=y;c<x&&!(T!==-1&&(u=this.data[c][T],u>1&&u<=this.lastSlope&&this.checkDef(t,u,e,i,o,h,s,a,T,c)));c++)if(u=this.data[c][f],u===1||u>this.lastSlope||u>1&&this.checkDef(t,u,e,i,o,h,s,a,f,c)){if(u>1&&u<=this.lastSlope&&t.collision.slope)break;t.collision.x=!0,t.tile.x=u,t.pos.x=f*d-p+m,e=t.pos.x,o=0;break}}}if(n){var _=n>0?a:0,w=n<0?d:0,S=Math.max(Math.floor(t.pos.x/d),0),C=Math.min(Math.ceil((t.pos.x+s)/d),g);c=Math.floor((t.pos.y+_)/d);var R=Math.floor((i+_)/d);if((l>0||c===R||R<0||R>=v)&&(R=-1),c>=0&&c<v){for(f=S;f<C&&!(R!==-1&&(u=this.data[R][f],u>1&&u<=this.lastSlope&&this.checkDef(t,u,e,i,o,h,s,a,f,R)));f++)if(u=this.data[c][f],u===1||u>this.lastSlope||u>1&&this.checkDef(t,u,e,i,o,h,s,a,f,c)){if(u>1&&u<=this.lastSlope&&t.collision.slope)break;t.collision.y=!0,t.tile.y=u,t.pos.y=c*d-_+w;break}}}},checkDef:function(t,e,i,r,n,s,a,o,h,l){var u=this.tiledef[e];if(!u)return!1;var f=this.tilesize,c=(h+u[0])*f,d=(l+u[1])*f,g=(u[2]-u[0])*f,v=(u[3]-u[1])*f,p=u[4],m=i+n+(v<0?a:0)-c,y=r+s+(g>0?o:0)-d;if(g*y-v*m>0){if(n*-v+s*g<0)return p;var x=Math.sqrt(g*g+v*v),T=v/x,_=-g/x,w=m*T+y*_,S=T*w,C=_*w;return S*S+C*C>=n*n+s*s?p||g*(y-s)-v*(m-n)<.5:(t.pos.x=i+n-S,t.pos.y=r+s-C,t.collision.slope={x:g,y:v,nx:T,ny:_},!0)}return!1}}),jL=MSt;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var PSt={setAccelerationX:function(t){return this.accel.x=t,this},setAccelerationY:function(t){return this.accel.y=t,this},setAcceleration:function(t,e){return this.accel.x=t,this.accel.y=e,this}},ASt=PSt;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var RSt={setBodySize:function(t,e){return e===void 0&&(e=t),this.body.size.x=Math.round(t),this.body.size.y=Math.round(e),this},setBodyScale:function(t,e){e===void 0&&(e=t);var i=this.body.gameObject;return i?(i.setScale(t,e),this.setBodySize(i.width*i.scaleX,i.height*i.scaleY)):this.setBodySize(this.body.size.x*t,this.body.size.y*e)}},FSt=RSt;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var Wp=Rl,ESt={getBodyType:function(){return this.body.type},setTypeNone:function(){return this.body.type=Wp.NONE,this},setTypeA:function(){return this.body.type=Wp.A,this},setTypeB:function(){return this.body.type=Wp.B,this}},LSt=ESt;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var $St={setBounce:function(t){return this.body.bounciness=t,this},setMinBounceVelocity:function(t){return this.body.minBounceVelocity=t,this},bounce:{get:function(){return this.body.bounciness},set:function(t){this.body.bounciness=t}}},OSt=$St;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var Xp=Rl,ISt={setAvsB:function(){return this.setTypeA(),this.setCheckAgainstB()},setBvsA:function(){return this.setTypeB(),this.setCheckAgainstA()},setCheckAgainstNone:function(){return this.body.checkAgainst=Xp.NONE,this},setCheckAgainstA:function(){return this.body.checkAgainst=Xp.A,this},setCheckAgainstB:function(){return this.body.checkAgainst=Xp.B,this},checkAgainst:{get:function(){return this.body.checkAgainst},set:function(t){this.body.checkAgainst=t}}},DSt=ISt;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var vh=Al,BSt={_collideCallback:null,_callbackScope:null,setCollideCallback:function(t,e){return this._collideCallback=t,e&&(this._callbackScope=e),this},setCollidesNever:function(){return this.body.collides=vh.NEVER,this},setLiteCollision:function(){return this.body.collides=vh.LITE,this},setPassiveCollision:function(){return this.body.collides=vh.PASSIVE,this},setActiveCollision:function(){return this.body.collides=vh.ACTIVE,this},setFixedCollision:function(){return this.body.collides=vh.FIXED,this},collides:{get:function(){return this.body.collides},set:function(t){this.body.collides=t}}},kSt=BSt;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var GSt={setDebug:function(t,e,i){return this.debugShowBody=t,this.debugShowVelocity=e,this.debugBodyColor=i,this},setDebugBodyColor:function(t){return this.body.debugBodyColor=t,this},debugShowBody:{get:function(){return this.body.debugShowBody},set:function(t){this.body.debugShowBody=t}},debugShowVelocity:{get:function(){return this.body.debugShowVelocity},set:function(t){this.body.debugShowVelocity=t}},debugBodyColor:{get:function(){return this.body.debugBodyColor},set:function(t){this.body.debugBodyColor=t}}},zSt=GSt;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var NSt={setFrictionX:function(t){return this.friction.x=t,this},setFrictionY:function(t){return this.friction.y=t,this},setFriction:function(t,e){return this.friction.x=t,this.friction.y=e,this}},YSt=NSt;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var VSt={setGravity:function(t){return this.body.gravityFactor=t,this},gravity:{get:function(){return this.body.gravityFactor},set:function(t){this.body.gravityFactor=t}}},WSt=VSt;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var XSt={setOffset:function(t,e,i,r){return this.body.offset.x=t,this.body.offset.y=e,i&&this.setBodySize(i,r),this}},USt=XSt;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var HSt={setGameObject:function(t,e){return e===void 0&&(e=!0),t?(this.body.gameObject=t,e&&this.syncGameObject()):this.body.gameObject=null,this},syncGameObject:function(){var t=this.body.gameObject;return t&&this.setBodySize(t.width*t.scaleX,t.height*t.scaleY),this}},qSt=HSt;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var KSt={setVelocityX:function(t){return this.vel.x=t,this},setVelocityY:function(t){return this.vel.y=t,this},setVelocity:function(t,e){return e===void 0&&(e=t),this.vel.x=t,this.vel.y=e,this},setMaxVelocity:function(t,e){return e===void 0&&(e=t),this.maxVel.x=t,this.maxVel.y=e,this}},JSt=KSt;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var $y={Acceleration:ASt,BodyScale:FSt,BodyType:LSt,Bounce:OSt,CheckAgainst:DSt,Collides:kSt,Debug:zSt,Friction:YSt,Gravity:WSt,Offset:USt,SetGameObject:qSt,Velocity:JSt};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var jSt=b,Di=$y,ZSt=new jSt({Mixins:[Di.Acceleration,Di.BodyScale,Di.BodyType,Di.Bounce,Di.CheckAgainst,Di.Collides,Di.Debug,Di.Friction,Di.Gravity,Di.Offset,Di.SetGameObject,Di.Velocity],initialize:function(e,i,r,n,s){this.body=e.create(i,r,n,s),this.body.parent=this,this.size=this.body.size,this.offset=this.body.offset,this.vel=this.body.vel,this.accel=this.body.accel,this.friction=this.body.friction,this.maxVel=this.body.maxVel}}),ZL=ZSt;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var QSt=b,Bi=$y,Eb=Fo,tCt=new QSt({Extends:Eb,Mixins:[Bi.Acceleration,Bi.BodyScale,Bi.BodyType,Bi.Bounce,Bi.CheckAgainst,Bi.Collides,Bi.Debug,Bi.Friction,Bi.Gravity,Bi.Offset,Bi.SetGameObject,Bi.Velocity],initialize:function(e,i,r,n,s){Eb.call(this,e.scene,i,r,n,s),this.body=e.create(i-this.frame.centerX,r-this.frame.centerY,this.width,this.height),this.body.parent=this,this.body.gameObject=this,this.size=this.body.size,this.offset=this.body.offset,this.vel=this.body.vel,this.accel=this.body.accel,this.friction=this.body.friction,this.maxVel=this.body.maxVel}}),QL=tCt;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var eCt=b,ki=$y,Lb=Rn,iCt=new eCt({Extends:Lb,Mixins:[ki.Acceleration,ki.BodyScale,ki.BodyType,ki.Bounce,ki.CheckAgainst,ki.Collides,ki.Debug,ki.Friction,ki.Gravity,ki.Offset,ki.SetGameObject,ki.Velocity],initialize:function(e,i,r,n,s){Lb.call(this,e.scene,i,r,n,s),this.body=e.create(i-this.frame.centerX,r-this.frame.centerY,this.width,this.height),this.body.parent=this,this.body.gameObject=this,this.size=this.body.size,this.offset=this.body.offset,this.vel=this.body.vel,this.accel=this.body.accel,this.friction=this.body.friction,this.maxVel=this.body.maxVel}}),t$=iCt;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var rCt=b,nCt=ZL,sCt=QL,aCt=t$,oCt=new rCt({initialize:function(e){this.world=e,this.sys=e.scene.sys},body:function(t,e,i,r){return new nCt(this.world,t,e,i,r)},existing:function(t){var e=t.x-t.frame.centerX,i=t.y-t.frame.centerY,r=t.width,n=t.height;return t.body=this.world.create(e,i,r,n),t.body.parent=t,t.body.gameObject=t,t},image:function(t,e,i,r){var n=new sCt(this.world,t,e,i,r);return this.sys.displayList.add(n),n},sprite:function(t,e,i,r){var n=new aCt(this.world,t,e,i,r);return this.sys.displayList.add(n),this.sys.updateList.add(n),n},destroy:function(){this.world=null,this.sys=null}}),e$=oCt;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var hCt=function(t,e,i,r){var n=e.pos.x+e.size.x-i.pos.x;if(r){var s=e===r?i:e;r.vel.x=-r.vel.x*r.bounciness+s.vel.x;var a=t.collisionMap.trace(r.pos.x,r.pos.y,r===e?-n:n,0,r.size.x,r.size.y);r.pos.x=a.pos.x}else{var o=(e.vel.x-i.vel.x)/2;e.vel.x=-o,i.vel.x=o;var h=t.collisionMap.trace(e.pos.x,e.pos.y,-n/2,0,e.size.x,e.size.y);e.pos.x=Math.floor(h.pos.x);var l=t.collisionMap.trace(i.pos.x,i.pos.y,n/2,0,i.size.x,i.size.y);i.pos.x=Math.ceil(l.pos.x)}},lCt=hCt;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var uCt=function(t,e,i,r){var n=e.pos.y+e.size.y-i.pos.y,s,a;if(r){var o=e===r?i:e;r.vel.y=-r.vel.y*r.bounciness+o.vel.y,s=0,r===e&&Math.abs(r.vel.y-o.vel.y)<r.minBounceVelocity&&(r.standing=!0,s=o.vel.x*t.delta);var h=t.collisionMap.trace(r.pos.x,r.pos.y,s,r===e?-n:n,r.size.x,r.size.y);r.pos.y=h.pos.y,r.pos.x=h.pos.x}else if(t.gravity&&(i.standing||e.vel.y>0))a=t.collisionMap.trace(e.pos.x,e.pos.y,0,-(e.pos.y+e.size.y-i.pos.y),e.size.x,e.size.y),e.pos.y=a.pos.y,e.bounciness>0&&e.vel.y>e.minBounceVelocity?e.vel.y*=-e.bounciness:(e.standing=!0,e.vel.y=0);else{var l=(e.vel.y-i.vel.y)/2;e.vel.y=-l,i.vel.y=l,s=i.vel.x*t.delta,a=t.collisionMap.trace(e.pos.x,e.pos.y,s,-n/2,e.size.x,e.size.y),e.pos.y=a.pos.y;var u=t.collisionMap.trace(i.pos.x,i.pos.y,0,n/2,i.size.x,i.size.y);i.pos.y=u.pos.y}},fCt=uCt;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var Zu=Al,$b=lCt,Ob=fCt,cCt=function(t,e,i){var r=null;e.collides===Zu.LITE||i.collides===Zu.FIXED?r=e:(i.collides===Zu.LITE||e.collides===Zu.FIXED)&&(r=i),e.last.x+e.size.x>i.last.x&&e.last.x<i.last.x+i.size.x?(e.last.y<i.last.y?Ob(t,e,i,r):Ob(t,i,e,r),e.collideWith(i,"y"),i.collideWith(e,"y"),t.emit("collide",e,i,"y")):e.last.y+e.size.y>i.last.y&&e.last.y<i.last.y+i.size.y&&(e.last.x<i.last.x?$b(t,e,i,r):$b(t,i,e,r),e.collideWith(i,"x"),i.collideWith(e,"x"),t.emit("collide",e,i,"x"))},dCt=cCt;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var vCt=JL,pCt=b,en=Al,Qu=jL,Ib=Bt.exports,yt=V,Db=Eo,gCt=Ro,mCt=dCt,yCt=Qi,Sr=Rl,xCt=new pCt({Extends:Ib,initialize:function(e,i){Ib.call(this),this.scene=e,this.bodies=new gCt,this.gravity=yt(i,"gravity",0),this.cellSize=yt(i,"cellSize",64),this.collisionMap=new Qu,this.timeScale=yt(i,"timeScale",1),this.maxStep=yt(i,"maxStep",.05),this.enabled=!0,this.drawDebug=yt(i,"debug",!1),this.debugGraphic;var r=yt(i,"maxVelocity",100);if(this.defaults={debugShowBody:yt(i,"debugShowBody",!0),debugShowVelocity:yt(i,"debugShowVelocity",!0),bodyDebugColor:yt(i,"debugBodyColor",16711935),velocityDebugColor:yt(i,"debugVelocityColor",65280),maxVelocityX:yt(i,"maxVelocityX",r),maxVelocityY:yt(i,"maxVelocityY",r),minBounceVelocity:yt(i,"minBounceVelocity",40),gravityFactor:yt(i,"gravityFactor",1),bounciness:yt(i,"bounciness",0)},this.walls={left:null,right:null,top:null,bottom:null},this.delta=0,this._lastId=0,yt(i,"setBounds",!1)){var n=i.setBounds;if(typeof n=="boolean")this.setBounds();else{var s=yt(n,"x",0),a=yt(n,"y",0),o=yt(n,"width",e.sys.game.config.width),h=yt(n,"height",e.sys.game.config.height),l=yt(n,"thickness",64),u=yt(n,"left",!0),f=yt(n,"right",!0),c=yt(n,"top",!0),d=yt(n,"bottom",!0);this.setBounds(s,a,o,h,l,u,f,c,d)}}this.drawDebug&&this.createDebugGraphic()},setCollisionMap:function(t,e){if(typeof t=="string"){var i=this.scene.cache.tilemap.get(t);if(!i||i.format!==yCt.WELTMEISTER)return console.warn("The specified key does not correspond to a Weltmeister tilemap: "+t),null;for(var r=i.data.layer,n,s=0;s<r.length;s++)if(r[s].name==="collision"){n=r[s];break}e===void 0&&(e=n.tilesize),this.collisionMap=new Qu(e,n.data)}else Array.isArray(t)?this.collisionMap=new Qu(e,t):console.warn("Invalid Weltmeister collision map data: "+t);return this.collisionMap},setCollisionMapFromTilemapLayer:function(t,e){e===void 0&&(e={});for(var i=yt(e,"slopeProperty",null),r=yt(e,"slopeMap",null),n=yt(e,"defaultCollidingSlope",null),s=yt(e,"defaultNonCollidingSlope",0),a=t.layer,o=a.baseTileWidth,h=[],l=0;l<a.height;l++){h[l]=[];for(var u=0;u<a.width;u++){var f=a.data[l][u];f&&f.collides?i!==null&&Db(f.properties,i)?h[l][u]=parseInt(f.properties[i],10):r!==null&&Db(r,f.index)?h[l][u]=r[f.index]:n!==null?h[l][u]=n:h[l][u]=f.index:h[l][u]=s}}return this.collisionMap=new Qu(o,h),this.collisionMap},setBounds:function(t,e,i,r,n,s,a,o,h){return t===void 0&&(t=0),e===void 0&&(e=0),i===void 0&&(i=this.scene.sys.game.config.width),r===void 0&&(r=this.scene.sys.game.config.height),n===void 0&&(n=64),s===void 0&&(s=!0),a===void 0&&(a=!0),o===void 0&&(o=!0),h===void 0&&(h=!0),this.updateWall(s,"left",t-n,e,n,r),this.updateWall(a,"right",t+i,e,n,r),this.updateWall(o,"top",t,e-n,i,n),this.updateWall(h,"bottom",t,e+r,i,n),this},updateWall:function(t,e,i,r,n,s){var a=this.walls[e];t?a?a.resetSize(i,r,n,s):(this.walls[e]=this.create(i,r,n,s),this.walls[e].name=e,this.walls[e].gravityFactor=0,this.walls[e].collides=en.FIXED):(a&&this.bodies.remove(a),this.walls[e]=null)},createDebugGraphic:function(){var t=this.scene.sys.add.graphics({x:0,y:0});return t.setDepth(Number.MAX_VALUE),this.debugGraphic=t,this.drawDebug=!0,t},getNextID:function(){return this._lastId++},create:function(t,e,i,r){var n=new vCt(this,t,e,i,r);return this.bodies.set(n),n},remove:function(t){this.bodies.delete(t)},pause:function(){return this.enabled=!1,this.emit("pause"),this},resume:function(){return this.enabled=!0,this.emit("resume"),this},update:function(t,e){if(!(!this.enabled||this.bodies.size===0)){var i=Math.min(e/1e3,this.maxStep)*this.timeScale;this.delta=i;var r,n,s=this.bodies.entries,a=s.length,o={},h=this.cellSize;for(r=0;r<a;r++)n=s[r],n.enabled&&n.update(i);for(r=0;r<a;r++)n=s[r],n&&!n.skipHash()&&this.checkHash(n,o,h);if(this.drawDebug){var l=this.debugGraphic;for(l.clear(),r=0;r<a;r++)n=s[r],n&&n.willDrawDebug()&&n.drawDebug(l)}}},checkHash:function(t,e,i){for(var r={},n=Math.floor(t.pos.x/i),s=Math.floor(t.pos.y/i),a=Math.floor((t.pos.x+t.size.x)/i)+1,o=Math.floor((t.pos.y+t.size.y)/i)+1,h=n;h<a;h++)for(var l=s;l<o;l++)if(!e[h])e[h]={},e[h][l]=[t];else if(!e[h][l])e[h][l]=[t];else{for(var u=e[h][l],f=0;f<u.length;f++)t.touches(u[f])&&!r[u[f].id]&&(r[u[f].id]=!0,this.checkBodies(t,u[f]));u.push(t)}},checkBodies:function(t,e){t.collides===en.FIXED&&e.collides===en.FIXED||(t.checkAgainst&e.type&&t.check(e),e.checkAgainst&t.type&&e.check(t),t.collides&&e.collides&&t.collides+e.collides>en.ACTIVE&&mCt(this,t,e))},setCollidesNever:function(t){for(var e=0;e<t.length;e++)t[e].collides=en.NEVER;return this},setLite:function(t){for(var e=0;e<t.length;e++)t[e].collides=en.LITE;return this},setPassive:function(t){for(var e=0;e<t.length;e++)t[e].collides=en.PASSIVE;return this},setActive:function(t){for(var e=0;e<t.length;e++)t[e].collides=en.ACTIVE;return this},setFixed:function(t){for(var e=0;e<t.length;e++)t[e].collides=en.FIXED;return this},setTypeNone:function(t){for(var e=0;e<t.length;e++)t[e].type=Sr.NONE;return this},setTypeA:function(t){for(var e=0;e<t.length;e++)t[e].type=Sr.A;return this},setTypeB:function(t){for(var e=0;e<t.length;e++)t[e].type=Sr.B;return this},setAvsB:function(t){for(var e=0;e<t.length;e++)t[e].type=Sr.A,t[e].checkAgainst=Sr.B;return this},setBvsA:function(t){for(var e=0;e<t.length;e++)t[e].type=Sr.B,t[e].checkAgainst=Sr.A;return this},setCheckAgainstNone:function(t){for(var e=0;e<t.length;e++)t[e].checkAgainst=Sr.NONE;return this},setCheckAgainstA:function(t){for(var e=0;e<t.length;e++)t[e].checkAgainst=Sr.A;return this},setCheckAgainstB:function(t){for(var e=0;e<t.length;e++)t[e].checkAgainst=Sr.B;return this},shutdown:function(){this.removeAllListeners()},destroy:function(){this.removeAllListeners(),this.scene=null,this.bodies.clear(),this.bodies=null,this.collisionMap=null}}),i$=xCt;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var _Ct=b,Bb=e$,kb=V,TCt=Ao,wCt=se,Gb=i$,r$=new _Ct({initialize:function(e){this.scene=e,this.systems=e.sys,this.config=this.getConfig(),this.world,this.add,e.sys.events.once("boot",this.boot,this),e.sys.events.on("start",this.start,this)},boot:function(){this.world=new Gb(this.scene,this.config),this.add=new Bb(this.world),this.systems.events.once("destroy",this.destroy,this)},start:function(){this.world||(this.world=new Gb(this.scene,this.config),this.add=new Bb(this.world));var t=this.systems.events;t.on("update",this.world.update,this.world),t.once("shutdown",this.shutdown,this)},getConfig:function(){var t=this.systems.game.config.physics,e=this.systems.settings.physics,i=TCt(kb(e,"impact",{}),kb(t,"impact",{}));return i},pause:function(){return this.world.pause()},resume:function(){return this.world.resume()},shutdown:function(){var t=this.systems.events;t.off("update",this.world.update,this.world),t.off("shutdown",this.shutdown,this),this.add.destroy(),this.world.destroy(),this.add=null,this.world=null},destroy:function(){this.shutdown(),this.scene.sys.events.off("start",this.start,this),this.scene=null,this.systems=null}});wCt.register("ImpactPhysics",r$,"impactPhysics");var SCt=r$;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var CCt={Body:JL,COLLIDES:Al,CollisionMap:jL,Factory:e$,Image:QL,ImpactBody:ZL,ImpactPhysics:SCt,Sprite:t$,TYPE:Rl,World:i$},Pt={},gr=Pt;(function(){Pt.create=function(t,e){return{x:t||0,y:e||0}},Pt.clone=function(t){return{x:t.x,y:t.y}},Pt.magnitude=function(t){return Math.sqrt(t.x*t.x+t.y*t.y)},Pt.magnitudeSquared=function(t){return t.x*t.x+t.y*t.y},Pt.rotate=function(t,e,i){var r=Math.cos(e),n=Math.sin(e);i||(i={});var s=t.x*r-t.y*n;return i.y=t.x*n+t.y*r,i.x=s,i},Pt.rotateAbout=function(t,e,i,r){var n=Math.cos(e),s=Math.sin(e);r||(r={});var a=i.x+((t.x-i.x)*n-(t.y-i.y)*s);return r.y=i.y+((t.x-i.x)*s+(t.y-i.y)*n),r.x=a,r},Pt.normalise=function(t){var e=Pt.magnitude(t);return e===0?{x:0,y:0}:{x:t.x/e,y:t.y/e}},Pt.dot=function(t,e){return t.x*e.x+t.y*e.y},Pt.cross=function(t,e){return t.x*e.y-t.y*e.x},Pt.cross3=function(t,e,i){return(e.x-t.x)*(i.y-t.y)-(e.y-t.y)*(i.x-t.x)},Pt.add=function(t,e,i){return i||(i={}),i.x=t.x+e.x,i.y=t.y+e.y,i},Pt.sub=function(t,e,i){return i||(i={}),i.x=t.x-e.x,i.y=t.y-e.y,i},Pt.mult=function(t,e){return{x:t.x*e,y:t.y*e}},Pt.div=function(t,e){return{x:t.x/e,y:t.y/e}},Pt.perp=function(t,e){return e=e===!0?-1:1,{x:e*-t.y,y:e*t.x}},Pt.neg=function(t){return{x:-t.x,y:-t.y}},Pt.angle=function(t,e){return Math.atan2(e.y-t.y,e.x-t.x)},Pt._temp=[Pt.create(),Pt.create(),Pt.create(),Pt.create(),Pt.create(),Pt.create()]})();var H={},oe=H;(function(){H._nextId=0,H._seed=0,H._nowStartTime=+new Date,H.extend=function(e,i){var r,n;typeof i=="boolean"?(r=2,n=i):(r=1,n=!0);for(var s=r;s<arguments.length;s++){var a=arguments[s];if(a)for(var o in a)n&&a[o]&&a[o].constructor===Object&&(!e[o]||e[o].constructor===Object)?(e[o]=e[o]||{},H.extend(e[o],n,a[o])):e[o]=a[o]}return e},H.clone=function(e,i){return H.extend({},i,e)},H.keys=function(e){if(Object.keys)return Object.keys(e);var i=[];for(var r in e)i.push(r);return i},H.values=function(e){var i=[];if(Object.keys){for(var r=Object.keys(e),n=0;n<r.length;n++)i.push(e[r[n]]);return i}for(var s in e)i.push(e[s]);return i},H.get=function(e,i,r,n){i=i.split(".").slice(r,n);for(var s=0;s<i.length;s+=1)e=e[i[s]];return e},H.set=function(e,i,r,n,s){var a=i.split(".").slice(n,s);return H.get(e,i,0,-1)[a[a.length-1]]=r,r},H.shuffle=function(e){for(var i=e.length-1;i>0;i--){var r=Math.floor(H.random()*(i+1)),n=e[i];e[i]=e[r],e[r]=n}return e},H.choose=function(e){return e[Math.floor(H.random()*e.length)]},H.isElement=function(e){return typeof HTMLElement<"u"?e instanceof HTMLElement:!!(e&&e.nodeType&&e.nodeName)},H.isArray=function(e){return Object.prototype.toString.call(e)==="[object Array]"},H.isFunction=function(e){return typeof e=="function"},H.isPlainObject=function(e){return typeof e=="object"&&e.constructor===Object},H.isString=function(e){return toString.call(e)==="[object String]"},H.clamp=function(e,i,r){return e<i?i:e>r?r:e},H.sign=function(e){return e<0?-1:1},H.now=function(){if(window.performance){if(window.performance.now)return window.performance.now();if(window.performance.webkitNow)return window.performance.webkitNow()}return new Date-H._nowStartTime},H.random=function(e,i){return e=typeof e<"u"?e:0,i=typeof i<"u"?i:1,e+t()*(i-e)};var t=function(){return H._seed=(H._seed*9301+49297)%233280,H._seed/233280};H.colorToNumber=function(e){return e=e.replace("#",""),e.length==3&&(e=e.charAt(0)+e.charAt(0)+e.charAt(1)+e.charAt(1)+e.charAt(2)+e.charAt(2)),parseInt(e,16)},H.logLevel=1,H.log=function(){console&&H.logLevel>0&&H.logLevel<=3&&console.log.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},H.info=function(){console&&H.logLevel>0&&H.logLevel<=2&&console.info.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},H.warn=function(){console&&H.logLevel>0&&H.logLevel<=3&&console.warn.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},H.nextId=function(){return H._nextId++},H.indexOf=function(e,i){if(e.indexOf)return e.indexOf(i);for(var r=0;r<e.length;r++)if(e[r]===i)return r;return-1},H.map=function(e,i){if(e.map)return e.map(i);for(var r=[],n=0;n<e.length;n+=1)r.push(i(e[n]));return r},H.topologicalSort=function(e){var i=[],r=[],n=[];for(var s in e)!r[s]&&!n[s]&&H._topologicalSort(s,r,n,e,i);return i},H._topologicalSort=function(e,i,r,n,s){var a=n[e]||[];r[e]=!0;for(var o=0;o<a.length;o+=1){var h=a[o];r[h]||i[h]||H._topologicalSort(h,i,r,n,s)}r[e]=!1,i[e]=!0,s.push(e)},H.chain=function(){for(var e=[],i=0;i<arguments.length;i+=1){var r=arguments[i];r._chained?e.push.apply(e,r._chained):e.push(r)}var n=function(){for(var s,a=new Array(arguments.length),o=0,h=arguments.length;o<h;o++)a[o]=arguments[o];for(o=0;o<e.length;o+=1){var l=e[o].apply(s,a);typeof l<"u"&&(s=l)}return s};return n._chained=e,n},H.chainPathBefore=function(e,i,r){return H.set(e,i,H.chain(r,H.get(e,i)))},H.chainPathAfter=function(e,i,r){return H.set(e,i,H.chain(H.get(e,i),r))},H._requireGlobal=function(e,i){var r=typeof window<"u"?window[e]:typeof Ht<"u"?Ht[e]:null;return r}})();var le={},tr=le,Mt=gr,zb=oe;(function(){le.create=function(t,e){for(var i=[],r=0;r<t.length;r++){var n=t[r],s={x:n.x,y:n.y,index:r,body:e,isInternal:!1,contact:null};s.contact={vertex:s,normalImpulse:0,tangentImpulse:0},i.push(s)}return i},le.fromPath=function(t,e){var i=/L?\s*([\-\d\.e]+)[\s,]*([\-\d\.e]+)*/ig,r=[];return t.replace(i,function(n,s,a){r.push({x:parseFloat(s),y:parseFloat(a)})}),le.create(r,e)},le.centre=function(t){for(var e=le.area(t,!0),i={x:0,y:0},r,n,s,a=0;a<t.length;a++)s=(a+1)%t.length,r=Mt.cross(t[a],t[s]),n=Mt.mult(Mt.add(t[a],t[s]),r),i=Mt.add(i,n);return Mt.div(i,6*e)},le.mean=function(t){for(var e={x:0,y:0},i=0;i<t.length;i++)e.x+=t[i].x,e.y+=t[i].y;return Mt.div(e,t.length)},le.area=function(t,e){for(var i=0,r=t.length-1,n=0;n<t.length;n++)i+=(t[r].x-t[n].x)*(t[r].y+t[n].y),r=n;return e?i/2:Math.abs(i)/2},le.inertia=function(t,e){for(var i=0,r=0,n=t,s,a,o=0;o<n.length;o++)a=(o+1)%n.length,s=Math.abs(Mt.cross(n[a],n[o])),i+=s*(Mt.dot(n[a],n[a])+Mt.dot(n[a],n[o])+Mt.dot(n[o],n[o])),r+=s;return e/6*(i/r)},le.translate=function(t,e,i){var r;if(i)for(r=0;r<t.length;r++)t[r].x+=e.x*i,t[r].y+=e.y*i;else for(r=0;r<t.length;r++)t[r].x+=e.x,t[r].y+=e.y;return t},le.rotate=function(t,e,i){if(e!==0){for(var r=Math.cos(e),n=Math.sin(e),s=0;s<t.length;s++){var a=t[s],o=a.x-i.x,h=a.y-i.y;a.x=i.x+(o*r-h*n),a.y=i.y+(o*n+h*r)}return t}},le.contains=function(t,e){for(var i=0;i<t.length;i++){var r=t[i],n=t[(i+1)%t.length];if((e.x-r.x)*(n.y-r.y)+(e.y-r.y)*(r.x-n.x)>0)return!1}return!0},le.scale=function(t,e,i,r){if(e===1&&i===1)return t;r=r||le.centre(t);for(var n,s,a=0;a<t.length;a++)n=t[a],s=Mt.sub(n,r),t[a].x=r.x+s.x*e,t[a].y=r.y+s.y*i;return t},le.chamfer=function(t,e,i,r,n){typeof e=="number"?e=[e]:e=e||[8],i=typeof i<"u"?i:-1,r=r||2,n=n||14;for(var s=[],a=0;a<t.length;a++){var o=t[a-1>=0?a-1:t.length-1],h=t[a],l=t[(a+1)%t.length],u=e[a<e.length?a:e.length-1];if(u===0){s.push(h);continue}var f=Mt.normalise({x:h.y-o.y,y:o.x-h.x}),c=Mt.normalise({x:l.y-h.y,y:h.x-l.x}),d=Math.sqrt(2*Math.pow(u,2)),g=Mt.mult(zb.clone(f),u),v=Mt.normalise(Mt.mult(Mt.add(f,c),.5)),p=Mt.sub(h,Mt.mult(v,d)),m=i;i===-1&&(m=Math.pow(u,.32)*1.75),m=zb.clamp(m,r,n),m%2===1&&(m+=1);for(var y=Math.acos(Mt.dot(f,c)),x=y/m,T=0;T<m;T++)s.push(Mt.add(Mt.rotate(g,x*T),p))}return s},le.clockwiseSort=function(t){var e=le.mean(t);return t.sort(function(i,r){return Mt.angle(e,i)-Mt.angle(e,r)}),t},le.isConvex=function(t){var e=0,i=t.length,r,n,s,a;if(i<3)return null;for(r=0;r<i;r++)if(n=(r+1)%i,s=(r+2)%i,a=(t[n].x-t[r].x)*(t[s].y-t[n].y),a-=(t[n].y-t[r].y)*(t[s].x-t[n].x),a<0?e|=1:a>0&&(e|=2),e===3)return!1;return e!==0?!0:null},le.hull=function(t){var e=[],i=[],r,n;for(t=t.slice(0),t.sort(function(s,a){var o=s.x-a.x;return o!==0?o:s.y-a.y}),n=0;n<t.length;n+=1){for(r=t[n];i.length>=2&&Mt.cross3(i[i.length-2],i[i.length-1],r)<=0;)i.pop();i.push(r)}for(n=t.length-1;n>=0;n-=1){for(r=t[n];e.length>=2&&Mt.cross3(e[e.length-2],e[e.length-1],r)<=0;)e.pop();e.push(r)}return e.pop(),i.pop(),e.concat(i)}})();var zf={},Io=zf,Up=oe;(function(){zf.on=function(t,e,i){for(var r=e.split(" "),n,s=0;s<r.length;s++)n=r[s],t.events=t.events||{},t.events[n]=t.events[n]||[],t.events[n].push(i);return i},zf.off=function(t,e,i){if(!e){t.events={};return}typeof e=="function"&&(i=e,e=Up.keys(t.events).join(" "));for(var r=e.split(" "),n=0;n<r.length;n++){var s=t.events[r[n]],a=[];if(i&&s)for(var o=0;o<s.length;o++)s[o]!==i&&a.push(s[o]);t.events[r[n]]=a}},zf.trigger=function(t,e,i){var r,n,s,a,o=t.events;if(o&&Up.keys(o).length>0){i||(i={}),r=e.split(" ");for(var h=0;h<r.length;h++)if(n=r[h],s=o[n],s){a=Up.clone(i,!1),a.name=n,a.source=t;for(var l=0;l<s.length;l++)s[l].apply(t,[a])}}}})();var hi={},Fl=hi,Nb=Io;(function(){hi._motionWakeThreshold=.18,hi._motionSleepThreshold=.08,hi._minBias=.9,hi.update=function(t,e){for(var i=e*e*e,r=0;r<t.length;r++){var n=t[r],s=n.speed*n.speed+n.angularSpeed*n.angularSpeed;if(n.force.x!==0||n.force.y!==0){hi.set(n,!1);continue}var a=Math.min(n.motion,s),o=Math.max(n.motion,s);n.motion=hi._minBias*a+(1-hi._minBias)*o,n.sleepThreshold>0&&n.motion<hi._motionSleepThreshold*i?(n.sleepCounter+=1,n.sleepCounter>=n.sleepThreshold&&hi.set(n,!0)):n.sleepCounter>0&&(n.sleepCounter-=1)}},hi.afterCollisions=function(t,e){for(var i=e*e*e,r=0;r<t.length;r++){var n=t[r];if(!!n.isActive){var s=n.collision,a=s.bodyA.parent,o=s.bodyB.parent;if(!(a.isSleeping&&o.isSleeping||a.isStatic||o.isStatic)&&(a.isSleeping||o.isSleeping)){var h=a.isSleeping&&!a.isStatic?a:o,l=h===a?o:a;!h.isStatic&&l.motion>hi._motionWakeThreshold*i&&hi.set(h,!1)}}}},hi.set=function(t,e){var i=t.isSleeping;e?(t.isSleeping=!0,t.sleepCounter=t.sleepThreshold,t.positionImpulse.x=0,t.positionImpulse.y=0,t.positionPrev.x=t.position.x,t.positionPrev.y=t.position.y,t.anglePrev=t.angle,t.speed=0,t.angularSpeed=0,t.motion=0,i||Nb.trigger(t,"sleepStart")):(t.isSleeping=!1,t.sleepCounter=0,i&&Nb.trigger(t,"sleepEnd"))}})();var rs={},Xr=rs;(function(){rs.create=function(t){var e={min:{x:0,y:0},max:{x:0,y:0}};return t&&rs.update(e,t),e},rs.update=function(t,e,i){t.min.x=1/0,t.max.x=-1/0,t.min.y=1/0,t.max.y=-1/0;for(var r=0;r<e.length;r++){var n=e[r];n.x>t.max.x&&(t.max.x=n.x),n.x<t.min.x&&(t.min.x=n.x),n.y>t.max.y&&(t.max.y=n.y),n.y<t.min.y&&(t.min.y=n.y)}i&&(i.x>0?t.max.x+=i.x:t.min.x+=i.x,i.y>0?t.max.y+=i.y:t.min.y+=i.y)},rs.contains=function(t,e){return e.x>=t.min.x&&e.x<=t.max.x&&e.y>=t.min.y&&e.y<=t.max.y},rs.overlaps=function(t,e){return t.min.x<=e.max.x&&t.max.x>=e.min.x&&t.max.y>=e.min.y&&t.min.y<=e.max.y},rs.translate=function(t,e){t.min.x+=e.x,t.max.x+=e.x,t.min.y+=e.y,t.max.y+=e.y},rs.shift=function(t,e){var i=t.max.x-t.min.x,r=t.max.y-t.min.y;t.min.x=e.x,t.max.x=e.x+i,t.min.y=e.y,t.max.y=e.y+r}})();var bm={},Oy=bm,bCt=gr,MCt=oe;(function(){bm.fromVertices=function(t){for(var e={},i=0;i<t.length;i++){var r=(i+1)%t.length,n=bCt.normalise({x:t[r].y-t[i].y,y:t[i].x-t[r].x}),s=n.y===0?1/0:n.x/n.y;s=s.toFixed(3).toString(),e[s]=n}return MCt.values(e)},bm.rotate=function(t,e){if(e!==0)for(var i=Math.cos(e),r=Math.sin(e),n=0;n<t.length;n++){var s=t[n],a;a=s.x*i-s.y*r,s.y=s.x*r+s.y*i,s.x=a}}})();var U={},ci=U,Jt=tr,Cr=gr,PCt=Fl,Hp=oe,Ys=Xr,ph=Oy;(function(){U._inertiaScale=4,U._nextCollidingGroupId=1,U._nextNonCollidingGroupId=-1,U._nextCategory=1,U.create=function(e){var i={id:Hp.nextId(),type:"body",label:"Body",gameObject:null,parts:[],plugin:{},angle:0,vertices:Jt.fromPath("L 0 0 L 40 0 L 40 40 L 0 40"),position:{x:0,y:0},force:{x:0,y:0},torque:0,positionImpulse:{x:0,y:0},previousPositionImpulse:{x:0,y:0},constraintImpulse:{x:0,y:0,angle:0},totalContacts:0,speed:0,angularSpeed:0,velocity:{x:0,y:0},angularVelocity:0,isSensor:!1,isStatic:!1,isSleeping:!1,ignoreGravity:!1,ignorePointer:!1,motion:0,sleepThreshold:60,density:.001,restitution:0,friction:.1,frictionStatic:.5,frictionAir:.01,collisionFilter:{category:1,mask:4294967295,group:0},slop:.05,timeScale:1,render:{visible:!0,opacity:1,sprite:{xScale:1,yScale:1,xOffset:0,yOffset:0},lineWidth:0},events:null,bounds:null,chamfer:null,circleRadius:0,positionPrev:null,anglePrev:0,parent:null,axes:null,area:0,mass:0,inertia:0,_original:null},r=Hp.extend(i,e);return t(r,e),r},U.nextGroup=function(e){return e?U._nextNonCollidingGroupId--:U._nextCollidingGroupId++},U.nextCategory=function(){return U._nextCategory=U._nextCategory<<1,U._nextCategory};var t=function(e,i){i=i||{},U.set(e,{bounds:e.bounds||Ys.create(e.vertices),positionPrev:e.positionPrev||Cr.clone(e.position),anglePrev:e.anglePrev||e.angle,vertices:e.vertices,parts:e.parts||[e],isStatic:e.isStatic,isSleeping:e.isSleeping,parent:e.parent||e}),Jt.rotate(e.vertices,e.angle,e.position),ph.rotate(e.axes,e.angle),Ys.update(e.bounds,e.vertices,e.velocity),U.set(e,{axes:i.axes||e.axes,area:i.area||e.area,mass:i.mass||e.mass,inertia:i.inertia||e.inertia});var r=e.isStatic?"#2e2b44":Hp.choose(["#006BA6","#0496FF","#FFBC42","#D81159","#8F2D56"]),n="#000";e.render.fillStyle=e.render.fillStyle||r,e.render.strokeStyle=e.render.strokeStyle||n,e.render.sprite.xOffset+=-(e.bounds.min.x-e.position.x)/(e.bounds.max.x-e.bounds.min.x),e.render.sprite.yOffset+=-(e.bounds.min.y-e.position.y)/(e.bounds.max.y-e.bounds.min.y)};U.set=function(e,i,r){var n;typeof i=="string"&&(n=i,i={},i[n]=r);for(n in i)if(!!i.hasOwnProperty(n))switch(r=i[n],n){case"isStatic":U.setStatic(e,r);break;case"isSleeping":PCt.set(e,r);break;case"mass":U.setMass(e,r);break;case"density":U.setDensity(e,r);break;case"inertia":U.setInertia(e,r);break;case"vertices":U.setVertices(e,r);break;case"position":U.setPosition(e,r);break;case"angle":U.setAngle(e,r);break;case"velocity":U.setVelocity(e,r);break;case"angularVelocity":U.setAngularVelocity(e,r);break;case"parts":U.setParts(e,r);break;default:e[n]=r}},U.setStatic=function(e,i){for(var r=0;r<e.parts.length;r++){var n=e.parts[r];n.isStatic=i,i?(n._original={restitution:n.restitution,friction:n.friction,mass:n.mass,inertia:n.inertia,density:n.density,inverseMass:n.inverseMass,inverseInertia:n.inverseInertia},n.restitution=0,n.friction=1,n.mass=n.inertia=n.density=1/0,n.inverseMass=n.inverseInertia=0,n.positionPrev.x=n.position.x,n.positionPrev.y=n.position.y,n.anglePrev=n.angle,n.angularVelocity=0,n.speed=0,n.angularSpeed=0,n.motion=0):n._original&&(n.restitution=n._original.restitution,n.friction=n._original.friction,n.mass=n._original.mass,n.inertia=n._original.inertia,n.density=n._original.density,n.inverseMass=n._original.inverseMass,n.inverseInertia=n._original.inverseInertia,n._original=null)}},U.setMass=function(e,i){var r=e.inertia/(e.mass/6);e.inertia=r*(i/6),e.inverseInertia=1/e.inertia,e.mass=i,e.inverseMass=1/e.mass,e.density=e.mass/e.area},U.setDensity=function(e,i){U.setMass(e,i*e.area),e.density=i},U.setInertia=function(e,i){e.inertia=i,e.inverseInertia=1/e.inertia},U.setVertices=function(e,i){i[0].body===e?e.vertices=i:e.vertices=Jt.create(i,e),e.axes=ph.fromVertices(e.vertices),e.area=Jt.area(e.vertices),U.setMass(e,e.density*e.area);var r=Jt.centre(e.vertices);Jt.translate(e.vertices,r,-1),U.setInertia(e,U._inertiaScale*Jt.inertia(e.vertices,e.mass)),Jt.translate(e.vertices,e.position),Ys.update(e.bounds,e.vertices,e.velocity)},U.setParts=function(e,i,r){var n;for(i=i.slice(0),e.parts.length=0,e.parts.push(e),e.parent=e,n=0;n<i.length;n++){var s=i[n];s!==e&&(s.parent=e,e.parts.push(s))}if(e.parts.length!==1){if(r=typeof r<"u"?r:!0,r){var a=[];for(n=0;n<i.length;n++)a=a.concat(i[n].vertices);Jt.clockwiseSort(a);var o=Jt.hull(a),h=Jt.centre(o);U.setVertices(e,o),Jt.translate(e.vertices,h)}var l=U._totalProperties(e);e.area=l.area,e.parent=e,e.position.x=l.centre.x,e.position.y=l.centre.y,e.positionPrev.x=l.centre.x,e.positionPrev.y=l.centre.y,U.setMass(e,l.mass),U.setInertia(e,l.inertia),U.setPosition(e,l.centre)}},U.setPosition=function(e,i){var r=Cr.sub(i,e.position);e.positionPrev.x+=r.x,e.positionPrev.y+=r.y;for(var n=0;n<e.parts.length;n++){var s=e.parts[n];s.position.x+=r.x,s.position.y+=r.y,Jt.translate(s.vertices,r),Ys.update(s.bounds,s.vertices,e.velocity)}},U.setAngle=function(e,i){var r=i-e.angle;e.anglePrev+=r;for(var n=0;n<e.parts.length;n++){var s=e.parts[n];s.angle+=r,Jt.rotate(s.vertices,r,e.position),ph.rotate(s.axes,r),Ys.update(s.bounds,s.vertices,e.velocity),n>0&&Cr.rotateAbout(s.position,r,e.position,s.position)}},U.setVelocity=function(e,i){e.positionPrev.x=e.position.x-i.x,e.positionPrev.y=e.position.y-i.y,e.velocity.x=i.x,e.velocity.y=i.y,e.speed=Cr.magnitude(e.velocity)},U.setAngularVelocity=function(e,i){e.anglePrev=e.angle-i,e.angularVelocity=i,e.angularSpeed=Math.abs(e.angularVelocity)},U.translate=function(e,i){U.setPosition(e,Cr.add(e.position,i))},U.rotate=function(e,i,r){if(!r)U.setAngle(e,e.angle+i);else{var n=Math.cos(i),s=Math.sin(i),a=e.position.x-r.x,o=e.position.y-r.y;U.setPosition(e,{x:r.x+(a*n-o*s),y:r.y+(a*s+o*n)}),U.setAngle(e,e.angle+i)}},U.scale=function(e,i,r,n){var s=0,a=0;n=n||e.position;for(var o=0;o<e.parts.length;o++){var h=e.parts[o];Jt.scale(h.vertices,i,r,n),h.axes=ph.fromVertices(h.vertices),h.area=Jt.area(h.vertices),U.setMass(h,e.density*h.area),Jt.translate(h.vertices,{x:-h.position.x,y:-h.position.y}),U.setInertia(h,U._inertiaScale*Jt.inertia(h.vertices,h.mass)),Jt.translate(h.vertices,{x:h.position.x,y:h.position.y}),o>0&&(s+=h.area,a+=h.inertia),h.position.x=n.x+(h.position.x-n.x)*i,h.position.y=n.y+(h.position.y-n.y)*r,Ys.update(h.bounds,h.vertices,e.velocity)}e.parts.length>1&&(e.area=s,e.isStatic||(U.setMass(e,e.density*s),U.setInertia(e,a))),e.circleRadius&&(i===r?e.circleRadius*=i:e.circleRadius=null)},U.update=function(e,i,r,n){var s=Math.pow(i*r*e.timeScale,2),a=1-e.frictionAir*r*e.timeScale,o=e.position.x-e.positionPrev.x,h=e.position.y-e.positionPrev.y;e.velocity.x=o*a*n+e.force.x/e.mass*s,e.velocity.y=h*a*n+e.force.y/e.mass*s,e.positionPrev.x=e.position.x,e.positionPrev.y=e.position.y,e.position.x+=e.velocity.x,e.position.y+=e.velocity.y,e.angularVelocity=(e.angle-e.anglePrev)*a*n+e.torque/e.inertia*s,e.anglePrev=e.angle,e.angle+=e.angularVelocity,e.speed=Cr.magnitude(e.velocity),e.angularSpeed=Math.abs(e.angularVelocity);for(var l=0;l<e.parts.length;l++){var u=e.parts[l];Jt.translate(u.vertices,e.velocity),l>0&&(u.position.x+=e.velocity.x,u.position.y+=e.velocity.y),e.angularVelocity!==0&&(Jt.rotate(u.vertices,e.angularVelocity,e.position),ph.rotate(u.axes,e.angularVelocity),l>0&&Cr.rotateAbout(u.position,e.angularVelocity,e.position,u.position)),Ys.update(u.bounds,u.vertices,e.velocity)}},U.applyForce=function(e,i,r){e.force.x+=r.x,e.force.y+=r.y;var n={x:i.x-e.position.x,y:i.y-e.position.y};e.torque+=n.x*r.y-n.y*r.x},U._totalProperties=function(e){for(var i={mass:0,area:0,inertia:0,centre:{x:0,y:0}},r=e.parts.length===1?0:1;r<e.parts.length;r++){var n=e.parts[r],s=n.mass!==1/0?n.mass:1;i.mass+=s,i.area+=n.area,i.inertia+=n.inertia,i.centre=Cr.add(i.centre,Cr.mult(n.position,s))}return i.centre=Cr.div(i.centre,i.mass),i}})();/**
 * @author       Stefan Hedman <schteppe@gmail.com> (http://steffe.se)
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var n$={decomp:GCt,quickDecomp:kh,isSimple:zCt,removeCollinearPoints:NCt,removeDuplicatePoints:YCt,makeCCW:$Ct};function ACt(t,e,i){i=i||0;var r=[0,0],n,s,a,o,h,l,u;return n=t[1][1]-t[0][1],s=t[0][0]-t[1][0],a=n*t[0][0]+s*t[0][1],o=e[1][1]-e[0][1],h=e[0][0]-e[1][0],l=o*e[0][0]+h*e[0][1],u=n*h-o*s,cc(u,0,i)||(r[0]=(h*a-s*l)/u,r[1]=(n*l-o*a)/u),r}function Mm(t,e,i,r){var n=e[0]-t[0],s=e[1]-t[1],a=r[0]-i[0],o=r[1]-i[1];if(a*s-o*n===0)return!1;var h=(n*(i[1]-t[1])+s*(t[0]-i[0]))/(a*s-o*n),l=(a*(t[1]-i[1])+o*(i[0]-t[0]))/(o*n-a*s);return h>=0&&h<=1&&l>=0&&l<=1}function El(t,e,i){return(e[0]-t[0])*(i[1]-t[1])-(i[0]-t[0])*(e[1]-t[1])}function Nf(t,e,i){return El(t,e,i)>0}function Pm(t,e,i){return El(t,e,i)>=0}function s$(t,e,i){return El(t,e,i)<0}function Uh(t,e,i){return El(t,e,i)<=0}var RCt=[],FCt=[];function ECt(t,e,i,r){if(r){var n=RCt,s=FCt;n[0]=e[0]-t[0],n[1]=e[1]-t[1],s[0]=i[0]-e[0],s[1]=i[1]-e[1];var a=n[0]*s[0]+n[1]*s[1],o=Math.sqrt(n[0]*n[0]+n[1]*n[1]),h=Math.sqrt(s[0]*s[0]+s[1]*s[1]),l=Math.acos(a/(o*h));return l<r}else return El(t,e,i)===0}function Hh(t,e){var i=e[0]-t[0],r=e[1]-t[1];return i*i+r*r}function Y(t,e){var i=t.length;return t[e<0?e%i+i:e%i]}function LCt(t){t.length=0}function Gi(t,e,i,r){for(var n=i;n<r;n++)t.push(e[n])}function $Ct(t){for(var e=0,i=t,r=1;r<t.length;++r)(i[r][1]<i[e][1]||i[r][1]===i[e][1]&&i[r][0]>i[e][0])&&(e=r);return Nf(Y(t,e-1),Y(t,e),Y(t,e+1))?!1:(OCt(t),!0)}function OCt(t){for(var e=[],i=t.length,r=0;r!==i;r++)e.push(t.pop());for(var r=0;r!==i;r++)t[r]=e[r]}function a$(t,e){return s$(Y(t,e-1),Y(t,e),Y(t,e+1))}var ICt=[],DCt=[];function BCt(t,e,i){var r,n,s=ICt,a=DCt;if(Pm(Y(t,e+1),Y(t,e),Y(t,i))&&Uh(Y(t,e-1),Y(t,e),Y(t,i)))return!1;n=Hh(Y(t,e),Y(t,i));for(var o=0;o!==t.length;++o)if(!((o+1)%t.length===e||o===e)&&Pm(Y(t,e),Y(t,i),Y(t,o+1))&&Uh(Y(t,e),Y(t,i),Y(t,o))&&(s[0]=Y(t,e),s[1]=Y(t,i),a[0]=Y(t,o),a[1]=Y(t,o+1),r=ACt(s,a),Hh(Y(t,e),r)<n))return!1;return!0}function kCt(t,e,i){for(var r=0;r!==t.length;++r)if(!(r===e||r===i||(r+1)%t.length===e||(r+1)%t.length===i)&&Mm(Y(t,e),Y(t,i),Y(t,r),Y(t,r+1)))return!1;return!0}function fc(t,e,i,r){var n=r||[];if(LCt(n),e<i)for(var s=e;s<=i;s++)n.push(t[s]);else{for(var s=0;s<=i;s++)n.push(t[s]);for(var s=e;s<t.length;s++)n.push(t[s])}return n}function Am(t){for(var e=[],i=[],r=[],n=[],s=Number.MAX_VALUE,a=0;a<t.length;++a)if(a$(t,a)){for(var o=0;o<t.length;++o)if(BCt(t,a,o)){i=Am(fc(t,a,o,n)),r=Am(fc(t,o,a,n));for(var h=0;h<r.length;h++)i.push(r[h]);i.length<s&&(e=i,s=i.length,e.push([Y(t,a),Y(t,o)]))}}return e}function GCt(t){var e=Am(t);return e.length>0?o$(t,e):[t]}function o$(t,e){if(e.length===0)return[t];if(e instanceof Array&&e.length&&e[0]instanceof Array&&e[0].length===2&&e[0][0]instanceof Array){for(var i=[t],r=0;r<e.length;r++)for(var n=e[r],s=0;s<i.length;s++){var a=i[s],o=o$(a,n);if(o){i.splice(s,1),i.push(o[0],o[1]);break}}return i}else{var n=e,r=t.indexOf(n[0]),s=t.indexOf(n[1]);return r!==-1&&s!==-1?[fc(t,r,s),fc(t,s,r)]:!1}}function zCt(t){var e=t,i;for(i=0;i<e.length-1;i++)for(var r=0;r<i-1;r++)if(Mm(e[i],e[i+1],e[r],e[r+1]))return!1;for(i=1;i<e.length-2;i++)if(Mm(e[0],e[e.length-1],e[i],e[i+1]))return!1;return!0}function Yb(t,e,i,r,n){n=n||0;var s=e[1]-t[1],a=t[0]-e[0],o=s*t[0]+a*t[1],h=r[1]-i[1],l=i[0]-r[0],u=h*i[0]+l*i[1],f=s*l-h*a;return cc(f,0,n)?[0,0]:[(l*o-a*u)/f,(s*u-h*o)/f]}function kh(t,e,i,r,n,s,a){s=s||100,a=a||0,n=n||25,e=typeof e<"u"?e:[],i=i||[],r=r||[];var o=[0,0],h=[0,0],l=[0,0],u=0,f=0,c=0,d=0,g=0,v=0,p=0,m=[],y=[],x=t,T=t;if(T.length<3)return e;if(a++,a>s)return console.warn("quickDecomp: max level ("+s+") reached."),e;for(var _=0;_<t.length;++_)if(a$(x,_)){i.push(x[_]),u=f=Number.MAX_VALUE;for(var w=0;w<t.length;++w)Nf(Y(x,_-1),Y(x,_),Y(x,w))&&Uh(Y(x,_-1),Y(x,_),Y(x,w-1))&&(l=Yb(Y(x,_-1),Y(x,_),Y(x,w),Y(x,w-1)),s$(Y(x,_+1),Y(x,_),l)&&(c=Hh(x[_],l),c<f&&(f=c,h=l,v=w))),Nf(Y(x,_+1),Y(x,_),Y(x,w+1))&&Uh(Y(x,_+1),Y(x,_),Y(x,w))&&(l=Yb(Y(x,_+1),Y(x,_),Y(x,w),Y(x,w+1)),Nf(Y(x,_-1),Y(x,_),l)&&(c=Hh(x[_],l),c<u&&(u=c,o=l,g=w)));if(v===(g+1)%t.length)l[0]=(h[0]+o[0])/2,l[1]=(h[1]+o[1])/2,r.push(l),_<g?(Gi(m,x,_,g+1),m.push(l),y.push(l),v!==0&&Gi(y,x,v,x.length),Gi(y,x,0,_+1)):(_!==0&&Gi(m,x,_,x.length),Gi(m,x,0,g+1),m.push(l),y.push(l),Gi(y,x,v,_+1));else{if(v>g&&(g+=t.length),d=Number.MAX_VALUE,g<v)return e;for(var w=v;w<=g;++w)Pm(Y(x,_-1),Y(x,_),Y(x,w))&&Uh(Y(x,_+1),Y(x,_),Y(x,w))&&(c=Hh(Y(x,_),Y(x,w)),c<d&&kCt(x,_,w)&&(d=c,p=w%t.length));_<p?(Gi(m,x,_,p+1),p!==0&&Gi(y,x,p,T.length),Gi(y,x,0,_+1)):(_!==0&&Gi(m,x,_,T.length),Gi(m,x,0,p+1),Gi(y,x,p,_+1))}return m.length<y.length?(kh(m,e,i,r,n,s,a),kh(y,e,i,r,n,s,a)):(kh(y,e,i,r,n,s,a),kh(m,e,i,r,n,s,a)),e}return e.push(t),e}function NCt(t,e){for(var i=0,r=t.length-1;t.length>3&&r>=0;--r)ECt(Y(t,r-1),Y(t,r),Y(t,r+1),e)&&(t.splice(r%t.length,1),i++);return i}function YCt(t,e){for(var i=t.length-1;i>=1;--i)for(var r=t[i],n=i-1;n>=0;--n)if(VCt(r,t[n],e)){t.splice(i,1);continue}}function cc(t,e,i){return i=i||0,Math.abs(t-e)<=i}function VCt(t,e,i){return cc(t[0],e[0],i)&&cc(t[1],e[1],i)}var ns={},Cs=ns,ur=tr,Jn=oe,to=ci,WCt=Xr,tf=gr,gh=n$;(function(){ns.rectangle=function(t,e,i,r,n){n=n||{};var s={label:"Rectangle Body",position:{x:t,y:e},vertices:ur.fromPath("L 0 0 L "+i+" 0 L "+i+" "+r+" L 0 "+r)};if(n.chamfer){var a=n.chamfer;s.vertices=ur.chamfer(s.vertices,a.radius,a.quality,a.qualityMin,a.qualityMax),delete n.chamfer}return to.create(Jn.extend({},s,n))},ns.trapezoid=function(t,e,i,r,n,s){s=s||{},n*=.5;var a=(1-n*2)*i,o=i*n,h=o+a,l=h+o,u;n<.5?u="L 0 0 L "+o+" "+-r+" L "+h+" "+-r+" L "+l+" 0":u="L 0 0 L "+h+" "+-r+" L "+l+" 0";var f={label:"Trapezoid Body",position:{x:t,y:e},vertices:ur.fromPath(u)};if(s.chamfer){var c=s.chamfer;f.vertices=ur.chamfer(f.vertices,c.radius,c.quality,c.qualityMin,c.qualityMax),delete s.chamfer}return to.create(Jn.extend({},f,s))},ns.circle=function(t,e,i,r,n){r=r||{};var s={label:"Circle Body",circleRadius:i};n=n||25;var a=Math.ceil(Math.max(10,Math.min(n,i)));return a%2===1&&(a+=1),ns.polygon(t,e,a,i,Jn.extend({},s,r))},ns.polygon=function(t,e,i,r,n){if(n=n||{},i<3)return ns.circle(t,e,r,n);for(var s=2*Math.PI/i,a="",o=s*.5,h=0;h<i;h+=1){var l=o+h*s,u=Math.cos(l)*r,f=Math.sin(l)*r;a+="L "+u.toFixed(3)+" "+f.toFixed(3)+" "}var c={label:"Polygon Body",position:{x:t,y:e},vertices:ur.fromPath(a)};if(n.chamfer){var d=n.chamfer;c.vertices=ur.chamfer(c.vertices,d.radius,d.quality,d.qualityMin,d.qualityMax),delete n.chamfer}return to.create(Jn.extend({},c,n))},ns.fromVertices=function(t,e,i,r,n,s,a){var o,h,l,u,f,c,d,g,v;for(r=r||{},h=[],n=typeof n<"u"?n:!1,s=typeof s<"u"?s:.01,a=typeof a<"u"?a:10,gh||Jn.warn("Bodies.fromVertices: poly-decomp.js required. Could not decompose vertices. Fallback to convex hull."),Jn.isArray(i[0])||(i=[i]),g=0;g<i.length;g+=1)if(u=i[g],l=ur.isConvex(u),l||!gh)l?u=ur.clockwiseSort(u):u=ur.hull(u),h.push({position:{x:t,y:e},vertices:u});else{var p=u.map(function(E){return[E.x,E.y]});gh.makeCCW(p),s!==!1&&gh.removeCollinearPoints(p,s);var m=gh.quickDecomp(p);for(f=0;f<m.length;f++){var y=m[f],x=y.map(function(E){return{x:E[0],y:E[1]}});a>0&&ur.area(x)<a||h.push({position:ur.centre(x),vertices:x})}}for(f=0;f<h.length;f++)h[f]=to.create(Jn.extend(h[f],r));if(n){var T=5;for(f=0;f<h.length;f++){var _=h[f];for(c=f+1;c<h.length;c++){var w=h[c];if(WCt.overlaps(_.bounds,w.bounds)){var S=_.vertices,C=w.vertices;for(d=0;d<_.vertices.length;d++)for(v=0;v<w.vertices.length;v++){var R=tf.magnitudeSquared(tf.sub(S[(d+1)%S.length],C[v])),L=tf.magnitudeSquared(tf.sub(S[d],C[(v+1)%C.length]));R<T&&L<T&&(S[d].isInternal=!0,C[v].isInternal=!0)}}}}}return h.length>1?(o=to.create(Jn.extend({parts:h.slice(0)},r)),to.setPosition(o,{x:t,y:e}),o):h[0]}})();var k={},Ca=k,ef=Io,rf=oe,XCt=Xr,mh=ci;(function(){k.create=function(t){return rf.extend({id:rf.nextId(),type:"composite",parent:null,isModified:!1,bodies:[],constraints:[],composites:[],label:"Composite",plugin:{}},t)},k.setModified=function(t,e,i,r){if(t.isModified=e,i&&t.parent&&k.setModified(t.parent,e,i,r),r)for(var n=0;n<t.composites.length;n++){var s=t.composites[n];k.setModified(s,e,i,r)}},k.add=function(t,e){var i=[].concat(e);ef.trigger(t,"beforeAdd",{object:e});for(var r=0;r<i.length;r++){var n=i[r];switch(n.type){case"body":if(n.parent!==n){rf.warn("Composite.add: skipped adding a compound body part (you must add its parent instead)");break}k.addBody(t,n);break;case"constraint":k.addConstraint(t,n);break;case"composite":k.addComposite(t,n);break;case"mouseConstraint":k.addConstraint(t,n.constraint);break}}return ef.trigger(t,"afterAdd",{object:e}),t},k.remove=function(t,e,i){var r=[].concat(e);ef.trigger(t,"beforeRemove",{object:e});for(var n=0;n<r.length;n++){var s=r[n];switch(s.type){case"body":k.removeBody(t,s,i);break;case"constraint":k.removeConstraint(t,s,i);break;case"composite":k.removeComposite(t,s,i);break;case"mouseConstraint":k.removeConstraint(t,s.constraint);break}}return ef.trigger(t,"afterRemove",{object:e}),t},k.addComposite=function(t,e){return t.composites.push(e),e.parent=t,k.setModified(t,!0,!0,!1),t},k.removeComposite=function(t,e,i){var r=t.composites.indexOf(e);if(r!==-1&&(k.removeCompositeAt(t,r),k.setModified(t,!0,!0,!1)),i)for(var n=0;n<t.composites.length;n++)k.removeComposite(t.composites[n],e,!0);return t},k.removeCompositeAt=function(t,e){return t.composites.splice(e,1),k.setModified(t,!0,!0,!1),t},k.addBody=function(t,e){return t.bodies.push(e),k.setModified(t,!0,!0,!1),t},k.removeBody=function(t,e,i){var r=t.bodies.indexOf(e);if(r!==-1&&(k.removeBodyAt(t,r),k.setModified(t,!0,!0,!1)),i)for(var n=0;n<t.composites.length;n++)k.removeBody(t.composites[n],e,!0);return t},k.removeBodyAt=function(t,e){return t.bodies.splice(e,1),k.setModified(t,!0,!0,!1),t},k.addConstraint=function(t,e){return t.constraints.push(e),k.setModified(t,!0,!0,!1),t},k.removeConstraint=function(t,e,i){var r=t.constraints.indexOf(e);if(r!==-1&&k.removeConstraintAt(t,r),i)for(var n=0;n<t.composites.length;n++)k.removeConstraint(t.composites[n],e,!0);return t},k.removeConstraintAt=function(t,e){return t.constraints.splice(e,1),k.setModified(t,!0,!0,!1),t},k.clear=function(t,e,i){if(i)for(var r=0;r<t.composites.length;r++)k.clear(t.composites[r],e,!0);return e?t.bodies=t.bodies.filter(function(n){return n.isStatic}):t.bodies.length=0,t.constraints.length=0,t.composites.length=0,k.setModified(t,!0,!0,!1),t},k.allBodies=function(t){for(var e=[].concat(t.bodies),i=0;i<t.composites.length;i++)e=e.concat(k.allBodies(t.composites[i]));return e},k.allConstraints=function(t){for(var e=[].concat(t.constraints),i=0;i<t.composites.length;i++)e=e.concat(k.allConstraints(t.composites[i]));return e},k.allComposites=function(t){for(var e=[].concat(t.composites),i=0;i<t.composites.length;i++)e=e.concat(k.allComposites(t.composites[i]));return e},k.get=function(t,e,i){var r,n;switch(i){case"body":r=k.allBodies(t);break;case"constraint":r=k.allConstraints(t);break;case"composite":r=k.allComposites(t).concat(t);break}return r?(n=r.filter(function(s){return s.id.toString()===e.toString()}),n.length===0?null:n[0]):null},k.move=function(t,e,i){return k.remove(t,e),k.add(i,e),t},k.rebase=function(t){for(var e=k.allBodies(t).concat(k.allConstraints(t)).concat(k.allComposites(t)),i=0;i<e.length;i++)e[i].id=rf.nextId();return k.setModified(t,!0,!0,!1),t},k.translate=function(t,e,i){for(var r=i?k.allBodies(t):t.bodies,n=0;n<r.length;n++)mh.translate(r[n],e);return k.setModified(t,!0,!0,!1),t},k.rotate=function(t,e,i,r){for(var n=Math.cos(e),s=Math.sin(e),a=r?k.allBodies(t):t.bodies,o=0;o<a.length;o++){var h=a[o],l=h.position.x-i.x,u=h.position.y-i.y;mh.setPosition(h,{x:i.x+(l*n-u*s),y:i.y+(l*s+u*n)}),mh.rotate(h,e)}return k.setModified(t,!0,!0,!1),t},k.scale=function(t,e,i,r,n){for(var s=n?k.allBodies(t):t.bodies,a=0;a<s.length;a++){var o=s[a],h=o.position.x-r.x,l=o.position.y-r.y;mh.setPosition(o,{x:r.x+h*e,y:r.y+l*i}),mh.scale(o,e,i)}return k.setModified(t,!0,!0,!1),t},k.bounds=function(t){for(var e=k.allBodies(t),i=[],r=0;r<e.length;r+=1){var n=e[r];i.push(n.bounds.min,n.bounds.max)}return XCt.create(i)}})();var ge={},Ll=ge,Vb=tr,ie=gr,UCt=Fl,HCt=Xr,qCt=Oy,Wb=oe;(function(){ge._warming=.4,ge._torqueDampen=1,ge._minLength=1e-6,ge.create=function(t){var e=t;e.bodyA&&!e.pointA&&(e.pointA={x:0,y:0}),e.bodyB&&!e.pointB&&(e.pointB={x:0,y:0});var i=e.bodyA?ie.add(e.bodyA.position,e.pointA):e.pointA,r=e.bodyB?ie.add(e.bodyB.position,e.pointB):e.pointB,n=ie.magnitude(ie.sub(i,r));e.length=typeof e.length<"u"?e.length:n,e.id=e.id||Wb.nextId(),e.label=e.label||"Constraint",e.type="constraint",e.stiffness=e.stiffness||(e.length>0?1:.7),e.damping=e.damping||0,e.angularStiffness=e.angularStiffness||0,e.angleA=e.bodyA?e.bodyA.angle:e.angleA,e.angleB=e.bodyB?e.bodyB.angle:e.angleB,e.plugin={};var s={visible:!0,lineWidth:2,strokeStyle:"#ffffff",type:"line",anchors:!0};return e.length===0&&e.stiffness>.1?(s.type="pin",s.anchors=!1):e.stiffness<.9&&(s.type="spring"),e.render=Wb.extend(s,e.render),e},ge.preSolveAll=function(t){for(var e=0;e<t.length;e+=1){var i=t[e],r=i.constraintImpulse;i.isStatic||r.x===0&&r.y===0&&r.angle===0||(i.position.x+=r.x,i.position.y+=r.y,i.angle+=r.angle)}},ge.solveAll=function(t,e){for(var i=0;i<t.length;i+=1){var r=t[i],n=!r.bodyA||r.bodyA&&r.bodyA.isStatic,s=!r.bodyB||r.bodyB&&r.bodyB.isStatic;(n||s)&&ge.solve(t[i],e)}for(i=0;i<t.length;i+=1)r=t[i],n=!r.bodyA||r.bodyA&&r.bodyA.isStatic,s=!r.bodyB||r.bodyB&&r.bodyB.isStatic,!n&&!s&&ge.solve(t[i],e)},ge.solve=function(t,e){var i=t.bodyA,r=t.bodyB,n=t.pointA,s=t.pointB;if(!(!i&&!r)){i&&!i.isStatic&&(ie.rotate(n,i.angle-t.angleA,n),t.angleA=i.angle),r&&!r.isStatic&&(ie.rotate(s,r.angle-t.angleB,s),t.angleB=r.angle);var a=n,o=s;if(i&&(a=ie.add(i.position,n)),r&&(o=ie.add(r.position,s)),!(!a||!o)){var h=ie.sub(a,o),l=ie.magnitude(h);l<ge._minLength&&(l=ge._minLength);var u=(l-t.length)/l,f=t.stiffness<1?t.stiffness*e:t.stiffness,c=ie.mult(h,u*f),d=(i?i.inverseMass:0)+(r?r.inverseMass:0),g=(i?i.inverseInertia:0)+(r?r.inverseInertia:0),v=d+g,p,m,y,x,T;if(t.damping){var _=ie.create();y=ie.div(h,l),T=ie.sub(r&&ie.sub(r.position,r.positionPrev)||_,i&&ie.sub(i.position,i.positionPrev)||_),x=ie.dot(y,T)}i&&!i.isStatic&&(m=i.inverseMass/d,i.constraintImpulse.x-=c.x*m,i.constraintImpulse.y-=c.y*m,i.position.x-=c.x*m,i.position.y-=c.y*m,t.damping&&(i.positionPrev.x-=t.damping*y.x*x*m,i.positionPrev.y-=t.damping*y.y*x*m),p=ie.cross(n,c)/v*ge._torqueDampen*i.inverseInertia*(1-t.angularStiffness),i.constraintImpulse.angle-=p,i.angle-=p),r&&!r.isStatic&&(m=r.inverseMass/d,r.constraintImpulse.x+=c.x*m,r.constraintImpulse.y+=c.y*m,r.position.x+=c.x*m,r.position.y+=c.y*m,t.damping&&(r.positionPrev.x+=t.damping*y.x*x*m,r.positionPrev.y+=t.damping*y.y*x*m),p=ie.cross(s,c)/v*ge._torqueDampen*r.inverseInertia*(1-t.angularStiffness),r.constraintImpulse.angle+=p,r.angle+=p)}}},ge.postSolveAll=function(t){for(var e=0;e<t.length;e++){var i=t[e],r=i.constraintImpulse;if(!(i.isStatic||r.x===0&&r.y===0&&r.angle===0)){UCt.set(i,!1);for(var n=0;n<i.parts.length;n++){var s=i.parts[n];Vb.translate(s.vertices,r),n>0&&(s.position.x+=r.x,s.position.y+=r.y),r.angle!==0&&(Vb.rotate(s.vertices,r.angle,i.position),qCt.rotate(s.axes,r.angle),n>0&&ie.rotateAbout(s.position,r.angle,i.position,s.position)),HCt.update(s.bounds,s.vertices,i.velocity)}r.angle*=ge._warming,r.x*=ge._warming,r.y*=ge._warming}}}})();var fr={},h$=fr,Ge=Ca,jn=Ll,Vs=oe,qp=ci,yh=Cs;(function(){fr.stack=function(t,e,i,r,n,s,a){for(var o=Ge.create({label:"Stack"}),h=t,l=e,u,f=0,c=0;c<r;c++){for(var d=0,g=0;g<i;g++){var v=a(h,l,g,c,u,f);if(v){var p=v.bounds.max.y-v.bounds.min.y,m=v.bounds.max.x-v.bounds.min.x;p>d&&(d=p),qp.translate(v,{x:m*.5,y:p*.5}),h=v.bounds.max.x+n,Ge.addBody(o,v),u=v,f+=1}else h+=n}l+=d+s,h=t}return o},fr.chain=function(t,e,i,r,n,s){for(var a=t.bodies,o=1;o<a.length;o++){var h=a[o-1],l=a[o],u=h.bounds.max.y-h.bounds.min.y,f=h.bounds.max.x-h.bounds.min.x,c=l.bounds.max.y-l.bounds.min.y,d=l.bounds.max.x-l.bounds.min.x,g={bodyA:h,pointA:{x:f*e,y:u*i},bodyB:l,pointB:{x:d*r,y:c*n}},v=Vs.extend(g,s);Ge.addConstraint(t,jn.create(v))}return t.label+=" Chain",t},fr.mesh=function(t,e,i,r,n){var s=t.bodies,a,o,h,l,u;for(a=0;a<i;a++){for(o=1;o<e;o++)h=s[o-1+a*e],l=s[o+a*e],Ge.addConstraint(t,jn.create(Vs.extend({bodyA:h,bodyB:l},n)));if(a>0)for(o=0;o<e;o++)h=s[o+(a-1)*e],l=s[o+a*e],Ge.addConstraint(t,jn.create(Vs.extend({bodyA:h,bodyB:l},n))),r&&o>0&&(u=s[o-1+(a-1)*e],Ge.addConstraint(t,jn.create(Vs.extend({bodyA:u,bodyB:l},n)))),r&&o<e-1&&(u=s[o+1+(a-1)*e],Ge.addConstraint(t,jn.create(Vs.extend({bodyA:u,bodyB:l},n))))}return t.label+=" Mesh",t},fr.pyramid=function(t,e,i,r,n,s,a){return fr.stack(t,e,i,r,n,s,function(o,h,l,u,f,c){var d=Math.min(r,Math.ceil(i/2)),g=f?f.bounds.max.x-f.bounds.min.x:0;if(!(u>d)){u=d-u;var v=u,p=i-1-u;if(!(l<v||l>p)){c===1&&qp.translate(f,{x:(l+(i%2===1?1:-1))*g,y:0});var m=f?l*g:0;return a(t+m+l*n,h,l,u,f,c)}}})},fr.newtonsCradle=function(t,e,i,r,n){for(var s=Ge.create({label:"Newtons Cradle"}),a=0;a<i;a++){var o=1.9,h=yh.circle(t+a*(r*o),e+n,r,{inertia:1/0,restitution:1,friction:0,frictionAir:1e-4,slop:1}),l=jn.create({pointA:{x:t+a*(r*o),y:e},bodyB:h});Ge.addBody(s,h),Ge.addConstraint(s,l)}return s},fr.car=function(t,e,i,r,n){var s=qp.nextGroup(!0),a=20,o=-i*.5+a,h=i*.5-a,l=0,u=Ge.create({label:"Car"}),f=yh.rectangle(t,e,i,r,{collisionFilter:{group:s},chamfer:{radius:r*.5},density:2e-4}),c=yh.circle(t+o,e+l,n,{collisionFilter:{group:s},friction:.8}),d=yh.circle(t+h,e+l,n,{collisionFilter:{group:s},friction:.8}),g=jn.create({bodyB:f,pointB:{x:o,y:l},bodyA:c,stiffness:1,length:0}),v=jn.create({bodyB:f,pointB:{x:h,y:l},bodyA:d,stiffness:1,length:0});return Ge.addBody(u,f),Ge.addBody(u,c),Ge.addBody(u,d),Ge.addConstraint(u,g),Ge.addConstraint(u,v),u},fr.softBody=function(t,e,i,r,n,s,a,o,h,l){h=Vs.extend({inertia:1/0},h),l=Vs.extend({stiffness:.2,render:{type:"line",anchors:!1}},l);var u=fr.stack(t,e,i,r,n,s,function(f,c){return yh.circle(f,c,o,h)});return fr.mesh(u,i,r,a,l),u.label="Soft Body",u}})();/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var KCt={setBounce:function(t){return this.body.restitution=t,this}},JCt=KCt;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var jCt={setCollisionCategory:function(t){return this.body.collisionFilter.category=t,this},setCollisionGroup:function(t){return this.body.collisionFilter.group=t,this},setCollidesWith:function(t){var e=0;if(!Array.isArray(t))e=t;else for(var i=0;i<t.length;i++)e|=t[i];return this.body.collisionFilter.mask=e,this}},ZCt=jCt;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var eo=ci,QCt={applyForce:function(t){return this._tempVec2.set(this.body.position.x,this.body.position.y),eo.applyForce(this.body,this._tempVec2,t),this},applyForceFrom:function(t,e){return eo.applyForce(this.body,t,e),this},thrust:function(t){var e=this.body.angle;return this._tempVec2.set(t*Math.cos(e),t*Math.sin(e)),eo.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2),this},thrustLeft:function(t){var e=this.body.angle-Math.PI/2;return this._tempVec2.set(t*Math.cos(e),t*Math.sin(e)),eo.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2),this},thrustRight:function(t){var e=this.body.angle+Math.PI/2;return this._tempVec2.set(t*Math.cos(e),t*Math.sin(e)),eo.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2),this},thrustBack:function(t){var e=this.body.angle-Math.PI;return this._tempVec2.set(t*Math.cos(e),t*Math.sin(e)),eo.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2),this}},tbt=QCt;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var ebt={setFriction:function(t,e,i){return this.body.friction=t,e!==void 0&&(this.body.frictionAir=e),i!==void 0&&(this.body.frictionStatic=i),this},setFrictionAir:function(t){return this.body.frictionAir=t,this},setFrictionStatic:function(t){return this.body.frictionStatic=t,this}},ibt=ebt;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var rbt={setIgnoreGravity:function(t){return this.body.ignoreGravity=t,this}},nbt=rbt;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var Xb=ci,sbt=at,abt={setMass:function(t){return Xb.setMass(this.body,t),this},setDensity:function(t){return Xb.setDensity(this.body,t),this},centerOfMass:{get:function(){return new sbt(this.body.render.sprite.xOffset*this.width,this.body.render.sprite.yOffset*this.height)}}},obt=abt;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var hbt=ci,lbt={setStatic:function(t){return hbt.setStatic(this.body,t),this},isStatic:function(){return this.body.isStatic}},ubt=lbt;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var fbt={setSensor:function(t){return this.body.isSensor=t,this},isSensor:function(){return this.body.isSensor}},cbt=fbt;/**
 * @author       Joachim Grill <joachim@codeandweb.com>
 * @copyright    2018 CodeAndWeb GmbH
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var dbt=Cs,nf=ci,vbt=Xr,Kp=oe,sf=V,af=gr,pbt=tr,gbt={parseBody:function(t,e,i,r,n){for(var s=sf(n,"fixtures",[]),a=[],o=0;o<s.length;o++)for(var h=this.parseFixture(s[o]),l=0;l<h.length;l++)a.push(h[l]);var u=Kp.extend({},!1,n);delete u.fixtures,delete u.type;var f=nf.create(u);return nf.setParts(f,a),f.render.sprite.xOffset=f.position.x/i,f.render.sprite.yOffset=f.position.y/r,nf.setPosition(f,{x:t,y:e}),f},parseFixture:function(t){var e=Kp.extend({},!1,t);delete e.circle,delete e.vertices;var i;if(t.circle){var r=sf(t.circle,"x"),n=sf(t.circle,"y"),s=sf(t.circle,"radius");i=[dbt.circle(r,n,s,e)]}else t.vertices&&(i=this.parseVertices(t.vertices,e));return i},parseVertices:function(t,e){var i,r,n,s,a,o=[];for(e=e||{},s=0;s<t.length;s+=1)o.push(nf.create(Kp.extend({position:pbt.centre(t[s]),vertices:t[s]},e)));var h=5;for(i=0;i<o.length;i++){var l=o[i];for(r=i+1;r<o.length;r++){var u=o[r];if(vbt.overlaps(l.bounds,u.bounds)){var f=l.vertices,c=u.vertices;for(n=0;n<l.vertices.length;n++)for(a=0;a<u.vertices.length;a++){var d=af.magnitudeSquared(af.sub(f[(n+1)%f.length],c[a])),g=af.magnitudeSquared(af.sub(f[n],c[(a+1)%c.length]));d<h&&g<h&&(f[n].isInternal=!0,c[a].isInternal=!0)}}}}return o}},mbt=gbt;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var xh=Cs,ybt=ci,oi=V,xbt=mbt,_bt=tr,Tbt={setRectangle:function(t,e,i){return this.setBody({type:"rectangle",width:t,height:e},i)},setCircle:function(t,e){return this.setBody({type:"circle",radius:t},e)},setPolygon:function(t,e,i){return this.setBody({type:"polygon",sides:e,radius:t},i)},setTrapezoid:function(t,e,i,r){return this.setBody({type:"trapezoid",width:t,height:e,slope:i},r)},setExistingBody:function(t,e){e===void 0&&(e=!0),this.body&&this.world.remove(this.body),this.body=t;for(var i=0;i<t.parts.length;i++)t.parts[i].gameObject=this;var r=this;return t.destroy=function(){r.world.remove(r.body),r.body.gameObject=null},e&&this.world.add(t),this._originComponent&&this.setOrigin(t.render.sprite.xOffset,t.render.sprite.yOffset),this},setBody:function(t,e){if(!t)return this;var i;typeof t=="string"&&(t={type:t});var r=oi(t,"type","rectangle"),n=oi(t,"x",this._tempVec2.x),s=oi(t,"y",this._tempVec2.y),a=oi(t,"width",this.width),o=oi(t,"height",this.height);switch(r){case"rectangle":i=xh.rectangle(n,s,a,o,e);break;case"circle":var h=oi(t,"radius",Math.max(a,o)/2),l=oi(t,"maxSides",25);i=xh.circle(n,s,h,e,l);break;case"trapezoid":var u=oi(t,"slope",.5);i=xh.trapezoid(n,s,a,o,u,e);break;case"polygon":var f=oi(t,"sides",5),c=oi(t,"radius",Math.max(a,o)/2);i=xh.polygon(n,s,f,c,e);break;case"fromVertices":case"fromVerts":var d=oi(t,"verts",null);if(d)if(typeof d=="string"&&(d=_bt.fromPath(d)),this.body&&!this.body.hasOwnProperty("temp"))ybt.setVertices(this.body,d),i=this.body;else{var g=oi(t,"flagInternal",!1),v=oi(t,"removeCollinear",.01),p=oi(t,"minimumArea",10);i=xh.fromVertices(n,s,d,e,g,v,p)}break;case"fromPhysicsEditor":i=xbt.parseBody(n,s,a,o,t);break}return i&&this.setExistingBody(i,t.addToWorld),this}},wbt=Tbt;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var of=Io,Sbt={setSleepThreshold:function(t){return t===void 0&&(t=60),this.body.sleepThreshold=t,this},setSleepEvents:function(t,e){return this.setSleepStartEvent(t),this.setSleepEndEvent(e),this},setSleepStartEvent:function(t){if(t){var e=this.world;of.on(this.body,"sleepStart",function(i){e.emit("sleepstart",i,this)})}else of.off(this.body,"sleepStart");return this},setSleepEndEvent:function(t){if(t){var e=this.world;of.on(this.body,"sleepEnd",function(i){e.emit("sleepend",i,this)})}else of.off(this.body,"sleepEnd");return this}},Cbt=Sbt;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var gi=ci,Ub=_e,Hb=C0,qb=b0,hf=4,bbt={x:{get:function(){return this.body.position.x},set:function(t){this._tempVec2.set(t,this.y),gi.setPosition(this.body,this._tempVec2)}},y:{get:function(){return this.body.position.y},set:function(t){this._tempVec2.set(this.x,t),gi.setPosition(this.body,this._tempVec2)}},scaleX:{get:function(){return this._scaleX},set:function(t){var e=1/this._scaleX;this._scaleX=t,this._scaleX===0?this.renderFlags&=~hf:this.renderFlags|=hf,gi.scale(this.body,e,this._scaleY),gi.scale(this.body,t,this._scaleY)}},scaleY:{get:function(){return this._scaleY},set:function(t){var e=1/this._scaleY;this._scaleY=t,this._scaleY===0?this.renderFlags&=~hf:this.renderFlags|=hf,gi.scale(this.body,this._scaleX,e),gi.scale(this.body,this._scaleX,t)}},angle:{get:function(){return qb(this.body.angle*Ub.RAD_TO_DEG)},set:function(t){this.rotation=qb(t)*Ub.DEG_TO_RAD}},rotation:{get:function(){return this.body.angle},set:function(t){this._rotation=Hb(t),gi.setAngle(this.body,this._rotation)}},setPosition:function(t,e){return t===void 0&&(t=0),e===void 0&&(e=t),this._tempVec2.set(t,e),gi.setPosition(this.body,this._tempVec2),this},setRotation:function(t){return t===void 0&&(t=0),this._rotation=Hb(t),gi.setAngle(this.body,t),this},setFixedRotation:function(){return gi.setInertia(this.body,1/0),this},setAngle:function(t){return t===void 0&&(t=0),this.angle=t,gi.setAngle(this.body,this.rotation),this},setScale:function(t,e,i){t===void 0&&(t=1),e===void 0&&(e=t);var r=1/this._scaleX,n=1/this._scaleY;return this._scaleX=t,this._scaleY=e,gi.scale(this.body,r,n,i),gi.scale(this.body,t,e,i),this}},Mbt=bbt;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var lf=ci,Pbt={setAngularVelocity:function(t){return lf.setAngularVelocity(this.body,t),this},setVelocityX:function(t){return this._tempVec2.set(t,this.body.velocity.y),lf.setVelocity(this.body,this._tempVec2),this},setVelocityY:function(t){return this._tempVec2.set(this.body.velocity.x,t),lf.setVelocity(this.body,this._tempVec2),this},setVelocity:function(t,e){return this._tempVec2.set(t,e),lf.setVelocity(this.body,this._tempVec2),this}},Abt=Pbt;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var td={Bounce:JCt,Collision:ZCt,Force:tbt,Friction:ibt,Gravity:nbt,Mass:obt,Static:ubt,Sensor:cbt,SetBody:wbt,Sleep:Cbt,Transform:Mbt,Velocity:Abt};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var zi=td,Rbt=V,Fbt=at;function Ebt(t){return!!t.get&&typeof t.get=="function"||!!t.set&&typeof t.set=="function"}var Lbt=function(t,e,i){i===void 0&&(i={});var r=e.x,n=e.y;e.body={temp:!0,position:{x:r,y:n}};var s=[zi.Bounce,zi.Collision,zi.Force,zi.Friction,zi.Gravity,zi.Mass,zi.Sensor,zi.SetBody,zi.Sleep,zi.Static,zi.Transform,zi.Velocity];s.forEach(function(o){for(var h in o)Ebt(o[h])?Object.defineProperty(e,h,{get:o[h].get,set:o[h].set}):Object.defineProperty(e,h,{value:o[h]})}),e.world=t,e._tempVec2=new Fbt(r,n);var a=Rbt(i,"shape",null);return a||(a="rectangle"),e.setBody(a,i),e},$bt=Lbt;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var Obt=b,Ni=td,Ibt=Qt,Dbt=V,Bbt=Fo,kbt=Ec,Gbt=at,zbt=new Obt({Extends:Bbt,Mixins:[Ni.Bounce,Ni.Collision,Ni.Force,Ni.Friction,Ni.Gravity,Ni.Mass,Ni.Sensor,Ni.SetBody,Ni.Sleep,Ni.Static,Ni.Transform,Ni.Velocity,kbt],initialize:function(e,i,r,n,s,a){Ibt.call(this,e.scene,"Image"),this.setTexture(n,s),this.setSizeToFrame(),this.setOrigin(),this.world=e,this._tempVec2=new Gbt(i,r);var o=Dbt(a,"shape",null);o?this.setBody(o,a):this.setRectangle(this.width,this.height,a),this.setPosition(i,r),this.initPipeline("TextureTintPipeline")}}),l$=zbt;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var Nbt=dR,Ybt=b,Yi=td,Vbt=Qt,Wbt=V,Xbt=Ec,Ubt=Rn,Hbt=at,qbt=new Ybt({Extends:Ubt,Mixins:[Yi.Bounce,Yi.Collision,Yi.Force,Yi.Friction,Yi.Gravity,Yi.Mass,Yi.Sensor,Yi.SetBody,Yi.Sleep,Yi.Static,Yi.Transform,Yi.Velocity,Xbt],initialize:function(e,i,r,n,s,a){Vbt.call(this,e.scene,"Image"),this.anims=new Nbt(this),this.setTexture(n,s),this.setSizeToFrame(),this.setOrigin(),this.world=e,this._tempVec2=new Hbt(i,r);var o=Wbt(a,"shape",null);o?this.setBody(o,a):this.setRectangle(this.width,this.height,a),this.setPosition(i,r),this.initPipeline("TextureTintPipeline")}}),u$=qbt;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var uf=Cs,Kbt=ci,Jbt=b,Zn=td,ff=V,cf=Eo,Jp=tr,jbt=new Jbt({Mixins:[Zn.Bounce,Zn.Collision,Zn.Friction,Zn.Gravity,Zn.Mass,Zn.Sensor,Zn.Sleep,Zn.Static],initialize:function(e,i,r){this.tile=i,this.world=e,i.physics.matterBody&&i.physics.matterBody.destroy(),i.physics.matterBody=this;var n=ff(r,"body",null),s=ff(r,"addToWorld",!0);if(n)this.setBody(n,s);else{var a=i.getCollisionGroup(),o=ff(a,"objects",[]);o.length>0?this.setFromTileCollision(r):this.setFromTileRectangle(r)}},setFromTileRectangle:function(t){t===void 0&&(t={}),cf(t,"isStatic")||(t.isStatic=!0),cf(t,"addToWorld")||(t.addToWorld=!0);var e=this.tile.getBounds(),i=e.x+e.width/2,r=e.y+e.height/2,n=uf.rectangle(i,r,e.width,e.height,t);return this.setBody(n,t.addToWorld),this},setFromTileCollision:function(t){t===void 0&&(t={}),cf(t,"isStatic")||(t.isStatic=!0),cf(t,"addToWorld")||(t.addToWorld=!0);for(var e=this.tile.tilemapLayer.scaleX,i=this.tile.tilemapLayer.scaleY,r=this.tile.getLeft(),n=this.tile.getTop(),s=this.tile.getCollisionGroup(),a=ff(s,"objects",[]),o=[],h=0;h<a.length;h++){var l=a[h],u=r+l.x*e,f=n+l.y*i,c=l.width*e,d=l.height*i,g=null;if(l.rectangle)g=uf.rectangle(u+c/2,f+d/2,c,d,t);else if(l.ellipse)g=uf.circle(u+c/2,f+d/2,c/2,t);else if(l.polygon||l.polyline){var v=l.polygon?l.polygon:l.polyline,p=v.map(function(x){return{x:x.x*e,y:x.y*i}}),m=Jp.create(p);if(Jp.isConvex(p)){var y=Jp.centre(m);u+=y.x,f+=y.y}g=uf.fromVertices(u,f,m,t)}g&&o.push(g)}return o.length===1?this.setBody(o[0],t.addToWorld):o.length>1&&(t.parts=o,this.setBody(Kbt.create(t),t.addToWorld)),this},setBody:function(t,e){return e===void 0&&(e=!0),this.body&&this.removeBody(),this.body=t,this.body.gameObject=this,e&&this.world.add(this.body),this},removeBody:function(){return this.body&&(this.world.remove(this.body),this.body.gameObject=void 0,this.body=void 0),this},destroy:function(){this.removeBody(),this.tile.physics.matterBody=void 0}}),Iy=jbt,Ui={},Dy=Ui,df=tr,Vi=gr;(function(){Ui.collides=function(t,e,i){var r,n,s,a,o=!1;if(i){var h=t.parent,l=e.parent,u=h.speed*h.speed+h.angularSpeed*h.angularSpeed+l.speed*l.speed+l.angularSpeed*l.angularSpeed;o=i&&i.collided&&u<.2,a=i}else a={collided:!1,bodyA:t,bodyB:e};if(i&&o){var f=a.axisBody,c=f===t?e:t,d=[f.axes[i.axisNumber]];if(s=Ui._overlapAxes(f.vertices,c.vertices,d),a.reused=!0,s.overlap<=0)return a.collided=!1,a}else{if(r=Ui._overlapAxes(t.vertices,e.vertices,t.axes),r.overlap<=0||(n=Ui._overlapAxes(e.vertices,t.vertices,e.axes),n.overlap<=0))return a.collided=!1,a;r.overlap<n.overlap?(s=r,a.axisBody=t):(s=n,a.axisBody=e),a.axisNumber=s.axisNumber}a.bodyA=t.id<e.id?t:e,a.bodyB=t.id<e.id?e:t,a.collided=!0,a.depth=s.overlap,a.parentA=a.bodyA.parent,a.parentB=a.bodyB.parent,t=a.bodyA,e=a.bodyB,Vi.dot(s.axis,Vi.sub(e.position,t.position))<0?a.normal={x:s.axis.x,y:s.axis.y}:a.normal={x:-s.axis.x,y:-s.axis.y},a.tangent=Vi.perp(a.normal),a.penetration=a.penetration||{},a.penetration.x=a.normal.x*a.depth,a.penetration.y=a.normal.y*a.depth;var g=Ui._findSupports(t,e,a.normal),v=[];if(df.contains(t.vertices,g[0])&&v.push(g[0]),df.contains(t.vertices,g[1])&&v.push(g[1]),v.length<2){var p=Ui._findSupports(e,t,Vi.neg(a.normal));df.contains(e.vertices,p[0])&&v.push(p[0]),v.length<2&&df.contains(e.vertices,p[1])&&v.push(p[1])}return v.length<1&&(v=[g[0]]),a.supports=v,a},Ui._overlapAxes=function(t,e,i){for(var r=Vi._temp[0],n=Vi._temp[1],s={overlap:Number.MAX_VALUE},a,o,h=0;h<i.length;h++){if(o=i[h],Ui._projectToAxis(r,t,o),Ui._projectToAxis(n,e,o),a=Math.min(r.max-n.min,n.max-r.min),a<=0)return s.overlap=a,s;a<s.overlap&&(s.overlap=a,s.axis=o,s.axisNumber=h)}return s},Ui._projectToAxis=function(t,e,i){for(var r=Vi.dot(e[0],i),n=r,s=1;s<e.length;s+=1){var a=Vi.dot(e[s],i);a>n?n=a:a<r&&(r=a)}t.min=r,t.max=n},Ui._findSupports=function(t,e,i){for(var r=Number.MAX_VALUE,n=Vi._temp[0],s=e.vertices,a=t.position,o,h,l,u,f=0;f<s.length;f++)h=s[f],n.x=h.x-a.x,n.y=h.y-a.y,o=-Vi.dot(i,n),o<r&&(r=o,l=h);var c=l.index-1>=0?l.index-1:s.length-1;h=s[c],n.x=h.x-a.x,n.y=h.y-a.y,r=-Vi.dot(i,n),u=h;var d=(l.index+1)%s.length;return h=s[d],n.x=h.x-a.x,n.y=h.y-a.y,o=-Vi.dot(i,n),o<r&&(u=h),[l,u]}})();var an={},ed=an;(function(){an.create=function(t,e){var i=t.bodyA,r=t.bodyB,n={id:an.id(i,r),bodyA:i,bodyB:r,activeContacts:[],separation:0,isActive:!0,confirmedActive:!0,isSensor:i.isSensor||r.isSensor,timeCreated:e,timeUpdated:e,collision:null,inverseMass:0,friction:0,frictionStatic:0,restitution:0,slop:0};return an.update(n,t,e),n},an.update=function(t,e,i){if(t.collision=e,e.collided){var r=e.supports,n=t.activeContacts,s=e.parentA,a=e.parentB;t.inverseMass=s.inverseMass+a.inverseMass,t.friction=Math.min(s.friction,a.friction),t.frictionStatic=Math.max(s.frictionStatic,a.frictionStatic),t.restitution=Math.max(s.restitution,a.restitution),t.slop=Math.max(s.slop,a.slop);for(var o=0;o<r.length;o++)n[o]=r[o].contact;var h=r.length;h<n.length&&(n.length=h),t.separation=e.depth,an.setActive(t,!0,i)}else t.isActive===!0&&an.setActive(t,!1,i)},an.setActive=function(t,e,i){e?(t.isActive=!0,t.timeUpdated=i):(t.isActive=!1,t.activeContacts.length=0)},an.id=function(t,e){return t.id<e.id?"A"+t.id+"B"+e.id:"A"+e.id+"B"+t.id}})();var Yf={},By=Yf,Zbt=Dy,Qbt=ed,Kb=Xr;(function(){Yf.collisions=function(t,e){for(var i=[],r=e.pairs.table,n=e.metrics,s=0;s<t.length;s++){var a=t[s][0],o=t[s][1];if(!((a.isStatic||a.isSleeping)&&(o.isStatic||o.isSleeping))&&!!Yf.canCollide(a.collisionFilter,o.collisionFilter)&&(n.midphaseTests+=1,Kb.overlaps(a.bounds,o.bounds)))for(var h=a.parts.length>1?1:0;h<a.parts.length;h++)for(var l=a.parts[h],u=o.parts.length>1?1:0;u<o.parts.length;u++){var f=o.parts[u];if(l===a&&f===o||Kb.overlaps(l.bounds,f.bounds)){var c=Qbt.id(l,f),d=r[c],g;d&&d.isActive?g=d.collision:g=null;var v=Zbt.collides(l,f,g);n.narrowphaseTests+=1,v.reused&&(n.narrowReuseCount+=1),v.collided&&(i.push(v),n.narrowDetections+=1)}}}return i},Yf.canCollide=function(t,e){return t.group===e.group&&t.group!==0?t.group>0:(t.mask&e.category)!==0&&(e.mask&t.category)!==0}})();/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var tMt=Xr,eMt=b,iMt=Ca,rMt=Ll,nMt=By,sMt=V,aMt=Ao,Jb=Fl,oMt=at,hMt=tr,lMt=new eMt({initialize:function(e,i,r){r===void 0&&(r={});var n={label:"Pointer Constraint",pointA:{x:0,y:0},pointB:{x:0,y:0},damping:0,length:.01,stiffness:.1,angularStiffness:1,collisionFilter:{category:1,mask:4294967295,group:0}};this.scene=e,this.world=i;var s=sMt(r,"camera",null);s?(this.camera=s,delete r.camera):this.camera=e.sys.cameras.main,this.pointer=null,this.active=!0,this.position=new oMt,this.constraint=rMt.create(aMt(r,n)),this.world.on("beforeupdate",this.update,this),e.sys.input.on("pointerdown",this.onDown,this),e.sys.input.on("pointerup",this.onUp,this)},onDown:function(t){this.pointer=t},onUp:function(){this.pointer=null},getBodyPart:function(t,e){for(var i=this.constraint,r=t.parts.length>1?1:0,n=r;n<t.parts.length;n++){var s=t.parts[n];if(hMt.contains(s.vertices,e))return i.bodyB=t,i.pointA.x=e.x,i.pointA.y=e.y,i.pointB.x=e.x-t.position.x,i.pointB.y=e.y-t.position.y,i.angleB=t.angle,Jb.set(t,!1),!0}return!1},update:function(){if(!!this.active){var t=this.pointer,e=this.constraint;if(!t)e.bodyB&&(e.bodyB=null);else{var i=this.position;if(this.camera.getWorldPoint(t.x,t.y,i),e.bodyB)Jb.set(e.bodyB,!1),e.pointA.x=i.x,e.pointA.y=i.y;else for(var r=iMt.allBodies(this.world.localWorld),n=0;n<r.length;n++){var s=r[n];if(!s.ignorePointer&&tMt.contains(s.bounds,i)&&nMt.canCollide(s.collisionFilter,e.collisionFilter)&&this.getBodyPart(s,i))break}}}},destroy:function(){this.world.removeConstraint(this.constraint),this.constraint=null,this.world.off("beforeupdate",this.update),this.scene.sys.input.off("pointerdown",this.onDown,this),this.scene.sys.input.off("pointerup",this.onUp,this)}}),uMt=lMt;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var _h=Cs,fMt=b,Qn=h$,jb=Ll,cMt=$bt,Zb=l$,dMt=u$,vMt=Iy,pMt=uMt,gMt=new fMt({initialize:function(e){this.world=e,this.scene=e.scene,this.sys=e.scene.sys},rectangle:function(t,e,i,r,n){var s=_h.rectangle(t,e,i,r,n);return this.world.add(s),s},trapezoid:function(t,e,i,r,n,s){var a=_h.trapezoid(t,e,i,r,n,s);return this.world.add(a),a},circle:function(t,e,i,r,n){var s=_h.circle(t,e,i,r,n);return this.world.add(s),s},polygon:function(t,e,i,r,n){var s=_h.polygon(t,e,i,r,n);return this.world.add(s),s},fromVertices:function(t,e,i,r,n,s,a){var o=_h.fromVertices(t,e,i,r,n,s,a);return this.world.add(o),o},imageStack:function(t,e,i,r,n,s,a,o,h){a===void 0&&(a=0),o===void 0&&(o=0),h===void 0&&(h={});var l=this.world,u=this.sys.displayList;h.addToWorld=!1;var f=Qn.stack(i,r,n,s,a,o,function(c,d){var g=new Zb(l,c,d,t,e,h);return u.add(g),g.body});return l.add(f),f},stack:function(t,e,i,r,n,s,a){var o=Qn.stack(t,e,i,r,n,s,a);return this.world.add(o),o},pyramid:function(t,e,i,r,n,s,a){var o=Qn.pyramid(t,e,i,r,n,s,a);return this.world.add(o),o},chain:function(t,e,i,r,n,s){return Qn.chain(t,e,i,r,n,s)},mesh:function(t,e,i,r,n){return Qn.mesh(t,e,i,r,n)},newtonsCradle:function(t,e,i,r,n){var s=Qn.newtonsCradle(t,e,i,r,n);return this.world.add(s),s},car:function(t,e,i,r,n){var s=Qn.car(t,e,i,r,n);return this.world.add(s),s},softBody:function(t,e,i,r,n,s,a,o,h,l){var u=Qn.softBody(t,e,i,r,n,s,a,o,h,l);return this.world.add(u),u},joint:function(t,e,i,r,n){return this.constraint(t,e,i,r,n)},spring:function(t,e,i,r,n){return this.constraint(t,e,i,r,n)},constraint:function(t,e,i,r,n){r===void 0&&(r=1),n===void 0&&(n={}),n.bodyA=t.type==="body"?t:t.body,n.bodyB=e.type==="body"?e:e.body,n.length=i,n.stiffness=r;var s=jb.create(n);return this.world.add(s),s},worldConstraint:function(t,e,i,r){i===void 0&&(i=1),r===void 0&&(r={}),r.bodyB=t.type==="body"?t:t.body,r.length=e,r.stiffness=i;var n=jb.create(r);return this.world.add(n),n},mouseSpring:function(t){return this.pointerConstraint(t)},pointerConstraint:function(t){t===void 0&&(t={}),t.hasOwnProperty("render")||(t.render={visible:!1});var e=new pMt(this.scene,this.world,t);return this.world.add(e.constraint),e},image:function(t,e,i,r,n){var s=new Zb(this.world,t,e,i,r,n);return this.sys.displayList.add(s),s},tileBody:function(t,e){var i=new vMt(this.world,t,e);return i},sprite:function(t,e,i,r,n){var s=new dMt(this.world,t,e,i,r,n);return this.sys.displayList.add(s),this.sys.updateList.add(s),s},gameObject:function(t,e){return cMt(this.world,t,e)},destroy:function(){this.world=null,this.scene=null,this.sys=null}}),f$=gMt,J={},ky=J,ze=oe;(function(){J._registry={},J.register=function(t){if(J.isPlugin(t)||ze.warn("Plugin.register:",J.toString(t),"does not implement all required fields."),t.name in J._registry){var e=J._registry[t.name],i=J.versionParse(t.version).number,r=J.versionParse(e.version).number;i>r?(ze.warn("Plugin.register:",J.toString(e),"was upgraded to",J.toString(t)),J._registry[t.name]=t):i<r?ze.warn("Plugin.register:",J.toString(e),"can not be downgraded to",J.toString(t)):t!==e&&ze.warn("Plugin.register:",J.toString(t),"is already registered to different plugin object")}else J._registry[t.name]=t;return t},J.resolve=function(t){return J._registry[J.dependencyParse(t).name]},J.toString=function(t){return typeof t=="string"?t:(t.name||"anonymous")+"@"+(t.version||t.range||"0.0.0")},J.isPlugin=function(t){return t&&t.name&&t.version&&t.install},J.isUsed=function(t,e){return t.used.indexOf(e)>-1},J.isFor=function(t,e){var i=t.for&&J.dependencyParse(t.for);return!t.for||e.name===i.name&&J.versionSatisfies(e.version,i.range)},J.use=function(t,e){if(t.uses=(t.uses||[]).concat(e||[]),t.uses.length===0){ze.warn("Plugin.use:",J.toString(t),"does not specify any dependencies to install.");return}for(var i=J.dependencies(t),r=ze.topologicalSort(i),n=[],s=0;s<r.length;s+=1)if(r[s]!==t.name){var a=J.resolve(r[s]);if(!a){n.push("\u274C "+r[s]);continue}J.isUsed(t,a.name)||(J.isFor(a,t)||(ze.warn("Plugin.use:",J.toString(a),"is for",a.for,"but installed on",J.toString(t)+"."),a._warned=!0),a.install?a.install(t):(ze.warn("Plugin.use:",J.toString(a),"does not specify an install function."),a._warned=!0),a._warned?(n.push("\u{1F536} "+J.toString(a)),delete a._warned):n.push("\u2705 "+J.toString(a)),t.used.push(a.name))}n.length>0&&!a.silent&&ze.info(n.join("  "))},J.dependencies=function(t,e){var i=J.dependencyParse(t),r=i.name;if(e=e||{},!(r in e)){t=J.resolve(t)||t,e[r]=ze.map(t.uses||[],function(s){J.isPlugin(s)&&J.register(s);var a=J.dependencyParse(s),o=J.resolve(s);return o&&!J.versionSatisfies(o.version,a.range)?(ze.warn("Plugin.dependencies:",J.toString(o),"does not satisfy",J.toString(a),"used by",J.toString(i)+"."),o._warned=!0,t._warned=!0):o||(ze.warn("Plugin.dependencies:",J.toString(s),"used by",J.toString(i),"could not be resolved."),t._warned=!0),a.name});for(var n=0;n<e[r].length;n+=1)J.dependencies(e[r][n],e);return e}},J.dependencyParse=function(t){if(ze.isString(t)){var e=/^[\w-]+(@(\*|[\^~]?\d+\.\d+\.\d+(-[0-9A-Za-z-]+)?))?$/;return e.test(t)||ze.warn("Plugin.dependencyParse:",t,"is not a valid dependency string."),{name:t.split("@")[0],range:t.split("@")[1]||"*"}}return{name:t.name,range:t.range||t.version}},J.versionParse=function(t){var e=/^\*|[\^~]?\d+\.\d+\.\d+(-[0-9A-Za-z-]+)?$/;e.test(t)||ze.warn("Plugin.versionParse:",t,"is not a valid version or range.");var i=t.split("-");t=i[0];var r=isNaN(Number(t[0])),n=r?t.substr(1):t,s=ze.map(n.split("."),function(a){return Number(a)});return{isRange:r,version:n,range:t,operator:r?t[0]:"",parts:s,prerelease:i[1],number:s[0]*1e8+s[1]*1e4+s[2]}},J.versionSatisfies=function(t,e){e=e||"*";var i=J.versionParse(e),r=i.parts,n=J.versionParse(t),s=n.parts;if(i.isRange){if(i.operator==="*"||t==="*")return!0;if(i.operator==="~")return s[0]===r[0]&&s[1]===r[1]&&s[2]>=r[2];if(i.operator==="^")return r[0]>0?s[0]===r[0]&&n.number>=i.number:r[1]>0?s[1]===r[1]&&s[2]>=r[2]:s[2]===r[2]}return t===e||t==="*"}})();var cr={},c$=cr,mMt=ky,Qb=oe;(function(){cr.name="matter-js",cr.version="0.14.2",cr.uses=[],cr.used=[],cr.use=function(){mMt.use(cr,Array.prototype.slice.call(arguments))},cr.before=function(t,e){return t=t.replace(/^Matter./,""),Qb.chainPathBefore(cr,t,e)},cr.after=function(t,e){return t=t.replace(/^Matter./,""),Qb.chainPathAfter(cr,t,e)}})();var d$={},Gy=d$,yMt=Ca,xMt=oe;(function(){d$.create=function(t){var e=yMt.create(),i={label:"World",gravity:{x:0,y:1,scale:.001},bounds:{min:{x:-1/0,y:-1/0},max:{x:1/0,y:1/0}}};return xMt.extend(e,i,t)}})();var Ut={},v$=Ut,tM=ed,_Mt=By,jp=oe;(function(){Ut.create=function(t){var e={controller:Ut,detector:_Mt.collisions,buckets:{},pairs:{},pairsList:[],bucketWidth:48,bucketHeight:48};return jp.extend(e,t)},Ut.update=function(t,e,i,r){var n,s,a,o=i.world,h=t.buckets,l,u,f=!1,c=i.metrics;for(c.broadphaseTests=0,n=0;n<e.length;n++){var d=e[n];if(!(d.isSleeping&&!r)&&!(d.bounds.max.x<o.bounds.min.x||d.bounds.min.x>o.bounds.max.x||d.bounds.max.y<o.bounds.min.y||d.bounds.min.y>o.bounds.max.y)){var g=Ut._getRegion(t,d);if(!d.region||g.id!==d.region.id||r){c.broadphaseTests+=1,(!d.region||r)&&(d.region=g);var v=Ut._regionUnion(g,d.region);for(s=v.startCol;s<=v.endCol;s++)for(a=v.startRow;a<=v.endRow;a++){u=Ut._getBucketId(s,a),l=h[u];var p=s>=g.startCol&&s<=g.endCol&&a>=g.startRow&&a<=g.endRow,m=s>=d.region.startCol&&s<=d.region.endCol&&a>=d.region.startRow&&a<=d.region.endRow;!p&&m&&m&&l&&Ut._bucketRemoveBody(t,l,d),(d.region===g||p&&!m||r)&&(l||(l=Ut._createBucket(h,u)),Ut._bucketAddBody(t,l,d))}d.region=g,f=!0}}}f&&(t.pairsList=Ut._createActivePairsList(t))},Ut.clear=function(t){t.buckets={},t.pairs={},t.pairsList=[]},Ut._regionUnion=function(t,e){var i=Math.min(t.startCol,e.startCol),r=Math.max(t.endCol,e.endCol),n=Math.min(t.startRow,e.startRow),s=Math.max(t.endRow,e.endRow);return Ut._createRegion(i,r,n,s)},Ut._getRegion=function(t,e){var i=e.bounds,r=Math.floor(i.min.x/t.bucketWidth),n=Math.floor(i.max.x/t.bucketWidth),s=Math.floor(i.min.y/t.bucketHeight),a=Math.floor(i.max.y/t.bucketHeight);return Ut._createRegion(r,n,s,a)},Ut._createRegion=function(t,e,i,r){return{id:t+","+e+","+i+","+r,startCol:t,endCol:e,startRow:i,endRow:r}},Ut._getBucketId=function(t,e){return"C"+t+"R"+e},Ut._createBucket=function(t,e){var i=t[e]=[];return i},Ut._bucketAddBody=function(t,e,i){for(var r=0;r<e.length;r++){var n=e[r];if(!(i.id===n.id||i.isStatic&&n.isStatic)){var s=tM.id(i,n),a=t.pairs[s];a?a[2]+=1:t.pairs[s]=[i,n,1]}}e.push(i)},Ut._bucketRemoveBody=function(t,e,i){e.splice(jp.indexOf(e,i),1);for(var r=0;r<e.length;r++){var n=e[r],s=tM.id(i,n),a=t.pairs[s];a&&(a[2]-=1)}},Ut._createActivePairsList=function(t){var e,i,r=[];e=jp.keys(t.pairs);for(var n=0;n<e.length;n++)i=t.pairs[e[n]],i[2]>0?r.push(i):delete t.pairs[e[n]];return r}})();var Ks={},p$=Ks,vf=ed,TMt=oe;(function(){Ks._pairMaxIdleLife=1e3,Ks.create=function(t){return TMt.extend({table:{},list:[],collisionStart:[],collisionActive:[],collisionEnd:[]},t)},Ks.update=function(t,e,i){var r=t.list,n=t.table,s=t.collisionStart,a=t.collisionEnd,o=t.collisionActive,h,l,u,f;for(s.length=0,a.length=0,o.length=0,f=0;f<r.length;f++)r[f].confirmedActive=!1;for(f=0;f<e.length;f++)h=e[f],h.collided&&(l=vf.id(h.bodyA,h.bodyB),u=n[l],u?(u.isActive?o.push(u):s.push(u),vf.update(u,h,i),u.confirmedActive=!0):(u=vf.create(h,i),n[l]=u,s.push(u),r.push(u)));for(f=0;f<r.length;f++)u=r[f],u.isActive&&!u.confirmedActive&&(vf.setActive(u,!1,i),a.push(u))},Ks.removeOld=function(t,e){var i=t.list,r=t.table,n=[],s,a,o,h;for(h=0;h<i.length;h++){if(s=i[h],a=s.collision,a.bodyA.isSleeping||a.bodyB.isSleeping){s.timeUpdated=e;continue}e-s.timeUpdated>Ks._pairMaxIdleLife&&n.push(h)}for(h=0;h<n.length;h++)o=n[h]-h,s=i[o],delete r[s.id],i.splice(o,1)},Ks.clear=function(t){return t.table={},t.list.length=0,t.collisionStart.length=0,t.collisionActive.length=0,t.collisionEnd.length=0,t}})();var oo={},wMt=oo,Zp=gr,SMt=Dy,Th=Xr,CMt=Cs,bMt=tr;(function(){oo.collides=function(t,e){for(var i=[],r=0;r<e.length;r++){var n=e[r];if(Th.overlaps(n.bounds,t.bounds))for(var s=n.parts.length===1?0:1;s<n.parts.length;s++){var a=n.parts[s];if(Th.overlaps(a.bounds,t.bounds)){var o=SMt.collides(a,t);if(o.collided){i.push(o);break}}}}return i},oo.ray=function(t,e,i,r){r=r||1e-100;for(var n=Zp.angle(e,i),s=Zp.magnitude(Zp.sub(e,i)),a=(i.x+e.x)*.5,o=(i.y+e.y)*.5,h=CMt.rectangle(a,o,s,r,{angle:n}),l=oo.collides(h,t),u=0;u<l.length;u+=1){var f=l[u];f.body=f.bodyB=f.bodyA}return l},oo.region=function(t,e,i){for(var r=[],n=0;n<t.length;n++){var s=t[n],a=Th.overlaps(s.bounds,e);(a&&!i||!a&&i)&&r.push(s)}return r},oo.point=function(t,e){for(var i=[],r=0;r<t.length;r++){var n=t[r];if(Th.contains(n.bounds,e))for(var s=n.parts.length===1?0:1;s<n.parts.length;s++){var a=n.parts[s];if(Th.contains(a.bounds,e)&&bMt.contains(a.vertices,e)){i.push(n);break}}}return i}})();var be={},g$=be,MMt=tr,wt=gr,pf=oe,PMt=Xr;(function(){be._restingThresh=4,be._restingThreshTangent=6,be._positionDampen=.9,be._positionWarming=.8,be._frictionNormalMultiplier=5,be.preSolvePosition=function(t){var e,i,r;for(e=0;e<t.length;e++)i=t[e],i.isActive&&(r=i.activeContacts.length,i.collision.parentA.totalContacts+=r,i.collision.parentB.totalContacts+=r)},be.solvePosition=function(t,e,i){var r,n,s,a,o,h,l,u,f,c,d,g,v,p,m,y,x=i*be._positionDampen;for(r=0;r<e.length;r++){var T=e[r];T.previousPositionImpulse.x=T.positionImpulse.x,T.previousPositionImpulse.y=T.positionImpulse.y}for(r=0;r<t.length;r++)a=t[r],!(!a.isActive||a.isSensor)&&(o=a.collision,h=o.parentA,l=o.parentB,u=o.normal,d=h.previousPositionImpulse,g=l.previousPositionImpulse,c=o.penetration,p=g.x-d.x+c.x,m=g.y-d.y+c.y,n=u.x,s=u.y,f=n*p+s*m,a.separation=f,y=(f-a.slop)*x,(h.isStatic||l.isStatic)&&(y*=2),h.isStatic||h.isSleeping||(v=y/h.totalContacts,h.positionImpulse.x+=n*v,h.positionImpulse.y+=s*v),l.isStatic||l.isSleeping||(v=y/l.totalContacts,l.positionImpulse.x-=n*v,l.positionImpulse.y-=s*v))},be.postSolvePosition=function(t){for(var e=0;e<t.length;e++){var i=t[e];if(i.totalContacts=0,i.positionImpulse.x!==0||i.positionImpulse.y!==0){for(var r=0;r<i.parts.length;r++){var n=i.parts[r];MMt.translate(n.vertices,i.positionImpulse),PMt.update(n.bounds,n.vertices,i.velocity),n.position.x+=i.positionImpulse.x,n.position.y+=i.positionImpulse.y}i.positionPrev.x+=i.positionImpulse.x,i.positionPrev.y+=i.positionImpulse.y,wt.dot(i.positionImpulse,i.velocity)<0?(i.positionImpulse.x=0,i.positionImpulse.y=0):(i.positionImpulse.x*=be._positionWarming,i.positionImpulse.y*=be._positionWarming)}}},be.preSolveVelocity=function(t){var e,i,r,n,s,a,o,h,l,u,f,c,d,g,v=wt._temp[0],p=wt._temp[1];for(e=0;e<t.length;e++)if(r=t[e],!(!r.isActive||r.isSensor))for(n=r.activeContacts,s=r.collision,a=s.parentA,o=s.parentB,h=s.normal,l=s.tangent,i=0;i<n.length;i++)u=n[i],f=u.vertex,c=u.normalImpulse,d=u.tangentImpulse,(c!==0||d!==0)&&(v.x=h.x*c+l.x*d,v.y=h.y*c+l.y*d,a.isStatic||a.isSleeping||(g=wt.sub(f,a.position,p),a.positionPrev.x+=v.x*a.inverseMass,a.positionPrev.y+=v.y*a.inverseMass,a.anglePrev+=wt.cross(g,v)*a.inverseInertia),o.isStatic||o.isSleeping||(g=wt.sub(f,o.position,p),o.positionPrev.x-=v.x*o.inverseMass,o.positionPrev.y-=v.y*o.inverseMass,o.anglePrev-=wt.cross(g,v)*o.inverseInertia))},be.solveVelocity=function(t,e){for(var i=e*e,r=wt._temp[0],n=wt._temp[1],s=wt._temp[2],a=wt._temp[3],o=wt._temp[4],h=wt._temp[5],l=0;l<t.length;l++){var u=t[l];if(!(!u.isActive||u.isSensor)){var f=u.collision,c=f.parentA,d=f.parentB,g=f.normal,v=f.tangent,p=u.activeContacts,m=1/p.length;c.velocity.x=c.position.x-c.positionPrev.x,c.velocity.y=c.position.y-c.positionPrev.y,d.velocity.x=d.position.x-d.positionPrev.x,d.velocity.y=d.position.y-d.positionPrev.y,c.angularVelocity=c.angle-c.anglePrev,d.angularVelocity=d.angle-d.anglePrev;for(var y=0;y<p.length;y++){var x=p[y],T=x.vertex,_=wt.sub(T,c.position,n),w=wt.sub(T,d.position,s),S=wt.add(c.velocity,wt.mult(wt.perp(_),c.angularVelocity),a),C=wt.add(d.velocity,wt.mult(wt.perp(w),d.angularVelocity),o),R=wt.sub(S,C,h),L=wt.dot(g,R),E=wt.dot(v,R),O=Math.abs(E),A=pf.sign(E),F=(1+u.restitution)*L,M=pf.clamp(u.separation+L,0,1)*be._frictionNormalMultiplier,P=E,$=1/0;O>u.friction*u.frictionStatic*M*i&&($=O,P=pf.clamp(u.friction*A*i,-$,$));var I=wt.cross(_,g),D=wt.cross(w,g),G=m/(c.inverseMass+d.inverseMass+c.inverseInertia*I*I+d.inverseInertia*D*D);if(F*=G,P*=G,L<0&&L*L>be._restingThresh*i)x.normalImpulse=0;else{var et=x.normalImpulse;x.normalImpulse=Math.min(x.normalImpulse+F,0),F=x.normalImpulse-et}if(E*E>be._restingThreshTangent*i)x.tangentImpulse=0;else{var q=x.tangentImpulse;x.tangentImpulse=pf.clamp(x.tangentImpulse+P,-$,$),P=x.tangentImpulse-q}r.x=g.x*F+v.x*P,r.y=g.y*F+v.y*P,c.isStatic||c.isSleeping||(c.positionPrev.x+=r.x*c.inverseMass,c.positionPrev.y+=r.y*c.inverseMass,c.anglePrev+=wt.cross(_,r)*c.inverseInertia),d.isStatic||d.isSleeping||(d.positionPrev.x-=r.x*d.inverseMass,d.positionPrev.y-=r.y*d.inverseMass,d.anglePrev-=wt.cross(w,r)*d.inverseInertia)}}}}})();var Vf={},AMt=Vf,RMt=Ca,FMt=oe;(function(){Vf.create=function(t){var e={extended:!1,narrowDetections:0,narrowphaseTests:0,narrowReuse:0,narrowReuseCount:0,midphaseTests:0,broadphaseTests:0,narrowEff:1e-4,midEff:1e-4,broadEff:1e-4,collisions:0,buckets:0,bodies:0,pairs:0};return FMt.extend(e,!1,t)},Vf.reset=function(t){t.extended&&(t.narrowDetections=0,t.narrowphaseTests=0,t.narrowReuse=0,t.narrowReuseCount=0,t.midphaseTests=0,t.broadphaseTests=0,t.narrowEff=0,t.midEff=0,t.broadEff=0,t.collisions=0,t.buckets=0,t.pairs=0,t.bodies=0)},Vf.update=function(t,e){if(t.extended){var i=e.world,r=RMt.allBodies(i);t.collisions=t.narrowDetections,t.pairs=e.pairs.list.length,t.bodies=r.length,t.midEff=(t.narrowDetections/(t.midphaseTests||1)).toFixed(2),t.narrowEff=(t.narrowDetections/(t.narrowphaseTests||1)).toFixed(2),t.broadEff=(1-t.broadphaseTests/(r.length||1)).toFixed(2),t.narrowReuse=(t.narrowReuseCount/(t.narrowphaseTests||1)).toFixed(2)}}})();var Hi={},m$=Hi,EMt=Gy,Qp=Fl,wh=g$,gf=p$,tg=AMt,LMt=v$,Sh=Io,Ch=Ca,io=Ll,Ws=oe,$Mt=ci;(function(){Hi.create=function(t,e){e=Ws.isElement(t)?e:t,t=Ws.isElement(t)?t:null,e=e||{},(t||e.render)&&Ws.warn("Engine.create: engine.render is deprecated (see docs)");var i={positionIterations:6,velocityIterations:4,constraintIterations:2,enableSleeping:!1,events:[],plugin:{},timing:{timestamp:0,timeScale:1},broadphase:{controller:LMt}},r=Ws.extend(i,e);if(t||r.render){var n={element:t,controller:Render};r.render=Ws.extend(n,r.render)}return r.render&&r.render.controller&&(r.render=r.render.controller.create(r.render)),r.render&&(r.render.engine=r),r.world=e.world||EMt.create(r.world),r.pairs=gf.create(),r.broadphase=r.broadphase.controller.create(r.broadphase),r.metrics=r.metrics||{extended:!1},r.metrics=tg.create(r.metrics),r},Hi.update=function(t,e,i){e=e||1e3/60,i=i||1;var r=t.world,n=t.timing,s=t.broadphase,a=[],o;n.timestamp+=e*n.timeScale;var h={timestamp:n.timestamp};Sh.trigger(t,"beforeUpdate",h);var l=Ch.allBodies(r),u=Ch.allConstraints(r);for(tg.reset(t.metrics),t.enableSleeping&&Qp.update(l,n.timeScale),Hi._bodiesApplyGravity(l,r.gravity),Hi._bodiesUpdate(l,e,n.timeScale,i,r.bounds),io.preSolveAll(l),o=0;o<t.constraintIterations;o++)io.solveAll(u,n.timeScale);io.postSolveAll(l),s.controller?(r.isModified&&s.controller.clear(s),s.controller.update(s,l,t,r.isModified),a=s.pairsList):a=l,r.isModified&&Ch.setModified(r,!1,!1,!0);var f=s.detector(a,t),c=t.pairs,d=n.timestamp;for(gf.update(c,f,d),gf.removeOld(c,d),t.enableSleeping&&Qp.afterCollisions(c.list,n.timeScale),c.collisionStart.length>0&&Sh.trigger(t,"collisionStart",{pairs:c.collisionStart}),wh.preSolvePosition(c.list),o=0;o<t.positionIterations;o++)wh.solvePosition(c.list,l,n.timeScale);for(wh.postSolvePosition(l),io.preSolveAll(l),o=0;o<t.constraintIterations;o++)io.solveAll(u,n.timeScale);for(io.postSolveAll(l),wh.preSolveVelocity(c.list),o=0;o<t.velocityIterations;o++)wh.solveVelocity(c.list,n.timeScale);return c.collisionActive.length>0&&Sh.trigger(t,"collisionActive",{pairs:c.collisionActive}),c.collisionEnd.length>0&&Sh.trigger(t,"collisionEnd",{pairs:c.collisionEnd}),tg.update(t.metrics,t),Hi._bodiesClearForces(l),Sh.trigger(t,"afterUpdate",h),t},Hi.merge=function(t,e){if(Ws.extend(t,e),e.world){t.world=e.world,Hi.clear(t);for(var i=Ch.allBodies(t.world),r=0;r<i.length;r++){var n=i[r];Qp.set(n,!1),n.id=Ws.nextId()}}},Hi.clear=function(t){var e=t.world;gf.clear(t.pairs);var i=t.broadphase;if(i.controller){var r=Ch.allBodies(e);i.controller.clear(i),i.controller.update(i,r,t,!0)}},Hi._bodiesClearForces=function(t){for(var e=0;e<t.length;e++){var i=t[e];i.force.x=0,i.force.y=0,i.torque=0}},Hi._bodiesApplyGravity=function(t,e){var i=typeof e.scale<"u"?e.scale:.001;if(!(e.x===0&&e.y===0||i===0))for(var r=0;r<t.length;r++){var n=t[r];n.ignoreGravity||n.isStatic||n.isSleeping||(n.force.y+=n.mass*e.y*i,n.force.x+=n.mass*e.x*i)}},Hi._bodiesUpdate=function(t,e,i,r,n){for(var s=0;s<t.length;s++){var a=t[s];a.isStatic||a.isSleeping||$Mt.update(a,e,i,r)}}})();var Wf={},OMt=Wf,IMt=oe;(function(){Wf.pathToVertices=function(t,e){typeof window<"u"&&!("SVGPathSeg"in window)&&IMt.warn("Svg.pathToVertices: SVGPathSeg not defined, a polyfill is required.");var i,r,n,s,a,o,h,l,u,f,c=[],d,g,v=0,p=0,m=0;e=e||15;var y=function(T,_,w){var S=w%2===1&&w>1;if(!u||T!=u.x||_!=u.y){u&&S?(d=u.x,g=u.y):(d=0,g=0);var C={x:d+T,y:g+_};(S||!u)&&(u=C),c.push(C),p=d+T,m=g+_}},x=function(T){var _=T.pathSegTypeAsLetter.toUpperCase();if(_!=="Z"){switch(_){case"M":case"L":case"T":case"C":case"S":case"Q":p=T.x,m=T.y;break;case"H":p=T.x;break;case"V":m=T.y;break}y(p,m,T.pathSegType)}};for(Wf._svgPathToAbsolute(t),n=t.getTotalLength(),o=[],i=0;i<t.pathSegList.numberOfItems;i+=1)o.push(t.pathSegList.getItem(i));for(h=o.concat();v<n;){if(f=t.getPathSegAtLength(v),a=o[f],a!=l){for(;h.length&&h[0]!=a;)x(h.shift());l=a}switch(a.pathSegTypeAsLetter.toUpperCase()){case"C":case"T":case"S":case"Q":case"A":s=t.getPointAtLength(v),y(s.x,s.y,0);break}v+=e}for(i=0,r=h.length;i<r;++i)x(h[i]);return c},Wf._svgPathToAbsolute=function(t){for(var e,i,r,n,s,a,o=t.pathSegList,h=0,l=0,u=o.numberOfItems,f=0;f<u;++f){var c=o.getItem(f),d=c.pathSegTypeAsLetter;if(/[MLHVCSQTA]/.test(d))"x"in c&&(h=c.x),"y"in c&&(l=c.y);else switch("x1"in c&&(r=h+c.x1),"x2"in c&&(s=h+c.x2),"y1"in c&&(n=l+c.y1),"y2"in c&&(a=l+c.y2),"x"in c&&(h+=c.x),"y"in c&&(l+=c.y),d){case"m":o.replaceItem(t.createSVGPathSegMovetoAbs(h,l),f);break;case"l":o.replaceItem(t.createSVGPathSegLinetoAbs(h,l),f);break;case"h":o.replaceItem(t.createSVGPathSegLinetoHorizontalAbs(h),f);break;case"v":o.replaceItem(t.createSVGPathSegLinetoVerticalAbs(l),f);break;case"c":o.replaceItem(t.createSVGPathSegCurvetoCubicAbs(h,l,r,n,s,a),f);break;case"s":o.replaceItem(t.createSVGPathSegCurvetoCubicSmoothAbs(h,l,s,a),f);break;case"q":o.replaceItem(t.createSVGPathSegCurvetoQuadraticAbs(h,l,r,n),f);break;case"t":o.replaceItem(t.createSVGPathSegCurvetoQuadraticSmoothAbs(h,l),f);break;case"a":o.replaceItem(t.createSVGPathSegArcAbs(h,l,c.r1,c.r2,c.angle,c.largeArcFlag,c.sweepFlag),f);break;case"z":case"Z":h=e,l=i;break}(d=="M"||d=="m")&&(e=h,i=l)}}})();/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var ht=c$;ht.Body=ci;ht.Composite=Ca;ht.World=Gy;ht.Detector=By;ht.Grid=v$;ht.Pairs=p$;ht.Pair=ed;ht.Query=wMt;ht.Resolver=g$;ht.SAT=Dy;ht.Constraint=Ll;ht.Common=oe;ht.Engine=m$;ht.Events=Io;ht.Sleeping=Fl;ht.Plugin=ky;ht.Bodies=Cs;ht.Composites=h$;ht.Axes=Oy;ht.Bounds=Xr;ht.Svg=OMt;ht.Vector=gr;ht.Vertices=tr;ht.World.add=ht.Composite.add;ht.World.remove=ht.Composite.remove;ht.World.addComposite=ht.Composite.addComposite;ht.World.addBody=ht.Composite.addBody;ht.World.addConstraint=ht.Composite.addConstraint;ht.World.clear=ht.Composite.clear;var zy=ht,br=zy,Xf={name:"matter-attractors",version:"0.1.7",for:"matter-js@^0.13.1",silent:!0,install:function(t){t.after("Body.create",function(){Xf.Body.init(this)}),t.before("Engine.update",function(e){Xf.Engine.update(e)})},Body:{init:function(t){t.plugin.attractors=t.plugin.attractors||[]}},Engine:{update:function(t){for(var e=t.world,i=br.Composite.allBodies(e),r=0;r<i.length;r+=1){var n=i[r],s=n.plugin.attractors;if(s&&s.length>0)for(var a=r+1;a<i.length;a+=1)for(var o=i[a],h=0;h<s.length;h+=1){var l=s[h],u=l;br.Common.isFunction(l)&&(u=l(n,o)),u&&br.Body.applyForce(o,o.position,u)}}}},Attractors:{gravityConstant:.001,gravity:function(t,e){var i=br.Vector.sub(e.position,t.position),r=br.Vector.magnitudeSquared(i)||1e-4,n=br.Vector.normalise(i),s=-Xf.Attractors.gravityConstant*(t.mass*e.mass/r),a=br.Vector.mult(n,s);br.Body.applyForce(t,t.position,br.Vector.neg(a)),br.Body.applyForce(e,e.position,a)}}},DMt=Xf,ro=zy,Js={name:"matter-wrap",version:"0.1.4",for:"matter-js@^0.13.1",silent:!0,install:function(t){t.after("Engine.update",function(){Js.Engine.update(this)})},Engine:{update:function(t){for(var e=t.world,i=ro.Composite.allBodies(e),r=ro.Composite.allComposites(e),n=0;n<i.length;n+=1){var s=i[n];s.plugin.wrap&&Js.Body.wrap(s,s.plugin.wrap)}for(n=0;n<r.length;n+=1){var a=r[n];a.plugin.wrap&&Js.Composite.wrap(a,a.plugin.wrap)}}},Bounds:{wrap:function(t,e){var i=null,r=null;if(typeof e.min.x<"u"&&typeof e.max.x<"u"&&(t.min.x>e.max.x?i=e.min.x-t.max.x:t.max.x<e.min.x&&(i=e.max.x-t.min.x)),typeof e.min.y<"u"&&typeof e.max.y<"u"&&(t.min.y>e.max.y?r=e.min.y-t.max.y:t.max.y<e.min.y&&(r=e.max.y-t.min.y)),i!==null||r!==null)return{x:i||0,y:r||0}}},Body:{wrap:function(t,e){var i=Js.Bounds.wrap(t.bounds,e);return i&&ro.Body.translate(t,i),i}},Composite:{bounds:function(t){for(var e=ro.Composite.allBodies(t),i=[],r=0;r<e.length;r+=1){var n=e[r];i.push(n.bounds.min,n.bounds.max)}return ro.Bounds.create(i)},wrap:function(t,e){var i=Js.Bounds.wrap(Js.Composite.bounds(t),e);return i&&ro.Composite.translate(t,i),i}}},BMt=Js;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var kMt=Cs,GMt=b,eg=oe,mf=Ca,yf=m$,eM=Bt.exports,Nt=V,no=ut,iM=ci,so=Io,zMt=Iy,bh=Gy,Mh=gr,NMt=new GMt({Extends:eM,initialize:function(e,i){eM.call(this),this.scene=e,this.engine=yf.create(i),this.localWorld=this.engine.world;var r=no(i,"gravity",null);if(r&&this.setGravity(r.x,r.y,r.scale),this.walls={left:null,right:null,top:null,bottom:null},Nt(i,"setBounds",!1)){var n=i.setBounds;if(typeof n=="boolean")this.setBounds();else{var s=Nt(n,"x",0),a=Nt(n,"y",0),o=Nt(n,"width",e.sys.game.config.width),h=Nt(n,"height",e.sys.game.config.height),l=Nt(n,"thickness",64),u=Nt(n,"left",!0),f=Nt(n,"right",!0),c=Nt(n,"top",!0),d=Nt(n,"bottom",!0);this.setBounds(s,a,o,h,l,u,f,c,d)}}this.enabled=no(i,"enabled",!0),this.correction=no(i,"correction",1),this.getDelta=no(i,"getDelta",this.update60Hz),this.autoUpdate=no(i,"autoUpdate",!0),this.drawDebug=no(i,"debug",!1),this.debugGraphic,this.defaults={debugShowBody:Nt(i,"debugShowBody",!0),debugShowStaticBody:Nt(i,"debugShowStaticBody",!0),debugShowVelocity:Nt(i,"debugShowVelocity",!0),bodyDebugColor:Nt(i,"debugBodyColor",16711935),bodyDebugFillColor:Nt(i,"bodyDebugFillColor",14919651),staticBodyDebugColor:Nt(i,"debugBodyColor",255),velocityDebugColor:Nt(i,"debugVelocityColor",65280),debugShowJoint:Nt(i,"debugShowJoint",!0),jointDebugColor:Nt(i,"debugJointColor",0),debugWireframes:Nt(i,"debugWireframes",!0),debugShowInternalEdges:Nt(i,"debugShowInternalEdges",!1),debugShowConvexHulls:Nt(i,"debugShowConvexHulls",!1),debugConvexHullColor:Nt(i,"debugConvexHullColor",11184810),debugShowSleeping:Nt(i,"debugShowSleeping",!1)},this.drawDebug&&this.createDebugGraphic(),this.setEventsProxy()},setEventsProxy:function(){var t=this,e=this.engine;so.on(e,"beforeUpdate",function(i){t.emit("beforeupdate",i)}),so.on(e,"afterUpdate",function(i){t.emit("afterupdate",i)}),so.on(e,"collisionStart",function(i){var r=i.pairs,n,s;r.length>0&&(n=r[0].bodyA,s=r[0].bodyB),t.emit("collisionstart",i,n,s)}),so.on(e,"collisionActive",function(i){var r=i.pairs,n,s;r.length>0&&(n=r[0].bodyA,s=r[0].bodyB),t.emit("collisionactive",i,n,s)}),so.on(e,"collisionEnd",function(i){var r=i.pairs,n,s;r.length>0&&(n=r[0].bodyA,s=r[0].bodyB),t.emit("collisionend",i,n,s)})},setBounds:function(t,e,i,r,n,s,a,o,h){return t===void 0&&(t=0),e===void 0&&(e=0),i===void 0&&(i=this.scene.sys.game.config.width),r===void 0&&(r=this.scene.sys.game.config.height),n===void 0&&(n=128),s===void 0&&(s=!0),a===void 0&&(a=!0),o===void 0&&(o=!0),h===void 0&&(h=!0),this.updateWall(s,"left",t-n,e,n,r),this.updateWall(a,"right",t+i,e,n,r),this.updateWall(o,"top",t,e-n,i,n),this.updateWall(h,"bottom",t,e+r,i,n),this},updateWall:function(t,e,i,r,n,s){var a=this.walls[e];t?(a&&bh.remove(this.localWorld,a),i+=n/2,r+=s/2,this.walls[e]=this.create(i,r,n,s,{isStatic:!0,friction:0,frictionStatic:0})):(a&&bh.remove(this.localWorld,a),this.walls[e]=null)},createDebugGraphic:function(){var t=this.scene.sys.add.graphics({x:0,y:0});return t.setDepth(Number.MAX_VALUE),this.debugGraphic=t,this.drawDebug=!0,t},disableGravity:function(){return this.localWorld.gravity.x=0,this.localWorld.gravity.y=0,this.localWorld.gravity.scale=0,this},setGravity:function(t,e,i){return t===void 0&&(t=0),e===void 0&&(e=1),this.localWorld.gravity.x=t,this.localWorld.gravity.y=e,i!==void 0&&(this.localWorld.gravity.scale=i),this},create:function(t,e,i,r,n){var s=kMt.rectangle(t,e,i,r,n);return bh.add(this.localWorld,s),s},add:function(t){return bh.add(this.localWorld,t),this},remove:function(t,e){var i=t.body?t.body:t;return mf.removeBody(this.localWorld,i,e),this},removeConstraint:function(t,e){return mf.remove(this.localWorld,t,e),this},convertTilemapLayer:function(t,e){var i=t.layer,r=t.getTilesWithin(0,0,i.width,i.height,{isColliding:!0});return this.convertTiles(r,e),this},convertTiles:function(t,e){if(t.length===0)return this;for(var i=0;i<t.length;i++)new zMt(this,t[i],e);return this},nextGroup:function(t){return iM.nextGroup(t)},nextCategory:function(){return iM.nextCategory()},pause:function(){return this.enabled=!1,this.emit("pause"),this},resume:function(){return this.enabled=!0,this.emit("resume"),this},update:function(t,e){this.enabled&&this.autoUpdate&&yf.update(this.engine,this.getDelta(t,e),this.correction)},step:function(t,e){yf.update(this.engine,t,e)},update60Hz:function(){return 1e3/60},update30Hz:function(){return 1e3/30},postUpdate:function(){if(!!this.drawDebug){this.debugGraphic.clear();var t=mf.allBodies(this.localWorld);this.defaults.debugWireframes?(this.defaults.debugShowConvexHulls&&this.renderConvexHulls(t),this.renderWireframes(t)):this.renderBodies(t),this.defaults.debugShowJoint&&this.renderJoints()}},renderConvexHulls:function(t){var e=this.debugGraphic;e.lineStyle(1,this.defaults.debugConvexHullColor),e.beginPath();for(var i=0;i<t.length;i++){var r=t[i];if(!(!r.render.visible||r.parts.length===1)){e.moveTo(r.vertices[0].x,r.vertices[0].y);for(var n=1;n<r.vertices.length;n++)e.lineTo(r.vertices[n].x,r.vertices[n].y);e.lineTo(r.vertices[0].x,r.vertices[0].y)}}e.strokePath()},renderWireframes:function(t){var e=this.debugGraphic,i=this.defaults.debugShowInternalEdges;e.lineStyle(1,this.defaults.bodyDebugColor),e.beginPath();for(var r=0;r<t.length;r++){var n=t[r];if(!!n.render.visible)for(var s=n.parts.length>1?1:0;s<n.parts.length;s++){var a=n.parts[s],o=a.vertices.length;e.moveTo(a.vertices[0].x,a.vertices[0].y);for(var h=1;h<o;h++)!a.vertices[h-1].isInternal||i?e.lineTo(a.vertices[h].x,a.vertices[h].y):e.moveTo(a.vertices[h].x,a.vertices[h].y),a.vertices[h].isInternal&&!i&&e.moveTo(a.vertices[(h+1)%o].x,a.vertices[(h+1)%o].y);e.lineTo(a.vertices[0].x,a.vertices[0].y)}}e.strokePath()},renderBodies:function(t){var e=this.debugGraphic,i=this.defaults.debugShowInternalEdges||!this.defaults.debugWireframes,r=this.defaults.debugShowSleeping,n=this.defaults.debugWireframes,s,a,o,h;for(o=0;o<t.length;o++)if(s=t[o],!!s.render.visible){for(h=s.parts.length>1?1:0;h<s.parts.length;h++)if(a=s.parts[h],!!a.render.visible){if(r&&s.isSleeping?(e.lineStyle(1,this.defaults.bodyDebugColor,.5*a.render.opacity),e.fillStyle(this.defaults.bodyDebugColor,.5*a.render.opacity)):(e.lineStyle(1,this.defaults.bodyDebugColor,a.render.opacity),e.fillStyle(this.defaults.bodyDebugColor,a.render.opacity)),a.circleRadius)e.beginPath(),e.arc(a.position.x,a.position.y,a.circleRadius,0,2*Math.PI);else{e.beginPath(),e.moveTo(a.vertices[0].x,a.vertices[0].y);for(var l=a.vertices.length,u=1;u<l;u++)!a.vertices[u-1].isInternal||i?e.lineTo(a.vertices[u].x,a.vertices[u].y):e.moveTo(a.vertices[u].x,a.vertices[u].y),a.vertices[u].isInternal&&!i&&e.moveTo(a.vertices[(u+1)%a.vertices.length].x,a.vertices[(u+1)%a.vertices.length].y);e.lineTo(a.vertices[0].x,a.vertices[0].y),e.closePath()}n?e.strokePath():e.fillPath()}}},renderJoints:function(){var t=this.debugGraphic;t.lineStyle(2,this.defaults.jointDebugColor);for(var e=mf.allConstraints(this.localWorld),i=0;i<e.length;i++){var r=e[i];if(!(!r.render.visible||!r.pointA||!r.pointB)){r.render.lineWidth&&t.lineStyle(r.render.lineWidth,eg.colorToNumber(r.render.strokeStyle));var n=r.bodyA,s=r.bodyB,a,o;if(n?a=Mh.add(n.position,r.pointA):a=r.pointA,r.render.type==="pin")t.beginPath(),t.arc(a.x,a.y,3,0,2*Math.PI),t.closePath();else{if(s?o=Mh.add(s.position,r.pointB):o=r.pointB,t.beginPath(),t.moveTo(a.x,a.y),r.render.type==="spring")for(var h=Mh.sub(o,a),l=Mh.perp(Mh.normalise(h)),u=Math.ceil(eg.clamp(r.length/5,12,20)),f,c=1;c<u;c+=1)f=c%2===0?1:-1,t.lineTo(a.x+h.x*(c/u)+l.x*f*4,a.y+h.y*(c/u)+l.y*f*4);t.lineTo(o.x,o.y)}r.render.lineWidth&&t.strokePath(),r.render.anchors&&(t.fillStyle(eg.colorToNumber(r.render.strokeStyle)),t.beginPath(),t.arc(a.x,a.y,6,0,2*Math.PI),t.arc(o.x,o.y,6,0,2*Math.PI),t.closePath(),t.fillPath())}}},fromPath:function(t,e){e===void 0&&(e=[]);var i=/L?\s*([\-\d\.e]+)[\s,]*([\-\d\.e]+)*/ig;return t.replace(i,function(r,n,s){e.push({x:parseFloat(n),y:parseFloat(s)})}),e},shutdown:function(){so.off(this.engine),this.removeAllListeners(),bh.clear(this.localWorld,!1),yf.clear(this.engine),this.drawDebug&&this.debugGraphic.destroy()},destroy:function(){this.shutdown()}}),y$=NMt;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var YMt=b,rM=f$,nM=V,sM=ut,xf=DMt,_f=c$,Tf=BMt,VMt=Ao,ts=ky,WMt=se,aM=y$,XMt=tr,x$=new YMt({initialize:function(e){this.scene=e,this.systems=e.sys,this.config=this.getConfig(),this.world,this.add,this.verts=XMt,sM(this.config,"plugins.attractors",!1)&&(ts.register(xf),ts.use(_f,xf)),sM(this.config,"plugins.wrap",!1)&&(ts.register(Tf),ts.use(_f,Tf)),e.sys.events.once("boot",this.boot,this),e.sys.events.on("start",this.start,this)},boot:function(){this.world=new aM(this.scene,this.config),this.add=new rM(this.world),this.systems.events.once("destroy",this.destroy,this)},start:function(){this.world||(this.world=new aM(this.scene,this.config),this.add=new rM(this.world));var t=this.systems.events;t.on("update",this.world.update,this.world),t.on("postupdate",this.world.postUpdate,this.world),t.once("shutdown",this.shutdown,this)},getConfig:function(){var t=this.systems.game.config.physics,e=this.systems.settings.physics,i=VMt(nM(e,"matter",{}),nM(t,"matter",{}));return i},enableAttractorPlugin:function(){return ts.register(xf),ts.use(_f,xf),this},enableWrapPlugin:function(){return ts.register(Tf),ts.use(_f,Tf),this},pause:function(){return this.world.pause()},resume:function(){return this.world.resume()},set60Hz:function(){return this.world.getDelta=this.world.update60Hz,this.world.autoUpdate=!0,this},set30Hz:function(){return this.world.getDelta=this.world.update30Hz,this.world.autoUpdate=!0,this},step:function(t,e){this.world.step(t,e)},shutdown:function(){var t=this.systems.events;t.off("update",this.world.update,this.world),t.off("postupdate",this.world.postUpdate,this.world),t.off("shutdown",this.shutdown,this),this.add.destroy(),this.world.destroy(),this.add=null,this.world=null},destroy:function(){this.shutdown(),this.scene.sys.events.off("start",this.start,this),this.scene=null,this.systems=null}});WMt.register("MatterPhysics",x$,"matterPhysics");var UMt=x$;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var HMt={Factory:f$,Image:l$,Matter:zy,MatterPhysics:UMt,PolyDecomp:n$,Sprite:u$,TileBody:Iy,World:y$};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var qMt={Arcade:pSt,Impact:CCt,Matter:HMt};/**
* @author       Richard Davey <rich@photonstorm.com>
* @copyright    2018 Photon Storm Ltd.
* @license      {@link https://github.com/photonstorm/phaser3-plugin-template/blob/master/LICENSE|MIT License}
*/var KMt=b,JMt=new KMt({initialize:function(e){this.pluginManager=e,this.game=e.game,this.scene,this.systems},init:function(){},start:function(){},stop:function(){},boot:function(){},destroy:function(){this.pluginManager=null,this.game=null,this.scene=null,this.systems=null}}),_$=JMt;/**
* @author       Richard Davey <rich@photonstorm.com>
* @copyright    2018 Photon Storm Ltd.
* @license      {@link https://github.com/photonstorm/phaser3-plugin-template/blob/master/LICENSE|MIT License}
*/var oM=_$,jMt=b,ZMt=new jMt({Extends:oM,initialize:function(e,i){oM.call(this,i),this.scene=e,this.systems=e.sys,e.sys.events.once("boot",this.boot,this)},boot:function(){}}),QMt=ZMt;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var tPt={BasePlugin:_$,DefaultPlugins:K0,PluginCache:se,PluginManager:W2,ScenePlugin:QMt};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var ePt={CanvasRenderer:P2,GetBlendModes:M2,SetTransform:ii};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var iPt={Canvas:b2,WebGL:A2};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var rPt={BitmapMaskPipeline:R2,ForwardDiffuseLightPipeline:O2,TextureTintPipeline:Z0};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var nPt={Utils:kt,WebGLPipeline:J0,WebGLRenderer:I2,Pipelines:rPt,BYTE:0,SHORT:1,UNSIGNED_BYTE:2,UNSIGNED_SHORT:3,FLOAT:4};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var sPt={Canvas:ePt,Snapshot:iPt,WebGL:nPt};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var aPt=ei,oPt=b,Mr=V,hPt=se,T$=new oPt({initialize:function(e){this.scene=e,this.systems=e.sys,this.settings=e.sys.settings,this.key=e.sys.settings.key,this.manager=e.sys.game.scene,this.transitionProgress=0,this._elapsed=0,this._target=null,this._duration=0,this._onUpdate,this._onUpdateScope,this._willSleep=!1,this._willRemove=!1,e.sys.events.once("boot",this.boot,this),e.sys.events.on("start",this.pluginStart,this)},boot:function(){this.systems.events.once("destroy",this.destroy,this)},pluginStart:function(){this._target=null,this.systems.events.once("shutdown",this.shutdown,this)},start:function(t,e){return t===void 0&&(t=this.key),this.manager.queueOp("stop",this.key),this.manager.queueOp("start",t,e),this},restart:function(t){var e=this.key;return this.manager.queueOp("stop",e),this.manager.queueOp("start",e,t),this},transition:function(t){t===void 0&&(t={});var e=Mr(t,"target",!1),i=this.manager.getScene(e);if(!e||!this.checkValidTransition(i))return!1;var r=Mr(t,"duration",1e3);this._elapsed=0,this._target=i,this._duration=r,this._willSleep=Mr(t,"sleep",!1),this._willRemove=Mr(t,"remove",!1);var n=Mr(t,"onUpdate",null);n&&(this._onUpdate=n,this._onUpdateScope=Mr(t,"onUpdateScope",this.scene));var s=Mr(t,"allowInput",!1);this.settings.transitionAllowInput=s;var a=i.sys.settings;return a.isTransition=!0,a.transitionFrom=this.scene,a.transitionDuration=r,a.transitionAllowInput=s,Mr(t,"moveAbove",!1)?this.manager.moveAbove(this.key,e):Mr(t,"moveBelow",!1)&&this.manager.moveBelow(this.key,e),i.sys.isSleeping()?i.sys.wake():this.manager.start(e,Mr(t,"data")),this.systems.events.emit("transitionout",i,r),this.systems.events.on("update",this.step,this),!0},checkValidTransition:function(t){return!(!t||t.sys.isActive()||t.sys.isTransitioning()||t===this.scene||this.systems.isTransitioning())},step:function(t,e){this._elapsed+=e,this.transitionProgress=aPt(this._elapsed/this._duration,0,1),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.transitionProgress),this._elapsed>=this._duration&&this.transitionComplete()},transitionComplete:function(){var t=this._target.sys,e=this._target.sys.settings;this.systems.events.off("update",this.step,this),t.events.emit("transitioncomplete",this.scene),e.isTransition=!1,e.transitionFrom=null,this._duration=0,this._target=null,this._onUpdate=null,this._onUpdateScope=null,this._willRemove?this.manager.remove(this.key):this._willSleep?this.systems.sleep():this.manager.stop(this.key)},add:function(t,e,i){return this.manager.add(t,e,i),this},launch:function(t,e){return t&&t!==this.key&&this.manager.queueOp("start",t,e),this},run:function(t,e){return t&&t!==this.key&&this.manager.queueOp("run",t,e),this},pause:function(t,e){return t===void 0&&(t=this.key),this.manager.queueOp("pause",t,e),this},resume:function(t,e){return t===void 0&&(t=this.key),this.manager.queueOp("resume",t,e),this},sleep:function(t,e){return t===void 0&&(t=this.key),this.manager.queueOp("sleep",t,e),this},wake:function(t,e){return t===void 0&&(t=this.key),this.manager.queueOp("wake",t,e),this},switch:function(t){return t!==this.key&&this.manager.queueOp("switch",this.key,t),this},stop:function(t){return t===void 0&&(t=this.key),this.manager.queueOp("stop",t),this},setActive:function(t,e,i){e===void 0&&(e=this.key);var r=this.manager.getScene(e);return r&&r.sys.setActive(t,i),this},setVisible:function(t,e){e===void 0&&(e=this.key);var i=this.manager.getScene(e);return i&&i.sys.setVisible(t),this},isSleeping:function(t){return t===void 0&&(t=this.key),this.manager.isSleeping(t)},isActive:function(t){return t===void 0&&(t=this.key),this.manager.isActive(t)},isVisible:function(t){return t===void 0&&(t=this.key),this.manager.isVisible(t)},swapPosition:function(t,e){return e===void 0&&(e=this.key),t!==e&&this.manager.swapPosition(t,e),this},moveAbove:function(t,e){return e===void 0&&(e=this.key),t!==e&&this.manager.moveAbove(t,e),this},moveBelow:function(t,e){return e===void 0&&(e=this.key),t!==e&&this.manager.moveBelow(t,e),this},remove:function(t){return t===void 0&&(t=this.key),this.manager.remove(t),this},moveUp:function(t){return t===void 0&&(t=this.key),this.manager.moveUp(t),this},moveDown:function(t){return t===void 0&&(t=this.key),this.manager.moveDown(t),this},bringToTop:function(t){return t===void 0&&(t=this.key),this.manager.bringToTop(t),this},sendToBack:function(t){return t===void 0&&(t=this.key),this.manager.sendToBack(t),this},get:function(t){return this.manager.getScene(t)},getIndex:function(t){return t===void 0&&(t=this.key),this.manager.getIndex(t)},shutdown:function(){var t=this.systems.events;t.off("shutdown",this.shutdown,this),t.off("postupdate",this.step,this),t.off("transitionout")},destroy:function(){this.shutdown(),this.scene.sys.events.off("start",this.start,this),this.scene=null,this.systems=null,this.settings=null,this.manager=null}});hPt.register("ScenePlugin",T$,"scenePlugin");var lPt=T$;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var uPt=zc,fPt=Ae,Rm={SceneManager:q2,ScenePlugin:lPt,Settings:U2,Systems:ty};Rm=fPt(!1,Rm,uPt);var cPt=Rm;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var dPt={SoundManagerCreator:eF,BaseSound:Yc,BaseSoundManager:Nc,WebAudioSound:Q2,WebAudioSoundManager:tF,HTML5AudioSound:K2,HTML5AudioSoundManager:J2,NoAudioSound:j2,NoAudioSoundManager:Z2};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var vPt={List:Xc,Map:L0,ProcessQueue:WL,RTree:XL,Set:Ro};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var pPt={LINEAR:0,NEAREST:1},gPt=pPt;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var mPt=Ae,w$=gPt,Fm={FilterMode:w$,Frame:Vc,Parsers:sF,Texture:ey,TextureManager:aF,TextureSource:rF};Fm=mPt(!1,Fm,w$);var yPt=Fm;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var xPt=function(t,e,i){return t>=0&&t<i.width&&e>=0&&e<i.height},$l=xPt;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var _Pt=$l,TPt=function(t,e,i,r){if(i===void 0&&(i=!1),_Pt(t,e,r)){var n=r.data[e][t];return n===null?null:n.index===-1?i?n:null:n}else return null},id=TPt;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var Ph=id,wPt=function(t,e,i){var r=Ph(t,e,!0,i),n=Ph(t,e-1,!0,i),s=Ph(t,e+1,!0,i),a=Ph(t-1,e,!0,i),o=Ph(t+1,e,!0,i),h=r&&r.collides;return h&&(r.faceTop=!0,r.faceBottom=!0,r.faceLeft=!0,r.faceRight=!0),n&&n.collides&&(h&&(r.faceTop=!1),n.faceBottom=!h),s&&s.collides&&(h&&(r.faceBottom=!1),s.faceTop=!h),a&&a.collides&&(h&&(r.faceLeft=!1),a.faceRight=!h),o&&o.collides&&(h&&(r.faceRight=!1),o.faceLeft=!h),r&&!r.collides&&r.resetFaces(),r},Ny=wPt;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var ig=V,SPt=function(t,e,i,r,n,s){t===void 0&&(t=0),e===void 0&&(e=0),i===void 0&&(i=s.width),r===void 0&&(r=s.height);var a=ig(n,"isNotEmpty",!1),o=ig(n,"isColliding",!1),h=ig(n,"hasInterestingFace",!1);t<0&&(i+=t,t=0),e<0&&(r+=e,e=0),t+i>s.width&&(i=Math.max(s.width-t,0)),e+r>s.height&&(r=Math.max(s.height-e,0));for(var l=[],u=e;u<e+r;u++)for(var f=t;f<t+i;f++){var c=s.data[u][f];if(c!==null){if(a&&c.index===-1||o&&!c.collides||h&&!c.hasInterestingFace)continue;l.push(c)}}return l},Fe=SPt;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var wf=id,CPt=Fe,bPt=function(t,e,i,r,n){for(var s=null,a=null,o=null,h=null,l=CPt(t,e,i,r,null,n),u=0;u<l.length;u++){var f=l[u];f&&(f.collides?(s=wf(f.x,f.y-1,!0,n),a=wf(f.x,f.y+1,!0,n),o=wf(f.x-1,f.y,!0,n),h=wf(f.x+1,f.y,!0,n),f.faceTop=!(s&&s.collides),f.faceBottom=!(a&&a.collides),f.faceLeft=!(o&&o.collides),f.faceRight=!(h&&h.collides)):f.resetFaces())}},Ln=bPt;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var MPt=Fe,PPt=Ln,APt=function(t,e,i,r,n,s,a,o){t<0&&(t=0),e<0&&(e=0),a===void 0&&(a=!0);for(var h=MPt(t,e,i,r,null,o),l=n-t,u=s-e,f=0;f<h.length;f++){var c=h[f].x+l,d=h[f].y+u;c>=0&&c<o.width&&d>=0&&d<o.height&&o.data[d][c]&&o.data[d][c].copy(h[f])}a&&PPt(n-1,s-1,i+2,r+2,o)},RPt=APt;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var FPt=function(t,e,i){var r=i.baseTileWidth,n=i.tilemapLayer,s=0;return n&&(e===void 0&&(e=n.scene.cameras.main),s=n.x+e.scrollX*(1-n.scrollFactorX),r*=n.scaleX),s+t*r},rd=FPt;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var EPt=function(t,e,i){var r=i.baseTileHeight,n=i.tilemapLayer,s=0;return n&&(e===void 0&&(e=n.scene.cameras.main),s=n.y+e.scrollY*(1-n.scrollFactorY),r*=n.scaleY),s+t*r},nd=EPt;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var LPt=Fe,$Pt=function(t,e,i,r,n,s,a){for(var o=LPt(i,r,n,s,null,a),h=0;h<o.length;h++)o[h]&&o[h].index===t&&(o[h].index=e)},S$=$Pt;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var OPt=rd,IPt=nd,DPt=Fe,hM=S$,BPt=function(t,e,i,r,n,s){i===void 0&&(i={}),Array.isArray(t)||(t=[t]);var a=s.tilemapLayer;r===void 0&&(r=a.scene),n===void 0&&(n=r.cameras.main);var o=DPt(0,0,s.width,s.height,null,s),h=[],l;for(l=0;l<o.length;l++){var u=o[l];if(t.indexOf(u.index)!==-1){i.x=OPt(u.x,n,s),i.y=IPt(u.y,n,s);var f=r.make.sprite(i);h.push(f)}}if(typeof e=="number")for(l=0;l<t.length;l++)hM(t[l],e,0,0,s.width,s.height,s);else if(Array.isArray(e))for(l=0;l<t.length;l++)hM(t[l],e[l],0,0,s.width,s.height,s);return h},kPt=BPt;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var lM=My,uM=ML,GPt=function(t,e,i,r){i===void 0&&(i=[]),r===void 0&&(r=0),i.length=0;var n=t.tilemapLayer.tilemap,s=t.tilemapLayer,a=t.data,o=t.width,h=t.height,l=Math.floor(n.tileWidth*s.scaleX),u=Math.floor(n.tileHeight*s.scaleY),f=0,c=o,d=0,g=h;if(!s.skipCull&&s.scrollFactorX===1&&s.scrollFactorY===1){var v=lM(e.worldView.x-s.x,l,0,!0)-s.cullPaddingX,p=uM(e.worldView.right-s.x,l,0,!0)+s.cullPaddingX,m=lM(e.worldView.y-s.y,u,0,!0)-s.cullPaddingY,y=uM(e.worldView.bottom-s.y,u,0,!0)+s.cullPaddingY;f=Math.max(0,v),c=Math.min(o,p),d=Math.max(0,m),g=Math.min(h,y)}var x,T,_;if(r===0)for(T=d;T<g;T++)for(x=f;x<c;x++)_=a[T][x],!(!_||_.index===-1||!_.visible||_.alpha===0)&&i.push(_);else if(r===1)for(T=d;T<g;T++)for(x=c;x>=f;x--)_=a[T][x],!(!_||_.index===-1||!_.visible||_.alpha===0)&&i.push(_);else if(r===2)for(T=g;T>=d;T--)for(x=f;x<c;x++)_=a[T][x],!(!_||_.index===-1||!_.visible||_.alpha===0)&&i.push(_);else if(r===3)for(T=g;T>=d;T--)for(x=c;x>=f;x--)_=a[T][x],!(!_||_.index===-1||!_.visible||_.alpha===0)&&i.push(_);return s.tilesDrawn=i.length,s.tilesTotal=o*h,i},zPt=GPt;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var NPt=function(t,e){e?t.setCollision(!0,!0,!0,!0,!1):t.resetCollision(!1)},ba=NPt;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var YPt=Fe,VPt=Ln,WPt=ba,XPt=function(t,e,i,r,n,s,a){for(var o=a.collideIndexes.indexOf(t)!==-1,h=YPt(e,i,r,n,null,a),l=0;l<h.length;l++)h[l].index=t,WPt(h[l],o);s&&VPt(e-1,i-1,r+2,n+2,a)},UPt=XPt;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var HPt=Fe,qPt=function(t,e,i,r,n,s,a,o){var h=HPt(i,r,n,s,a,o);return h.filter(t,e)},KPt=qPt;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var JPt=function(t,e,i,r){e===void 0&&(e=0),i===void 0&&(i=!1);var n=0,s,a,o;if(i){for(a=r.height-1;a>=0;a--)for(s=r.width-1;s>=0;s--)if(o=r.data[a][s],o&&o.index===t){if(n===e)return o;n+=1}}else for(a=0;a<r.height;a++)for(s=0;s<r.width;s++)if(o=r.data[a][s],o&&o.index===t){if(n===e)return o;n+=1}return null},jPt=JPt;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var ZPt=Fe,QPt=function(t,e,i,r,n,s,a,o){var h=ZPt(i,r,n,s,a,o);return h.find(t,e)||null},tAt=QPt;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var eAt=Fe,iAt=function(t,e,i,r,n,s,a,o){var h=eAt(i,r,n,s,a,o);h.forEach(t,e)},rAt=iAt;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var nAt=function(t,e,i,r){e===void 0&&(e=!0);var n=r.baseTileWidth,s=r.tilemapLayer;return s&&(i===void 0&&(i=s.scene.cameras.main),t=t-(s.x+i.scrollX*(1-s.scrollFactorX)),n*=s.scaleX),e?Math.floor(t/n):t/n},bs=nAt;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var sAt=function(t,e,i,r){e===void 0&&(e=!0);var n=r.baseTileHeight,s=r.tilemapLayer;return s&&(i===void 0&&(i=s.scene.cameras.main),t=t-(s.y+i.scrollY*(1-s.scrollFactorY)),n*=s.scaleY),e?Math.floor(t/n):t/n},Ms=sAt;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var aAt=id,oAt=bs,hAt=Ms,lAt=function(t,e,i,r,n){var s=oAt(t,!0,r,n),a=hAt(e,!0,r,n);return aAt(s,a,i,n)},uAt=lAt;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var Ah=iL,fAt=Fe,Uf=HE,cAt=W,dAt=rd,vAt=nd,fM=bs,cM=Ms,pAt=function(t,e){return Uf.RectangleToTriangle(e,t)},gAt=function(t,e,i,r){if(t===void 0)return[];var n=cAt;t instanceof Ah.Circle?n=Uf.CircleToRectangle:t instanceof Ah.Rectangle?n=Uf.RectangleToRectangle:t instanceof Ah.Triangle?n=pAt:t instanceof Ah.Line&&(n=Uf.LineToRectangle);var s=fM(t.left,!0,i,r),a=cM(t.top,!0,i,r),o=Math.ceil(fM(t.right,!1,i,r)),h=Math.ceil(cM(t.bottom,!1,i,r)),l=Math.max(o-s,1),u=Math.max(h-a,1),f=fAt(s,a,l,u,e,r),c=r.tileWidth,d=r.tileHeight;r.tilemapLayer&&(c*=r.tilemapLayer.scaleX,d*=r.tilemapLayer.scaleY);for(var g=[],v=new Ah.Rectangle(0,0,c,d),p=0;p<f.length;p++){var m=f[p];v.x=dAt(m.x,i,r),v.y=vAt(m.y,i,r),n(t,v)&&g.push(m)}return g},mAt=gAt;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var yAt=Fe,dM=bs,vM=Ms,xAt=function(t,e,i,r,n,s,a){var o=dM(t,!0,s,a),h=vM(e,!0,s,a),l=Math.ceil(dM(t+i,!1,s,a)),u=Math.ceil(vM(e+r,!1,s,a));return yAt(o,h,l-o,u-h,n,a)},_At=xAt;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var TAt=$l,wAt=function(t,e,i){if(TAt(t,e,i)){var r=i.data[e][t];return r!==null&&r.index>-1}else return!1},C$=wAt;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var SAt=C$,CAt=bs,bAt=Ms,MAt=function(t,e,i,r){var n=CAt(t,!0,i,r),s=bAt(e,!0,i,r);return SAt(n,s,r)},PAt=MAt;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var AAt=b,rg=ne,RAt=ZE,FAt=new AAt({Mixins:[rg.Alpha,rg.Flip,rg.Visible],initialize:function(e,i,r,n,s,a,o,h){this.layer=e,this.index=i,this.x=r,this.y=n,this.width=s,this.height=a,this.baseWidth=o!==void 0?o:s,this.baseHeight=h!==void 0?h:a,this.pixelX=0,this.pixelY=0,this.updatePixelXY(),this.properties={},this.rotation=0,this.collideLeft=!1,this.collideRight=!1,this.collideUp=!1,this.collideDown=!1,this.faceLeft=!1,this.faceRight=!1,this.faceTop=!1,this.faceBottom=!1,this.collisionCallback=null,this.collisionCallbackContext=this,this.tint=16777215,this.physics={}},containsPoint:function(t,e){return!(t<this.pixelX||e<this.pixelY||t>this.right||e>this.bottom)},copy:function(t){return this.index=t.index,this.alpha=t.alpha,this.properties=t.properties,this.visible=t.visible,this.setFlip(t.flipX,t.flipY),this.tint=t.tint,this.rotation=t.rotation,this.collideUp=t.collideUp,this.collideDown=t.collideDown,this.collideLeft=t.collideLeft,this.collideRight=t.collideRight,this.collisionCallback=t.collisionCallback,this.collisionCallbackContext=t.collisionCallbackContext,this},getCollisionGroup:function(){return this.tileset?this.tileset.getTileCollisionGroup(this.index):null},getTileData:function(){return this.tileset?this.tileset.getTileData(this.index):null},getLeft:function(t){var e=this.tilemapLayer;return e?e.tileToWorldX(this.x,t):this.x*this.baseWidth},getRight:function(t){var e=this.tilemapLayer;return e?this.getLeft(t)+this.width*e.scaleX:this.getLeft(t)+this.width},getTop:function(t){var e=this.tilemapLayer;return e?e.tileToWorldY(this.y,t)-(this.height-this.baseHeight)*e.scaleY:this.y*this.baseHeight-(this.height-this.baseHeight)},getBottom:function(t){var e=this.tilemapLayer;return e?this.getTop(t)+this.height*e.scaleY:this.getTop(t)+this.height},getBounds:function(t,e){return e===void 0&&(e=new RAt),e.x=this.getLeft(),e.y=this.getTop(),e.width=this.getRight()-e.x,e.height=this.getBottom()-e.y,e},getCenterX:function(t){return this.getLeft(t)+this.width/2},getCenterY:function(t){return this.getTop(t)+this.height/2},destroy:function(){this.collisionCallback=void 0,this.collisionCallbackContext=void 0,this.properties=void 0},intersects:function(t,e,i,r){return!(i<=this.pixelX||r<=this.pixelY||t>=this.right||e>=this.bottom)},isInteresting:function(t,e){return t&&e?this.canCollide||this.hasInterestingFace:t?this.collides:e?this.hasInterestingFace:!1},resetCollision:function(t){if(t===void 0&&(t=!0),this.collideLeft=!1,this.collideRight=!1,this.collideUp=!1,this.collideDown=!1,this.faceTop=!1,this.faceBottom=!1,this.faceLeft=!1,this.faceRight=!1,t){var e=this.tilemapLayer;e&&this.tilemapLayer.calculateFacesAt(this.x,this.y)}return this},resetFaces:function(){return this.faceTop=!1,this.faceBottom=!1,this.faceLeft=!1,this.faceRight=!1,this},setCollision:function(t,e,i,r,n){if(e===void 0&&(e=t),i===void 0&&(i=t),r===void 0&&(r=t),n===void 0&&(n=!0),this.collideLeft=t,this.collideRight=e,this.collideUp=i,this.collideDown=r,this.faceLeft=t,this.faceRight=e,this.faceTop=i,this.faceBottom=r,n){var s=this.tilemapLayer;s&&this.tilemapLayer.calculateFacesAt(this.x,this.y)}return this},setCollisionCallback:function(t,e){return t===null?(this.collisionCallback=void 0,this.collisionCallbackContext=void 0):(this.collisionCallback=t,this.collisionCallbackContext=e),this},setSize:function(t,e,i,r){return t!==void 0&&(this.width=t),e!==void 0&&(this.height=e),i!==void 0&&(this.baseWidth=i),r!==void 0&&(this.baseHeight=r),this.updatePixelXY(),this},updatePixelXY:function(){return this.pixelX=this.x*this.baseWidth,this.pixelY=this.y*this.baseHeight-(this.height-this.baseHeight),this},canCollide:{get:function(){return this.collideLeft||this.collideRight||this.collideUp||this.collideDown||this.collisionCallback}},collides:{get:function(){return this.collideLeft||this.collideRight||this.collideUp||this.collideDown}},hasInterestingFace:{get:function(){return this.faceTop||this.faceBottom||this.faceLeft||this.faceRight}},tileset:{get:function(){var t=this.tilemapLayer;return t?t.tileset:null}},tilemapLayer:{get:function(){return this.layer.tilemapLayer}},tilemap:{get:function(){var t=this.tilemapLayer;return t?t.tilemap:null}}}),Ma=FAt;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var ng=Ma,EAt=$l,LAt=Ny,$At=ba,OAt=function(t,e,i,r,n){if(!EAt(e,i,n))return null;r===void 0&&(r=!0);var s=n.data[i][e],a=s&&s.collides;if(t instanceof ng)n.data[i][e]===null&&(n.data[i][e]=new ng(n,t.index,e,i,t.width,t.height)),n.data[i][e].copy(t);else{var o=t;n.data[i][e]===null?n.data[i][e]=new ng(n,o,e,i,n.tileWidth,n.tileHeight):n.data[i][e].index=o}var h=n.data[i][e],l=n.collideIndexes.indexOf(h.index)!==-1;return $At(h,l),r&&a!==h.collides&&LAt(e,i,n),h},Yy=OAt;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var IAt=Yy,DAt=bs,BAt=Ms,kAt=function(t,e,i,r,n,s){var a=DAt(e,!0,n,s),o=BAt(i,!0,n,s);return IAt(t,a,o,r,s)},GAt=kAt;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var zAt=Ln,NAt=Yy,YAt=function(t,e,i,r,n){if(!Array.isArray(t))return null;r===void 0&&(r=!0),Array.isArray(t[0])||(t=[t]);for(var s=t.length,a=t[0].length,o=0;o<s;o++)for(var h=0;h<a;h++){var l=t[o][h];NAt(l,e+h,i+o,!1,n)}r&&zAt(e-1,i-1,a+2,s+2,n)},VAt=YAt;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var WAt=Fe,XAt=ry,UAt=function(t,e,i,r,n,s){var a,o=WAt(t,e,i,r,null,s);if(n===void 0)for(n=[],a=0;a<o.length;a++)n.indexOf(o[a].index)===-1&&n.push(o[a].index);for(a=0;a<o.length;a++)o[a].index=XAt(n)},HAt=UAt;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var qAt=Ma,KAt=$l,JAt=Ny,jAt=function(t,e,i,r,n){if(i===void 0&&(i=!1),r===void 0&&(r=!0),!KAt(t,e,n))return null;var s=n.data[e][t];return s===null?null:(n.data[e][t]=i?null:new qAt(n,-1,t,e,s.width,s.height),r&&s&&s.collides&&JAt(t,e,n),s)},b$=jAt;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var ZAt=b$,QAt=bs,tRt=Ms,eRt=function(t,e,i,r,n,s){var a=QAt(t,!0,n,s),o=tRt(e,!0,n,s);return ZAt(a,o,i,r,s)},iRt=eRt;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var rRt=Fe,Vy=y2,nRt=new Vy(105,210,231,150),sRt=new Vy(243,134,48,200),aRt=new Vy(40,39,37,150),oRt=function(t,e,i){e===void 0&&(e={});var r=e.tileColor!==void 0?e.tileColor:nRt,n=e.collidingTileColor!==void 0?e.collidingTileColor:sRt,s=e.faceColor!==void 0?e.faceColor:aRt,a=rRt(0,0,i.width,i.height,null,i);t.translate(i.tilemapLayer.x,i.tilemapLayer.y),t.scale(i.tilemapLayer.scaleX,i.tilemapLayer.scaleY);for(var o=0;o<a.length;o++){var h=a[o],l=h.width,u=h.height,f=h.pixelX,c=h.pixelY,d=h.collides?n:r;d!==null&&(t.fillStyle(d.color,d.alpha/255),t.fillRect(f,c,l,u)),f+=1,c+=1,l-=2,u-=2,s!==null&&(t.lineStyle(1,s.color,s.alpha/255),h.faceTop&&t.lineBetween(f,c,f+l,c),h.faceRight&&t.lineBetween(f+l,c,f+l,c+u),h.faceBottom&&t.lineBetween(f,c+u,f+l,c+u),h.faceLeft&&t.lineBetween(f,c,f,c+u))}},hRt=oRt;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var lRt=function(t,e,i){var r=i.collideIndexes.indexOf(t);e&&r===-1?i.collideIndexes.push(t):!e&&r!==-1&&i.collideIndexes.splice(r,1)},Wy=lRt;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var uRt=ba,fRt=Ln,cRt=Wy,dRt=function(t,e,i,r){e===void 0&&(e=!0),i===void 0&&(i=!0),Array.isArray(t)||(t=[t]);for(var n=0;n<t.length;n++)cRt(t[n],e,r);for(var s=0;s<r.height;s++)for(var a=0;a<r.width;a++){var o=r.data[s][a];o&&t.indexOf(o.index)!==-1&&uRt(o,e)}i&&fRt(0,0,r.width,r.height,r)},vRt=dRt;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var pRt=ba,gRt=Ln,mRt=Wy,yRt=function(t,e,i,r,n){if(i===void 0&&(i=!0),r===void 0&&(r=!0),!(t>e)){for(var s=t;s<=e;s++)mRt(s,i,n);for(var a=0;a<n.height;a++)for(var o=0;o<n.width;o++){var h=n.data[a][o];h&&h.index>=t&&h.index<=e&&pRt(h,i)}r&&gRt(0,0,n.width,n.height,n)}},xRt=yRt;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var _Rt=ba,TRt=Ln,wRt=Wy,SRt=function(t,e,i,r){e===void 0&&(e=!0),i===void 0&&(i=!0),Array.isArray(t)||(t=[t]);for(var n=0;n<r.height;n++)for(var s=0;s<r.width;s++){var a=r.data[n][s];a&&t.indexOf(a.index)===-1&&(_Rt(a,e),wRt(a.index,e,r))}i&&TRt(0,0,r.width,r.height,r)},CRt=SRt;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var bRt=ba,MRt=Ln,PRt=Eo,ARt=function(t,e,i,r){e===void 0&&(e=!0),i===void 0&&(i=!0);for(var n=0;n<r.height;n++)for(var s=0;s<r.width;s++){var a=r.data[n][s];if(!!a){for(var o in t)if(!!PRt(a.properties,o)){var h=t[o];Array.isArray(h)||(h=[h]);for(var l=0;l<h.length;l++)a.properties[o]===h[l]&&bRt(a,e)}}}i&&MRt(0,0,r.width,r.height,r)},RRt=ARt;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var FRt=ba,ERt=Ln,LRt=function(t,e,i){t===void 0&&(t=!0),e===void 0&&(e=!0);for(var r=0;r<i.height;r++)for(var n=0;n<i.width;n++){var s=i.data[r][n];if(!!s){var a=s.getCollisionGroup();a&&a.objects&&a.objects.length>0&&FRt(s,t)}}e&&ERt(0,0,i.width,i.height,i)},$Rt=LRt;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var ORt=function(t,e,i,r){if(typeof t=="number")r.callbacks[t]=e!==null?{callback:e,callbackContext:i}:void 0;else for(var n=0,s=t.length;n<s;n++)r.callbacks[t[n]]=e!==null?{callback:e,callbackContext:i}:void 0},IRt=ORt;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var DRt=Fe,BRt=function(t,e,i,r,n,s,a){for(var o=DRt(t,e,i,r,null,a),h=0;h<o.length;h++)o[h].setCollisionCallback(n,s)},kRt=BRt;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var GRt=Fe,zRt=$c,NRt=function(t,e,i,r,n){var s=GRt(t,e,i,r,null,n),a=s.map(function(h){return h.index});zRt(a);for(var o=0;o<s.length;o++)s[o].index=a[o]},YRt=NRt;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var VRt=Fe,WRt=function(t,e,i,r,n,s,a){for(var o=VRt(i,r,n,s,null,a),h=0;h<o.length;h++)o[h]&&(o[h].index===t?o[h].index=e:o[h].index===e&&(o[h].index=t))},XRt=WRt;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var URt=rd,HRt=nd,qRt=at,KRt=function(t,e,i,r,n){return i===void 0&&(i=new qRt(0,0)),i.x=URt(t,r,n),i.y=HRt(e,r,n),i},JRt=KRt;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var jRt=Fe,ZRt=function(t,e,i,r,n,s){if(n!==void 0){var a,o=jRt(t,e,i,r,null,s),h=0;for(a=0;a<n.length;a++)h+=n[a].weight;if(!(h<=0))for(a=0;a<o.length;a++){for(var l=Math.random()*h,u=0,f=-1,c=0;c<n.length;c++)if(u+=n[c].weight,l<=u){var d=n[c].index;f=Array.isArray(d)?d[Math.floor(Math.random()*d.length)]:d;break}o[a].index=f}}},QRt=ZRt;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var t2t=bs,e2t=Ms,i2t=at,r2t=function(t,e,i,r,n,s){return r===void 0&&(r=new i2t(0,0)),r.x=t2t(t,i,n,s),r.y=e2t(e,i,n,s),r},n2t=r2t;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var sd={CalculateFacesAt:Ny,CalculateFacesWithin:Ln,Copy:RPt,CreateFromTiles:kPt,CullTiles:zPt,Fill:UPt,FilterTiles:KPt,FindByIndex:jPt,FindTile:tAt,ForEachTile:rAt,GetTileAt:id,GetTileAtWorldXY:uAt,GetTilesWithin:Fe,GetTilesWithinShape:mAt,GetTilesWithinWorldXY:_At,HasTileAt:C$,HasTileAtWorldXY:PAt,IsInLayerBounds:$l,PutTileAt:Yy,PutTileAtWorldXY:GAt,PutTilesAt:VAt,Randomize:HAt,RemoveTileAt:b$,RemoveTileAtWorldXY:iRt,RenderDebug:hRt,ReplaceByIndex:S$,SetCollision:vRt,SetCollisionBetween:xRt,SetCollisionByExclusion:CRt,SetCollisionByProperty:RRt,SetCollisionFromCollisionGroup:$Rt,SetTileIndexCallback:IRt,SetTileLocationCallback:kRt,Shuffle:YRt,SwapByIndex:XRt,TileToWorldX:rd,TileToWorldXY:JRt,TileToWorldY:nd,WeightedRandomize:QRt,WorldToTileX:bs,WorldToTileXY:n2t,WorldToTileY:Ms};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var s2t=b,re=V,a2t=new s2t({initialize:function(e){e===void 0&&(e={}),this.name=re(e,"name","layer"),this.x=re(e,"x",0),this.y=re(e,"y",0),this.width=re(e,"width",0),this.height=re(e,"height",0),this.tileWidth=re(e,"tileWidth",0),this.tileHeight=re(e,"tileHeight",0),this.baseTileWidth=re(e,"baseTileWidth",this.tileWidth),this.baseTileHeight=re(e,"baseTileHeight",this.tileHeight),this.widthInPixels=re(e,"widthInPixels",this.width*this.baseTileWidth),this.heightInPixels=re(e,"heightInPixels",this.height*this.baseTileHeight),this.alpha=re(e,"alpha",1),this.visible=re(e,"visible",!0),this.properties=re(e,"properties",{}),this.indexes=re(e,"indexes",[]),this.collideIndexes=re(e,"collideIndexes",[]),this.callbacks=re(e,"callbacks",[]),this.bodies=re(e,"bodies",[]),this.data=re(e,"data",[]),this.tilemapLayer=re(e,"tilemapLayer",null)}}),Ol=a2t;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var o2t=b,he=V,h2t=new o2t({initialize:function(e){e===void 0&&(e={}),this.name=he(e,"name","map"),this.width=he(e,"width",0),this.height=he(e,"height",0),this.tileWidth=he(e,"tileWidth",0),this.tileHeight=he(e,"tileHeight",0),this.widthInPixels=he(e,"widthInPixels",this.width*this.tileWidth),this.heightInPixels=he(e,"heightInPixels",this.height*this.tileHeight),this.format=he(e,"format",null),this.orientation=he(e,"orientation","orthogonal"),this.renderOrder=he(e,"renderOrder","right-down"),this.version=he(e,"version","1"),this.properties=he(e,"properties",{}),this.layers=he(e,"layers",[]),this.images=he(e,"images",[]),this.objects=he(e,"objects",{}),this.collision=he(e,"collision",{}),this.tilesets=he(e,"tilesets",[]),this.imageCollections=he(e,"imageCollections",[]),this.tiles=he(e,"tiles",[])}}),Il=h2t;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var l2t=Qi,u2t=Ol,f2t=Il,pM=Ma,c2t=function(t,e,i,r,n){for(var s=new u2t({tileWidth:i,tileHeight:r}),a=new f2t({name:t,tileWidth:i,tileHeight:r,format:l2t.ARRAY_2D,layers:[s]}),o=[],h=e.length,l=0,u=0;u<e.length;u++){o[u]=[];for(var f=e[u],c=0;c<f.length;c++){var d=parseInt(f[c],10);isNaN(d)||d===-1?o[u][c]=n?null:new pM(s,-1,c,u,i,r):o[u][c]=new pM(s,d,c,u,i,r)}l===0&&(l=f.length)}return a.width=s.width=l,a.height=s.height=h,a.widthInPixels=s.widthInPixels=l*i,a.heightInPixels=s.heightInPixels=h*r,s.data=o,a},Xy=c2t;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var d2t=Qi,v2t=Xy,p2t=function(t,e,i,r,n){var s=e.trim().split(`
`).map(function(o){return o.split(",")}),a=v2t(t,s,i,r,n);return a.format=d2t.CSV,a},M$=p2t;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var g2t=function(t){for(var e=window.atob(t),i=e.length,r=new Array(i/4),n=0;n<i;n+=4)r[n/4]=(e.charCodeAt(n)|e.charCodeAt(n+1)<<8|e.charCodeAt(n+2)<<16|e.charCodeAt(n+3)<<24)>>>0;return r},m2t=g2t;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var gM=2147483648,mM=1073741824,yM=536870912,y2t=function(t){var e=Boolean(t&gM),i=Boolean(t&mM),r=Boolean(t&yM);t=t&~(gM|mM|yM);var n=0,s=!1;return e&&i&&r?(n=Math.PI/2,s=!0):e&&i&&!r?(n=Math.PI,s=!1):e&&!i&&r?(n=Math.PI/2,s=!1):e&&!i&&!r?(n=0,s=!0):!e&&i&&r?(n=3*Math.PI/2,s=!1):!e&&i&&!r?(n=Math.PI,s=!0):!e&&!i&&r?(n=3*Math.PI/2,s=!0):!e&&!i&&!r&&(n=0,s=!1),{gid:t,flippedHorizontal:e,flippedVertical:i,flippedAntiDiagonal:r,rotation:n,flipped:s}},P$=y2t;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var x2t=m2t,sg=V,_2t=Ol,T2t=P$,xM=Ma,w2t=function(t,e){for(var i=[],r=0;r<t.layers.length;r++)if(t.layers[r].type==="tilelayer"){var n=t.layers[r];if(n.compression){console.warn("TilemapParser.parseTiledJSON - Layer compression is unsupported, skipping layer '"+n.name+"'");continue}else n.encoding&&n.encoding==="base64"&&(n.data=x2t(n.data),delete n.encoding);for(var s=new _2t({name:n.name,x:sg(n,"offsetx",0)+n.x,y:sg(n,"offsety",0)+n.y,width:n.width,height:n.height,tileWidth:t.tilewidth,tileHeight:t.tileheight,alpha:n.opacity,visible:n.visible,properties:sg(n,"properties",{})}),a=0,o=[],h=[],l=0,u=n.data.length;l<u;l++){var f=T2t(n.data[l]);if(f.gid>0){var c=new xM(s,f.gid,a,h.length,t.tilewidth,t.tileheight);c.rotation=f.rotation,c.flipX=f.flipped,o.push(c)}else{var d=e?null:new xM(s,-1,a,h.length,t.tilewidth,t.tileheight);o.push(d)}a++,a===n.width&&(h.push(o),a=0,o=[])}s.data=h,i.push(s)}return i},S2t=w2t;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var ag=V,C2t=function(t){for(var e=[],i=0;i<t.layers.length;i++)if(t.layers[i].type==="imagelayer"){var r=t.layers[i];e.push({name:r.name,image:r.image,x:ag(r,"offsetx",0)+r.x,y:ag(r,"offsety",0)+r.y,alpha:r.opacity,visible:r.visible,properties:ag(r,"properties",{})})}return e},b2t=C2t;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var M2t=b,P2t=new M2t({initialize:function(e,i,r,n,s,a,o,h){(r===void 0||r<=0)&&(r=32),(n===void 0||n<=0)&&(n=32),s===void 0&&(s=0),a===void 0&&(a=0),o===void 0&&(o={}),h===void 0&&(h={}),this.name=e,this.firstgid=i,this.tileWidth=r,this.tileHeight=n,this.tileMargin=s,this.tileSpacing=a,this.tileProperties=o,this.tileData=h,this.image=null,this.glTexture=null,this.rows=0,this.columns=0,this.total=0,this.texCoordinates=[]},getTileProperties:function(t){return this.containsTileIndex(t)?this.tileProperties[t-this.firstgid]:null},getTileData:function(t){return this.containsTileIndex(t)?this.tileData[t-this.firstgid]:null},getTileCollisionGroup:function(t){var e=this.getTileData(t);return e&&e.objectgroup?e.objectgroup:null},containsTileIndex:function(t){return t>=this.firstgid&&t<this.firstgid+this.total},getTileTextureCoordinates:function(t){return this.containsTileIndex(t)?this.texCoordinates[t-this.firstgid]:null},setImage:function(t){return this.image=t,this.glTexture=t.get().source.glTexture,this.updateTileData(this.image.source[0].width,this.image.source[0].height),this},setTileSize:function(t,e){return t!==void 0&&(this.tileWidth=t),e!==void 0&&(this.tileHeight=e),this.image&&this.updateTileData(this.image.source[0].width,this.image.source[0].height),this},setSpacing:function(t,e){return t!==void 0&&(this.tileMargin=t),e!==void 0&&(this.tileSpacing=e),this.image&&this.updateTileData(this.image.source[0].width,this.image.source[0].height),this},updateTileData:function(t,e){var i=(e-this.tileMargin*2+this.tileSpacing)/(this.tileHeight+this.tileSpacing),r=(t-this.tileMargin*2+this.tileSpacing)/(this.tileWidth+this.tileSpacing);(i%1!==0||r%1!==0)&&console.warn("Image tile area not tile size multiple in: "+this.name),i=Math.floor(i),r=Math.floor(r),this.rows=i,this.columns=r,this.total=i*r,this.texCoordinates.length=0;for(var n=this.tileMargin,s=this.tileMargin,a=0;a<this.rows;a++){for(var o=0;o<this.columns;o++)this.texCoordinates.push({x:n,y:s}),n+=this.tileWidth+this.tileSpacing;n=this.tileMargin,s+=this.tileHeight+this.tileSpacing}return this}}),ad=P2t;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var A2t=b,R2t=new A2t({initialize:function(e,i,r,n,s,a,o){(r===void 0||r<=0)&&(r=32),(n===void 0||n<=0)&&(n=32),s===void 0&&(s=0),a===void 0&&(a=0),this.name=e,this.firstgid=i|0,this.imageWidth=r|0,this.imageHeight=n|0,this.imageMargin=s|0,this.imageSpacing=a|0,this.properties=o||{},this.images=[],this.total=0},containsImageIndex:function(t){return t>=this.firstgid&&t<this.firstgid+this.total},addImage:function(t,e){return this.images.push({gid:t,image:e}),this.total++,this}}),A$=R2t;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var F2t=Eo,E2t=function(t,e){for(var i={},r=0;r<e.length;r++){var n=e[r];F2t(t,n)&&(i[n]=t[n])}return i},L2t=E2t;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var $2t=L2t,O2t=P$,_M=function(t){return{x:t.x,y:t.y}},I2t=["id","name","type","rotation","properties","visible","x","y","width","height"],D2t=function(t,e,i){e===void 0&&(e=0),i===void 0&&(i=0);var r=$2t(t,I2t);if(r.x+=e,r.y+=i,t.gid){var n=O2t(t.gid);r.gid=n.gid,r.flippedHorizontal=n.flippedHorizontal,r.flippedVertical=n.flippedVertical,r.flippedAntiDiagonal=n.flippedAntiDiagonal}else t.polyline?r.polyline=t.polyline.map(_M):t.polygon?r.polygon=t.polygon.map(_M):t.ellipse?(r.ellipse=t.ellipse,r.width=t.width,r.height=t.height):t.text?(r.width=t.width,r.height=t.height,r.text=t.text):(r.rectangle=!0,r.width=t.width,r.height=t.height);return r},R$=D2t;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var B2t=ad,k2t=A$,TM=R$,G2t=function(t){for(var e=[],i=[],r=null,n,s=0;s<t.tilesets.length;s++){var a=t.tilesets[s];if(a.source)console.warn("Phaser can't load external tilesets. Use the Embed Tileset button and then export the map again.");else if(a.image){var o=new B2t(a.name,a.firstgid,a.tilewidth,a.tileheight,a.margin,a.spacing);if(t.version>1){if(Array.isArray(a.tiles)){for(var h={},l={},u=0;u<a.tiles.length;u++){var f=a.tiles[u];if(f.properties){var c={};f.properties.forEach(function(x){c[x.name]=x.value}),l[f.id]=c}if(f.objectgroup&&(h[f.id]={objectgroup:f.objectgroup},f.objectgroup.objects)){var d=f.objectgroup.objects.map(function(x){return TM(x)});h[f.id].objectgroup.objects=d}}o.tileData=h,o.tileProperties=l}}else if(a.tileproperties&&(o.tileProperties=a.tileproperties),a.tiles){o.tileData=a.tiles;for(n in o.tileData){var g=o.tileData[n].objectgroup;if(g&&g.objects){var v=g.objects.map(function(x){return TM(x)});o.tileData[n].objectgroup.objects=v}}}o.updateTileData(a.imagewidth,a.imageheight),e.push(o)}else{var p=new k2t(a.name,a.firstgid,a.tilewidth,a.tileheight,a.margin,a.spacing,a.properties);for(n in a.tiles){var m=a.tiles[n].image,y=a.firstgid+parseInt(n,10);p.addImage(y,m)}i.push(p)}r&&(r.lastgid=a.firstgid-1),r=a}return{tilesets:e,imageCollections:i}},z2t=G2t;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var N2t=b,Xs=V,Y2t=new N2t({initialize:function(e){e===void 0&&(e={}),this.name=Xs(e,"name","object layer"),this.opacity=Xs(e,"opacity",1),this.properties=Xs(e,"properties",{}),this.propertyTypes=Xs(e,"propertytypes",{}),this.type=Xs(e,"type","objectgroup"),this.visible=Xs(e,"visible",!0),this.objects=Xs(e,"objects",[])}}),F$=Y2t;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var wM=V,V2t=R$,W2t=F$,X2t=function(t){for(var e=[],i=0;i<t.layers.length;i++)if(t.layers[i].type==="objectgroup"){for(var r=t.layers[i],n=wM(r,"offsetx",0),s=wM(r,"offsety",0),a=[],o=0;o<r.objects.length;o++){var h=V2t(r.objects[o],n,s);a.push(h)}var l=new W2t(r);l.objects=a,e.push(l)}return e},U2t=X2t;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var H2t=function(t){for(var e=[],i=0;i<t.tilesets.length;i++)for(var r=t.tilesets[i],n=r.tileMargin,s=r.tileMargin,a=0,o=0,h=0,l=r.firstgid;l<r.firstgid+r.total&&(e[l]=[n,s,i],n+=r.tileWidth+r.tileSpacing,a++,!(a===r.total||(o++,o===r.columns&&(n=r.tileMargin,s+=r.tileHeight+r.tileSpacing,o=0,h++,h===r.rows))));l++);return e},q2t=H2t;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var K2t=Ae,J2t=function(t){for(var e,i,r,n,s,a=0;a<t.layers.length;a++){e=t.layers[a],n=null;for(var o=0;o<e.data.length;o++){s=e.data[o];for(var h=0;h<s.length;h++)i=s[h],!(i===null||i.index<0)&&(r=t.tiles[i.index][2],n=t.tilesets[r],i.width=n.tileWidth,i.height=n.tileHeight,n.tileProperties&&n.tileProperties[i.index-n.firstgid]&&(i.properties=K2t(i.properties,n.tileProperties[i.index-n.firstgid])))}}},j2t=J2t;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var Z2t=Qi,Q2t=Il,tFt=S2t,eFt=b2t,iFt=z2t,rFt=U2t,nFt=q2t,sFt=j2t,aFt=function(t,e,i){if(e.orientation!=="orthogonal")return console.warn("Only orthogonal map types are supported in this version of Phaser"),null;var r=new Q2t({width:e.width,height:e.height,name:t,tileWidth:e.tilewidth,tileHeight:e.tileheight,orientation:e.orientation,format:Z2t.TILED_JSON,version:e.version,properties:e.properties,renderOrder:e.renderorder});r.layers=tFt(e,i),r.images=eFt(e);var n=iFt(e);return r.tilesets=n.tilesets,r.imageCollections=n.imageCollections,r.objects=rFt(e),r.tiles=nFt(r),sFt(r),r},E$=aFt;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var oFt=Ol,SM=Ma,hFt=function(t,e){for(var i=[],r=0;r<t.layer.length;r++){for(var n=t.layer[r],s=new oFt({name:n.name,width:n.width,height:n.height,tileWidth:n.tilesize,tileHeight:n.tilesize,visible:n.visible===1}),a=[],o=[],h=0;h<n.data.length;h++){for(var l=0;l<n.data[h].length;l++){var u=n.data[h][l]-1,f;u>-1?f=new SM(s,u,l,h,n.tilesize,n.tilesize):f=e?null:new SM(s,-1,l,h,n.tilesize,n.tilesize),a.push(f)}o.push(a),a=[]}s.data=o,i.push(s)}return i},lFt=hFt;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var uFt=ad,fFt=function(t){for(var e=[],i=[],r=0;r<t.layer.length;r++){var n=t.layer[r],s=n.tilesetName;s!==""&&i.indexOf(s)===-1&&(i.push(s),e.push(new uFt(s,0,n.tilesize,n.tilesize,0,0)))}return e},cFt=fFt;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var dFt=Qi,vFt=Il,pFt=lFt,gFt=cFt,mFt=function(t,e,i){if(e.layer.length===0)return console.warn("No layers found in the Weltmeister map: "+t),null;for(var r=0,n=0,s=0;s<e.layer.length;s++)e.layer[s].width>r&&(r=e.layer[s].width),e.layer[s].height>n&&(n=e.layer[s].height);var a=new vFt({width:r,height:n,name:t,tileWidth:e.layer[0].tilesize,tileHeight:e.layer[0].tilesize,format:dFt.WELTMEISTER});return a.layers=pFt(e,i),a.tilesets=gFt(e),a},L$=mFt;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var Sf=Qi,yFt=Xy,xFt=M$,_Ft=E$,TFt=L$,wFt=function(t,e,i,r,n,s){var a;switch(e){case Sf.ARRAY_2D:a=yFt(t,i,r,n,s);break;case Sf.CSV:a=xFt(t,i,r,n,s);break;case Sf.TILED_JSON:a=_Ft(t,i,s);break;case Sf.WELTMEISTER:a=TFt(t,i,s);break;default:console.warn("Unrecognized tilemap data format: "+e),a=null}return a},$$=wFt;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var SFt={Parse:$$,Parse2DArray:Xy,ParseCSV:M$,Impact:L$,Tiled:E$};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var og,CM;function CFt(){if(CM)return og;CM=1;var t=kt,e=function(i,r,n,s){r.cull(s);var a=r.culledTiles,o=a.length,h=s.alpha*r.alpha;if(!(o===0||h<=0))for(var l=r.gidMap,u=r.pipeline,f=t.getTintAppendFloatAlpha,c=r.scrollFactorX,d=r.scrollFactorY,g=r.x,v=r.y,p=r.scaleX,m=r.scaleY,y=r.tileset,x=0;x<y.length;x++)for(var T=y[x],_=T.glTexture,w=0;w<o;w++){var S=a[w],C=l[S.index];if(C===T){var R=C.getTileTextureCoordinates(S.index);if(R!==null){var L=S.width,E=S.height,O=R.x,A=R.y,F=S.width*.5,M=S.height*.5,P=f(S.tint,h*S.alpha);u.batchTexture(r,_,_.width,_.height,(F+g+S.pixelX)*p,(M+v+S.pixelY)*m,S.width,S.height,p,m,S.rotation,S.flipX,S.flipY,c,d,F,M,O,A,L,E,P,P,P,P,!1,0,0,s,null,!0)}}}};return og=e,og}/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var hg,bM;function bFt(){if(bM)return hg;bM=1;var t=function(e,i,r,n,s){i.cull(n);var a=i.culledTiles,o=a.length;if(o!==0){var h=e._tempMatrix1,l=e._tempMatrix2,u=e._tempMatrix3;l.applyITRS(i.x,i.y,i.rotation,i.scaleX,i.scaleY),h.copyFrom(n.matrix);var f=e.currentContext,c=i.gidMap;f.save(),s?(h.multiplyWithOffset(s,-n.scrollX*i.scrollFactorX,-n.scrollY*i.scrollFactorY),l.e=i.x,l.f=i.y,h.multiply(l,u),u.copyToContext(f)):(l.e-=n.scrollX*i.scrollFactorX,l.f-=n.scrollY*i.scrollFactorY,l.copyToContext(f));for(var d=n.alpha*i.alpha,g=0;g<o;g++){var v=a[g],p=c[v.index];if(!!p){var m=p.image.getSourceImage(),y=p.getTileTextureCoordinates(v.index);if(y){var x=v.width/2,T=v.height/2;f.save(),f.translate(v.pixelX+x,v.pixelY+T),v.rotation!==0&&f.rotate(v.rotation),(v.flipX||v.flipY)&&f.scale(v.flipX?-1:1,v.flipY?-1:1),f.globalAlpha=d*v.alpha,f.drawImage(m,y.x,y.y,v.width,v.height,-x,-T,v.width,v.height),f.restore()}}}f.restore()}};return hg=t,hg}/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var O$=W,I$=W;O$=CFt();I$=bFt();var MFt={renderWebGL:O$,renderCanvas:I$};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var PFt=b,Wi=ne,AFt=MFt,lg=Qt,rt=sd,RFt=new PFt({Extends:lg,Mixins:[Wi.Alpha,Wi.BlendMode,Wi.ComputedSize,Wi.Depth,Wi.Flip,Wi.GetBounds,Wi.Origin,Wi.Pipeline,Wi.ScaleMode,Wi.Transform,Wi.Visible,Wi.ScrollFactor,AFt],initialize:function(e,i,r,n,s,a){lg.call(this,e,"DynamicTilemapLayer"),this.isTilemap=!0,this.tilemap=i,this.layerIndex=r,this.layer=i.layers[r],this.layer.tilemapLayer=this,this.tileset=[],this.culledTiles=[],this.skipCull=!1,this.tilesDrawn=0,this.tilesTotal=this.layer.width*this.layer.height,this.cullPaddingX=1,this.cullPaddingY=1,this.cullCallback=rt.CullTiles,this._renderOrder=0,this.gidMap=[],this.setTilesets(n),this.setAlpha(this.layer.alpha),this.setPosition(s,a),this.setOrigin(),this.setSize(this.layer.tileWidth*this.layer.width,this.layer.tileHeight*this.layer.height),this.initPipeline("TextureTintPipeline")},setTilesets:function(t){var e=[],i=[],r=this.tilemap;Array.isArray(t)||(t=[t]);for(var n=0;n<t.length;n++){var s=t[n];if(typeof s=="string"&&(s=r.getTileset(s)),s){i.push(s);for(var a=s.firstgid,o=0;o<s.total;o++)e[a+o]=s}}this.gidMap=e,this.tileset=i},setRenderOrder:function(t){var e=["right-down","left-down","right-up","left-up"];return typeof t=="string"&&(t=e.indexOf(t)),t>=0&&t<4&&(this._renderOrder=t),this},calculateFacesAt:function(t,e){return rt.CalculateFacesAt(t,e,this.layer),this},calculateFacesWithin:function(t,e,i,r){return rt.CalculateFacesWithin(t,e,i,r,this.layer),this},createFromTiles:function(t,e,i,r,n){return rt.CreateFromTiles(t,e,i,r,n,this.layer)},cull:function(t){return this.cullCallback(this.layer,t,this.culledTiles,this._renderOrder)},copy:function(t,e,i,r,n,s,a){return rt.Copy(t,e,i,r,n,s,a,this.layer),this},destroy:function(){this.layer.tilemapLayer===this&&(this.layer.tilemapLayer=void 0),this.tilemap=void 0,this.layer=void 0,this.culledTiles.length=0,this.cullCallback=null,this.gidMap=[],this.tileset=[],lg.prototype.destroy.call(this)},fill:function(t,e,i,r,n,s){return rt.Fill(t,e,i,r,n,s,this.layer),this},filterTiles:function(t,e,i,r,n,s,a){return rt.FilterTiles(t,e,i,r,n,s,a,this.layer)},findByIndex:function(t,e,i){return rt.FindByIndex(t,e,i,this.layer)},findTile:function(t,e,i,r,n,s,a){return rt.FindTile(t,e,i,r,n,s,a,this.layer)},forEachTile:function(t,e,i,r,n,s,a){return rt.ForEachTile(t,e,i,r,n,s,a,this.layer),this},getTileAt:function(t,e,i){return rt.GetTileAt(t,e,i,this.layer)},getTileAtWorldXY:function(t,e,i,r){return rt.GetTileAtWorldXY(t,e,i,r,this.layer)},getTilesWithin:function(t,e,i,r,n){return rt.GetTilesWithin(t,e,i,r,n,this.layer)},getTilesWithinShape:function(t,e,i){return rt.GetTilesWithinShape(t,e,i,this.layer)},getTilesWithinWorldXY:function(t,e,i,r,n,s){return rt.GetTilesWithinWorldXY(t,e,i,r,n,s,this.layer)},hasTileAt:function(t,e){return rt.HasTileAt(t,e,this.layer)},hasTileAtWorldXY:function(t,e,i){return rt.HasTileAtWorldXY(t,e,i,this.layer)},putTileAt:function(t,e,i,r){return rt.PutTileAt(t,e,i,r,this.layer)},putTileAtWorldXY:function(t,e,i,r,n){return rt.PutTileAtWorldXY(t,e,i,r,n,this.layer)},putTilesAt:function(t,e,i,r){return rt.PutTilesAt(t,e,i,r,this.layer),this},randomize:function(t,e,i,r,n){return rt.Randomize(t,e,i,r,n,this.layer),this},removeTileAt:function(t,e,i,r){return rt.RemoveTileAt(t,e,i,r,this.layer)},removeTileAtWorldXY:function(t,e,i,r,n){return rt.RemoveTileAtWorldXY(t,e,i,r,n,this.layer)},renderDebug:function(t,e){return rt.RenderDebug(t,e,this.layer),this},replaceByIndex:function(t,e,i,r,n,s){return rt.ReplaceByIndex(t,e,i,r,n,s,this.layer),this},setSkipCull:function(t){return t===void 0&&(t=!0),this.skipCull=t,this},setCullPadding:function(t,e){return t===void 0&&(t=1),e===void 0&&(e=1),this.cullPaddingX=t,this.cullPaddingY=e,this},setCollision:function(t,e,i){return rt.SetCollision(t,e,i,this.layer),this},setCollisionBetween:function(t,e,i,r){return rt.SetCollisionBetween(t,e,i,r,this.layer),this},setCollisionByProperty:function(t,e,i){return rt.SetCollisionByProperty(t,e,i,this.layer),this},setCollisionByExclusion:function(t,e,i){return rt.SetCollisionByExclusion(t,e,i,this.layer),this},setCollisionFromCollisionGroup:function(t,e){return rt.SetCollisionFromCollisionGroup(t,e,this.layer),this},setTileIndexCallback:function(t,e,i){return rt.SetTileIndexCallback(t,e,i,this.layer),this},setTileLocationCallback:function(t,e,i,r,n,s){return rt.SetTileLocationCallback(t,e,i,r,n,s,this.layer),this},shuffle:function(t,e,i,r){return rt.Shuffle(t,e,i,r,this.layer),this},swapByIndex:function(t,e,i,r,n,s){return rt.SwapByIndex(t,e,i,r,n,s,this.layer),this},tileToWorldX:function(t,e){return rt.TileToWorldX(t,e,this.layer)},tileToWorldY:function(t,e){return rt.TileToWorldY(t,e,this.layer)},tileToWorldXY:function(t,e,i,r){return rt.TileToWorldXY(t,e,i,r,this.layer)},weightedRandomize:function(t,e,i,r,n){return rt.WeightedRandomize(t,e,i,r,n,this.layer),this},worldToTileX:function(t,e,i){return rt.WorldToTileX(t,e,i,this.layer)},worldToTileY:function(t,e,i){return rt.WorldToTileY(t,e,i,this.layer)},worldToTileXY:function(t,e,i,r,n){return rt.WorldToTileXY(t,e,i,r,n,this.layer)}}),D$=RFt;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var ug,MM;function FFt(){if(MM)return ug;MM=1;var t=function(e,i,r,n){var s=i.tileset,a=i.pipeline,o=a.vertexBuffer;e.setPipeline(a),a.modelIdentity(),a.modelTranslate(i.x-n.scrollX*i.scrollFactorX,i.y-n.scrollY*i.scrollFactorY,0),a.modelScale(i.scaleX,i.scaleY,1),a.viewLoad2D(n.matrix.matrix);for(var h=0;h<s.length;h++)i.upload(n,h),i.vertexCount[h]>0&&(e.currentPipeline&&e.currentPipeline.vertexCount>0&&e.flush(),a.vertexBuffer=i.vertexBuffer[h],e.setPipeline(a),e.setTexture2D(s[h].glTexture,0),e.gl.drawArrays(a.topology,0,i.vertexCount[h]));a.vertexBuffer=o,a.viewIdentity(),a.modelIdentity()};return ug=t,ug}/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var fg,PM;function EFt(){if(PM)return fg;PM=1;var t=function(e,i,r,n,s){i.cull(n);var a=i.culledTiles,o=a.length;if(o!==0){var h=e._tempMatrix1,l=e._tempMatrix2,u=e._tempMatrix3;l.applyITRS(i.x,i.y,i.rotation,i.scaleX,i.scaleY),h.copyFrom(n.matrix);var f=e.currentContext,c=i.gidMap;f.save(),s?(h.multiplyWithOffset(s,-n.scrollX*i.scrollFactorX,-n.scrollY*i.scrollFactorY),l.e=i.x,l.f=i.y,h.multiply(l,u),u.copyToContext(f)):(l.e-=n.scrollX*i.scrollFactorX,l.f-=n.scrollY*i.scrollFactorY,l.copyToContext(f));var d=n.alpha*i.alpha;f.globalAlpha=n.alpha*i.alpha;for(var g=0;g<o;g++){var v=a[g],p=c[v.index];if(!!p){var m=p.image.getSourceImage(),y=p.getTileTextureCoordinates(v.index);if(y){var x=v.width/2,T=v.height/2;f.save(),f.translate(v.pixelX+x,v.pixelY+T),v.rotation!==0&&f.rotate(v.rotation),(v.flipX||v.flipY)&&f.scale(v.flipX?-1:1,v.flipY?-1:1),f.globalAlpha=d*v.alpha,f.drawImage(m,y.x,y.y,v.width,v.height,-x,-T,v.width,v.height),f.restore()}}}f.restore()}};return fg=t,fg}/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var B$=W,k$=W;B$=FFt();k$=EFt();var LFt={renderWebGL:B$,renderCanvas:k$};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var $Ft=b,Xi=ne,OFt=_i,cg=Qt,IFt=LFt,xt=sd,DFt=Pn,BFt=kt,kFt=new $Ft({Extends:cg,Mixins:[Xi.Alpha,Xi.BlendMode,Xi.ComputedSize,Xi.Depth,Xi.Flip,Xi.GetBounds,Xi.Origin,Xi.Pipeline,Xi.ScaleMode,Xi.Transform,Xi.Visible,Xi.ScrollFactor,IFt],initialize:function(e,i,r,n,s,a){cg.call(this,e,"StaticTilemapLayer"),this.isTilemap=!0,this.tilemap=i,this.layerIndex=r,this.layer=i.layers[r],this.layer.tilemapLayer=this,this.tileset=[],this.culledTiles=[],this.skipCull=!1,this.tilesDrawn=0,this.tilesTotal=this.layer.width*this.layer.height,this.cullPaddingX=1,this.cullPaddingY=1,this.cullCallback=xt.CullTiles,this.renderer=e.sys.game.renderer,this.vertexBuffer=[],this.bufferData=[],this.vertexViewF32=[],this.vertexViewU32=[],this.dirty=[],this.vertexCount=[],this._renderOrder=0,this._tempMatrix=new DFt,this.gidMap=[],this.setTilesets(n),this.setAlpha(this.layer.alpha),this.setPosition(s,a),this.setOrigin(),this.setSize(this.layer.tileWidth*this.layer.width,this.layer.tileHeight*this.layer.height),this.updateVBOData(),this.initPipeline("TextureTintPipeline"),e.sys.game.config.renderType===OFt.WEBGL&&e.sys.game.renderer.onContextRestored(function(){this.updateVBOData()},this)},setTilesets:function(t){var e=[],i=[],r=this.tilemap;Array.isArray(t)||(t=[t]);for(var n=0;n<t.length;n++){var s=t[n];if(typeof s=="string"&&(s=r.getTileset(s)),s){i.push(s);for(var a=s.firstgid,o=0;o<s.total;o++)e[a+o]=s}}this.gidMap=e,this.tileset=i},updateVBOData:function(){for(var t=0;t<this.tileset.length;t++)this.dirty[t]=!0,this.vertexCount[t]=0,this.vertexBuffer[t]=null,this.bufferData[t]=null,this.vertexViewF32[t]=null,this.vertexViewU32[t]=null;return this},upload:function(t,e){var i=this.renderer,r=i.gl,n=i.pipelines.TextureTintPipeline;if(this.dirty[e]){var s=this.tileset[e],a=this.layer.width,o=this.layer.height,h=s.image.source[0].width,l=s.image.source[0].height,u=this.layer.data,f,c,d,g=this._renderOrder,v=s.firstgid,p=s.firstgid+s.total,m=this.vertexBuffer[e],y=this.bufferData[e],x=-1,T=a*o*n.vertexSize*6;if(this.vertexCount[e]=0,y===null&&(y=new ArrayBuffer(T),this.bufferData[e]=y,this.vertexViewF32[e]=new Float32Array(y),this.vertexViewU32[e]=new Uint32Array(y)),g===0)for(c=0;c<o;c++)for(d=0;d<a;d++)f=u[c][d],!(!f||f.index<v||f.index>p||!f.visible)&&(x=this.batchTile(x,f,s,h,l,t,e));else if(g===1)for(c=0;c<o;c++)for(d=a-1;d>=0;d--)f=u[c][d],!(!f||f.index<v||f.index>p||!f.visible)&&(x=this.batchTile(x,f,s,h,l,t,e));else if(g===2)for(c=o-1;c>=0;c--)for(d=0;d<a;d++)f=u[c][d],!(!f||f.index<v||f.index>p||!f.visible)&&(x=this.batchTile(x,f,s,h,l,t,e));else if(g===3)for(c=o-1;c>=0;c--)for(d=a-1;d>=0;d--)f=u[c][d],!(!f||f.index<v||f.index>p||!f.visible)&&(x=this.batchTile(x,f,s,h,l,t,e));this.dirty[e]=!1,m===null?(m=i.createVertexBuffer(y,r.STATIC_DRAW),this.vertexBuffer[e]=m):(i.setVertexBuffer(m),r.bufferSubData(r.ARRAY_BUFFER,0,y))}return this},batchTile:function(t,e,i,r,n,s,a){var o=i.getTileTextureCoordinates(e.index);if(!o)return t;var h=o.x/r,l=o.y/n,u=(o.x+e.width)/r,f=(o.y+e.height)/n,c=this._tempMatrix,d=e.width,g=e.height,v=d/2,p=g/2,m=-v,y=-p;e.flipX&&(d*=-1,m+=e.width),e.flipY&&(g*=-1,y+=e.height);var x=m+d,T=y+g;c.applyITRS(v+e.pixelX,p+e.pixelY,e.rotation,1,1);var _=BFt.getTintAppendFloatAlpha(16777215,s.alpha*this.alpha*e.alpha),w=c.getX(m,y),S=c.getY(m,y),C=c.getX(m,T),R=c.getY(m,T),L=c.getX(x,T),E=c.getY(x,T),O=c.getX(x,y),A=c.getY(x,y);s.roundPixels&&(w|=0,S|=0,C|=0,R|=0,L|=0,E|=0,O|=0,A|=0);var F=this.vertexViewF32[a],M=this.vertexViewU32[a];return F[++t]=w,F[++t]=S,F[++t]=h,F[++t]=l,F[++t]=0,M[++t]=_,F[++t]=C,F[++t]=R,F[++t]=h,F[++t]=f,F[++t]=0,M[++t]=_,F[++t]=L,F[++t]=E,F[++t]=u,F[++t]=f,F[++t]=0,M[++t]=_,F[++t]=w,F[++t]=S,F[++t]=h,F[++t]=l,F[++t]=0,M[++t]=_,F[++t]=L,F[++t]=E,F[++t]=u,F[++t]=f,F[++t]=0,M[++t]=_,F[++t]=O,F[++t]=A,F[++t]=u,F[++t]=l,F[++t]=0,M[++t]=_,this.vertexCount[a]+=6,t},setRenderOrder:function(t){var e=["right-down","left-down","right-up","left-up"];if(typeof t=="string"&&(t=e.indexOf(t)),t>=0&&t<4){this._renderOrder=t;for(var i=0;i<this.tileset.length;i++)this.dirty[i]=!0}return this},calculateFacesAt:function(t,e){return xt.CalculateFacesAt(t,e,this.layer),this},calculateFacesWithin:function(t,e,i,r){return xt.CalculateFacesWithin(t,e,i,r,this.layer),this},createFromTiles:function(t,e,i,r,n){return xt.CreateFromTiles(t,e,i,r,n,this.layer)},cull:function(t){return this.cullCallback(this.layer,t,this.culledTiles)},setSkipCull:function(t){return t===void 0&&(t=!0),this.skipCull=t,this},setCullPadding:function(t,e){return t===void 0&&(t=1),e===void 0&&(e=1),this.cullPaddingX=t,this.cullPaddingY=e,this},findByIndex:function(t,e,i){return xt.FindByIndex(t,e,i,this.layer)},findTile:function(t,e,i,r,n,s,a){return xt.FindTile(t,e,i,r,n,s,a,this.layer)},filterTiles:function(t,e,i,r,n,s,a){return xt.FilterTiles(t,e,i,r,n,s,a,this.layer)},forEachTile:function(t,e,i,r,n,s,a){return xt.ForEachTile(t,e,i,r,n,s,a,this.layer),this},getTileAt:function(t,e,i){return xt.GetTileAt(t,e,i,this.layer)},getTileAtWorldXY:function(t,e,i,r){return xt.GetTileAtWorldXY(t,e,i,r,this.layer)},getTilesWithin:function(t,e,i,r,n){return xt.GetTilesWithin(t,e,i,r,n,this.layer)},getTilesWithinWorldXY:function(t,e,i,r,n,s){return xt.GetTilesWithinWorldXY(t,e,i,r,n,s,this.layer)},getTilesWithinShape:function(t,e,i){return xt.GetTilesWithinShape(t,e,i,this.layer)},hasTileAt:function(t,e){return xt.HasTileAt(t,e,this.layer)},hasTileAtWorldXY:function(t,e,i){return xt.HasTileAtWorldXY(t,e,i,this.layer)},renderDebug:function(t,e){return xt.RenderDebug(t,e,this.layer),this},setCollision:function(t,e,i){return xt.SetCollision(t,e,i,this.layer),this},setCollisionBetween:function(t,e,i,r){return xt.SetCollisionBetween(t,e,i,r,this.layer),this},setCollisionByProperty:function(t,e,i){return xt.SetCollisionByProperty(t,e,i,this.layer),this},setCollisionByExclusion:function(t,e,i){return xt.SetCollisionByExclusion(t,e,i,this.layer),this},setTileIndexCallback:function(t,e,i){return xt.SetTileIndexCallback(t,e,i,this.layer),this},setCollisionFromCollisionGroup:function(t,e){return xt.SetCollisionFromCollisionGroup(t,e,this.layer),this},setTileLocationCallback:function(t,e,i,r,n,s){return xt.SetTileLocationCallback(t,e,i,r,n,s,this.layer),this},tileToWorldX:function(t,e){return xt.TileToWorldX(t,e,this.layer)},tileToWorldY:function(t,e){return xt.TileToWorldY(t,e,this.layer)},tileToWorldXY:function(t,e,i,r){return xt.TileToWorldXY(t,e,i,r,this.layer)},worldToTileX:function(t,e,i){return xt.WorldToTileX(t,e,i,this.layer)},worldToTileY:function(t,e,i){return xt.WorldToTileY(t,e,i,this.layer)},worldToTileXY:function(t,e,i,r,n){return xt.WorldToTileXY(t,e,i,r,n,this.layer)},destroy:function(){this.layer.tilemapLayer===this&&(this.layer.tilemapLayer=void 0),this.tilemap=void 0,this.layer=void 0,this.culledTiles.length=0,this.cullCallback=null;for(var t=0;t<this.tileset.length;t++)this.dirty[t]=!0,this.vertexCount[t]=0,this.vertexBuffer[t]=null,this.bufferData[t]=null,this.vertexViewF32[t]=null,this.vertexViewU32[t]=null;this.gidMap=[],this.tileset=[],cg.prototype.destroy.call(this)}}),G$=kFt;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var GFt=b,zFt=Yr,Cf=D$,NFt=Ae,YFt=Qi,VFt=Ol,WFt=RL,bf=G$,XFt=Ma,nt=sd,UFt=ad,HFt=new GFt({initialize:function(e,i){this.scene=e,this.tileWidth=i.tileWidth,this.tileHeight=i.tileHeight,this.width=i.width,this.height=i.height,this.orientation=i.orientation,this.renderOrder=i.renderOrder,this.format=i.format,this.version=i.version,this.properties=i.properties,this.widthInPixels=i.widthInPixels,this.heightInPixels=i.heightInPixels,this.imageCollections=i.imageCollections,this.images=i.images,this.layers=i.layers,this.tilesets=i.tilesets,this.objects=i.objects,this.currentLayerIndex=0},setRenderOrder:function(t){var e=["right-down","left-down","right-up","left-up"];return typeof t=="number"&&(t=e[t]),e.indexOf(t)>-1&&(this.renderOrder=t),this},addTilesetImage:function(t,e,i,r,n,s,a){if(t===void 0)return null;if(e==null&&(e=t),!this.scene.sys.textures.exists(e))return console.warn("Invalid Tileset Image: "+e),null;var o=this.scene.sys.textures.get(e),h=this.getTilesetIndex(t);if(h===null&&this.format===YFt.TILED_JSON)return console.warn("No data found for Tileset: "+t),null;var l=this.tilesets[h];return l?(l.setTileSize(i,r),l.setSpacing(n,s),l.setImage(o),l):(i===void 0&&(i=this.tileWidth),r===void 0&&(r=this.tileHeight),n===void 0&&(n=0),s===void 0&&(s=0),a===void 0&&(a=0),l=new UFt(t,a,i,r,n,s),l.setImage(o),this.tilesets.push(l),l)},convertLayerToStatic:function(t){if(t=this.getLayer(t),t===null)return null;var e=t.tilemapLayer;if(!e||!(e instanceof Cf))return null;var i=new bf(e.scene,e.tilemap,e.layerIndex,e.tileset,e.x,e.y);return this.scene.sys.displayList.add(i),e.destroy(),i},copy:function(t,e,i,r,n,s,a,o){return o=this.getLayer(o),this._isStaticCall(o,"copy")?this:(o!==null&&nt.Copy(t,e,i,r,n,s,a,o),this)},createBlankDynamicLayer:function(t,e,i,r,n,s,a,o){a===void 0&&(a=e.tileWidth),o===void 0&&(o=e.tileHeight),n===void 0&&(n=this.width),s===void 0&&(s=this.height),i===void 0&&(i=0),r===void 0&&(r=0);var h=this.getLayerIndex(t);if(h!==null)return console.warn("Invalid Tilemap Layer ID: "+t),null;for(var l=new VFt({name:t,tileWidth:a,tileHeight:o,width:n,height:s}),u,f=0;f<s;f++){u=[];for(var c=0;c<n;c++)u.push(new XFt(l,-1,c,f,a,o,this.tileWidth,this.tileHeight));l.data.push(u)}this.layers.push(l),this.currentLayerIndex=this.layers.length-1;var d=new Cf(this.scene,this,this.currentLayerIndex,e,i,r);return d.setRenderOrder(this.renderOrder),this.scene.sys.displayList.add(d),d},createDynamicLayer:function(t,e,i,r){var n=this.getLayerIndex(t);if(n===null)return console.warn("Invalid Tilemap Layer ID: "+t),null;var s=this.layers[n];if(s.tilemapLayer)return console.warn("Tilemap Layer ID already exists:"+t),null;this.currentLayerIndex=n,i===void 0&&this.layers[n].x&&(i=this.layers[n].x),r===void 0&&this.layers[n].y&&(r=this.layers[n].y);var a=new Cf(this.scene,this,n,e,i,r);return a.setRenderOrder(this.renderOrder),this.scene.sys.displayList.add(a),a},createFromObjects:function(t,e,i,r){i===void 0&&(i={}),r===void 0&&(r=this.scene);var n=this.getObjectLayer(t);if(!n){console.warn("Cannot create from object. Invalid objectgroup name given: "+t);return}for(var s=n.objects,a=[],o=0;o<s.length;o++){var h=!1,l=s[o];if((l.gid!==void 0&&typeof e=="number"&&l.gid===e||l.id!==void 0&&typeof e=="number"&&l.id===e||l.name!==void 0&&typeof e=="string"&&l.name===e)&&(h=!0),h){var u=NFt({},i,l.properties);u.x=l.x,u.y=l.y;var f=this.scene.make.sprite(u);f.name=l.name,l.width&&(f.displayWidth=l.width),l.height&&(f.displayHeight=l.height);var c={x:f.originX*f.displayWidth,y:(f.originY-1)*f.displayHeight};if(l.rotation){var d=zFt(l.rotation);WFt(c,d),f.rotation=d}f.x+=c.x,f.y+=c.y,(l.flippedHorizontal!==void 0||l.flippedVertical!==void 0)&&f.setFlip(l.flippedHorizontal,l.flippedVertical),l.visible||(f.visible=!1);for(var g in l.properties)f.hasOwnProperty(g)||f.setData(g,l.properties[g]);a.push(f)}}return a},createFromTiles:function(t,e,i,r,n,s){return s=this.getLayer(s),s===null?null:nt.CreateFromTiles(t,e,i,r,n,s)},createStaticLayer:function(t,e,i,r){var n=this.getLayerIndex(t);if(n===null)return console.warn("Invalid Tilemap Layer ID: "+t),null;var s=this.layers[n];if(s.tilemapLayer)return console.warn("Tilemap Layer ID already exists:"+t),null;this.currentLayerIndex=n,i===void 0&&this.layers[n].x&&(i=this.layers[n].x),r===void 0&&this.layers[n].y&&(r=this.layers[n].y);var a=new bf(this.scene,this,n,e,i,r);return a.setRenderOrder(this.renderOrder),this.scene.sys.displayList.add(a),a},destroy:function(){this.removeAllLayers(),this.tilesets.length=0,this.objects.length=0,this.scene=void 0},fill:function(t,e,i,r,n,s,a){return a=this.getLayer(a),this._isStaticCall(a,"fill")?this:(a!==null&&nt.Fill(t,e,i,r,n,s,a),this)},filterObjects:function(t,e,i){if(typeof t=="string"){var r=t;if(t=this.getObjectLayer(t),!t)return console.warn("No object layer found with the name: "+r),null}return t.objects.filter(e,i)},filterTiles:function(t,e,i,r,n,s,a,o){return o=this.getLayer(o),o===null?null:nt.FilterTiles(t,e,i,r,n,s,a,o)},findByIndex:function(t,e,i,r){return r=this.getLayer(r),r===null?null:nt.FindByIndex(t,e,i,r)},findObject:function(t,e,i){if(typeof t=="string"){var r=t;if(t=this.getObjectLayer(t),!t)return console.warn("No object layer found with the name: "+r),null}return t.objects.find(e,i)||null},findTile:function(t,e,i,r,n,s,a,o){return o=this.getLayer(o),o===null?null:nt.FindTile(t,e,i,r,n,s,a,o)},forEachTile:function(t,e,i,r,n,s,a,o){return o=this.getLayer(o),o!==null&&nt.ForEachTile(t,e,i,r,n,s,a,o),this},getImageIndex:function(t){return this.getIndex(this.images,t)},getIndex:function(t,e){for(var i=0;i<t.length;i++)if(t[i].name===e)return i;return null},getLayer:function(t){var e=this.getLayerIndex(t);return e!==null?this.layers[e]:null},getObjectLayer:function(t){var e=this.getIndex(this.objects,t);return e!==null?this.objects[e]:null},getLayerIndex:function(t){return t===void 0?this.currentLayerIndex:typeof t=="string"?this.getLayerIndexByName(t):typeof t=="number"&&t<this.layers.length?t:t instanceof bf||t instanceof Cf?t.layerIndex:null},getLayerIndexByName:function(t){return this.getIndex(this.layers,t)},getTileAt:function(t,e,i,r){return r=this.getLayer(r),r===null?null:nt.GetTileAt(t,e,i,r)},getTileAtWorldXY:function(t,e,i,r,n){return n=this.getLayer(n),n===null?null:nt.GetTileAtWorldXY(t,e,i,r,n)},getTilesWithin:function(t,e,i,r,n,s){return s=this.getLayer(s),s===null?null:nt.GetTilesWithin(t,e,i,r,n,s)},getTilesWithinShape:function(t,e,i,r){return r=this.getLayer(r),r===null?null:nt.GetTilesWithinShape(t,e,i,r)},getTilesWithinWorldXY:function(t,e,i,r,n,s,a){return a=this.getLayer(a),a===null?null:nt.GetTilesWithinWorldXY(t,e,i,r,n,s,a)},getTileset:function(t){var e=this.getIndex(this.tilesets,t);return e!==null?this.tilesets[e]:null},getTilesetIndex:function(t){return this.getIndex(this.tilesets,t)},hasTileAt:function(t,e,i){return i=this.getLayer(i),i===null?null:nt.HasTileAt(t,e,i)},hasTileAtWorldXY:function(t,e,i,r){return r=this.getLayer(r),r===null?null:nt.HasTileAtWorldXY(t,e,i,r)},layer:{get:function(){return this.layers[this.currentLayerIndex]},set:function(t){this.setLayer(t)}},putTileAt:function(t,e,i,r,n){return n=this.getLayer(n),this._isStaticCall(n,"putTileAt")||n===null?null:nt.PutTileAt(t,e,i,r,n)},putTileAtWorldXY:function(t,e,i,r,n,s){return s=this.getLayer(s),this._isStaticCall(s,"putTileAtWorldXY")||s===null?null:nt.PutTileAtWorldXY(t,e,i,r,n,s)},putTilesAt:function(t,e,i,r,n){return n=this.getLayer(n),this._isStaticCall(n,"putTilesAt")?this:(n!==null&&nt.PutTilesAt(t,e,i,r,n),this)},randomize:function(t,e,i,r,n,s){return s=this.getLayer(s),this._isStaticCall(s,"randomize")?this:(s!==null&&nt.Randomize(t,e,i,r,n,s),this)},calculateFacesAt:function(t,e,i){return i=this.getLayer(i),i===null?this:(nt.CalculateFacesAt(t,e,i),this)},calculateFacesWithin:function(t,e,i,r,n){return n=this.getLayer(n),n===null?this:(nt.CalculateFacesWithin(t,e,i,r,n),this)},removeAllLayers:function(){for(var t=0;t<this.layers.length;t++)this.layers[t].tilemapLayer&&this.layers[t].tilemapLayer.destroy();return this.layers.length=0,this.currentLayerIndex=0,this},removeTileAt:function(t,e,i,r,n){return n=this.getLayer(n),this._isStaticCall(n,"removeTileAt")||n===null?null:nt.RemoveTileAt(t,e,i,r,n)},removeTileAtWorldXY:function(t,e,i,r,n,s){return s=this.getLayer(s),this._isStaticCall(s,"removeTileAtWorldXY")||s===null?null:nt.RemoveTileAtWorldXY(t,e,i,r,n,s)},renderDebug:function(t,e,i){return i=this.getLayer(i),i===null?this:(nt.RenderDebug(t,e,i),this)},replaceByIndex:function(t,e,i,r,n,s,a){return a=this.getLayer(a),this._isStaticCall(a,"replaceByIndex")?this:(a!==null&&nt.ReplaceByIndex(t,e,i,r,n,s,a),this)},setCollision:function(t,e,i,r){return r=this.getLayer(r),r===null?this:(nt.SetCollision(t,e,i,r),this)},setCollisionBetween:function(t,e,i,r,n){return n=this.getLayer(n),n===null?this:(nt.SetCollisionBetween(t,e,i,r,n),this)},setCollisionByProperty:function(t,e,i,r){return r=this.getLayer(r),r===null?this:(nt.SetCollisionByProperty(t,e,i,r),this)},setCollisionByExclusion:function(t,e,i,r){return r=this.getLayer(r),r===null?this:(nt.SetCollisionByExclusion(t,e,i,r),this)},setCollisionFromCollisionGroup:function(t,e,i){return i=this.getLayer(i),i===null?this:(nt.SetCollisionFromCollisionGroup(t,e,i),this)},setTileIndexCallback:function(t,e,i,r){return r=this.getLayer(r),r===null?this:(nt.SetTileIndexCallback(t,e,i,r),this)},setTileLocationCallback:function(t,e,i,r,n,s,a){return a=this.getLayer(a),a===null?this:(nt.SetTileLocationCallback(t,e,i,r,n,s,a),this)},setLayer:function(t){var e=this.getLayerIndex(t);return e!==null&&(this.currentLayerIndex=e),this},setBaseTileSize:function(t,e){this.tileWidth=t,this.tileHeight=e,this.widthInPixels=this.width*t,this.heightInPixels=this.height*e;for(var i=0;i<this.layers.length;i++){this.layers[i].baseTileWidth=t,this.layers[i].baseTileHeight=e;for(var r=this.layers[i].data,n=this.layers[i].width,s=this.layers[i].height,a=0;a<s;++a)for(var o=0;o<n;++o){var h=r[a][o];h!==null&&h.setSize(void 0,void 0,t,e)}}return this},setLayerTileSize:function(t,e,i){if(i=this.getLayer(i),i===null)return this;i.tileWidth=t,i.tileHeight=e;for(var r=i.data,n=i.width,s=i.height,a=0;a<s;++a)for(var o=0;o<n;++o){var h=r[a][o];h!==null&&h.setSize(t,e)}return this},shuffle:function(t,e,i,r,n){return n=this.getLayer(n),this._isStaticCall(n,"shuffle")?this:(n!==null&&nt.Shuffle(t,e,i,r,n),this)},swapByIndex:function(t,e,i,r,n,s,a){return a=this.getLayer(a),this._isStaticCall(a,"swapByIndex")?this:(a!==null&&nt.SwapByIndex(t,e,i,r,n,s,a),this)},tileToWorldX:function(t,e,i){return i=this.getLayer(i),i===null?null:nt.TileToWorldX(t,e,i)},tileToWorldY:function(t,e,i){return i=this.getLayer(i),i===null?null:nt.TileToWorldY(t,e,i)},tileToWorldXY:function(t,e,i,r,n){return n=this.getLayer(n),n===null?null:nt.TileToWorldXY(t,e,i,r,n)},weightedRandomize:function(t,e,i,r,n,s){return s=this.getLayer(s),this._isStaticCall(s,"weightedRandomize")?this:(s!==null&&nt.WeightedRandomize(t,e,i,r,n,s),this)},worldToTileX:function(t,e,i,r){return r=this.getLayer(r),r===null?null:nt.WorldToTileX(t,e,i,r)},worldToTileY:function(t,e,i,r){return r=this.getLayer(r),r===null?null:nt.WorldToTileY(t,e,i,r)},worldToTileXY:function(t,e,i,r,n,s){return s=this.getLayer(s),s===null?null:nt.WorldToTileXY(t,e,i,r,n,s)},_isStaticCall:function(t,e){return t.tilemapLayer instanceof bf?(console.warn(e+": You cannot change the tiles in a static tilemap layer"),!0):!1}}),z$=HFt;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var qFt=Qi,KFt=Il,AM=$$,JFt=z$,jFt=function(t,e,i,r,n,s,a,o){i===void 0&&(i=32),r===void 0&&(r=32),n===void 0&&(n=10),s===void 0&&(s=10),o===void 0&&(o=!1);var h=null;if(Array.isArray(a)){var l=e!==void 0?e:"map";h=AM(l,qFt.ARRAY_2D,a,i,r,o)}else if(e!==void 0){var u=t.cache.tilemap.get(e);u?h=AM(e,u.format,u.data,i,r,o):console.warn("No map data found for key "+e)}return h===null&&(h=new KFt({tileWidth:i,tileHeight:r,width:n,height:s})),new JFt(t,h)},Uy=jFt,ZFt={};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var QFt=ae,tEt=Uy;QFt.register("tilemap",function(t){var e=t!==void 0?t:{};return tEt(this.scene,e.key,e.tileWidth,e.tileHeight,e.width,e.height,e.data,e.insertNull)});var eEt={};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var iEt=dt,rEt=Uy;iEt.register("tilemap",function(t,e,i,r,n,s,a){return t===null&&(t=void 0),e===null&&(e=void 0),i===null&&(i=void 0),r===null&&(r=void 0),n===null&&(n=void 0),rEt(this.scene,t,e,i,r,n,s,a)});/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var nEt={Components:sd,Parsers:SFt,Formats:Qi,ImageCollection:A$,ParseToTilemap:Uy,Tile:Ma,Tilemap:z$,TilemapCreator:ZFt,TilemapFactory:eEt,Tileset:ad,LayerData:Ol,MapData:Il,ObjectLayer:F$,DynamicTilemapLayer:D$,StaticTilemapLayer:G$};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var sEt=b,rn=V,aEt=new sEt({initialize:function(e){this.delay=0,this.repeat=0,this.repeatCount=0,this.loop=!1,this.callback,this.callbackScope,this.args,this.timeScale=1,this.startAt=0,this.elapsed=0,this.paused=!1,this.hasDispatched=!1,this.reset(e)},reset:function(t){return this.delay=rn(t,"delay",0),this.repeat=rn(t,"repeat",0),this.loop=rn(t,"loop",!1),this.callback=rn(t,"callback",void 0),this.callbackScope=rn(t,"callbackScope",this.callback),this.args=rn(t,"args",[]),this.timeScale=rn(t,"timeScale",1),this.startAt=rn(t,"startAt",0),this.paused=rn(t,"paused",!1),this.elapsed=this.startAt,this.hasDispatched=!1,this.repeatCount=this.repeat===-1||this.loop?999999999999:this.repeat,this},getProgress:function(){return this.elapsed/this.delay},getOverallProgress:function(){if(this.repeat>0){var t=this.delay+this.delay*this.repeat,e=this.elapsed+this.delay*(this.repeat-this.repeatCount);return e/t}else return this.getProgress()},getRepeatCount:function(){return this.repeatCount},getElapsed:function(){return this.elapsed},getElapsedSeconds:function(){return this.elapsed*.001},remove:function(t){t===void 0&&(t=!1),this.elapsed=this.delay,this.hasDispatched=!t,this.repeatCount=0},destroy:function(){this.callback=void 0,this.callbackScope=void 0,this.args=[]}}),N$=aEt;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var oEt=b,hEt=se,lEt=N$,Y$=new oEt({initialize:function(e){this.scene=e,this.systems=e.sys,this.now=Date.now(),this.timeScale=1,this.paused=!1,this._active=[],this._pendingInsertion=[],this._pendingRemoval=[],e.sys.events.once("boot",this.boot,this),e.sys.events.on("start",this.start,this)},boot:function(){this.systems.events.once("destroy",this.destroy,this)},start:function(){var t=this.systems.events;t.on("preupdate",this.preUpdate,this),t.on("update",this.update,this),t.once("shutdown",this.shutdown,this)},addEvent:function(t){var e=new lEt(t);return this._pendingInsertion.push(e),e},delayedCall:function(t,e,i,r){return this.addEvent({delay:t,callback:e,args:i,callbackScope:r})},clearPendingEvents:function(){return this._pendingInsertion=[],this},removeAllEvents:function(){return this._pendingRemoval=this._pendingRemoval.concat(this._active),this},preUpdate:function(){var t=this._pendingRemoval.length,e=this._pendingInsertion.length;if(!(t===0&&e===0)){var i,r;for(i=0;i<t;i++){r=this._pendingRemoval[i];var n=this._active.indexOf(r);n>-1&&this._active.splice(n,1),r.destroy()}for(i=0;i<e;i++)r=this._pendingInsertion[i],this._active.push(r);this._pendingRemoval.length=0,this._pendingInsertion.length=0}},update:function(t,e){if(this.now=t,!this.paused){e*=this.timeScale;for(var i=0;i<this._active.length;i++){var r=this._active[i];if(!r.paused&&(r.elapsed+=e*r.timeScale,r.elapsed>=r.delay)){var n=r.elapsed-r.delay;r.elapsed=r.delay,!r.hasDispatched&&r.callback&&(r.hasDispatched=!0,r.callback.apply(r.callbackScope,r.args)),r.repeatCount>0?(r.repeatCount--,r.elapsed=n,r.hasDispatched=!1):this._pendingRemoval.push(r)}}}},shutdown:function(){var t;for(t=0;t<this._pendingInsertion.length;t++)this._pendingInsertion[t].destroy();for(t=0;t<this._active.length;t++)this._active[t].destroy();for(t=0;t<this._pendingRemoval.length;t++)this._pendingRemoval[t].destroy();this._active.length=0,this._pendingRemoval.length=0,this._pendingInsertion.length=0;var e=this.systems.events;e.off("preupdate",this.preUpdate,this),e.off("update",this.update,this),e.off("shutdown",this.shutdown,this)},destroy:function(){this.shutdown(),this.scene.sys.events.off("start",this.start,this),this.scene=null,this.systems=null}});hEt.register("Clock",Y$,"time");var uEt=Y$;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var fEt={Clock:uEt,TimerEvent:N$};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var cEt=function(t,e,i){var r;if(t.hasOwnProperty(e)){var n=typeof t[e];n==="function"?r=function(s,a,o){return t[e](s,a,o)}:r=function(){return t[e]}}else typeof i=="function"?r=i:r=function(){return i};return r},od=cEt;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var dEt=["callbackScope","completeDelay","delay","duration","ease","easeParams","flipX","flipY","hold","loop","loopDelay","offset","onComplete","onCompleteParams","onCompleteScope","onLoop","onLoopParams","onLoopScope","onRepeat","onRepeatParams","onRepeatScope","onStart","onStartParams","onStartScope","onUpdate","onUpdateParams","onUpdateScope","onYoyo","onYoyoParams","onYoyoScope","paused","props","repeat","repeatDelay","targets","useFrames","yoyo"];/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var vEt=dEt,pEt=function(t){var e,i=[];if(t.hasOwnProperty("props"))for(e in t.props)e.substr(0,1)!=="_"&&i.push({key:e,value:t.props[e]});else for(e in t)vEt.indexOf(e)===-1&&e.substr(0,1)!=="_"&&i.push({key:e,value:t[e]});return i},V$=pEt;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var gEt=ut,mEt=function(t){var e=gEt(t,"targets",null);return e===null||(typeof e=="function"&&(e=e.call()),Array.isArray(e)||(e=[e])),e},Hy=mEt;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var yEt=ut,xEt=function(t){var e=yEt(t,"tweens",null);return e===null?[]:(typeof e=="function"&&(e=e.call()),Array.isArray(e)||(e=[e]),e)},W$=xEt;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */function X$(t){return!!t.getStart&&typeof t.getStart=="function"}function U$(t){return!!t.getEnd&&typeof t.getEnd=="function"}function _Et(t){return X$(t)||U$(t)}var H$=function(t,e){var i,r=function(h,l,u){return u},n=function(h,l,u){return u},s=typeof e;if(s==="number")r=function(){return e};else if(s==="string"){var a=e[0],o=parseFloat(e.substr(2));switch(a){case"+":r=function(h,l,u){return u+o};break;case"-":r=function(h,l,u){return u-o};break;case"*":r=function(h,l,u){return u*o};break;case"/":r=function(h,l,u){return u/o};break;default:r=function(){return parseFloat(e)}}}else s==="function"?r=e:s==="object"&&_Et(e)?(U$(e)&&(r=e.getEnd),X$(e)&&(n=e.getStart)):e.hasOwnProperty("value")&&(i=H$(t,e.value));return i||(i={getEnd:r,getStart:n}),i},qy=H$;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var TEt={targets:null,delay:0,duration:1e3,ease:"Power0",easeParams:null,hold:0,repeat:0,repeatDelay:0,yoyo:!1,flipX:!1,flipY:!1},Ky=TEt;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var wEt=b,SEt=ae,CEt=dt,X=bl,q$=new wEt({initialize:function(e,i,r){this.parent=e,this.parentIsTimeline=e.hasOwnProperty("isTimeline"),this.data=i,this.totalData=i.length,this.targets=r,this.totalTargets=r.length,this.useFrames=!1,this.timeScale=1,this.loop=0,this.loopDelay=0,this.loopCounter=0,this.completeDelay=0,this.countdown=0,this.offset=0,this.calculatedOffset=0,this.state=X.PENDING_ADD,this._pausedState=X.PENDING_ADD,this.paused=!1,this.elapsed=0,this.totalElapsed=0,this.duration=0,this.progress=0,this.totalDuration=0,this.totalProgress=0,this.callbacks={onComplete:null,onLoop:null,onRepeat:null,onStart:null,onUpdate:null,onYoyo:null},this.callbackScope},getValue:function(){return this.data[0].current},setTimeScale:function(t){return this.timeScale=t,this},getTimeScale:function(){return this.timeScale},isPlaying:function(){return this.state===X.ACTIVE},isPaused:function(){return this.state===X.PAUSED},hasTarget:function(t){return this.targets.indexOf(t)!==-1},updateTo:function(t,e,i){for(var r=0;r<this.totalData;r++){var n=this.data[r];if(n.key===t){n.end=e,i&&(n.start=n.current);break}}return this},restart:function(){this.state===X.REMOVED?(this.seek(0),this.parent.makeActive(this)):(this.stop(),this.play())},calcDuration:function(){for(var t=0,e=this.data,i=0;i<this.totalData;i++){var r=e[i];r.t1=r.duration+r.hold,r.yoyo&&(r.t1+=r.duration),r.t2=r.t1+r.repeatDelay,r.totalDuration=r.delay+r.t1,r.repeat===-1?r.totalDuration+=r.t2*999999999999:r.repeat>0&&(r.totalDuration+=r.t2*r.repeat),r.totalDuration>t&&(t=r.totalDuration)}this.duration=t,this.loopCounter=this.loop===-1?999999999999:this.loop,this.loopCounter>0?this.totalDuration=this.duration+this.completeDelay+(this.duration+this.loopDelay)*this.loopCounter:this.totalDuration=this.duration+this.completeDelay},init:function(){for(var t=this.data,e=this.totalTargets,i=0;i<this.totalData;i++){var r=t[i],n=r.target,s=r.gen;r.delay=s.delay(i,e,n),r.duration=s.duration(i,e,n),r.hold=s.hold(i,e,n),r.repeat=s.repeat(i,e,n),r.repeatDelay=s.repeatDelay(i,e,n)}return this.calcDuration(),this.progress=0,this.totalProgress=0,this.elapsed=0,this.totalElapsed=0,this.paused&&!this.parentIsTimeline?(this.state=X.PENDING_ADD,this._pausedState=X.INIT,!1):(this.state=X.INIT,!0)},nextState:function(){if(this.loopCounter>0){this.elapsed=0,this.progress=0,this.loopCounter--;var t=this.callbacks.onLoop;t&&(t.params[1]=this.targets,t.func.apply(t.scope,t.params)),this.resetTweenData(!0),this.loopDelay>0?(this.countdown=this.loopDelay,this.state=X.LOOP_DELAY):this.state=X.ACTIVE}else if(this.completeDelay>0)this.countdown=this.completeDelay,this.state=X.COMPLETE_DELAY;else{var e=this.callbacks.onComplete;e&&(e.params[1]=this.targets,e.func.apply(e.scope,e.params)),this.state=X.PENDING_REMOVE}},pause:function(){if(this.state!==X.PAUSED)return this.paused=!0,this._pausedState=this.state,this.state=X.PAUSED,this},play:function(t){if(this.state!==X.ACTIVE){(this.state===X.PENDING_REMOVE||this.state===X.REMOVED)&&(this.init(),this.parent.makeActive(this),t=!0);var e=this.callbacks.onStart;this.parentIsTimeline?(this.resetTweenData(t),this.calculatedOffset===0?(e&&(e.params[1]=this.targets,e.func.apply(e.scope,e.params)),this.state=X.ACTIVE):(this.countdown=this.calculatedOffset,this.state=X.OFFSET_DELAY)):this.paused?(this.paused=!1,this.parent.makeActive(this)):(this.resetTweenData(t),this.state=X.ACTIVE,e&&(e.params[1]=this.targets,e.func.apply(e.scope,e.params)),this.parent.makeActive(this))}},resetTweenData:function(t){for(var e=this.data,i=0;i<this.totalData;i++){var r=e[i];r.progress=0,r.elapsed=0,r.repeatCounter=r.repeat===-1?999999999999:r.repeat,t?(r.start=r.getStartValue(r.target,r.key,r.start),r.end=r.getEndValue(r.target,r.key,r.end),r.current=r.start,r.state=X.PLAYING_FORWARD):r.delay>0?(r.elapsed=r.delay,r.state=X.DELAY):r.state=X.PENDING_RENDER}},resume:function(){return this.state===X.PAUSED?(this.paused=!1,this.state=this._pausedState):this.play(),this},seek:function(t){for(var e=this.data,i=0;i<this.totalData;i++){var r=this.totalDuration*t,n=e[i],s=0,a=0;r<=n.delay?(s=0,a=0):r>=n.totalDuration?(s=1,a=n.duration):r>n.delay&&r<=n.t1?(r=Math.max(0,r-n.delay),s=r/n.t1,a=n.duration*s):r>n.t1&&r<n.totalDuration&&(r-=n.delay,r-=n.t1,r=r/n.t2%1*n.t2,r>n.repeatDelay&&(s=r/n.t1,a=n.duration*s)),n.progress=s,n.elapsed=a;var o=n.ease(n.progress);n.current=n.start+(n.end-n.start)*o,n.target[n.key]=n.current}},setCallback:function(t,e,i,r){return this.callbacks[t]={func:e,scope:r,params:i},this},complete:function(t){if(t===void 0&&(t=0),t)this.countdown=t,this.state=X.COMPLETE_DELAY;else{var e=this.callbacks.onComplete;e&&(e.params[1]=this.targets,e.func.apply(e.scope,e.params)),this.state=X.PENDING_REMOVE}},stop:function(t){this.state===X.ACTIVE&&t!==void 0&&this.seek(t),this.state!==X.REMOVED&&((this.state===X.PAUSED||this.state===X.PENDING_ADD)&&(this.parent._destroy.push(this),this.parent._toProcess++),this.state=X.PENDING_REMOVE)},update:function(t,e){if(this.state===X.PAUSED)return!1;switch(this.useFrames&&(e=1*this.parent.timeScale),e*=this.timeScale,this.elapsed+=e,this.progress=Math.min(this.elapsed/this.duration,1),this.totalElapsed+=e,this.totalProgress=Math.min(this.totalElapsed/this.totalDuration,1),this.state){case X.ACTIVE:for(var i=!1,r=0;r<this.totalData;r++)this.updateTweenData(this,this.data[r],e)&&(i=!0);i||this.nextState();break;case X.LOOP_DELAY:this.countdown-=e,this.countdown<=0&&(this.state=X.ACTIVE);break;case X.OFFSET_DELAY:if(this.countdown-=e,this.countdown<=0){var n=this.callbacks.onStart;n&&(n.params[1]=this.targets,n.func.apply(n.scope,n.params)),this.state=X.ACTIVE}break;case X.COMPLETE_DELAY:if(this.countdown-=e,this.countdown<=0){var s=this.callbacks.onComplete;s&&s.func.apply(s.scope,s.params),this.state=X.PENDING_REMOVE}break}return this.state===X.PENDING_REMOVE},setStateFromEnd:function(t,e,i){if(e.yoyo){e.elapsed=i,e.progress=i/e.duration,e.flipX&&e.target.toggleFlipX(),e.flipY&&e.target.toggleFlipY();var r=t.callbacks.onYoyo;return r&&(r.params[1]=e.target,r.func.apply(r.scope,r.params)),e.start=e.getStartValue(e.target,e.key,e.start),X.PLAYING_BACKWARD}else if(e.repeatCounter>0){e.repeatCounter--,e.elapsed=i,e.progress=i/e.duration,e.flipX&&e.target.toggleFlipX(),e.flipY&&e.target.toggleFlipY();var n=t.callbacks.onRepeat;return n&&(n.params[1]=e.target,n.func.apply(n.scope,n.params)),e.start=e.getStartValue(e.target,e.key,e.start),e.end=e.getEndValue(e.target,e.key,e.start),e.repeatDelay>0?(e.elapsed=e.repeatDelay-i,e.current=e.start,e.target[e.key]=e.current,X.REPEAT_DELAY):X.PLAYING_FORWARD}return X.COMPLETE},setStateFromStart:function(t,e,i){if(e.repeatCounter>0){e.repeatCounter--,e.elapsed=i,e.progress=i/e.duration,e.flipX&&e.target.toggleFlipX(),e.flipY&&e.target.toggleFlipY();var r=t.callbacks.onRepeat;return r&&(r.params[1]=e.target,r.func.apply(r.scope,r.params)),e.end=e.getEndValue(e.target,e.key,e.start),e.repeatDelay>0?(e.elapsed=e.repeatDelay-i,e.current=e.start,e.target[e.key]=e.current,X.REPEAT_DELAY):X.PLAYING_FORWARD}return X.COMPLETE},updateTweenData:function(t,e,i){switch(e.state){case X.PLAYING_FORWARD:case X.PLAYING_BACKWARD:if(!e.target){e.state=X.COMPLETE;break}var r=e.elapsed,n=e.duration,s=0;r+=i,r>n&&(s=r-n,r=n);var a=e.state===X.PLAYING_FORWARD,o=r/n,h;a?h=e.ease(o):h=e.ease(1-o),e.current=e.start+(e.end-e.start)*h,e.target[e.key]=e.current,e.elapsed=r,e.progress=o;var l=t.callbacks.onUpdate;l&&(l.params[1]=e.target,l.func.apply(l.scope,l.params)),o===1&&(a?e.hold>0?(e.elapsed=e.hold-s,e.state=X.HOLD_DELAY):e.state=this.setStateFromEnd(t,e,s):e.state=this.setStateFromStart(t,e,s));break;case X.DELAY:e.elapsed-=i,e.elapsed<=0&&(e.elapsed=Math.abs(e.elapsed),e.state=X.PENDING_RENDER);break;case X.REPEAT_DELAY:e.elapsed-=i,e.elapsed<=0&&(e.elapsed=Math.abs(e.elapsed),e.state=X.PLAYING_FORWARD);break;case X.HOLD_DELAY:e.elapsed-=i,e.elapsed<=0&&(e.state=this.setStateFromEnd(t,e,Math.abs(e.elapsed)));break;case X.PENDING_RENDER:e.target?(e.start=e.getStartValue(e.target,e.key,e.target[e.key]),e.end=e.getEndValue(e.target,e.key,e.start),e.current=e.start,e.target[e.key]=e.start,e.state=X.PLAYING_FORWARD):e.state=X.COMPLETE;break}return e.state!==X.COMPLETE}});q$.TYPES=["onComplete","onLoop","onRepeat","onStart","onUpdate","onYoyo"];CEt.register("tween",function(t){return this.scene.sys.tweens.add(t)});SEt.register("tween",function(t){return this.scene.sys.tweens.create(t)});var Jy=q$;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var bEt=function(t,e,i,r,n,s,a,o,h,l,u,f,c){return{target:t,key:e,getEndValue:i,getStartValue:r,ease:n,duration:0,totalDuration:0,delay:0,yoyo:o,hold:0,repeat:0,repeatDelay:0,flipX:f,flipY:c,progress:0,elapsed:0,repeatCounter:0,start:0,current:0,end:0,t1:0,t2:0,gen:{delay:s,duration:a,hold:h,repeat:l,repeatDelay:u},state:0}},jy=bEt;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var MEt=Ky,Mf=te,dg=Cl,PEt=Sl,Rh=od,es=ut,AEt=qy,RM=Jy,REt=jy,FEt=function(t,e,i){i===void 0&&(i=MEt);var r=es(e,"from",0),n=es(e,"to",1),s=[{value:r}],a=Rh(e,"delay",i.delay),o=Rh(e,"duration",i.duration),h=es(e,"easeParams",i.easeParams),l=PEt(es(e,"ease",i.ease),h),u=Rh(e,"hold",i.hold),f=Rh(e,"repeat",i.repeat),c=Rh(e,"repeatDelay",i.repeatDelay),d=dg(e,"yoyo",i.yoyo),g=[],v=AEt("value",n),p=REt(s[0],"value",v.getEnd,v.getStart,l,a,o,d,u,f,c,!1,!1);p.start=r,p.current=r,p.to=n,g.push(p);var m=new RM(t,g,s);m.offset=Mf(e,"offset",null),m.completeDelay=Mf(e,"completeDelay",0),m.loop=Math.round(Mf(e,"loop",0)),m.loopDelay=Math.round(Mf(e,"loopDelay",0)),m.paused=dg(e,"paused",!1),m.useFrames=dg(e,"useFrames",!1);for(var y=es(e,"callbackScope",m),x=[m,null],T=RM.TYPES,_=0;_<T.length;_++){var w=T[_],S=es(e,w,!1);if(S){var C=es(e,w+"Scope",y),R=es(e,w+"Params",[]);m.setCallback(w,S,x.concat(R),C)}}return m},K$=FEt;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var EEt=Ky,Pf=te,is=Cl,FM=Sl,Pr=od,LEt=V$,$Et=Hy,Us=ut,OEt=qy,EM=Jy,IEt=jy,DEt=function(t,e,i){i===void 0&&(i=EEt);for(var r=i.targets?i.targets:$Et(e),n=LEt(e),s=Pr(e,"delay",i.delay),a=Pr(e,"duration",i.duration),o=Us(e,"easeParams",i.easeParams),h=FM(Us(e,"ease",i.ease),o),l=Pr(e,"hold",i.hold),u=Pr(e,"repeat",i.repeat),f=Pr(e,"repeatDelay",i.repeatDelay),c=is(e,"yoyo",i.yoyo),d=is(e,"flipX",i.flipX),g=is(e,"flipY",i.flipY),v=[],p=0;p<n.length;p++)for(var m=n[p].key,y=n[p].value,x=0;x<r.length;x++){var T=OEt(m,y),_=IEt(r[x],m,T.getEnd,T.getStart,FM(Us(y,"ease",h),o),Pr(y,"delay",s),Pr(y,"duration",a),is(y,"yoyo",c),Pr(y,"hold",l),Pr(y,"repeat",u),Pr(y,"repeatDelay",f),is(y,"flipX",d),is(y,"flipY",g));v.push(_)}var w=new EM(t,v,r);w.offset=Pf(e,"offset",null),w.completeDelay=Pf(e,"completeDelay",0),w.loop=Math.round(Pf(e,"loop",0)),w.loopDelay=Math.round(Pf(e,"loopDelay",0)),w.paused=is(e,"paused",!1),w.useFrames=is(e,"useFrames",!1);for(var S=Us(e,"callbackScope",w),C=[w,null],R=EM.TYPES,L=0;L<R.length;L++){var E=R[L],O=Us(e,E,!1);if(O){var A=Us(e,E+"Scope",S),F=Us(e,E+"Params",[]);w.setCallback(E,O,C.concat(F),A)}}return w},hd=DEt;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var BEt=b,LM=Bt.exports,kEt=hd,jt=bl,Zy=new BEt({Extends:LM,initialize:function(e){LM.call(this),this.manager=e,this.isTimeline=!0,this.data=[],this.totalData=0,this.useFrames=!1,this.timeScale=1,this.loop=0,this.loopDelay=0,this.loopCounter=0,this.completeDelay=0,this.countdown=0,this.state=jt.PENDING_ADD,this._pausedState=jt.PENDING_ADD,this.paused=!1,this.elapsed=0,this.totalElapsed=0,this.duration=0,this.progress=0,this.totalDuration=0,this.totalProgress=0,this.callbacks={onComplete:null,onLoop:null,onStart:null,onUpdate:null,onYoyo:null},this.callbackScope},setTimeScale:function(t){return this.timeScale=t,this},getTimeScale:function(){return this.timeScale},isPlaying:function(){return this.state===jt.ACTIVE},add:function(t){return this.queue(kEt(this,t))},queue:function(t){return this.isPlaying()||(t.parent=this,t.parentIsTimeline=!0,this.data.push(t),this.totalData=this.data.length),this},hasOffset:function(t){return t.offset!==null},isOffsetAbsolute:function(t){return typeof t=="number"},isOffsetRelative:function(t){var e=typeof t;if(e==="string"){var i=t[0];if(i==="-"||i==="+")return!0}return!1},getRelativeOffset:function(t,e){var i=t[0],r=parseFloat(t.substr(2)),n=e;switch(i){case"+":n+=r;break;case"-":n-=r;break}return Math.max(0,n)},calcDuration:function(){for(var t=0,e=0,i=0,r=0;r<this.totalData;r++){var n=this.data[r];n.init(),this.hasOffset(n)?this.isOffsetAbsolute(n.offset)?(n.calculatedOffset=n.offset,n.offset===0&&(i=0)):this.isOffsetRelative(n.offset)&&(n.calculatedOffset=this.getRelativeOffset(n.offset,t)):n.calculatedOffset=i,t=n.totalDuration+n.calculatedOffset,e+=n.totalDuration,i+=n.totalDuration}this.duration=e,this.loopCounter=this.loop===-1?999999999999:this.loop,this.loopCounter>0?this.totalDuration=this.duration+this.completeDelay+(this.duration+this.loopDelay)*this.loopCounter:this.totalDuration=this.duration+this.completeDelay},init:function(){return this.calcDuration(),this.progress=0,this.totalProgress=0,this.paused?(this.state=jt.PAUSED,!1):!0},resetTweens:function(t){for(var e=0;e<this.totalData;e++){var i=this.data[e];i.play(t)}},setCallback:function(t,e,i,r){return Zy.TYPES.indexOf(t)!==-1&&(this.callbacks[t]={func:e,scope:r,params:i}),this},makeActive:function(t){return this.manager.makeActive(t)},play:function(){if(this.state!==jt.ACTIVE){if(this.paused){this.paused=!1,this.manager.makeActive(this);return}else this.resetTweens(!1),this.state=jt.ACTIVE;var t=this.callbacks.onStart;t&&t.func.apply(t.scope,t.params),this.emit("start",this)}},nextState:function(){if(this.loopCounter>0){this.elapsed=0,this.progress=0,this.loopCounter--;var t=this.callbacks.onLoop;t&&t.func.apply(t.scope,t.params),this.emit("loop",this,this.loopCounter),this.resetTweens(!0),this.loopDelay>0?(this.countdown=this.loopDelay,this.state=jt.LOOP_DELAY):this.state=jt.ACTIVE}else if(this.completeDelay>0)this.countdown=this.completeDelay,this.state=jt.COMPLETE_DELAY;else{var e=this.callbacks.onComplete;e&&e.func.apply(e.scope,e.params),this.emit("complete",this),this.state=jt.PENDING_REMOVE}},update:function(t,e){if(this.state!==jt.PAUSED){var i=e;switch(this.useFrames&&(e=1*this.manager.timeScale),e*=this.timeScale,this.elapsed+=e,this.progress=Math.min(this.elapsed/this.duration,1),this.totalElapsed+=e,this.totalProgress=Math.min(this.totalElapsed/this.totalDuration,1),this.state){case jt.ACTIVE:for(var r=this.totalData,n=0;n<this.totalData;n++){var s=this.data[n];s.update(t,i)&&r--}var a=this.callbacks.onUpdate;a&&a.func.apply(a.scope,a.params),this.emit("update",this),r===0&&this.nextState();break;case jt.LOOP_DELAY:this.countdown-=e,this.countdown<=0&&(this.state=jt.ACTIVE);break;case jt.COMPLETE_DELAY:if(this.countdown-=e,this.countdown<=0){var o=this.callbacks.onComplete;o&&o.func.apply(o.scope,o.params),this.emit("complete",this),this.state=jt.PENDING_REMOVE}break}return this.state===jt.PENDING_REMOVE}},stop:function(){this.state=jt.PENDING_REMOVE},pause:function(){if(this.state!==jt.PAUSED)return this.paused=!0,this._pausedState=this.state,this.state=jt.PAUSED,this.emit("pause",this),this},resume:function(){return this.state===jt.PAUSED&&(this.paused=!1,this.state=this._pausedState),this.emit("resume",this),this},hasTarget:function(t){for(var e=0;e<this.data.length;e++)if(this.data[e].hasTarget(t))return!0;return!1},destroy:function(){for(var t=0;t<this.data.length;t++)this.data[t].stop()}});Zy.TYPES=["onStart","onUpdate","onLoop","onComplete","onYoyo"];var J$=Zy;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var GEt=ya,zEt=Ky,Af=te,Fh=Cl,NEt=Sl,Eh=od,YEt=Hy,VEt=W$,pe=ut,WEt=J$,XEt=hd,UEt=function(t,e){var i=new WEt(t),r=VEt(e);if(r.length===0)return i.paused=!0,i;var n=GEt(zEt);n.targets=YEt(e);var s=Af(e,"totalDuration",0);s>0?n.duration=Math.floor(s/r.length):n.duration=Eh(e,"duration",n.duration),n.delay=Eh(e,"delay",n.delay),n.easeParams=pe(e,"easeParams",n.easeParams),n.ease=NEt(pe(e,"ease",n.ease),n.easeParams),n.hold=Eh(e,"hold",n.hold),n.repeat=Eh(e,"repeat",n.repeat),n.repeatDelay=Eh(e,"repeatDelay",n.repeatDelay),n.yoyo=Fh(e,"yoyo",n.yoyo),n.flipX=Fh(e,"flipX",n.flipX),n.flipY=Fh(e,"flipY",n.flipY);for(var a=0;a<r.length;a++)i.queue(XEt(i,r[a],n));i.completeDelay=Af(e,"completeDelay",0),i.loop=Math.round(Af(e,"loop",0)),i.loopDelay=Math.round(Af(e,"loopDelay",0)),i.paused=Fh(e,"paused",!1),i.useFrames=Fh(e,"useFrames",!1);var o=pe(e,"callbackScope",i),h=[i],l=pe(e,"onStart",!1);if(l){var u=pe(e,"onStartScope",o),f=pe(e,"onStartParams",[]);i.setCallback("onStart",l,h.concat(f),u)}var c=pe(e,"onUpdate",!1);if(c){var d=pe(e,"onUpdateScope",o),g=pe(e,"onUpdateParams",[]);i.setCallback("onUpdate",c,h.concat(g),d)}var v=pe(e,"onLoop",!1);if(v){var p=pe(e,"onLoopScope",o),m=pe(e,"onLoopParams",[]);i.setCallback("onLoop",v,h.concat(m),p)}var y=pe(e,"onYoyo",!1);if(y){var x=pe(e,"onYoyoScope",o),T=pe(e,"onYoyoParams",[]);i.setCallback("onYoyo",y,h.concat(null,T),x)}var _=pe(e,"onComplete",!1);if(_){var w=pe(e,"onCompleteScope",o),S=pe(e,"onCompleteParams",[]);i.setCallback("onComplete",_,h.concat(S),w)}return i},j$=UEt;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var HEt={GetBoolean:Cl,GetEaseFunction:Sl,GetNewValue:od,GetProps:V$,GetTargets:Hy,GetTweens:W$,GetValueOp:qy,NumberTweenBuilder:K$,TimelineBuilder:j$,TweenBuilder:hd};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var qEt=b,KEt=K$,JEt=se,$M=j$,Rf=bl,OM=hd,Z$=new qEt({initialize:function(e){this.scene=e,this.systems=e.sys,this.timeScale=1,this._add=[],this._pending=[],this._active=[],this._destroy=[],this._toProcess=0,e.sys.events.once("boot",this.boot,this),e.sys.events.on("start",this.start,this)},boot:function(){this.systems.events.once("destroy",this.destroy,this)},start:function(){var t=this.systems.events;t.on("preupdate",this.preUpdate,this),t.on("update",this.update,this),t.once("shutdown",this.shutdown,this),this.timeScale=1},createTimeline:function(t){return $M(this,t)},timeline:function(t){var e=$M(this,t);return e.paused||(this._add.push(e),this._toProcess++),e},create:function(t){return OM(this,t)},add:function(t){var e=OM(this,t);return this._add.push(e),this._toProcess++,e},existing:function(t){return this._add.push(t),this._toProcess++,this},addCounter:function(t){var e=KEt(this,t);return this._add.push(e),this._toProcess++,e},preUpdate:function(){if(this._toProcess!==0){var t=this._destroy,e=this._active,i=this._pending,r,n;for(r=0;r<t.length;r++){n=t[r];var s=e.indexOf(n);s===-1?(s=i.indexOf(n),s>-1&&(n.state=Rf.REMOVED,i.splice(s,1))):(n.state=Rf.REMOVED,e.splice(s,1))}for(t.length=0,t=this._add,r=0;r<t.length;r++)n=t[r],n.state===Rf.PENDING_ADD&&(n.init()?(n.play(),this._active.push(n)):this._pending.push(n));t.length=0,this._toProcess=0}},update:function(t,e){var i=this._active,r;e*=this.timeScale;for(var n=0;n<i.length;n++)r=i[n],r.update(t,e)&&(this._destroy.push(r),this._toProcess++)},makeActive:function(t){if(!(this._add.indexOf(t)!==-1||this._active.indexOf(t)!==-1)){var e=this._pending.indexOf(t);return e!==-1&&this._pending.splice(e,1),this._add.push(t),t.state=Rf.PENDING_ADD,this._toProcess++,this}},each:function(t,e){for(var i=[null],r=1;r<arguments.length;r++)i.push(arguments[r]);for(var n in this.list)i[0]=this.list[n],t.apply(e,i)},getAllTweens:function(){for(var t=this._active,e=[],i=0;i<t.length;i++)e.push(t[i]);return e},getGlobalTimeScale:function(){return this.timeScale},getTweensOf:function(t){var e=this._active,i,r=[],n;if(Array.isArray(t))for(n=0;n<e.length;n++){i=e[n];for(var s=0;s<t.length;s++)i.hasTarget(t[s])&&r.push(i)}else for(n=0;n<e.length;n++)i=e[n],i.hasTarget(t)&&r.push(i);return r},isTweening:function(t){for(var e=this._active,i,r=0;r<e.length;r++)if(i=e[r],i.hasTarget(t)&&i.isPlaying())return!0;return!1},killAll:function(){for(var t=this.getAllTweens(),e=0;e<t.length;e++)t[e].stop();return this},killTweensOf:function(t){for(var e=this.getTweensOf(t),i=0;i<e.length;i++)e[i].stop();return this},pauseAll:function(){for(var t=this._active,e=0;e<t.length;e++)t[e].pause();return this},resumeAll:function(){for(var t=this._active,e=0;e<t.length;e++)t[e].resume();return this},setGlobalTimeScale:function(t){return this.timeScale=t,this},shutdown:function(){this.killAll(),this._add=[],this._pending=[],this._active=[],this._destroy=[],this._toProcess=0;var t=this.systems.events;t.off("preupdate",this.preUpdate,this),t.off("update",this.update,this),t.off("shutdown",this.shutdown,this)},destroy:function(){this.shutdown(),this.scene.sys.events.off("start",this.start,this),this.scene=null,this.systems=null}});JEt.register("TweenManager",Z$,"tweens");var jEt=Z$;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var ZEt=bl,QEt=Ae,Em={Builders:HEt,TweenManager:jEt,Tween:Jy,TweenData:jy,Timeline:J$};Em=QEt(!1,Em,ZEt);var tLt=Em;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var eLt=ut,iLt=ei,rLt=function(t,e,i,r,n){n===void 0&&(n=i);var s=eLt(t,e,n);return iLt(s,i,r)},nLt=rLt;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var sLt=function(t,e){for(var i=0;i<e.length;i++)if(!t.hasOwnProperty(e[i]))return!1;return!0},aLt=sLt;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var oLt=ya,hLt=function(t,e){var i=oLt(t);for(var r in e)i.hasOwnProperty(r)&&(i[r]=e[r]);return i},lLt=hLt;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var uLt={Clone:ya,Extend:Ae,GetAdvancedValue:te,GetFastValue:V,GetMinMaxValue:nLt,GetValue:ut,HasAll:aLt,HasAny:GF,HasValue:Eo,IsPlainObject:Ct,Merge:Ao,MergeRight:lLt};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var fLt=function(t,e){return t.replace(/%([0-9]+)/g,function(i,r){return e[Number(r)-1]})},cLt=fLt;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var dLt=function(t){return t.split("").reverse().join("")},vLt=dLt;/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var pLt={Format:cLt,Pad:$0,Reverse:vLt,UppercaseFirst:X2,UUID:HF};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var gLt={Array:ny,Objects:uLt,String:pLt};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var vg,IM;function ld(){if(IM)return vg;IM=1;var t=b,e=Qt,i=Rn,r=at,n=Hc,s=new t({Extends:e,initialize:function(o,h,l,u,f,c){e.call(this,o,"Sprite3D"),this.gameObject=new i(o,0,0,f,c),this.position=new n(h,l,u),this.size=new r(this.gameObject.width,this.gameObject.height),this.scale=new r(1,1),this.adjustScaleX=!0,this.adjustScaleY=!0,this._visible=!0},project:function(a){var o=this.position,h=this.gameObject;a.project(o,h),a.getPointSize(o,this.size,this.scale),this.scale.x<=0||this.scale.y<=0?h.setVisible(!1):(h.visible||h.setVisible(!0),this.adjustScaleX&&(h.scaleX=this.scale.x),this.adjustScaleY&&(h.scaleY=this.scale.y),h.setDepth(h.z*-1))},setVisible:function(a){return this.visible=a,this},visible:{get:function(){return this._visible},set:function(a){this._visible=a,this.gameObject.visible=a}},x:{get:function(){return this.position.x},set:function(a){this.position.x=a}},y:{get:function(){return this.position.y},set:function(a){this.position.y=a}},z:{get:function(){return this.position.z},set:function(a){this.position.z=a}}});return vg=s,vg}/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var pg,DM;function Qy(){if(DM)return pg;DM=1;var t=b,e=Ey,i=PL,r=AL,n=OL,s=Ro,a=ld(),o=at,h=Oo,l=Hc,u=new h,f=new l,c=new h,d=new h,g=new e,v=new t({initialize:function(m){this.scene=m,this.displayList=m.sys.displayList,this.updateList=m.sys.updateList,this.name="",this.direction=new h(0,0,-1),this.up=new h(0,1,0),this.position=new h,this.pixelScale=128,this.projection=new e,this.view=new e,this.combined=new e,this.invProjectionView=new e,this.near=1,this.far=100,this.ray={origin:new h,direction:new h},this.viewportWidth=0,this.viewportHeight=0,this.billboardMatrixDirty=!0,this.children=new s},setPosition:function(p,m,y){return this.position.set(p,m,y),this.update()},setScene:function(p){return this.scene=p,this},setPixelScale:function(p){return this.pixelScale=p,this.update()},add:function(p){return this.children.set(p),this.displayList.add(p.gameObject),this.updateList.add(p.gameObject),this.updateChildren(),p},remove:function(p){return this.displayList.remove(p.gameObject),this.updateList.remove(p.gameObject),this.children.delete(p),this},clear:function(){for(var p=this.getChildren(),m=0;m<p.length;m++)this.remove(p[m]);return this},getChildren:function(){return this.children.entries},create:function(p,m,y,x,T,_){_===void 0&&(_=!0);var w=new a(this.scene,p,m,y,x,T);return this.displayList.add(w.gameObject),this.updateList.add(w.gameObject),w.visible=_,this.children.set(w),this.updateChildren(),w},createMultiple:function(p,m,y,x){x===void 0&&(x=!0);for(var T=[],_=0;_<p;_++){var w=new a(this.scene,0,0,0,m,y);this.displayList.add(w.gameObject),this.updateList.add(w.gameObject),w.visible=x,this.children.set(w),T.push(w)}return T},createRect:function(p,m,y,x){typeof p=="number"&&(p={x:p,y:p,z:p}),typeof m=="number"&&(m={x:m,y:m,z:m});for(var T=p.x*p.y*p.z,_=this.createMultiple(T,y,x),w=0,S=.5-p.z/2;S<p.z/2;S++)for(var C=.5-p.y/2;C<p.y/2;C++)for(var R=.5-p.x/2;R<p.x/2;R++){var L=R*m.x,E=C*m.y,O=S*m.z;_[w].position.set(L,E,O),w++}return this.update(),_},randomSphere:function(p,m){m===void 0&&(m=this.getChildren());for(var y=0;y<m.length;y++)i(m[y].position,p);return this.update()},randomCube:function(p,m){m===void 0&&(m=this.getChildren());for(var y=0;y<m.length;y++)r(m[y].position,p);return this.update()},translateChildren:function(p,m){m===void 0&&(m=this.getChildren());for(var y=0;y<m.length;y++)m[y].position.add(p);return this.update()},transformChildren:function(p,m){m===void 0&&(m=this.getChildren());for(var y=0;y<m.length;y++)m[y].position.transformMat4(p);return this.update()},setViewport:function(p,m){return this.viewportWidth=p,this.viewportHeight=m,this.update()},translate:function(p,m,y){return typeof p=="object"?(this.position.x+=p.x||0,this.position.y+=p.y||0,this.position.z+=p.z||0):(this.position.x+=p||0,this.position.y+=m||0,this.position.z+=y||0),this.update()},lookAt:function(p,m,y){var x=this.direction,T=this.up;return typeof p=="object"?x.copy(p):x.set(p,m,y),x.subtract(this.position).normalize(),u.copy(x).cross(T).normalize(),T.copy(u).cross(x).normalize(),this.update()},rotate:function(p,m){return n(this.direction,m,p),n(this.up,m,p),this.update()},rotateAround:function(p,m,y){return u.copy(p).subtract(this.position),this.translate(u),this.rotate(m,y),this.translate(u.negate()),this.update()},project:function(p,m){m===void 0&&(m=new l);var y=this.viewportWidth,x=this.viewportHeight,T=v.NEAR_RANGE,_=v.FAR_RANGE;return f.set(p.x,p.y,p.z,1),f.transformMat4(this.combined),f.w===0&&(f.w=1),f.x=f.x/f.w,f.y=f.y/f.w,f.z=f.z/f.w,m.x=y/2*f.x+(0+y/2),m.y=x/2*f.y+(0+x/2),m.z=(_-T)/2*f.z+(_+T)/2,(m.w===0||m.w)&&(m.w=1/f.w),m},unproject:function(p,m){m===void 0&&(m=new h);var y=f.set(0,0,this.viewportWidth,this.viewportHeight);return m.copy(p).unproject(y,this.invProjectionView)},getPickRay:function(p,m){var y=this.ray.origin.set(p,m,0),x=this.ray.direction.set(p,m,1),T=f.set(0,0,this.viewportWidth,this.viewportHeight),_=this.invProjectionView;return y.unproject(T,_),x.unproject(T,_),x.subtract(y).normalize(),this.ray},updateChildren:function(){for(var p=this.children.entries,m=0;m<p.length;m++)p[m].project(this);return this},update:function(){return this.updateChildren()},updateBillboardMatrix:function(){var p=c.set(this.direction).negate(),m=d.set(this.up).cross(p).normalize(),y=u.set(p).cross(m).normalize(),x=g.val;x[0]=m.x,x[1]=m.y,x[2]=m.z,x[3]=0,x[4]=y.x,x[5]=y.y,x[6]=y.z,x[7]=0,x[8]=p.x,x[9]=p.y,x[10]=p.z,x[11]=0,x[12]=0,x[13]=0,x[14]=0,x[15]=1,this.billboardMatrixDirty=!1},getPointSize:function(p,m,y){y===void 0&&(y=new o),this.billboardMatrixDirty&&this.updateBillboardMatrix();var x=u,T=m.x/this.pixelScale/2,_=m.y/this.pixelScale/2;x.set(-T,-_,0).transformMat4(g).add(p),this.project(x,x);var w=x.x,S=x.y;x.set(T,_,0).transformMat4(g).add(p),this.project(x,x);var C=x.x,R=x.y,L=C-w,E=R-S;return y.set(L,E)},destroy:function(){this.children.clear(),this.scene=void 0,this.children=void 0},setX:function(p){return this.position.x=p,this.update()},setY:function(p){return this.position.y=p,this.update()},setZ:function(p){return this.position.z=p,this.update()},x:{get:function(){return this.position.x},set:function(p){this.position.x=p,this.update()}},y:{get:function(){return this.position.y},set:function(p){this.position.y=p,this.update()}},z:{get:function(){return this.position.z},set:function(p){this.position.z=p,this.update()}}});return v.FAR_RANGE=1,v.NEAR_RANGE=0,pg=v,pg}/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var gg,BM;function Q$(){if(BM)return gg;BM=1;var t=Qy(),e=b,i=Oo,r=new i,n=new e({Extends:t,initialize:function(a,o,h){o===void 0&&(o=0),h===void 0&&(h=0),t.call(this,a),this.viewportWidth=o,this.viewportHeight=h,this._zoom=1,this.near=0,this.update()},setToOrtho:function(s,a,o){a===void 0&&(a=this.viewportWidth),o===void 0&&(o=this.viewportHeight);var h=this.zoom;return this.up.set(0,s?-1:1,0),this.direction.set(0,0,s?1:-1),this.position.set(h*a/2,h*o/2,0),this.viewportWidth=a,this.viewportHeight=o,this.update()},update:function(){var s=this.viewportWidth,a=this.viewportHeight,o=Math.abs(this.near),h=Math.abs(this.far),l=this.zoom;return s===0||a===0?this:(this.projection.ortho(l*-s/2,l*s/2,l*-a/2,l*a/2,o,h),r.copy(this.position).add(this.direction),this.view.lookAt(this.position,r,this.up),this.combined.copy(this.projection).multiply(this.view),this.invProjectionView.copy(this.combined).invert(),this.billboardMatrixDirty=!0,this.updateChildren(),this)},zoom:{get:function(){return this._zoom},set:function(s){this._zoom=s,this.update()}}});return gg=n,gg}/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var mg,kM;function tO(){if(kM)return mg;kM=1;var t=Qy(),e=b,i=Oo,r=new i,n=new e({Extends:t,initialize:function(a,o,h,l){o===void 0&&(o=80),h===void 0&&(h=0),l===void 0&&(l=0),t.call(this,a),this.viewportWidth=h,this.viewportHeight=l,this.fieldOfView=o*Math.PI/180,this.update()},setFOV:function(s){return this.fieldOfView=s*Math.PI/180,this},update:function(){var s=this.viewportWidth/this.viewportHeight;return this.projection.perspective(this.fieldOfView,s,Math.abs(this.near),Math.abs(this.far)),r.copy(this.position).add(this.direction),this.view.lookAt(this.position,r,this.up),this.combined.copy(this.projection).multiply(this.view),this.invProjectionView.copy(this.combined).invert(),this.billboardMatrixDirty=!0,this.updateChildren(),this}});return mg=n,mg}/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var yg,GM;function mLt(){if(GM)return yg;GM=1;var t=b,e=Q$(),i=tO(),r=se,n=new t({initialize:function(a){this.scene=a,this.systems=a.sys,this.cameras=[],a.sys.events.once("boot",this.boot,this),a.sys.events.on("start",this.start,this)},boot:function(){this.systems.events.once("destroy",this.destroy,this)},start:function(){var s=this.systems.events;s.on("update",this.update,this),s.once("shutdown",this.shutdown,this)},add:function(s,a,o){return this.addPerspectiveCamera(s,a,o)},addOrthographicCamera:function(s,a){var o=this.scene.sys.game.config;s===void 0&&(s=o.width),a===void 0&&(a=o.height);var h=new e(this.scene,s,a);return this.cameras.push(h),h},addPerspectiveCamera:function(s,a,o){var h=this.scene.sys.game.config;s===void 0&&(s=80),a===void 0&&(a=h.width),o===void 0&&(o=h.height);var l=new i(this.scene,s,a,o);return this.cameras.push(l),l},getCamera:function(s){for(var a=0;a<this.cameras.length;a++)if(this.cameras[a].name===s)return this.cameras[a];return null},removeCamera:function(s){var a=this.cameras.indexOf(s);a!==-1&&this.cameras.splice(a,1)},removeAll:function(){for(;this.cameras.length>0;){var s=this.cameras.pop();s.destroy()}return this.main},update:function(s,a){for(var o=0,h=this.cameras.length;o<h;++o)this.cameras[o].update(s,a)},shutdown:function(){var s=this.systems.events;s.off("update",this.update,this),s.off("shutdown",this.shutdown,this),this.removeAll()},destroy:function(){this.shutdown(),this.scene.sys.events.off("start",this.start,this),this.scene=null,this.systems=null}});return r.register("CameraManager3D",n,"cameras3d"),yg=n,yg}/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var xg,zM;function yLt(){return zM||(zM=1,xg={Camera:Qy(),CameraManager:mLt(),OrthographicCamera:Q$(),PerspectiveCamera:tO()}),xg}var NM={};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var YM;function xLt(){if(YM)return NM;YM=1;var t=ld(),e=dt;return e.register("sprite3D",function(i,r,n,s,a){var o=new t(this.scene,i,r,n,s,a);return this.displayList.add(o.gameObject),this.updateList.add(o.gameObject),o}),NM}var VM={};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var WM;function _Lt(){if(WM)return VM;WM=1;var t=Si,e=sy,i=ae,r=te,n=ld();return i.register("sprite3D",function(s,a){s===void 0&&(s={});var o=r(s,"key",null),h=r(s,"frame",null),l=new n(this.scene,0,0,o,h);return a!==void 0&&(s.add=a),t(this.scene,l,s),e(l,s),l}),VM}/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var TLt=_i,wLt=Ae,fn={Actions:FR,Animation:v9,Cache:T9,Cameras:Kq,Class:b,Create:nK,Curves:zK,Data:WK,Display:Xj,DOM:tZ,Events:nZ,Game:$it,GameObjects:yct,Geom:iL,Input:lyt,Loader:$1t,Math:wTt,Physics:qMt,Plugins:tPt,Renderer:sPt,Scene:H2,Scenes:cPt,Sound:dPt,Structs:vPt,Textures:yPt,Tilemaps:nEt,Time:fEt,Tweens:tLt,Utils:gLt};fn.Cameras.Sprite3D=yLt(),fn.GameObjects.Sprite3D=ld(),fn.GameObjects.Factories.Sprite3D=xLt(),fn.GameObjects.Creators.Sprite3D=_Lt();fn.FacebookInstantGamesPlugin=oF();fn=wLt(!1,fn,TLt);var dc=fn;Ht.Phaser=fn;var li=(t=>(t.Idle="idle",t.Walk="walk",t.Drink="drink",t.Eat="eat",t.StartRest="start-rest",t.FinishRest="finish-rest",t.SettingSound="setting-sound",t))(li||{});const yi=FA(),SLt="/ro-pomodoro-app/game/poring/poring-idle-sprite.png",CLt="/ro-pomodoro-app/game/poring/poring-walk-sprite.png",bLt="/ro-pomodoro-app/game/poring/poring-drink-sprite.png",MLt="/ro-pomodoro-app/game/poring/poring-eat-sprite.png",PLt="/ro-pomodoro-app/game/items/apple-juice.png",ALt="/ro-pomodoro-app/game/items/food.gif",RLt="/ro-pomodoro-app/game/items/mvp-sprite.png",FLt="/ro-pomodoro-app/game/emotions/emotion-heart-sprite.png",ELt="/ro-pomodoro-app/game/emotions/emotion-find-sprite.png",LLt="/ro-pomodoro-app/game/bg-0.png",$Lt="/ro-pomodoro-app/music/bg-0.mp3";var tx=(t=>(t.Heart="heart",t.Find="find",t))(tx||{});const Ff="animationcomplete",eO={["apple-juice-icon"]:{x:-40,y:55},food:{x:52,y:32},heart:{x:-45,y:-45}},OLt={x:-45,y:-45};Object.values(tx).forEach(t=>eO[t]=OLt);const _g=t=>{const e=eO[t];return e||{x:0,y:0}};class ILt extends dc.Scene{constructor(i){super(i);it(this,"bg");it(this,"bgMusic");it(this,"bgMovingSpeed",2);it(this,"mainRole");it(this,"mainRoleMap");it(this,"itemMap");it(this,"emotionMap");it(this,"currentEmotion");it(this,"isRest",!1);it(this,"mainRoleStartPosition",{x:0,y:0});this.mainRoleMap=new Map,this.itemMap=new Map,this.emotionMap=new Map}preload(){this.preloadMusic(),this.preloadBackground(),this.preloadMainCharacter(),this.preloadItems(),this.preloadEmotions()}preloadMusic(){this.load.audio("background-music-0",[$Lt])}preloadBackground(){this.load.image("bg-0",LLt)}preloadMainCharacter(){const{width:i,height:r}=this.game.canvas,n=i/2,s=r/2+280;this.mainRoleStartPosition={x:n,y:s},this.load.spritesheet("poring-idle",SLt,{frameWidth:41,frameHeight:39}),this.load.spritesheet("poring-walk",CLt,{frameWidth:41,frameHeight:44}),this.load.spritesheet("poring-drink",bLt,{frameWidth:74,frameHeight:76}),this.load.spritesheet("poring-eat",MLt,{frameWidth:41,frameHeight:32})}preloadItems(){this.load.image("apple-juice-icon",PLt),this.load.image("food",ALt),this.load.spritesheet("mvp",RLt,{frameWidth:121,frameHeight:268})}preloadEmotions(){this.load.spritesheet("heart",FLt,{frameWidth:29,frameHeight:26}),this.load.spritesheet("find",ELt,{frameWidth:29,frameHeight:26})}registerEvents(){yi.on(li.Idle,()=>{this.playEmotion("find",-1,1e3),this.doIdle()}),yi.on(li.Walk,()=>{this.stopCurrentEmotion(),this.doWalk()}),yi.on(li.Drink,()=>{this.doDrink()}),yi.on(li.Eat,()=>{this.doEat()}),yi.on(li.StartRest,()=>{this.isRest=!0,this.doIdle()}),yi.on(li.FinishRest,()=>{this.playEmotion("heart",2,1e3),this.playMVP(),this.isRest=!1,co(()=>yi.emit(li.Idle),4e3)}),yi.on(li.SettingSound,i=>{this.sound.mute=i})}create(){this.createBackgroundMusic(),this.createBackground(),this.createMainCharacter(),this.createItems(),this.createEmotions(),this.doIdle(),this.registerEvents()}createBackgroundMusic(){const i=this.sound.add("background-music-0",{loop:!0,volume:.5});this.bgMusic=i,i.play(),this.sound.pauseOnBlur=!1}createBackground(){const{width:i,height:r}=this.game.canvas;this.add.rectangle(0,0,i,r,7045039).setOrigin(0,0);const n=1228/r,s=i*n;this.bg=this.add.tileSprite(0,0,s,r,"bg-0"),this.bg.setOrigin(0,0)}createMainCharacter(){[()=>this.createIdleMainRole(),()=>this.createWalkMainRole(),()=>this.createDrinkMainRole(),()=>this.createEatMainRole()].forEach(r=>r())}createIdleMainRole(){const i=this.mainRoleMap.get("poring-idle");if(i)return i;const{x:r,y:n}=this.mainRoleStartPosition;this.anims.create({key:"poring-idle",frames:this.anims.generateFrameNumbers("poring-idle",{start:0,end:4}),frameRate:8,repeat:-1});const s=this.add.sprite(r,n,"poring-idle");return s.setFlipX(!0),s.setScale(2),s.setVisible(!1),this.mainRoleMap.set("poring-idle",s),s}createWalkMainRole(){const i=this.mainRoleMap.get("poring-walk");if(i)return i;const{x:r,y:n}=this.mainRoleStartPosition;this.anims.create({key:"poring-walk",frames:this.anims.generateFrameNumbers("poring-walk",{start:0,end:9}),frameRate:26,repeat:-1});const s=this.add.sprite(r,n,"poring-walk");return s.setFlipX(!0),s.setScale(2),s.setVisible(!1),this.mainRoleMap.set("poring-walk",s),s}createDrinkMainRole(){const i=this.mainRoleMap.get("poring-drink");if(i)return i;const{x:r,y:n}=this.mainRoleStartPosition;this.anims.create({key:"poring-drink",frames:this.anims.generateFrameNumbers("poring-drink",{start:0,end:12}),frameRate:16,repeat:2});const s=this.add.sprite(r,n,"poring-drink");return s.setScale(2),s.setVisible(!1),this.mainRoleMap.set("poring-drink",s),s}createEatMainRole(){const i=this.mainRoleMap.get("poring-eat");if(i)return i;const{x:r,y:n}=this.mainRoleStartPosition;this.anims.create({key:"poring-eat",frames:this.anims.generateFrameNumbers("poring-eat",{start:0,end:9}),frameRate:20,repeat:4});const s=this.add.sprite(r,n,"poring-eat");return s.setFlipX(!0),s.setScale(2),s.setVisible(!1),this.mainRoleMap.set("poring-eat",s),s}createItems(){const{x:i,y:r}=this.mainRoleStartPosition,n=()=>{const h=this.add.image(i,r,"apple-juice-icon");return h.setScale(2),h.setAngle(15),h.visible=!1,this.itemMap.set("apple-juice-icon",h),h},s=()=>{const h=this.add.image(i,r,"food");return h.setScale(2),h.setAngle(-20),h.visible=!1,this.itemMap.set("food",h),h},a=()=>{this.anims.create({key:"mvp",frames:this.anims.generateFrameNumbers("mvp",{start:0,end:8}),frameRate:20,repeat:0});const h=this.add.sprite(i,r-210,"mvp");return h.setScale(2),h.setVisible(!1),this.itemMap.set("mvp",h),h};[()=>n(),()=>s(),()=>a()].forEach(h=>h())}createEmotions(){const{x:i,y:r}=this.mainRoleStartPosition,n=a=>{this.anims.create({key:a,frames:this.anims.generateFrameNumbers(a,{start:0,end:28}),frameRate:20,repeat:0});const o=_g(a),h=this.add.sprite(i+o.x,r+o.y,"heart");return h.setScale(2),h.setVisible(!1),this.emotionMap.set(a,h),h};Object.values(tx).map(a=>()=>n(a)).forEach(a=>a())}playMainRole(i){const r=this.mainRoleMap.get(i);if(!r)return;if(this.mainRole){const{x:s,y:a}=this.mainRole;r.setPosition(s,a),this.mainRole.setVisible(!1)}return r.setVisible(!0),this.mainRole=r,this.mainRole.play(i,!0)}playMVP(){const i=this.itemMap.get("mvp");i instanceof dc.GameObjects.Sprite&&(i.setVisible(!0),i.play("mvp",!0).once(Ff,()=>{co(()=>i.setVisible(!1),2500)}))}playEmotion(i,r=1,n=0){this.stopCurrentEmotion();const s=this.emotionMap.get(i);if(!s)return;const a=()=>this.currentEmotion&&this.currentEmotion!==s,o=()=>{!this.currentEmotion||(s.setVisible(!0),s.play(i,!0).once(Ff,()=>{const l=a()||!this.currentEmotion?0:r-1;l===0?(s.setVisible(!1),this.currentEmotion===s&&(this.currentEmotion=null)):this.playEmotion(i,l,n)}))};this.currentEmotion=s,co(()=>o(),n)}stopCurrentEmotion(){this.currentEmotion&&(this.currentEmotion.setVisible(!1),this.currentEmotion=null)}doWalk(){this.playMainRole("poring-walk")}doIdle(){this.playMainRole("poring-idle")}doDrink(){var a;const i=this.itemMap.get("apple-juice-icon");if(!this.mainRole||!i)return;const{x:r,y:n}=this.mainRole,s=_g("apple-juice-icon");i.setPosition(r+s.x,n+s.y),i.setVisible(!0),(a=this.playMainRole("poring-drink"))==null||a.once(Ff,()=>{i==null||i.setVisible(!1),this.playMainRole("poring-idle")})}doEat(){var a;const i=this.itemMap.get("food");if(!this.mainRole||!i)return;const{x:r,y:n}=this.mainRole,s=_g("food");i.setPosition(r+s.x,n+s.y),i.setVisible(!0),(a=this.playMainRole("poring-eat"))==null||a.once(Ff,()=>{i==null||i.setVisible(!1),this.playMainRole("poring-idle")})}doRest(){const i=[()=>this.doDrink(),()=>this.doEat()],r=oW(i.length-1),n=i[r];n()}get isWalking(){const i=this.mainRoleMap.get("poring-walk");return this.mainRole===i}get isIdling(){const i=this.mainRoleMap.get("poring-idle");return this.mainRole===i}get isEmotioning(){return!!this.currentEmotion}update(){this.bg&&this.isWalking&&(this.bg.tilePositionX+=this.bgMovingSpeed),this.isIdling&&this.isRest&&this.doRest()}}class DLt extends dc.Game{constructor(e){super(e),this.scene.add("Game",ILt),this.scene.start("Game")}}const BLt=(t,e)=>{const i={type:dc.AUTO,parent:"ro-pomodoro-canvas-wrap",width:360,height:720,callbacks:{postBoot(n){const s=n.scene.getScene("Game");s.load.on("progress",t),s.load.once("complete",e)}}};return new DLt(i)},kLt=["onSubmit"],GLt=z("div",{class:"absolute top-0 left-0 barrier w-full h-full bg-gray-400 opacity-60"},null,-1),zLt={class:"text-black text-xs bg-white p-3"},NLt={class:"nes-field mb-4"},YLt=z("label",{for:"name_field"},"Your Name",-1),VLt={class:"nes-field mb-4"},WLt=z("label",{for:"focus_duration_field"},"Focus Time (Minute)",-1),XLt={class:"nes-field mb-4"},ULt=z("label",{for:"rest_duration_field"},"Rest Time (Minute)",-1),HLt={class:"nes-field mb-4"},qLt=z("label",{for:"rest_duration_field"},"Notification Interval (Minute)",-1),KLt={class:"nes-field mb-4"},JLt=z("span",null,"Muted: ",-1),jLt=z("span",null,"No",-1),ZLt=z("span",null,"Yes",-1),QLt={class:"text-black text-xs py-2 px-3 border-[#c5c5c5] border-t-1 flex justify-end"},t$t=xi({__name:"SettingsWindow",props:{isShow:{type:Boolean,default:!1}},emits:["update:isShow"],setup(t,{emit:e}){const i=Im(),r=()=>e("update:isShow",!1),{userName:n,focusDurationMS:s,restDurationMS:a,notificationIntervalMS:o,isMuted:h,setUserName:l,setFocusDuration:u,setRestDuration:f,setNotificationInterval:c,setIsMuted:d}=xo(),g=Me(""),v=Me(0),p=Me(0),m=Me(0),y=Me(!1),x=Et(()=>g.value!==n.value),T=Et(()=>v.value!==Ra(s.value)),_=Et(()=>p.value!==Ra(a.value)),w=Et(()=>m.value!==Ra(o.value)),S=()=>{v.value=Ra(s.value),p.value=Ra(a.value),m.value=Ra(o.value),g.value=n.value,y.value=h.value},C=()=>{l(g.value),u(v.value),f(p.value),c(m.value),d(y.value),r()},R=()=>{S(),r()},L=O=>O>0;Lm(()=>{S()});const E=Me(null);return oO(E,()=>{R()}),(O,A)=>{const F=Om("motion");return It(),xe("form",{class:"settings-window overflow-hidden",onSubmit:hO(C,["prevent"])},[GLt,Ft($m,{css:!1,onLeave:A[6]||(A[6]=(M,P)=>st(i)["settings-window"].leave(P))},{default:me(()=>[t.isShow?on((It(),ea(pc,{key:0,ref_key:"windowRef",ref:E,initial:{opacity:0,scale:0},enter:{opacity:1,scale:1,transition:{duration:200,ease:"easeInOut"}},leave:{opacity:0,scale:0},class:"w-4/5 absolute top-[20%] left-[10%]",title:"Settings"},{content:me(()=>[z("div",zLt,[z("div",NLt,[YLt,on(z("input",{id:"name_field","onUpdate:modelValue":A[0]||(A[0]=M=>g.value=M),class:zl([{"is-success":st(x)},"nes-input"]),type:"text"},null,2),[[Nl,g.value]])]),z("div",VLt,[WLt,on(z("input",{id:"focus_duration_field","onUpdate:modelValue":A[1]||(A[1]=M=>v.value=M),type:"number",min:"1",class:zl({"nes-input":!0,"is-success":st(T),"is-error":!L(v.value)}),placeholder:"Minute"},null,2),[[Nl,v.value]])]),z("div",XLt,[ULt,on(z("input",{id:"rest_duration_field","onUpdate:modelValue":A[2]||(A[2]=M=>p.value=M),type:"number",min:"1",class:zl({"nes-input":!0,"is-success":st(_),"is-error":!L(p.value)}),placeholder:"Minute"},null,2),[[Nl,p.value]])]),z("div",HLt,[qLt,on(z("input",{id:"rest_duration_field","onUpdate:modelValue":A[3]||(A[3]=M=>m.value=M),type:"number",min:"1",class:zl({"nes-input":!0,"is-success":st(w),"is-error":!L(m.value)}),placeholder:"Minute"},null,2),[[Nl,m.value]])]),z("div",KLt,[JLt,z("span",null,[z("label",null,[on(z("input",{"onUpdate:modelValue":A[4]||(A[4]=M=>y.value=M),type:"radio",class:"nes-radio",name:"answer",value:!1},null,512),[[lx,y.value]]),jLt]),z("label",null,[on(z("input",{"onUpdate:modelValue":A[5]||(A[5]=M=>y.value=M),type:"radio",class:"nes-radio",name:"answer",value:!0},null,512),[[lx,y.value]]),ZLt])])])])]),footer:me(()=>[z("div",QLt,[Ft(un,{type:"submit"},{default:me(()=>[lo(" Save ")]),_:1}),Ft(un,{class:"ml-2",onClick:R},{default:me(()=>[lo(" Cancel ")]),_:1})])]),_:1})),[[F,"settings-window"]]):uo("",!0)]),_:1})],40,kLt)}}}),e$t={class:"ro-pomodoro-content flex justify-center self-center relative w-[fit-content] mx-auto"},i$t=z("div",{id:"ro-pomodoro-canvas-wrap"},null,-1),r$t={class:"stage-wrap absolute top-0 left-0 mr-auto w-full h-full"},n$t={key:0,initial:{opacity:1,scale:1},leave:{opacity:0,scale:3,transition:{scale:{duration:500,delay:100},duration:500,ease:"easeOut"}},class:"ro-pomodoro-content__barrier absolute h-full w-full bg-black flex justify-center items-center"},s$t=z("div",{class:"progress-bar"},null,-1),a$t=[s$t],l$t=xi({__name:"Game",setup(t){uO(p=>({"24306eb3":r.value,b768d300:st(n)}));const e=Im(),i=Me(!1),r=Me(0),n=Et(()=>`"${Math.floor(r.value*100)}%"`),s=Me(),a=Me(!1),o=()=>a.value=!a.value,h=Me(!1),l=()=>h.value=!h.value,{isMuted:u,isInit:f}=xo(),{appState:c,emitter:d,finishCycle:g}=_o();d.on(Rr.StartFocus,()=>{yi.emit(li.Walk)}),d.on(Rr.StopFocus,()=>{yi.emit(li.Idle)}),d.on(Rr.StartRest,()=>{yi.emit(li.StartRest)}),d.on(Rr.FinishRest,()=>{yi.emit(li.FinishRest),co(()=>d.emit(Rr.FinishCycle),5e3)}),d.on(Rr.FinishCycle,()=>{g()});const v=Et(()=>{const{isReadyState:p,isFocusState:m,isRestState:y,isFinishState:x}=c.value;if(p)return _X;if(m)return CX;if(y)return MX;if(x)return()=>{}});return Lm(async()=>{const y=BLt(x=>{r.value=x,x===1&&co(()=>i.value=!0,1e3)},()=>{const{isFocusState:x,isRestState:T,isFinishState:_}=c.value;x?d.emit(Rr.StartFocus):T?d.emit(Rr.StartRest):_&&d.emit(Rr.FinishCycle),al(u,w=>{yi.emit(li.SettingSound,w)},{immediate:!0}),f.value||(co(()=>a.value=!0,800),f.value=!0)});s.value=y}),(p,m)=>{const y=oX,x=Om("motion");return It(),xe("div",e$t,[i$t,z("div",r$t,[(It(),ea(lO(st(v)))),Ft(WX,{class:"absolute top-0 left-0 w-full text-black"}),Ft(un,{class:"!absolute bottom-[7px] right-[56px] text-gray-700 w-[50px] h-[50px]",onClick:l},{default:me(()=>[Ft(st(mX),{style:{"font-size":"1.5rem"}})]),_:1}),Ft(un,{class:"!absolute bottom-[7px] right-[2px] text-gray-700 w-[50px] h-[50px]",onClick:o},{default:me(()=>[Ft(st(cX),{style:{"font-size":"1.5rem"}})]),_:1}),h.value?(It(),ea(y,{key:0,isShow:h.value,"onUpdate:isShow":m[0]||(m[0]=T=>h.value=T),class:"absolute top-0 left-0 w-full h-full"},null,8,["isShow"])):uo("",!0),a.value?(It(),ea(t$t,{key:1,isShow:a.value,"onUpdate:isShow":m[1]||(m[1]=T=>a.value=T),class:"absolute top-0 left-0 w-full h-full"},null,8,["isShow"])):uo("",!0)]),Ft($m,{css:!1,onLeave:m[2]||(m[2]=(T,_)=>st(e).barrier.leave(_))},{default:me(()=>[i.value?uo("",!0):on((It(),xe("div",n$t,a$t)),[[x,"barrier"]])]),_:1})])}}});export{l$t as default};
